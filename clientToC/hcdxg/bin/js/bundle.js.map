{
  "version": 3,
  "sources": ["../../src/data/DataManager.ts", "../../src/data/PlayData.ts", "../../src/data/PlayDataUtil.ts", "../../src/manager/EventManager.ts", "../../src/manager/ResourceManager.ts", "../../src/config/hallConfig.ts", "../../src/manager/UIManager.ts", "../../src/config/Global.ts", "../../src/fgui/Loading.ts", "../../src/common/MyUtils.ts", "../../src/utils/RankUtil.ts", "../../src/Global/modules/Audio/models/audioLogic.ts", "../../src/common/SoundPlayer.ts", "../../src/Global/AudioConfig.ts", "../../src/Global/modules/Audio/models/AudioControl.ts", "../../src/Global/modules/Audio/HHAudio.ts", "../../src/fgui/Alert.ts", "../../src/utils/MainUitl.ts", "../../src/platform/TB.ts", "../../src/Global/modules/FGUI/FGUIBase.ts", "../../src/Global/modules/FGUI/FGUIMount.ts", "../../src/Global/FGUIConfig.ts", "../../src/Global/modules/FGUI/FGUIUtil.ts", "../../src/FGUIClass/FGUIPrefab/GetScore.ts", "../../src/FGUIClass/FGUIPrefab/ComboEffect.ts", "../../src/Global/ServerConfig.ts", "../../src/Global/modules/Server/HttpUtil.ts", "../../src/Global/modules/Server/CloudUtil.ts", "../../src/Global/modules/Server/ServerAPI.ts", "../../src/fgui/Invite.ts", "../../src/Global/modules/tools/TimeUtil.ts", "../../src/module/autotriggerAward/autotriggerAward/UI_AutotriggerAward.ts", "../../src/module/ModuleTool.ts", "../../src/module/atmosphere/Atmosphere/UI_Main.ts", "../../src/module/atmosphere/uiAtmosphereMain.ts", "../../src/module/atmosphere/Atmosphere/UI_SurpassHint.ts", "../../src/module/atmosphere/uiSurpassHint.ts", "../../src/module/atmosphere/AtmosphereBinder.ts", "../../src/module/baseBag/baseBag/UI_prizeItem.ts", "../../src/module/baseBag/baseBag/UI_textInput.ts", "../../src/module/baseBag/baseBag/UI_Alert.ts", "../../src/module/baseBag/uiAddressAlert.ts", "../../src/module/baseBag/baseBag/UI_Main.ts", "../../src/module/ModulePlatformAPI.ts", "../../src/module/baseBag/uiBaseBagMain.ts", "../../src/module/baseBag/baseBag/UI_InputRewardAdress.ts", "../../src/module/baseBag/uiInputRewardAdress.ts", "../../src/module/baseBag/baseBagBinder.ts", "../../src/module/ModuleWindow.ts", "../../src/module/rank/Rank/UI_awardItem.ts", "../../src/module/rank/Rank/UI_banner.ts", "../../src/module/rank/Rank/UI_GetReward.ts", "../../src/module/rank/Rank/UI_LastRank.ts", "../../src/module/rank/Rank/UI_lastRankBtn.ts", "../../src/module/rank/Rank/UI_rankItem.ts", "../../src/module/rank/Rank/UI_rankItem2.ts", "../../src/module/rank/Rank/UI_ResultRank.ts", "../../src/module/rank/Rank/UI_selfItem.ts", "../../src/module/rank/Rank/UI_Awards.ts", "../../src/module/rank/uiAwards.ts", "../../src/module/rank/uiGetReward.ts", "../../src/module/GeneralInterface/GeneralInterface/UI_Alert.ts", "../../src/module/GeneralInterface/uiAlert.ts", "../../src/module/ModuleGlobal.ts", "../../src/module/rank/uiLastRank.ts", "../../src/module/rank/Rank/UI_Main.ts", "../../src/module/ModuleSkins.ts", "../../src/module/rank/uiRankMain.ts", "../../src/module/rank/uiResultRank.ts", "../../src/module/rank/rankBinder.ts", "../../src/module/gift/gift/UI_MyGiftButton.ts", "../../src/module/gift/gift/UI_scoreExchangeBtn.ts", "../../src/module/gift/gift/UI_exchangeFail.ts", "../../src/module/gift/uiexchangeFail.ts", "../../src/module/gift/gift/UI_exchangeConfirm.ts", "../../src/module/gift/uiexchangeConfirm.ts", "../../src/module/gift/gift/UI_exchangeSuccess.ts", "../../src/module/gift/uiexchangeSuccess.ts", "../../src/module/gift/gift/UI_GiftInfo.ts", "../../src/module/gift/uiGiftInfo.ts", "../../src/module/gift/gift/UI_GiftItem.ts", "../../src/module/gift/uiGiftItem.ts", "../../src/module/gift/gift/UI_Main.ts", "../../src/module/gift/uiGiftMain.ts", "../../src/module/gift/giftBinder.ts", "../../src/module/activity/activity/UI_ActivityAward.ts", "../../src/module/activity/uiActivityAward.ts", "../../src/module/activity/activity/UI_ActivityAwardItem.ts", "../../src/module/activity/uiActivityAwardItem.ts", "../../src/module/activity/activity/UI_ActivityEndPopup.ts", "../../src/module/activity/uiActivityEndPopup.ts", "../../src/module/activity/activity/UI_Main.ts", "../../src/module/activity/uiActivityMain.ts", "../../src/module/activity/activityBinder.ts", "../../src/module/autotriggerAward/autotriggerAward/UI_Main.ts", "../../src/module/autotriggerAward/uiAutotriggerAwardMain.ts", "../../src/module/autotriggerAward/autotriggerAwardBinder.ts", "../../src/module/Task/Task/UI_award.ts", "../../src/module/Task/uiaward.ts", "../../src/module/ModuleStatistics.ts", "../../src/module/Task/Task/UI_browseItem.ts", "../../src/module/Task/uibrowseItem.ts", "../../src/module/Task/Task/UI_buyItem.ts", "../../src/module/Task/Task/UI_TaskPrecondition.ts", "../../src/module/Task/uiTaskPrecondition.ts", "../../src/module/Task/Task/UI_TaskExtraPopup.ts", "../../src/module/Task/uiTaskExtraPopup.ts", "../../src/module/Task/Task/UI_GetReward.ts", "../../src/module/Task/uiGetReward.ts", "../../src/module/Task/Task/UI_TaskBrowse.ts", "../../src/module/Task/uiTaskBrowse.ts", "../../src/module/Task/Task/UI_TaskInvite.ts", "../../src/module/Task/uiTaskInvite.ts", "../../src/module/Task/TaskLogic.ts", "../../src/module/Task/uibuyItem.ts", "../../src/module/Task/Task/UI_coinCom.ts", "../../src/module/Task/uicoinCom.ts", "../../src/module/Task/Task/UI_collectItem.ts", "../../src/module/Task/uicollectItem.ts", "../../src/module/Task/Task/UI_rewardCom.ts", "../../src/module/Task/uirewardCom.ts", "../../src/module/Task/Task/UI_taskItem.ts", "../../src/module/Task/uitaskItem.ts", "../../src/module/Task/Task/UI_Main.ts", "../../src/module/Task/uiTaskMain.ts", "../../src/module/Task/TaskBinder.ts", "../../src/module/Rule/Rule/UI_txtCom.ts", "../../src/module/Rule/Rule/UI_Main.ts", "../../src/module/Rule/uiRuleMain.ts", "../../src/module/Rule/RuleBinder.ts", "../../src/module/GeneralInterface/GeneralInterface/UI_Main.ts", "../../src/module/GeneralInterface/uiGeneralInterfaceMain.ts", "../../src/module/GeneralInterface/GeneralInterfaceBinder.ts", "../../src/module/ModulePackage.ts", "../../src/module/autotriggerAward/uiAutotriggerAward.ts", "../../src/module/ModuleGameInfo.ts", "../../src/FGUIClass/GameLogic.ts", "../../src/Global/modules/tools/MemPool.ts", "../../src/Game/Fruit.ts", "../../src/Game/Juice.ts", "../../src/Global/modules/FGUI/FGUIScene.ts", "../../src/Global/modules/Platform/PlatformBase.ts", "../../src/Global/ShareConfig.ts", "../../src/Global/modules/Platform/Children/Platform_mini.ts", "../../src/Global/modules/Platform/Platform.ts", "../../src/Global/DebugConfig.ts", "../../src/Global/modules/Debug/TimeMonitor.ts", "../../src/Global/modules/tools/SceneUtil.ts", "../../src/Global/Config.ts", "../../src/FGUIClass/StartScene.ts", "../../src/FGUIClass/GameOver.ts", "../../src/FGUIClass/RevivePopup.ts", "../../src/FGUIClass/ConfirmPopup.ts", "../../src/FGUIClass/DoubleAwardPopup.ts", "../../src/FGUIClass/GameAward.ts", "../../src/FGUIClass/MergeExternAward.ts", "../../src/FGUIClass/SurpassHint.ts", "../../src/FGUIClass/GameTaskPopup.ts", "../../src/FGUIClass/GameScene.ts", "../../src/Game/MyGameScene.ts", "../../src/Global/CDNConfig.ts", "../../src/Global/modules/CDN/GetCDNData.ts", "../../src/Global/DataConfig.ts", "../../src/Global/modules/Data/DataAccess.ts", "../../src/Global/modules/Data/DataManager.ts", "../../src/Global/Global.ts", "../../src/loadingScene.ts", "../../src/GameConfig.ts", "../../src/Main.ts"],
  "sourcesContent": ["\uFEFF\nvar LocalStorage = Laya.LocalStorage;\ndeclare var my;\n/**\n * \u6240\u6709\u7684\u73A9\u5BB6\u6E38\u620F\u6570\u636E\uFF0C\u589E\u5220\u6539\u67E5\uFF0C\u90FD\u901A\u8FC7\u6B64\u7C7B\u5B9E\u73B0\n * \u70ED\u6570\u636E -> \u5B9E\u65F6\u540C\u6B65\u5230LocalStorage -> \u6309\u7B56\u7565\u540C\u6B65\u5230\u8FDC\u7AEF\n */\nexport default class DataManager<T extends { [key: string]: any }> {\n\n    protected _defaultData: T;\n    protected _data: any;\n    _dataKey: string;\n\n    constructor(defaultData: T, dataKey, hhKvTag: string) {\n        this._defaultData = defaultData;\n        this._data = defaultData;\n        this._dataKey = dataKey;\n    }\n    isInited = false;\n    \n    init() {\n        if (this.isInited) {\n            return;\n        }\n        let isNoKey = false;  //\u662F\u5426\u6709\u65B0\u7684key\n        if(Laya.Browser.onTBMiniGame){\n            let data = my.getStorageSync({key: this._dataKey});\n            //console.log(\"data: \",data);\n\n            if (data && data[\"data\"]) {\n                let keys = Object.keys(this._defaultData);\n                for(let i = 0; i < keys.length ; i++){\n                    let key = keys[i];\n                    if(data[\"data\"][key] == undefined) continue;\n                    isNoKey = true;\n                    this._data[key] = data[\"data\"][key];\n                }\n            }else{\n                this._data = this._defaultData;\n            }\n\n            if(isNoKey){\n                my.setStorage({\n                    key: this._dataKey,\n                    data: this._data,\n                    success: function() {\n                    //console.log(\"\u5199\u5165\u6210\u529F\");\n                    }\n                });\n            }\n        }else{\n            let data = LocalStorage.getItem(this._dataKey);\n            //console.log(\"data: \",data);\n\n            if(data) {\n                let keys = Object.keys(this._defaultData);\n                for(let i = 0; i < keys.length ; i++){\n                    let key = keys[i];\n                    if(JSON.parse(data)[key] == undefined) continue;\n                    isNoKey = true;\n                    this._data[key] = JSON.parse(data)[key];\n                }\n            }\n\n            LocalStorage.setItem(this._dataKey, JSON.stringify(this._data));\n        }\n\n        this.isInited = true;\n    }\n\n    /** \u8BBE\u7F6E\uFF08KEY VALUE\n     * @param key ReadKey\n     * @param value Value\n     */\n    setData(key, value, isSave = true, isPush = false) {\n        this._data[key] = value;\n\n        if (isPush) {\n            try {\n                //\u5F00\u542F\u63A8\u9001\u4F1A\u540C\u6B65\u5230\u670D\u52A1\u5668\n                // Global.hhgame.kv.set(key, value);\n            } catch (error) {\n                console.error('setData', error);\n            }\n        }\n\n        if (isSave) {\n            this.saveDataToStorage();\n        }\n\n        //\u76D1\u542C\u6570\u636E\n        let listeners = this._changeHandlers[key as string];\n        if (listeners) {\n            listeners.forEach(v => {\n                v(value);\n            })\n        }\n    }\n\n    get data(): T {\n        if (!this._data) {\n            throw new Error('DataManager\u5C1A\u672A\u521D\u59CB\u5316');\n        }\n        return this._data;\n    }\n\n    /**\n  * \u4FDD\u5B58\u5230\u5B58\u50A8\u5730\n  * @param flushData \u7ACB\u5373\u5237\u65B0\u5230\u5B58\u50A8\u6C60\uFF08\u975E\u672C\u5730\u5B58\u50A8\uFF09\n  */\n    saveDataToStorage() {\n        if(Laya.Browser.onTBMiniGame){\n            // my.setStorageSync({key: this._dataKey,data: this._data});\n            my.setStorage({\n                key: this._dataKey,\n                data: this._data,\n                success: function() {\n                    //console.log(\"\u5199\u5165\u6210\u529F\");\n                }\n            });\n        }else{\n            LocalStorage.setItem(this._dataKey, JSON.stringify(this._data));\n        }\n    }\n\n    cleanData(options: {\n        clearLocalStorage?: boolean,\n        clearRemote?: boolean\n    } = {}) {\n        this._data = this._defaultData;\n        \n        if (options.clearLocalStorage) {\n            let keys = Object.keys(this._defaultData);\n            keys.forEach(v => {\n                LocalStorage.removeItem(v);\n            });\n        }\n    }\n\n//     /**\n//   * \u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u6570\u636E\n//   * @param _keyArr:string[] \n//   */\n//     async GetDataFromServer(_keyArr) {\n//         let remoteData: { key: string, value: any }[] | undefined;\n//         // \u9650\u5236\u91CD\u8BD5\u6B21\u6570\n//         for (let i = 0; i < RETRY_TIME; ++i) {\n//             try {\n//                 remoteData = await Global.hhgame.kv.getMany(_keyArr);\n//                 break;\n//             }\n//             catch (e) {\n//                 console.error('DataStorageManager._pullDataFromRemote getByTags failed', e);\n//                 await TimeUtil.wait(1000);\n//             }\n//         }\n\n//         if (!remoteData) {\n//             throw new Error('\u83B7\u53D6\u6E38\u620F\u6570\u636E\u5931\u8D25');\n//         }\n\n//         for (let item of remoteData) {\n//             this._data[item.key] = item.value;\n//         }\n//         this.saveDataToStorage();\n//     }\n\n    /** \u6570\u503C\u53D8\u5316\u76D1\u542C */\n    private _changeHandlers: {\n        [key: string]: ((newValue: any) => void)[] | undefined\n    } = {};\n\n    /** \u589E\u52A0\u6570\u503C\u53D8\u5316\u65F6\u7684\u4E8B\u4EF6\u76D1\u542C */\n    listen<K extends keyof T>(key: K, handler: (newValue: T[K]) => void) {\n        let listeners = this._changeHandlers[key as string];\n        if (listeners) {\n            // \u5DF2\u7ECF\u5B58\u5728\u8BE5Listener\n            if (listeners.indexOf(handler) > -1) {\n                return;\n            }\n        }\n        else {\n            listeners = this._changeHandlers[key as string] = [];\n        }\n        listeners.push(handler);\n    }\n\n    /** \u589E\u52A0\u6570\u503C\u53D8\u5316\u65F6\u7684\u4E8B\u4EF6\u76D1\u542C */\n    unlisten(key: string, handler?: Function) {\n        if (!handler) {\n            delete this._changeHandlers[key];\n            return;\n        }\n\n        if (this._changeHandlers[key]) {\n            delete this._changeHandlers[key];\n        }\n    }\n\n    //\u4FDD\u5B58\u767B\u5F55\u4E0B\u53D1\u7684\u6570\u636E\n    savePlayerData(playerData){\n        this.setData('userOpenId', playerData.userOpenId, false);\n        this.setData('name', playerData.nickName, false);\n        this.setData('avatar', playerData.headUrl, false);\n        this.setData('coin', playerData.userCoin, false);\n        this.setData('integral', playerData.integral, false);\n        this.setData('lianshengCount', playerData.lianshengCount, false);\n        this.setData('isVip', playerData.isVip, false);\n        this.setData('isMember', playerData.isMember, false);  //\u662F\u5426\u662F\u4F1A\u5458\n        this.setData('curSeason', playerData.curSeason, false);\n        this.setData('point', playerData.point, false);\n        this.setData('bestPoint', playerData.bestPoint, false);  //\u6700\u597D\u6210\u7EE9\n        this.setData('bestRank', playerData.bestRank, false);\n        this.setData('bestSeason', playerData.bestSeason, false);\n        this.setData('bestWin', playerData.bestWin, false);\n        this.setData('allWin', playerData.allWin, false);\n        this.setData('rewardTimes_free', playerData.rewardTimes_free, false);\n        this.setData('rewardTimes_challenge', playerData.rewardTimes_challenge, false);\n        this.setData('rewardTimes_share', playerData.rewardTimes_share, false);\n        this.setData('rewardTimes_live', playerData.rewardTimes_live, false);\n        this.setData('rewardTimes_lookGoods', playerData.rewardTimes_lookGoods, false);\n        this.setData('rewardTimes_member', playerData.rewardTimes_member, false);//\u4F1A\u5458\u9886\u5956\u6B21\u6570\n        this.setData('rewardTimes_favor', playerData.rewardTimes_favor, false);\n        this.setData('rewardTimes_kgold', playerData.rewardTimes_kgold, false);\n        this.setData('rewardTimes_invitation', playerData.rewardTimes_invitation, false);\n        this.setData('rewardTimes_buy', playerData.rewardTimes_buy, false);\n        this.setData('rewardTimes_memberFree', playerData.rewardTimes_memberFree, false);\n        this.setData('rewardTimes_collectGoods', playerData.rewardTimes_collectGoods, false);\n        this.setData('rewardTimes_dayReward', playerData.rewardTimes_dayReward, false);\n        \n        this.setData('challenge', playerData.count_challenge, false);\n        this.setData('share', playerData.count_share, false);\n        this.setData('browse', playerData.count_look, false);\n        this.setData('order', playerData.count_kgold, false);\n        this.setData('invite', playerData.count_invitation, true);\n\n    }\n}", "//\u73A9\u5BB6\u76F8\u5173\u6570\u636E\u5B57\u6BB5\nexport interface PlayData {\n    version: string;\n    coin: number;           //\u91D1\u5E01\n    level: number;          //\u7B49\u7EA7\n    energy: number;         //\u4F53\u529B\n    diamond: number;        //\u94BB\u77F3\n    point: number;          //\u5956\u676F\n    integral: number;      //\u79EF\u5206\n    energyCache: number;\n    energyTime: number;\n    ranklist: {\n        name: string,\n        score: number,\n        avatar: string,\n    }[];\n    rankDay: string;        //\u6392\u884C\u65E5\u671F\n    name: string;           //\u73A9\u5BB6\u59D3\u540D\n    avatar: string;         //\u73A9\u5BB6\u5934\u50CF\u5217\u8868\n    userOpenId: string;    //\u73A9\u5BB6openID\n    openId: string;        //\u5546\u94FAID\n\n    heroOldCoin: number;           //\u5237\u65B0\u524D\u7684\u91D1\u5E01\u6570\n    isFirstEnter: number;          //\u662F\u5426\u7B2C\u4E00\u6B21\u8FDB\u5165 1\uFF1A\u662F 0:\u4E0D\u662F\n    isReceivedEight: number;       //\u662F\u5426\u5DF2\u9886\u53D6888888\u5956\u52B1 1\uFF1A\u662F 0:\u4E0D\u662F\n    isReceivedSix: number;         //\u662F\u5426\u5DF2\u9886\u53D66666668\u5956\u52B1 1\uFF1A\u662F 0:\u4E0D\u662F\n    shareTime: number;             //\u5206\u4EAB\u5207\u540E\u53F0\u7684\u65F6\u95F4\n    startGameTime: number;         //\u6E38\u620F\u5F00\u59CB\u7684\u65F6\u95F4\n    openGameTime: number;          //\u6253\u5F00\u6E38\u620F\u7684\u65F6\u95F4\n    receiveCount: number;          //\u4ECA\u5929\u5DF2\u9886\u53D6\u7684\u770B\u5E7F\u544A\u5956\u52B1\u6B21\u6570\n    lastReceiveTime: number;       //\u4E0A\u4E00\u6B21\u770B\u5E7F\u544A\u9886\u53D6\u5956\u52B1\u7684\u65F6\u95F4\n    allPlayCount: number;          //\u603B\u5C40\u6570\n    isShowNotice: boolean;         //\u662F\u5426\u663E\u793A\u516C\u544A\u9875\u9762\n    openSignTime: number;          //\u4E0A\u4E00\u6B21\u4E3B\u52A8\u5F39\u51FA\u7B7E\u5230\u7684\u65F6\u95F4\n    signedTimesArray: number[];    //\u5DF2\u7B7E\u5230\u7684\u65F6\u95F4\u6570\u7EC4          \n    tryRoleID: number;             //\u8BD5\u7528\u89D2\u8272\u7C7B\u578B         \n    myRoleIDArray: number[];       //\u5DF2\u62E5\u6709\u7684\u89D2\u8272\u7C7B\u578B    \n    curRoleID: number;             //\u5F53\u524D\u9009\u4E2D\u7684\u89D2\u8272\u7C7B\u578B     \n    lianshengCount: number;        //\u8FDE\u80DC\u6B21\u6570    \n    isPlayFirstAni: number;        //\u662F\u5426\u5403\u9E21     1\uFF1A\u662F 0:\u4E0D\u662F\n    heroFirstCount: number;        //\u5403\u9E21\u6B21\u6570\n\n    gameMode: number;               //\n    musicState: number;            //\u97F3\u4E50\u72B6\u6001 //\u6253\u5F00-0\uFF0C\u5173\u95ED-1\n    effectState: number;           //\u97F3\u6548\u72B6\u6001 //\u6253\u5F00-0\uFF0C\u5173\u95ED-1\n\n    musicCtrl: number;            //\u97F3\u4E50\u5F00\u5173 // 0-\u5173\u95ED  \u6253\u5F00-1\n\n    isMember: boolean;             //\u662F\u5426\u52A0\u5165\u4F1A\u5458\n    isVip: number;                 //\u662F\u5426\u4E3Avip\n    vipMarkUp: number;             //vip\u83B7\u5F97\u7684\u91D1\u5E01\u52A0\u6210\uFF08\u767E\u5206\u6BD4\uFF09\n    curSeason: number;             //\u5F53\u524D\u8D5B\u5B63\n    bestPoint: number;             //\u6700\u597D\u6210\u7EE9\n    bestRank: number;              //\u6700\u9AD8\u540D\u6B21\n    bestSeason: number;            //\u6700\u9AD8\u540D\u6B21\u7684\u8D5B\u5B63\n    bestWin: number;               //\u6700\u9AD8\u8FDE\u80DC\n    allWin: number;                //\u603B\u7684\u83B7\u80DC\u6B21\u6570\n\n    rewardTimes_free: number,          //\u9886\u514D\u8D39\u5238\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_challenge: number,     //\u9886\u514D\u8D39\u5238\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_share: number,         //\u9080\u8BF7\u597D\u53CB\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_live: number,          //\u8BBF\u95EE\u76F4\u64AD\u95F4\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_lookGoods: number,     //\u6D4F\u89C8\u5546\u54C1\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_member: number,        //\u8D85\u7EA7\u4F1A\u5458\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_favor: number,         //\u5173\u6CE8\u5E97\u94FA\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_kgold: number,         //\u6C2A\u91D1\u73A9\u5BB6\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_invitation: number,    //\u547C\u670B\u5524\u53CB\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_buy: number,           //\u6211\u8981\u4E70\u4E70\u4E70\u5DF2\u8D2D\u4E70\u5408\u96C6\n    rewardTimes_memberFree: number,    //\u4F1A\u5458\u9886\u514D\u8D39\u5238\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_collectGoods: number,  //\u6536\u85CF\u5546\u54C1\u5DF2\u9886\u5956\u6B21\u6570\n    rewardTimes_dayReward: number,     //\u6BCF\u65E5\u793C\u5305\u5DF2\u9886\u5956\u6B21\u6570\n\n    buyTime: number,        //\u4E0B\u5355\u65F6\u95F4\u6233\n    buyLuckyTime: number,   //\u798F\u888B\u4E0B\u5355\u65F6\u95F4\u6233\n    browseTime: number,     //\u6D4F\u89C8\u65F6\u95F4\u6233\n\n    //\u4EFB\u52A1\u76F8\u5173\n    taskDay: string;\n    //dailyFree: number;      //\u6BCF\u65E5\u514D\u8D39\n    challenge: number;      //\u5339\u914D\u6311\u6218\n    share: number;         //\u5206\u4EAB\n    live: number;           //\u76F4\u64AD\n    browse: number;         //\u6D4F\u89C8\u5546\u54C1\n    shop: number;           //\u5173\u6CE8\u5E97\u94FA\n    order: number           //\u5E97\u5185\u6D88\u8D39\n    invite: number;         //\u9080\u8BF7\n    buy: number             //\u8D2D\u4E70\u6307\u5B9A\u5546\u54C1\n    //memberDailyFree: number;      //\u6BCF\u65E5\u514D\u8D39\n    freeCache: number;\n    freeTime: number;\n    memberFreeCache: number;\n    memberFreeTime: number;\n    openGiftCache: number;\n    openGiftTime: number;\n\n    taskState: number[];    //\u4EFB\u52A1\u72B6\u6001 0-\u53EF\u9886\u53D6 1-\u672A\u5B8C\u6210 2-\u5DF2\u9886\u53D6\n\n    isVipControl: boolean;  // \u662F\u5426\u5F00\u542F\u793C\u5305vip\u63A7\u5236\n    isVipSystem: boolean;   // \u662F\u5426\u6709vip\u4F53\u7CFB \n\n    isNewReward: boolean;   //\u5956\u54C1\u5305\u662F\u5426\u6709\u65B0\u5956\u52B1\n    collectIdArr: number[];   //\u5DF2\u6536\u85CF\u7684\u5546\u54C1ID\n    giftTargetCount: number;     //\u5F00\u793C\u5305\u76EE\u6807\u5C40\u6570\n    giftCurCount: number;        //\u5F00\u793C\u5305\u5F53\u524D\u5C40\u6570\n}\n\n//\u73A9\u5BB6\u76F8\u5173\u9ED8\u8BA4\u6570\u636E\nexport const defaultPlayData: PlayData = {\n    version: \"1.0.0\",\n    coin: 0,\n    level: 1,\n    energy: 20,\n    diamond: 0,\n    point: 3,\n    integral: 0,\n    energyCache: 0,\n    energyTime: 0,\n    ranklist: [],\n    rankDay: '2020-11-23',\n    name: '\u73A9\u5BB68573',\n    avatar: 'hallRes/common/tx_player.png',\n    userOpenId: \"\", //\u73A9\u5BB6ID\n    openId: \"\",     //\u5546\u94FAID\n\n    heroOldCoin: 0,\n    isFirstEnter: 1,\n    isReceivedEight: 0,\n    isReceivedSix: 0,\n    shareTime: 0,\n    startGameTime: 0,\n    openGameTime: 0,\n    receiveCount: 0,\n    lastReceiveTime: 0,\n    allPlayCount: 0,\n    isShowNotice: true,\n    openSignTime: 0,\n    signedTimesArray: [],\n    tryRoleID: 0,\n    myRoleIDArray: [0],\n    curRoleID: 0,\n    lianshengCount: 0,\n    isPlayFirstAni: 0,\n    heroFirstCount: 0,\n    gameMode: 0,\n\n    musicState: 0,\n    effectState: 0,\n    musicCtrl: 1,\n\n    isMember: false,\n    isVip: 0,\n    vipMarkUp: 20,\n    curSeason: 1,\n    bestPoint: 0,\n    bestRank: 0,\n    bestSeason: 1,\n    bestWin: 0,\n    allWin: 0,\n\n    rewardTimes_free: 0,\n    rewardTimes_challenge: 0,\n    rewardTimes_share: 0,\n    rewardTimes_live: 0,\n    rewardTimes_lookGoods: 0,\n    rewardTimes_member: 0,\n    rewardTimes_favor: 0,\n    rewardTimes_kgold: 0,\n    rewardTimes_invitation: 0,\n    rewardTimes_buy: 0,\n    rewardTimes_memberFree: 0,\n    rewardTimes_collectGoods: 0,\n    rewardTimes_dayReward: 0,\n    buyTime: 0,\n    buyLuckyTime: 0,\n    browseTime: 0,\n\n    taskDay: '',\n    //dailyFree: 0, \n    challenge: 0,      //\u6709\u7528\n    share: 0,       //\u6709\u7528\n    live: 0,\n    browse: 0,\n    shop: 0,\n    order: 0,       //\u6709\u7528\n    invite: 0,      //\u6709\u7528\n    buy: 0,\n    //memberDailyFree : 0,\n    freeCache: 0,\n    freeTime: 0,\n    memberFreeCache: 0,\n    memberFreeTime: 0,\n    openGiftCache: 0,\n    openGiftTime: 0,\n    taskState: [],\n\n    isVipControl: false,\n    isVipSystem: false,\n    isNewReward: false,\n\n    collectIdArr: [],   //\u5DF2\u6536\u85CF\u7684\u5546\u54C1ID\n    giftTargetCount: 2,     //\u5F00\u793C\u5305\u76EE\u6807\u5C40\u6570\n    giftCurCount: 0,        //\u5F00\u793C\u5305\u5F53\u524D\u5C40\u6570\n}", "import DataManager from './DataManager';\nimport { PlayData, defaultPlayData } from './PlayData';\n\nconst PlayDataUtil = new DataManager<PlayData>(defaultPlayData,'playData', '');\nexport default PlayDataUtil;\n\n(window as any).PlayDataUtil = PlayDataUtil;", "/**\n * \u4E8B\u4EF6\u7BA1\u7406 on off event\n */\nexport default class EventManager extends Laya.EventDispatcher {\n\n\tconstructor() {\n        super();\n    }\n\n}", "\uFEFFimport { Global } from \"../config/Global\";\nimport { IsCDN } from \"../Global/FGUIConfig\";\nimport MainUtil from './../utils/MainUitl';\n\nexport default class ResourceManager {\n    public _idx = 0;\n    //\u4E3B\u754C\u9762\u9884\u52A0\u8F7D\u8D44\u6E90\n    public PreloadRes = [\n\n\n\n        { url: Global.hallConfig.Jsons.aiNameConfig, type: Laya.Loader.JSON },\n        { url: Global.hallConfig.Jsons.baseConfig, type: Laya.Loader.JSON },\n\n        { url: Global.hallConfig.Jsons.awardConfig, type: Laya.Loader.JSON },\n        { url: Global.hallConfig.Jsons.rankConfig, type: Laya.Loader.JSON },\n        { url: Global.hallConfig.Jsons.taskConfig, type: Laya.Loader.JSON },\n        { url: Global.hallConfig.Jsons.gameConfig, type: Laya.Loader.JSON },\n\n        { url: Global.hallConfig.FGui.main, type: Laya.Loader.BUFFER, isCDN: true },\n        { url: Global.hallConfig.FGui.common, type: Laya.Loader.BUFFER, isCDN: true },\n        { url: Global.hallConfig.FGui.getReward, type: Laya.Loader.BUFFER, isCDN: true },\n        { url: Global.hallConfig.FGui.Loading, type: Laya.Loader.BUFFER, isCDN: true },\n\n        { url: Global.hallConfig.FGui.mainPng, type: Laya.Loader.IMAGE, isCDN: true },\n        { url: Global.hallConfig.FGui.commonPng, type: Laya.Loader.IMAGE, isCDN: true },\n        { url: Global.hallConfig.FGui.getRewardPng, type: Laya.Loader.IMAGE, isCDN: true },\n        { url: Global.hallConfig.FGui.LoadingPng, type: Laya.Loader.IMAGE, isCDN: true },\n    ]\n\n    private _allConf: any;\n    private _taskConf: any = null;\n    private _browseTaskConf: any = null;   //\u6D4F\u89C8\u5546\u54C1\u7684\u914D\u7F6E\n    private _buyTaskConf: any = null;   //\u8D2D\u4E70\u5546\u54C1\u7684\u914D\u7F6E\n\n\n    private _goodsConf: any = null;     //\u6D4F\u89C8/\u8D2D\u4E70\u7684\u5546\u54C1\u914D\u7F6E\n    private _prizePoolConf: any = null;   //\u5956\u54C1\u6C60\u7684\u914D\u7F6E\n    private _rankPrizeConf: any = null;     //\u6392\u540D\u5956\u54C1\u914D\u7F6E\n    private _activeTimeConf: any = null;   //\u6D3B\u52A8\u65F6\u95F4\n    private _shareConfig: any = null;     //\u5206\u4EAB\u7684\u914D\u7F6E\n    private _invateNewUserCoin = 0;     //\u9080\u8BF7\u65B0\u73A9\u5BB6\u91D1\u5E01\n    private _invateUserCoin = 0;        //\u9080\u8BF7\u8001\u73A9\u5BB6\u91D1\u5E01\n    private _exchangeIdx = [0, 0];           //\u91D1\u5E01,\u79EF\u5206\u5956\u52B1\u6BD4\u4F8B\n    private _lookGoodsCoin = 0;         //\u6D4F\u89C8\u5546\u54C1\u7684\u5956\u52B1\u914D\u7F6E\n    private _subCoin = 1;               //\u6D88\u8017\u7684\u91D1\u5E01\u6570\n    private _atmosphereConfig: any = null;//UI\u914D\u7F6E\n    private _ruleConf: any;\n    private _rankSTime = -1;\n    private _rankETime = -1;\n\n    constructor() {\n        this.setDefaultConf();\n    }\n\n    public PreloadResources() {\n        // let resModel = this.PreloadRes[this._idx];\n        // if (Laya.Browser.onTBMiniGame) {\n        //     // if(resModel.isSound){\n        //     //     this._idx++;\n        //     //     this.onPreLoadResComplete();\n        //     //     return;\n        //     // }\n        //     if (resModel.isCDN) {\n        //         Laya.loader.load(Global.hallConfig._cdn + resModel.url, Laya.Handler.create(this, this.onPreLoadResComplete), null, resModel.type);\n        //     } else {\n        //         Laya.loader.load(resModel.url, Laya.Handler.create(this, this.onPreLoadResComplete), null, resModel.type);\n        //     }\n\n        // } else {\n        //     Laya.loader.load(resModel.url, Laya.Handler.create(this, this.onPreLoadResComplete), null, resModel.type);\n        // }\n        // console.error('PreloadResources', resModel.url);\n        let _resarr = this.PreloadRes.map(v => {\n            if (Laya.Browser.onTBMiniGame && v['isCDN']) {\n                // if (!IsCDN) {\n                //     return;\n                // }\n                v.url = Global.hallConfig._cdn + v.url;\n            }\n            // console.log('v.url', v.url);\n\n            return v;\n        });\n\n        let _toload = () => {\n            Laya.loader.load(_resarr, Laya.Handler.create(this, (isSuccess) => {\n                if (isSuccess) {\n                    for (const iterator of _resarr) {\n                        if (iterator.isCDN && iterator.type == Laya.Loader.BUFFER) {\n\n                            fgui.UIPackage.addPackage(MainUtil.getUI(iterator.url));\n                        }\n                    }\n                    this.onPreLoadResComplete();\n                } else {\n                    _toload();\n                }\n            }), Laya.Handler.create(this, (progress) => {\n                // this.progress.text = Math.floor(progress * 100) + '%';\n                this._idx = (progress * 100) | 0;\n\n                // console.error('progress', progress);\n                //\u901A\u77E5\u8FDB\u5EA6\n                if (this._idx < 100) {\n                    console.log('load _idx', this._idx);\n                    Global.EventManager.event(Global.hallConfig.EventEnum.Res_Load_Complete);\n                }\n\n            }, null, false));\n        }\n        _toload();\n\n        // this._idx++;\n    }\n\n    //\u9884\u52A0\u8F7D\u5B8C\u6210\n    private onPreLoadResComplete() {\n        this._idx = 100;\n        console.log('load _idx', this._idx);\n        //\u901A\u77E5\u8FDB\u5EA6\u5B8C\u6210\n        Global.EventManager.event(Global.hallConfig.EventEnum.Res_Load_Complete);\n        // console.error('onPreLoadResComplete');\n        // Global.EventManager.event(Global.hallConfig.EventEnum.Res_Load_Complete);\n        // // console.error('onPreLoadResComplete');\n        // if (this._idx < this.PreloadRes.length) {\n        //     this.PreloadResources();\n        // }\n    }\n\n    // //\u9884\u52A0\u8F7D\u8FC7\u7A0B\n    // private onPreLoadResProgress(value: number) {\n    //     console.log(\"onPreLoadResProgress...\");\n    //     Global.EventManager.event(Global.hallConfig.EventEnum.Res_Load_Progress, value);\n    // }\n\n    //\u83B7\u53D6\u8D44\u6E90\n    public GetRes(url) {\n        var res = Laya.loader.getRes(url);\n        if (res == null) {\n            console.error(\"\u8D44\u6E90\u672A\u52A0\u8F7D/\u5DF2\u91CA\u653E:\", url);\n        }\n        return res;\n    }\n\n    //\u521D\u59CB\u5316\u5546\u5BB6\u914D\u7F6E\n    public initConf(data) {\n        this._allConf = data;\n    }\n\n    //\u83B7\u53D6\u5546\u5BB6\u914D\u7F6E\n    public getConf(name) {\n        if (!this._allConf) return null;\n        if (!this._allConf[name]) {\n            console.error(\"\u914D\u7F6E\u83B7\u53D6\u5931\u8D25\");\n            return null;\n        } else\n            return this._allConf[name];\n    }\n\n    /////////////////////////////////////////////////////////////\n    //\u8BBE\u7F6E\u9ED8\u8BA4\u6570\u636E\n    setDefaultConf() {\n        //\u5956\u54C1\n        let prizeList = [{ \"isRewardControl\": { \"buyPrice\": 88, \"intiveNums\": 15, \"type\": false }, \"rate\": \"0.0500000000\", \"price\": \"708.00\", \"approve_status\": \"onsale\", \"num\": 971, \"name\": \"goods\", \"num_iid\": 634413319548, \"type\": \"1\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i2/2210005895332/O1CN01bYG0fa1pG6TWuQ5rL_!!2210005895332.png\", \"title\": \"Dimoo\u592A\u7A7A\u7CFB\u5217\u6574\u76D212\u6B3E\", \"openNums\": 30, \"seller_cids\": \"-1\" }, { \"isRewardControl\": { \"buyPrice\": 5, \"intiveNums\": 8, \"type\": false }, \"rate\": \"0.5000000000\", \"price\": 1, \"approve_status\": \"\", \"num\": 952, \"name\": \"coupon\", \"num_iid\": \"ce72c637187e4716b860419b9ccded4e\", \"type\": \"2\", \"pic_url\": \"https://oss.ixald.com/bigFight/admin/images/yhj.png\", \"title\": \"\u6EE125\u51CF1\", \"openNums\": 48, \"seller_cids\": \"\" }, { \"isRewardControl\": { \"buyPrice\": 0, \"intiveNums\": 0, \"type\": false }, \"rate\": \"0.5000000000\", \"price\": 10, \"approve_status\": \"\", \"num\": 272, \"name\": \"coupon\", \"num_iid\": \"52560b0a6e8e4b7c8166d57b08f74c72\", \"type\": \"3\", \"pic_url\": \"https://oss.ixald.com/bigFight/admin/images/yhj.png\", \"title\": \"\u8463\u5E05\u4F18\u60E0\u5238\", \"openNums\": 64, \"seller_cids\": \"\" }];\n        this._prizePoolConf = prizeList;\n\n    }\n\n    //\u4FDD\u5B58\u6D4F\u89C8/\u8D2D\u4E70\u7684\u5546\u54C1\u914D\u7F6E\n    public saveGoodsConf(data) {\n        this._goodsConf = data;\n    }\n\n    //\u83B7\u53D6\u6D4F\u89C8/\u8D2D\u4E70\u7684\u5546\u54C1\u914D\u7F6E\n    public getGoodsConf() {\n        return this._goodsConf;\n    }\n\n    //\u4FDD\u5B58\u5956\u54C1\u6C60\u7684\u914D\u7F6E\n    public savePrizePoolConf(data) {\n        this._prizePoolConf = data;\n    }\n\n    //\u83B7\u53D6\u5956\u54C1\u6C60\u7684\u914D\u7F6E\n    public getPrizePoolConf() {\n        return this._prizePoolConf;\n    }\n\n    //\u4FDD\u5B58\u6392\u540D\u5956\u54C1\u6570\u636E\n    public saveRankPrizeConf(data) {\n        this._rankPrizeConf = data;\n    }\n\n    //\u83B7\u53D6\u6D4F\u89C8/\u8D2D\u4E70\u7684\u5546\u54C1\u914D\u7F6E\n    public getRankPrizeConf() {\n        return this._rankPrizeConf;\n    }\n\n    //\u83B7\u53D6\u5355\u4E2A\u5956\u52B1\n    public getPrizeById(id) {\n        if (id >= this._prizePoolConf.length) {\n            return null;\n        }\n        return this._prizePoolConf[id];\n    }\n\n    //\u4FDD\u5B58\u4EFB\u52A1\u914D\u7F6E\n    public saveTaskConf(data) {\n        this._taskConf = data;\n    }\n\n    //\u83B7\u53D6\u4EFB\u52A1\u914D\u7F6E\n    public getTaskConf() {\n        return this._taskConf;\n    }\n\n    //\u6839\u636E\u914D\u7F6E\u5237\u65B0\u672C\u5730\u4EFB\u52A1\u8868\n    public refreshTaskConf() {\n        let confs = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.taskConfig);\n        // if (this._taskConf) {\n        //     for (let i = 0; i < confs.length; i++) {\n        //         let conf = confs[i];\n        //         for (let j = 0; j < this._taskConf.length; j++) {\n        //             let newConf = this._taskConf[j];\n        //             if (newConf.id == conf.id) {   //\u670D\u52A1\u5668\u6709\u4E0B\u53D1\u65B0\u914D\u7F6E\n        //                 if (newConf.hasOwnProperty(\"rewardCount\")) {  //\u91CD\u7F6E\u5956\u52B1\u6570\u91CF\n        //                     let data = [newConf.rewardCount, newConf.rewardCount, newConf.rewardCount];\n        //                     conf.rewardCount = JSON.stringify(data);//\u4E70\u4E70\u4E70\u4EFB\u52A1\u8FD9\u4E2A\u5B57\u6BB5\u4EE3\u8868\u5956\u52B1\u7684\u500D\u6570\n        //                     if (newConf.id == '9') {\n        //                         this._exchangeIdx = newConf.rewardCount;\n        //                     }\n        //                 }\n        //                 if (newConf.hasOwnProperty(\"need\")) {         //\u9700\u8981\u8FBE\u6210\u7684\u6B21\u6570\n        //                     conf.need = newConf.need;\n        //                 }\n\n        //                 if (newConf.hasOwnProperty(\"limit\")) {         //\u6BCF\u65E5\u4E0A\u9650\n        //                     let data = [newConf.limit, newConf.limit, newConf.limit];\n        //                     conf.limit = JSON.stringify(data);\n        //                 }\n\n        //                 if (newConf.hasOwnProperty(\"time\")) {          //\u65F6\u95F4\n        //                     conf.time = newConf.time;\n        //                 }\n        //                 break;\n        //             }\n        //         }\n        //     }\n        // }\n        return confs;\n    }\n\n    //\u4FDD\u5B58\u5206\u4EAB\u914D\u7F6E\n    public saveShareConfig(data) {\n        this._shareConfig = data;\n    }\n\n    //\u83B7\u53D6\u5206\u4EAB\u914D\u7F6E\n    public getShareConfig() {\n        return this._shareConfig;\n    }\n\n    //\u4FDD\u5B58\u6BCF\u5C40\u6D88\u8017\u7684\u91D1\u5E01\u6570\n    public saveSubCoin(coin) {\n        this._subCoin = coin;\n    }\n\n    public getSubCoin() {\n        return this._subCoin;\n    }\n\n    //\u4FDD\u5B58\u91D1\u5E01\u5956\u52B1\u5151\u6362\u6BD4\u4F8B\n    public saveExchangeIdx(coinrate, scorerate) {\n        this._exchangeIdx = [coinrate, scorerate];\n    }\n\n    public getExchangeIdx() {\n        return this._exchangeIdx;\n    }\n\n    //\u4FDD\u5B58UI\u914D\u7F6E\n    saveAtmosphere(data) {\n        if (data) {\n            this._atmosphereConfig = data;\n        }\n    }\n\n    //\u83B7\u53D6UI\u914D\u7F6E\n    public getAtmosphere() {\n        // console.error('getAtmosphere \u9700\u8981\u4FEE\u6539');\n\n        this._atmosphereConfig = {\n            style: 3,\n            scene: 2,\n        }\n        return this._atmosphereConfig;\n\n        if (!this._atmosphereConfig) {\n            this._atmosphereConfig = {\n                style: 3,\n                scene: 2,\n            }\n        }\n        return this._atmosphereConfig;\n    }\n\n    //\u66F4\u65B0UI\u5730\u5740\n    public updateUI() {\n        Global.hallConfig._cdn = Global.hallConfig._cdn.replace(\"index\", \"\" + this.getAtmosphere().style + \"/index\");\n        // for (let key in Global.hallConfig.FGui) {\n        //     let ui = Global.hallConfig.FGui[key];\n        //     Global.hallConfig.FGui[key] = ui.replace(\"UI\", \"UI/\" + this.getAtmosphere().style);\n        // }\n    }\n\n    //\u4FDD\u5B58\u89C4\u5219\u914D\u7F6E\n    public saveRuleConf(data) {\n        this._ruleConf = data;\n    }\n\n    //\u83B7\u53D6\u89C4\u5219\u914D\u7F6E\n    public getRuleConf() {\n        return this._ruleConf;\n    }\n\n    //\u4FDD\u5B58\u51B2\u699C\u5F00\u59CB\u548C\u7ED3\u675F\u7684\u65F6\u95F4\n    public saveRankTime(sTime, eTime) {\n        this._rankSTime = sTime;\n        this._rankETime = eTime;\n    }\n\n    //\u83B7\u53D6\u5F00\u59CB\u65F6\u95F4\n    public getRankSTime() {\n        return this._rankSTime;\n    }\n\n    //\u83B7\u53D6\u7ED3\u675F\u65F6\u95F4\n    public getRankETime() {\n        return this._rankETime;\n    }\n}\n", "\uFEFFexport default class hallConfig {\n    public EventEnum = {\n        Res_Load_Progress: \"Res_Load_Progress\",\n        Res_Load_Complete: \"Res_Load_Complete\",\n        TASK_CHANGE: \"TASK_CHANGE\",    //\u4EFB\u52A1\u6570\u636E\u53D1\u751F\u53D8\u5316\n        VIP_STATE_CHANGE: \"TASK_CHANGE\",    //vip\u72B6\u6001\u53D1\u751F\u53D8\u5316\n\n    }\n\n    public GAME_MOVE = {\n        BOMB: 0,           //\u70B8\u5F39\u6A21\u5F0F\n        RED_ENVELOPES: 1,  //\u793C\u5305\u6A21\u5F0F\n        RED_BOMB: 2,       //\u793C\u5305+\u70B8\u5F39\u6A21\u5F0F\n    }\n\n    public TASK_CONFIG_ENUM = {\n        cuhuo: 0,           //\u4FC3\u6D3B\n        laxin: 1,           //\u62C9\u65B0\n        zhuanhua: 2,        //\u793C\u5305\u8F6C\u5316\n    }\n\n    public SHARE_TYPE_ENUM = {\n        shareFriend: 0,           //\u9080\u8BF7\u597D\u53CB\n        rank: 1,                  //\u5F00\u5956\u5206\u4EAB\n        notice: 2,                //\u9080\u8BF7\u5F97\u5E74\u5E74\u725B\n    }\n\n    public CUR_SCENE = {\n        loading: 0,                //\u52A0\u8F7D\u754C\u9762\n        hall: 1,                   //\u4E3B\u754C\u9762\n        game: 2,                   //\u6E38\u620F\u754C\u9762\n    }\n\n    public UIEnum = {\n        SetUI: {\n            id: 0,\n            class: \"common/setLayer.ts\",\n        },\n        SignUI: {\n            id: 1,\n            class: \"common/signLayer.ts\",\n        },\n\n        GameScene3d: {\n            id: 2,\n            class: \"game/gameScene3d.ts\",\n        },\n    }\n\n    //\u7248\u672C\u53F7\n    _version: string = \"0.0.95\";\n    //cdn\n    _commonCdn: string = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/normal/C_client/\" + 'v16/';\n    _cdn: string = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/normal/C_client/\" + 'v16/';\n\n    //\u4ECE\u7B2C\u51E0\u5C40\u5F00\u59CB\u5F00\u793C\u5305\n    _openGiftCount = 2;\n\n    //\u8D44\u6E90\u914D\u7F6E\n    public Jsons = {\n        aiNameConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/aiNameConfig.json\" : this._commonCdn + \"res/jsons/aiNameConfig.json\",\n        baseConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/baseConfig.json\" : this._commonCdn + \"res/jsons/baseConfig.json\",\n        // enemyConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/enemyConfig.json\" : this._commonCdn + \"res/jsons/enemyConfig.json\",\n        // levelConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/levelConfig.json\" : this._commonCdn + \"res/jsons/levelConfig.json\",\n        // signConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/signConfig.json\" : this._commonCdn + \"res/jsons/signConfig.json\",\n        awardConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/awardConfig.json\" : this._commonCdn + \"res/jsons/awardConfig.json\",\n        rankConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/rankConfig.json\" : this._commonCdn + \"res/jsons/rankConfig.json\",\n        taskConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/taskConfig.json\" : this._commonCdn + \"res/jsons/taskConfig.json\",\n        gameConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/gameConfig.json\" : this._commonCdn + \"res/jsons/gameConfig.json\",\n        // avatarConfig: Laya.Browser.onTBMiniGame ? this._commonCdn + \"res/jsons/avatarConfig.json\" : this._commonCdn + \"res/jsons/avatarConfig.json\",\n    }\n\n    public Prefabs = {\n        // role: \"prefab/game/role.json\",\n        // ground0: \"prefab/game/ground0.json\",\n        // ground1: \"prefab/game/ground1.json\",\n        // ground2: \"prefab/game/ground2.json\",\n        // ground3: \"prefab/game/ground3.json\",\n        // ground4: \"prefab/game/ground4.json\",\n        // matchLayer: \"prefab/game/matchLayer.json\",\n        // guideImgLayer: \"prefab/game/guideImgLayer.json\",\n        // resultLayer: \"prefab/game/resultLayer.json\",\n        // bombTipsImg: \"prefab/game/bombTipsImg.json\",\n        // redBagTipsImg: \"prefab/game/redBagTipsImg.json\",\n        // speedProp: \"prefab/game/speedProp.json\",\n        // emojiLayer: \"prefab/game/emojiLayer.json\",\n        // broadcastTips: \"prefab/game/broadcastTips.json\",\n        // dialog: \"prefab/game/dialog.json\",\n        // getAwardLayer: \"prefab/game/getAwardLayer.json\",\n        // vipDialog: \"prefab/game/vipDialog.json\",\n    }\n\n    public FGui = {\n        main: \"res/UI/Main.txt\",\n        rank: \"res/UI/Rank.txt\",\n        shop: \"res/UI/Shop.txt\",\n        task: \"res/UI/Task.txt\",\n        common: \"res/UI/Common.txt\",\n        getReward: \"res/UI/GetReward.txt\",\n        invite: \"res/UI/Invite.txt\",\n        userInfo: \"res/UI/UserInfo.txt\",\n        Loading: \"res/UI/Loading.txt\",\n        TaskBrowse: \"res/UI/TaskBrowse.txt\",\n        Rule: \"res/UI/Rule.txt\",\n        Bag: \"res/UI/Bag.txt\",\n        TryRole: \"res/UI/TryRole.txt\",\n        Notice: \"res/UI/Notice.txt\",\n        OpenGift: \"res/UI/openGift.txt\",\n        Vip: \"res/UI/Vip.txt\",\n        PrizePool: \"res/UI/PrizePool.txt\",\n\n        mainPng: \"res/UI/Main_atlas0.png\",\n        rankPng: \"res/UI/Rank_atlas0.png\",\n        shopPng: \"res/UI/Shop_atlas0.png\",\n        taskPng: \"res/UI/Task_atlas0.png\",\n        commonPng: \"res/UI/Common_atlas0.png\",\n        getRewardPng: \"res/UI/GetReward_atlas0.png\",\n        invitePng: \"res/UI/Invite_atlas0.png\",\n        userInfoPng: \"res/UI/UserInfo_atlas0.png\",\n        LoadingPng: \"res/UI/Loading_atlas0.png\",\n        TaskBrowsePng: \"res/UI/TaskBrowse_atlas0.png\",\n        RulePng: \"res/UI/Rule_atlas0.png\",\n        BagPng: \"res/UI/Bag_atlas0.png\",\n        TryRolePng: \"res/UI/TryRole_atlas0.png\",\n        NoticePng: \"res/UI/Notice_atlas0.png\",\n        OpenGiftPng: \"res/UI/openGift_atlas0.png\",\n        VipPng: \"res/UI/Vip_atlas0.png\",\n        PrizePoolPng: \"res/UI/PrizePool_atlas0.png\",\n    }\n\n    // public Ection = {\n    //     ection_1: \"roleAni/ection_1.png\",\n    //     ection_2: \"roleAni/ection_2.png\",\n    //     ection_3: \"roleAni/ection_3.png\",\n    //     ection_4: \"roleAni/ection_4.png\",\n    // }\n\n    // public LocalImg = {\n    //     roleAni: \"res/atlas/roleAni.png\",\n    //     roleAni1: \"res/atlas/roleAni1.png\",\n    //     roleAni2: \"res/atlas/roleAni2.png\",\n    //     roleAni3: \"res/atlas/roleAni3.png\",\n    //     roleAni4: \"res/atlas/roleAni4.png\",\n    // }\n\n    // public LocalAtlas = {\n    //     roleAni: \"res/atlas/roleAni.atlas\",\n    // }\n\n    public Sound = {\n        gameBg1: \"sound/bg1.mp3\",\n        gameBg2: \"sound/bg2.mp3\",\n        bad: \"sound/bad.mp3\",\n        bomb: \"sound/bomb.mp3\",\n        happy: \"sound/happy.mp3\",\n        jump: \"sound/jump.mp3\",\n        lose: \"sound/lose.mp3\",\n        over: \"sound/over.mp3\",\n        restTime: \"sound/restTime.mp3\",\n        win: \"sound/win.mp3\",\n        click: \"sound/click.mp3\",\n        bg1: \"sound/hallBg1.mp3\",\n        bg2: \"sound/hallBg2.mp3\",\n    }\n\n    // public SoundName = {\n    //     gameBg1: \"bg1\",\n    //     gameBg2: \"bg2\",\n    //     bad: \"bad\",\n    //     bomb: \"bomb\",\n    //     happy: \"happy\",\n    //     jump: \"jump\",\n    //     lose: \"lose\",\n    //     over: \"over\",\n    //     restTime: \"restTime\",\n    //     win: \"win\",\n    //     click: \"click\",\n    //     bg1: \"hallBg1\",\n    //     bg2: \"hallBg2\",\n    // }\n}\n", "export default class UIManager {\n    private _zOrder: number = 1000;\n    private _tipsZOrder: number = 100000;\n\n    private _uiArray = [];\n    private _arrTips;\n\n    private _bannerFlag: boolean = true;\n\n    constructor() { }\n\n    //\u6253\u5F00UI\u5E76\u8F6C\u5230\u8BE5UI\n    public toUI(uiconfig: any, data: any = null): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n        for (let i = this._uiArray.length - 1; i >= 0; i--) {\n            let ui = this._uiArray[i];\n            this.onUIClose(ui, null);\n        }\n        this._uiArray.length = 0;\n        this.openUI(uiconfig, data, true);\n    }\n\n    //\u5173\u95EDUI\u573A\u666F\n    private closeUI(uiconfig: any, handle: Laya.Handler = null): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n        let ui;\n        for (let i = this._uiArray.length - 1; i >= 0; i--) {\n            ui = this._uiArray[i];\n            if (ui.uiconfig == uiconfig) {\n                this.onUIClose(ui, handle);\n                this._uiArray.splice(i, 1);\n                break;\n            }\n        }\n        this.checkBanner(ui, false);\n    }\n\n    //\u6253\u5F00UI\u573A\u666F\n    public openUI(uiconfig: any, data: any = null, visible: boolean = true): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n\n        if (uiconfig.res && uiconfig.res.length > 0) {\n            Laya.loader.load(uiconfig.res, Laya.Handler.create(this, function () {\n                this.createUI(uiconfig, data, visible);\n            }))\n        } else {\n            this.createUI(uiconfig, data, visible);\n        }\n    }\n\n    //\u6253\u5F00\u552F\u4E00UI\u573A\u666F\n    public openUniqueUI(uiconfig: any, data: any = null, visible: boolean = true): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n\n        let ui = this.findUI(uiconfig);\n        if (ui) {\n            if (data != null) {\n                ui.updateData(data);\n            }\n            ui.visible = visible;\n            return;\n        }\n        this.openUI(uiconfig, data, visible);\n    }\n\n    //\u521B\u5EFAUI\u573A\u666F\n    private createUI(uiconfig: any, data: any = null, visible: boolean = true): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n\n        let cls = Laya.ClassUtils.getRegClass(uiconfig.class);\n        if (cls == null) {\n            console.error(\"openUI error\", uiconfig);\n            return;\n        }\n\n        let ui = new cls(uiconfig);\n        ui.uiconfig = uiconfig;\n        if (data != null) {\n            ui.updateData(data);\n        }\n        ui.zOrder = this._zOrder++;\n        ui.visible = visible;\n        Laya.stage.addChild(ui);\n        this._uiArray.push(ui);\n        if (ui.visible) {\n            this.checkBanner(ui, true);\n            if (uiconfig.tween) {\n                console.log(\"11111111111\");\n                Laya.Tween.from(ui, { scaleX: 0.8, scaleY: 0.8 }, 200, Laya.Ease.backOut);\n                ui.uitween = uiconfig.tween;\n            }\n        }\n    }\n\n    //UI\u573A\u666F\u5173\u95ED\u65F6\u7684\u52A8\u753B\n    private onUIClose(ui: any, handler: Laya.Handler): void {\n        if (ui.uitween) {\n            Laya.Tween.to(ui, { scaleX: 0.8, scaleY: 0.8 }, 200, Laya.Ease.backIn, Laya.Handler.create(this, function () {\n                this.destroyUI(ui);\n                if (handler) handler.method();\n            }));\n        } else {\n            this.destroyUI(ui);\n            if (handler) handler.method();\n        }\n    }\n\n    //\u6467\u6BC1UI\u573A\u666F\n    private destroyUI(ui: any): void {\n        this.checkBanner(ui, false);\n        if (ui._aniList) {\n            let ani;\n            for (let i = 0; i < ui._aniList.length; i++) {\n                ani = ui._aniList[i];\n                if (ani && ani.clear) {\n                    ani.clear();\n                }\n            }\n        }\n        Laya.timer.clearAll(ui);\n        Laya.stage.removeChild(ui);\n        ui.close();\n        ui.destroy();\n    }\n\n    //\u67E5\u627EUI\u573A\u666F\n    public findUI(uiconfig: any): any {\n        if (uiconfig == undefined || uiconfig == null) return;\n\n        for (let i = this._uiArray.length - 1; i >= 0; i--) {\n            let ui = this._uiArray[i];\n            if (ui.uiconfig == uiconfig) {\n                return ui;\n            }\n        }\n        return null;\n    }\n\n    //\u8BBE\u7F6EUI\u573A\u666F\u53EF\u89C6\n    public setUIVisible(uiconfig: any, visible: boolean): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n\n        let ui = this.findUI(uiconfig);\n        if (ui) {\n            ui.visible = visible;\n            if (visible) {\n                ui.zOrder = this._zOrder++;\n            }\n            this.checkBanner(ui, visible);\n        }\n    }\n\n    //\u8BBE\u7F6EUI\u573A\u666F\u5230\u9876\u90E8\n    public setTop(uiconfig: any): void {\n        if (uiconfig == undefined || uiconfig == null) return;\n\n        let ui = this.findUI(uiconfig);\n        if (ui) {\n            ui.zOrder = this._zOrder++;\n        }\n    }\n\n    //\u5F39\u51FA\u63D0\u793AUI\n    public showTips(msg: string): void {\n        let tips = this._arrTips;\n        let txt;\n        if (tips == null) {\n            tips = [];\n            let box = new Laya.Box();\n            Laya.stage.addChild(box);\n            box.zOrder = this._tipsZOrder;\n            for (let i = 0; i < 3; i++) {\n                let subBox = new Laya.Box();\n                subBox.anchorX = subBox.anchorY = 0.5;\n                subBox.centerX = 0;\n                let img = new Laya.Image(\"game/messageBG.png\");\n                subBox.addChild(img);\n                img.width = 800;\n                img.height = 80;\n\n                txt = new Laya.Text();\n                subBox.addChild(txt);\n\n                txt.fontSize = 36;\n                txt.color = \"#FFFFFF\";\n                txt.width = 800;\n                txt.height = 50;\n                txt.y = 15;\n                txt.align = \"center\";\n                txt.valign = \"middle\";\n                // txt.visible = false;\n                txt.centerX = 0;\n                tips.push(txt)\n                box.addChild(subBox);\n                subBox.visible = false;\n            }\n            this._arrTips = tips;\n            box.width = 600;\n            box.centerX = 0;\n            box.centerY = -100;\n        }\n        if (tips.length == 0)\n            return;\n\n        txt = tips.shift()\n        txt.text = msg;\n        let flipMS: number = 2000;\n        txt.color = \"#FFFFFF\";\n\n        let box = txt.parent;\n        box.visible = true;\n\n        box.scale(0.8, 0.8);\n        box.alpha = 1;\n        Laya.Tween.to(box, { scaleX: 1, scaleY: 1 }, 200, Laya.Ease.backOut, Laya.Handler.create(this, function (obj) {\n            Laya.timer.once(flipMS - 600, this, function () {\n                Laya.Tween.to(box, { alpha: 0 }, 400, null, Laya.Handler.create(this, function () {\n                    obj.parent.visible = false;\n                    tips.push(obj);\n                }));\n            });\n        }, [txt]));\n    }\n\n    private checkBanner(ui: any, isOpen: boolean) {\n        // if (ui == null || ui == undefined || ui.uiconfig == undefined || ui.uiconfig == null) return;\n        // if (isOpen) {\n        //     var adunit:string = ui.uiconfig.adunit+\"\";\n        //     if (adunit!=\"undefined\" && adunit.length > 1) {\n        //         this._bannerFlag = ui.uiconfig.showPrompt;\n        //         console.log(\"has banner show\",adunit);\n                \n        //         setTimeout(() => {\n        //             Platform.createBannerAd(adunit, null);\n        //         }, 300);\n        //     }\n        //     else {\n        //         // console.log(\"\u6CA1\u6709\u5E7F\u544A\uFF1A\", ui.runtime);\n                \n        //         Platform.setBannerVisible(false);\n        //     }\n        // }\n        // else {\n        //     console.log(\"qingchu.................\");\n\n        //     Platform.closeBannerAd();\n        // }\n    }\n\n    private createBannercallbackHandle(code: number) {\n        // console.log(\"\u8FD4\u56DE\u7684\u9519\u8BEF\u7801\u662F\uFF1A\" + code, this._bannerFlag);\n        // if (code == 0) {\n        //     Platform.setBannerVisible(this._bannerFlag);\n        // }\n        // else if (code == 1003 || code == 1000) {\n        //     // Platform.closeBannerAd();\n        // }\n    }\n\n}", "import EventManager from \"../manager/EventManager\";\nimport ResourceManager from \"../manager/ResourceManager\";\nimport hallConfig from \"./hallConfig\"\nimport UIManager from \"../manager/UIManager\";\n\nexport class Global {\n    //\u573A\u666F\u540D\u79F0\n    public static startSceneName: any = \"startScene.scene\";\n    public static gameSceneName: any = \"gameScene.scene\";\n    public static loadSceneName: any = \"loadingScene.scene\";\n\n    public static hallConfig: hallConfig;\n    public static EventManager: EventManager;\n    public static ResourceManager: ResourceManager;\n    public static UIManager: UIManager;\n\n    public static SetupEngine() {\n        Global.hallConfig = new hallConfig();\n        Global.EventManager = new EventManager();\n        Global.ResourceManager = new ResourceManager();\n        Global.UIManager = new UIManager();\n    }\n\n    //\u6D88\u606FID///////////////////////////////////////////////////////////////\n    public static MSG_GET_TRADES_SOLD = \"GetTradesSold\";   //\u9A8C\u8BC1\u662F\u5426\u4ED8\u6B3E\u6210\u529F\n    public static MSG_LOGIN = 1001;                 //\u83B7\u53D6\u73A9\u5BB6\u57FA\u672C\u4FE1\u606F1\n    public static MSG_MEMBER_STATE = 1009;          //\u4E0A\u62A5\u4F1A\u5458\u72B6\u6001\n    public static MSG_UPLOAD_VIPSTATE = 1011;       //\u4E0A\u62A5vip(\u5173\u6CE8)\u72B6\u6001\n    public static MSG_UPLOAD_POINT = 1012;          //\u4E0A\u62A5\u5956\u676F(\u79EF\u5206)\u6570\u91CF\n    public static MSG_GET_TASK = 1018;              //\u4E0A\u62A5\u9886\u53D6\u4EFB\u52A1\n    //public static MSG_OPEN_REDBAG = 1019;           //\u4E0A\u62A5\u5F00\u793C\u5305\u7ED3\u679C\n    public static MSG_UP_FIGHT_RESULT = 1021;       //\u4E0A\u62A5\u6218\u6597\u7ED3\u679C\n    public static MSG_CUR_RANK = 1014;              //\u83B7\u53D6\u6392\u884C\u699C\u672C\u671F\u6570\u636E1\n    public static MSG_RANKING = 1015;               //\u83B7\u53D6\u6392\u884C\u699C\u540D\u6B21\u662F\u5426\u53D8\u53161\n    public static MSG_TASK = 1016;                  //\u83B7\u53D6\u4EFB\u52A1\u4FE1\u606F\n    public static MSG_COIN_ADD = 1022;              //\u589E\u52A0\u91D1\u5E011\n    public static MSG_COIN_COST = 1023;             //\u6D88\u8017\u91D1\u5E011\n    public static MSG_SHARE_INFO = 1024;             //\u9080\u8BF7\u4FE1\u606F\n    public static MSG_GET_BAG = 1031;               //\u83B7\u53D6\u5956\u54C1\u6C60\u5956\u52B1\n    public static MSG_RECEIVING_INFO = 1032;        //\u4E0A\u62A5\u6536\u8D27\u4EBA\u4FE1\u606F\n    public static MSG_TASK_PROGRESS = 2001;         //\u4EFB\u52A1\u8FDB\u5EA6\n\n    public static MSG_GET_TASKLIST = 2002;         //\u83B7\u53D6\u4EFB\u52A1\u5217\u8868\n    public static MSG_GET_TASK_PROGRESS = 2003;    //\u8BF7\u6C42\u5F53\u524D\u4EFB\u52A1\u8FDB\u5EA6\n    public static MSG_GET_TASK_REWARD = 2004;      //\u8BF7\u6C42\u5F53\u524D\u4EFB\u52A1\u5956\u52B1\n\n    //public static MSG_AWARD_CONFIG = 3001;          //\u83B7\u53D6\u5956\u54C1\u914D\u7F6E\n    public static MSG_REQ_OPEN_REGBAG = 3002;       //\u8BF7\u6C42\u5F00\u793C\u5305\u7ED3\u679C\n    public static MSG_AWARD_COUNT_CONFIG = 3003;    //\u8BF7\u6C42\u5F00\u5956\u4E2A\u6570\n    public static MSG_RESULT_RANK = 3004;           //\u83B7\u53D6\u7ED3\u7B97\u6392\u884C\u6570\u636E\n    public static MSG_LAST_RANK = 3005;             //\u83B7\u53D6\u6392\u884C\u699C\u4E0A\u671F\u6570\u636E1\n    public static MSG_RANK_GETREWARD = 3006;        //\u83B7\u53D6\u6392\u884C\u699C\u7ED3\u7B97\u5956\u52B1\n    public static MSG_MY_ROLE = 3007;               //\u4E0A\u62A5\u81EA\u5DF1\u83B7\u5F97\u7684\u89D2\u8272\n\n    public static MSG_BUY_DATA = 4001;              //\u4E0A\u62A5\u8D2D\u4E70\u6570\u636E\n    public static MSG_ANALYSIS = 5001;              //\u4E0A\u62A5\u57CB\u70B9\u5206\u6790\n    public static MSG_STATE_CHANGE = 5002;          //\u7EA2\u70B9\u53D8\u5316\n    public static MSG_CHECK_TRADES_SOLD = 6001;     //\u8865\u53D1\u5956\u52B1\n    public static MSG_NOTICE = 6002;                //\u516C\u544A\n\n    //\u5F85\u52A0\u5165\n    public static MSG_GET_SCORESHOP_LIST = 7001;     //\u83B7\u53D6\u79EF\u5206\u5151\u6362\u5217\u8868\u6570\u636E\n    public static MSG_SCORE_EXHANGE = 7002;          //\u79EF\u5206\u5151\u6362\u5956\u54C1\n    public static MSG_GAME_MERGEAWARD = 7003;          //\u6E38\u620F\u5185\u5408\u6210\u5956\u52B1\n\n}", "import { Global } from '../config/Global';\nimport MyUtils from '../common/MyUtils';\nimport MainUtil from '../utils/MainUitl';\n\nexport default class Loading {\n    private _main: fgui.GComponent;\n\n    constructor() {\n        if (Laya.Browser.onTBMiniGame) {\n            fgui.UIPackage.addPackage(Global.hallConfig._cdn + MainUtil.getUI(Global.hallConfig.FGui.Loading));\n            this.onUILoaded();\n        } else {\n            fgui.UIPackage.addPackage(MainUtil.getUI(Global.hallConfig.FGui.Loading));\n            this.onUILoaded();\n        }\n    }\n\n    onUILoaded() {\n        //\u83B7\u53D6Main\u7EC4\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u5230\u5F53\u524D\u754C\u9762\n        this._main = fgui.UIPackage.createObject(\"Loading\", \"Main\").asCom;\n        this._main.makeFullScreen();\n        this._main.addRelation(fgui.GRoot.inst, fgui.RelationType.Size)\n        fgui.GRoot.inst.addChild(this._main);\n        this._main.sortingOrder = 2;\n        // this._main.sortingOrder = 99;\n\n        //\u5F00\u542F\u5012\u8BA1\u65F6\n        Laya.timer.once(10000, this, () => {\n            MyUtils.closeLoading();\n        });\n\n    }\n\n    close() {\n        Laya.timer.clearAll(this);\n        this._main.dispose();\n    }\n\n    destroy() {\n        this._main.dispose();\n    }\n}\n\n", "\uFEFFimport { PlayData } from '../data/PlayData';\nimport PlayDataUtil from '../data/PlayDataUtil';\nimport { Global } from \"../config/Global\";\nimport Loading from '../fgui/Loading';\n\nexport default class MyUtils {\n    constructor() { }\n\n    //\u901A\u8FC7\u6743\u91CD\u83B7\u53D6\u5143\u7D20\n    public static getItemByRate(itemArray, rateArray) {\n        let r = Math.floor(Math.random() * 100);\n        let num = 0;\n        let item = itemArray[0];\n        for (let i in rateArray) {\n            num += rateArray[i];\n            if (r <= num) {\n                item = itemArray[i];\n                break;\n            }\n        }\n        return item;\n    }\n\n    //\u4FEE\u6539\u79EF\u5206\u6570\u5E76\u4FDD\u5B58\n    public static changeIntegral(addCount) {\n        let curIntegral = this.getIntegral();\n        curIntegral += addCount;\n        PlayDataUtil.setData(\"integral\", curIntegral);\n    }\n\n    //\u83B7\u53D6\u79EF\u5206\u6570\u91CF\n    public static getIntegral() {\n        let curIntegral = PlayDataUtil.data.integral;\n        return curIntegral;\n    }\n\n    //\u662F\u5426\u662F\u7B2C\u4E00\u6B21\u8FDB\u5165\n    public static isFirstEnter() {\n        let isFirst = PlayDataUtil.data.isFirstEnter;\n        return isFirst;\n    }\n\n    //\u8BBE\u7F6E\u5DF2\u7ECF\u8FDB\u5165\u8FC7\u6E38\u620F\u8FDB\u5165\n    public static setIsEnter() {\n        PlayDataUtil.setData(\"isFirstEnter\", 0);\n    }\n\n    //\u4FEE\u6539\u8FDE\u80DC\u6B21\u6570\n    public static changeLianshengCount(count) {\n        PlayDataUtil.setData(\"lianshengCount\", count);\n    }\n\n    //\u83B7\u53D6\u8FDE\u80DC\u6B21\u6570\n    public static getLianshengCount() {\n        let count = PlayDataUtil.data.lianshengCount;\n        return count;\n    }\n\n    //\u4FEE\u6539\u7B2C\u4E00\u540D\u6B21\u6570\u5E76\u4FDD\u5B58\n    public static changeFirstCount(addCount) {\n        let curCount = PlayDataUtil.data.heroFirstCount;\n        curCount += addCount;\n        PlayDataUtil.setData(\"heroFirstCount\", curCount);\n    }\n\n    //\u83B7\u53D6\u7B2C\u4E00\u540D\u6B21\u6570\n    public static getFirstCount() {\n        let count = PlayDataUtil.data.heroFirstCount;\n        return count;\n    }\n\n    //\u4FDD\u5B58\u5F53\u524D\u9009\u4E2D\u7684\u89D2\u8272ID\n    public static saveCurRoleID(id) {\n        PlayDataUtil.setData(\"curRoleID\", id);\n    }\n\n    //\u83B7\u53D6\u5F53\u524D\u89D2\u8272ID\n    public static getCurRoleID() {\n        let count = PlayDataUtil.data.curRoleID;\n        return count;\n    }\n\n    //\u4FDD\u5B58\u81EA\u5DF1\u62E5\u6709\u7684\u89D2\u8272\n    public static saveMyRoleIDArray(id) {\n        id = parseInt(id);\n        let arr = MyUtils.getMyRoleIDArray();\n\n        let isHave = false;\n        for (let i of arr) {\n            if (i == id) {\n                isHave = true;\n            }\n        }\n        if (!isHave) {\n            arr.push(id);\n        }\n        PlayDataUtil.setData(\"myRoleIDArray\", arr);\n    }\n\n    //\u83B7\u53D6\u81EA\u5DF1\u5DF2\u62E5\u6709\u7684\u89D2\u8272\n    public static getMyRoleIDArray() {\n        let arr = PlayDataUtil.data.myRoleIDArray;\n        return arr;\n    }\n\n    //\u83B7\u53D6\u5F53\u524D\u6BB5\u4F4D\u7684\u540D\u79F0\n    public static getRankName(curIntegral) {//\u4E0B\u4E00\u4E2A\u79EF\u5206\u7684\u6BB5\u4F4D\n        // let levelInfo = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.levelConfig);\n        let name = \"\";\n        // for(let idx in levelInfo){\n        //     let integral = levelInfo[idx].integral;\n        //     if(curIntegral < integral){\n        //         name = levelInfo[idx].level;\n        //         break;\n        //     }\n        // }\n        return name;\n    }\n\n    //\u83B7\u53D6\u5F53\u524D\u6BB5\u4F4D\u5E8F\u53F7\n    public static getDuanweiId(curIntegral) {\n        // let levelInfo = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.levelConfig);\n        let id = 0;\n        // for(let idx in levelInfo){\n        //     let integral = levelInfo[idx].integral;\n        //     if(curIntegral < integral){\n        //         id = levelInfo[idx].id;\n        //         break;\n        //     }\n        // }\n        return id;\n    }\n\n    //\u83B7\u53D6\u5F53\u524D\u6BB5\u4F4D\n    public static getDuanweiIdx(curIntegral) {\n\n        let levelIdx = 0;\n        // let levelInfo = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.levelConfig);\n        // for(let idx in levelInfo){\n        //     let integral = levelInfo[idx].integral;\n        //     if(curIntegral < integral){\n        //         levelIdx = levelInfo[idx].duanwei;\n        //         break;\n        //     }\n        // }\n        return levelIdx;\n    }\n\n    //\u83B7\u53D6\u5F53\u524D\u6BB5\u4F4D\u7684\u6700\u5C0F\u79EF\u5206\n    public static getMinIntegral(curIntegral) {\n\n        let minNum = 0;\n        // let levelInfo = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.levelConfig);\n        // for(let idx = levelInfo.length - 1; idx >= 0; idx--){\n        //     let integral = levelInfo[idx].integral;\n        //     if(curIntegral >= integral){\n        //         minNum = levelInfo[idx].integral;\n        //         break;\n        //     }\n        // }\n        return minNum;\n    }\n\n    //\u83B7\u53D6\u5F53\u524D\u6700\u5927\u7684\u79EF\u5206\n    public static getMaxIntegral(curIntegral) {\n\n        let maxNum = 0;\n        // let levelInfo = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.levelConfig);\n        // maxNum = levelInfo[levelInfo.length - 1].integral;\n        // for(let idx in levelInfo){\n        //     let integral = levelInfo[idx].integral;\n        //     if(curIntegral < integral){\n        //         maxNum = levelInfo[idx].integral;\n        //         break;\n        //     }\n        // }\n        return maxNum;\n    }\n\n    //\u521B\u5EFAloading\u754C\u9762\n    static _loadingLayer: Loading;\n    public static showLoading() {\n        if (this._loadingLayer == null) {\n            this._loadingLayer = new Loading();\n        }\n    }\n\n    //\u5173\u95EDloading\u754C\u9762\n    public static closeLoading() {\n        if (this._loadingLayer) {\n            this._loadingLayer.close();\n            this._loadingLayer = null;\n        }\n    }\n\n    //\u622A\u53D6\u6307\u5B9A\u957F\u5EA6\u7684\u5B57\u7B26\u4E32\uFF0C\u7701\u7565\u90E8\u5206\u8865...\n    public static getCutString(str, length) {\n        let newStr = \"\";\n        let lastStr = \"\";\n        var regNum = new RegExp(/^[0-9]*$/);\n        var regStr = new RegExp(/(?!.*?_$)[a-zA-Z0-9_]+$/);\n        for (let i = 0; i < str.length; i++) {\n            if (i < length) {\n                // if (reg1.test(str[i])) {\n                //     newStr += \" \"+ str[i];\n                // }\n                // else{\n                //     newStr += str[i];\n                // }\n                //newStr += str[i];\n                if ((regNum.test(lastStr) && !regStr.test(str[i])) || (!regStr.test(lastStr) && regNum.test(str[i]))) {\n                    newStr += \" \" + str[i];\n                }\n                else {\n                    newStr += str[i];\n                }\n                lastStr = str[i];\n            }\n            else if (i == length) {\n                newStr += \"...\";\n            }\n            else {\n                break;\n            }\n        }\n        return newStr;\n    }\n\n    //\u622A\u53D6\u6307\u5B9A\u957F\u5EA6\u7684\u5B57\u7B26\u4E32\uFF0C\u7701\u7565\u90E8\u5206\u8865...\n    public static getCutString2(str, length) {\n        let newStr = \"\";\n        for (let i = 0; i < str.length; i++) {\n            if (i < length) {\n                var reg1 = new RegExp(/^[0-9]*$/);\n                if (reg1.test(str[i])) {\n                    newStr += \"\" + str[i];\n                }\n                else {\n                    newStr += str[i];\n                }\n            }\n            else if (i == length) {\n                newStr += \"...\";\n            }\n            else {\n                break;\n            }\n        }\n        return newStr;\n    }\n\n    //\u5B57\u7B26\u4E32\u622A\u53D6\n    //str \u9700\u8981\u622A\u65AD\u7684\u5B57\u7B26\u4E32\n    //maxChars \u4FDD\u7559\u7684\u6C49\u5B57\u957F\u5EA6\uFF08\u6C49\u5B50\u53602\u4F4D\uFF09\n    //suffix \u6DFB\u52A0\u7684\u540E\u7F00 \uFF08\u6CE8\u610F\uFF0C\u5982\u679C\u540E\u7F00\u4E0D\u4E3Anull\u6216\u8005'' \uFF0C\u5219\u8981\u5360\u7528\u4E00\u4E2A\u6C49\u5B57\u7684\u4F4D\u7F6E)\n    static strClamp(str: string, maxChars: number, suffix: string): string {\n        var toCodePoint = function (unicodeSurrogates) {\n            var r = [], c = 0, p = 0, i = 0;\n            while (i < unicodeSurrogates.length) {\n                var pos = i;\n                c = unicodeSurrogates.charCodeAt(i++);//\u8FD4\u56DE\u4F4D\u7F6E\u7684\u5B57\u7B26\u7684 Unicode \u7F16\u7801 \n                if (c == 0xfe0f) {\n                    continue;\n                }\n                if (p) {\n                    var value = (0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00));\n                    r.push({\n                        v: value,\n                        pos: pos,\n                    }); //\u8BA1\u7B974\u5B57\u8282\u7684unicode\n                    p = 0;\n                } else if (0xD800 <= c && c <= 0xDBFF) {\n                    p = c; //\u5982\u679Cunicode\u7F16\u7801\u5728oxD800-0xDBff\u4E4B\u95F4\uFF0C\u5219\u9700\u8981\u4E0E\u540E\u4E00\u4E2A\u5B57\u7B26\u653E\u5728\u4E00\u8D77\n                } else {\n                    r.push({\n                        v: c,\n                        pos: pos\n                    }); //\u5982\u679C\u662F2\u5B57\u8282\uFF0C\u76F4\u63A5\u5C06\u7801\u70B9\u8F6C\u4E3A\u5BF9\u5E94\u7684\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\n                }\n            }\n            return r;\n        }\n\n        suffix = suffix == null ? '...' : suffix;\n        maxChars *= 2;\n\n        var codeArr = toCodePoint(str);\n        var numChar = 0;\n        var index = 0;\n        for (var i = 0; i < codeArr.length; ++i) {\n            var code = codeArr[i].v;\n            var add = 1;\n            if (code >= 128) {\n                add = 2;\n            }\n\n            //\u5982\u679C\u8D85\u8FC7\u4E86\u9650\u5236\uFF0C\u5219\u6309\u4E0A\u4E00\u4E2A\u4E3A\u51C6\n            if (numChar + add > maxChars) {\n                break;\n            }\n\n            index = i;\n\n            //\u7D2F\u52A0\n            numChar += add;\n        }\n\n        if (codeArr.length - 1 == index) {\n            return str;\n        }\n\n        var more = suffix ? 1 : 0;\n\n        return str.substring(0, codeArr[index - more].pos + 1) + suffix;\n    }\n\n    //\u963F\u62C9\u4F2F\u6570\u5B57\u8F6C\u4E2D\u6587\u6570\u5B57\n    static NumToChinese(num) {\n        if (!/^\\d*(\\.\\d*)?$/.test(num)) {\n            alert(\"Number is wrong!\");\n            return \"Number is wrong!\";\n        }\n\n        var AA = new Array(\"\u96F6\", \"\u4E00\", \"\u4E8C\", \"\u4E09\", \"\u56DB\", \"\u4E94\", \"\u516D\", \"\u4E03\", \"\u516B\", \"\u4E5D\");\n        var BB = new Array(\"\", \"\u5341\", \"\u767E\", \"\u5343\", \"\u4E07\", \"\u4EBF\", \"\u70B9\", \"\");\n        var a = (\"\" + num).replace(/(^0*)/g, \"\").split(\".\"),\n            k = 0,\n            re = \"\";\n        for (var i = a[0].length - 1; i >= 0; i--) {\n            switch (k) {\n                case 0:\n                    re = BB[7] + re;\n                    break;\n                case 4:\n                    if (!new RegExp(\"0{4}\\\\d{\" + (a[0].length - i - 1) + \"}$\").test(a[0]))\n                        re = BB[4] + re;\n                    break;\n                case 8:\n                    re = BB[5] + re;\n                    BB[7] = BB[5];\n                    k = 0;\n                    break;\n            }\n            if (k % 4 == 2 && parseInt(a[0].charAt(i + 2)) != 0 && parseInt(a[0].charAt(i + 1)) == 0) re = AA[0] + re;\n            if (parseInt(a[0].charAt(i)) != 0) re = AA[a[0].charAt(i)] + BB[k % 4] + re;\n            k++;\n        }\n\n        if (a.length > 1) { //\u52A0\u4E0A\u5C0F\u6570\u90E8\u5206(\u5982\u679C\u6709\u5C0F\u6570\u90E8\u5206) \n            re += BB[6];\n            for (var i = 0; i < a[1].length; i++) re += AA[a[1].charAt(i)];\n        }\n\n        if (num >= 10 && num < 20) {//10~19\u7279\u6B8A\u5904\u7406\n            re = re.replace(\"\u4E00\u5341\", \"\u5341\");\n        }\n        return re;\n    };\n}", "import { Global } from '../config/Global';\nimport PlayDataUtil from '../data/PlayDataUtil';\nexport default class RankUtil extends Laya.Script {\n    static rank: number;\n    static defualtList: { name: string; score: number; avatar: string; }[];\n    static ranklist: { name: string; score: number; avatar: string; }[];\n    static _awardList: any[];\n    static _rankAwardList: any[];\n\n    static _curRankList: any[];  //\u672C\u671F\u699C\u6570\u636E\n    static _myCurRank = 999;     //\u6211\u81EA\u5DF1\u7684\u672C\u671F\u699C\u6392\u540D\n    static _lastRankList: any[];   //\u4E0A\u671F\u699C\u6570\u636E\n    static _myLastRank = 999;      //\u6211\u81EA\u5DF1\u7684\u4E0A\u671F\u699C\u6392\u540D\n    static _myLastPoint: number = 0;\n    static _myCurPoint: number = 0;\n    static _lastRankAwardList: any;\n\n    static init() {\n        this.ranklist = [];\n        this.defualtList = [];\n        let rankConf = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.rankConfig);\n        for (let i = 0; i < 50; i++) {\n            let player = {\n                name: rankConf[i].name,\n                avatar: 'hallRes/common/tx_player.png',\n                score: rankConf[i].score || 0,\n            }\n            this.defualtList.push(player);\n        }\n\n        this.updateRank();\n        this.initAward();\n    }\n\n    static updateRank() {\n        this.ranklist = JSON.parse(JSON.stringify(this.defualtList));\n        let myPlayer = this.getMyPlayer();\n        this.rank = 999;\n        for (let i = 0; i < 50; i++) {\n            if (myPlayer.score > this.ranklist[i].score) {\n                this.rank = i;\n                break;\n            }\n        }\n\n        if (this.rank <= 50) {\n            this.ranklist.splice(this.rank, 0, myPlayer);\n        }\n    }\n\n    static initAward() {\n        //\u521D\u59CB\u5316\u6392\u884C\u699C\u5956\u52B1\n        let conf = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.awardConfig);\n        this._awardList = [];\n        for (let i = 0; i < conf.length; i++) {\n            const awards = conf[i];\n            let award = {\n                type: i + 1,\n                rankMin: awards.rank1,\n                rankMax: awards.rank2,\n                rewards: []\n            }\n\n            let rewards = [];\n            for (let j = 1; j <= 2; j++) {\n                if (awards['rewardType' + j]) {\n                    let reward = {\n                        type: awards['rewardType' + j],\n                        count: awards['rewardCount' + j],\n                        id: awards['rewardId' + j] || 1\n                    }\n                    rewards.push(reward);\n                }\n            }\n            award.rewards = rewards;\n            this._awardList.push(award);\n        }\n    }\n\n    static getList() {\n        return this.ranklist;\n    }\n\n    static getMyPlayer() {\n        let myPlayer = {\n            name: PlayDataUtil.data.name,\n            avatar: PlayDataUtil.data.avatar,\n            score: PlayDataUtil.data.point || 0\n        }\n\n        return myPlayer;\n    }\n\n    static getMyRank() {\n        return this.rank + 1;\n    }\n\n    //\u4FDD\u5B58\u672C\u671F\u6570\u636E\n    static saveCurRankData(list, myRank, myPoint) {\n        this._curRankList = list;\n        this._myCurRank = myRank;\n        this._myCurPoint = myPoint;\n    }\n\n    static getCurRankData() {\n        return this._curRankList;\n    }\n\n    static getMyCurRank() {\n        return this._myCurRank;\n    }\n\n    static getMyCurPoint() {\n        return this._myCurPoint;\n    }\n\n    //\u4FDD\u5B58\u4E0A\u671F\u6570\u636E\n    static saveLastRankData(list, myRank, myPoint) {\n        this._lastRankList = list;\n        this._myLastRank = myRank;\n        this._myLastPoint = myPoint;\n    }\n\n    static getLastRankData() {\n        return this._lastRankList;\n    }\n\n    static getMyLastRank() {\n        return this._myLastRank;\n    }\n    static getMyLastPoint() {\n        return this._myLastPoint;\n    }\n\n    //\u5237\u65B0\u670D\u52A1\u5668\u6392\u884C\u699C\u5956\u52B1\n    static updateAwards(list) {\n        let conf = JSON.parse(JSON.stringify(this._awardList));\n        this._rankAwardList = [];\n        for (let i = 0; i < list.length; i++) {\n            let award = {\n                type: i + 1,\n                rankMin: list[i].rankNums[0],\n                rankMax: list[i].rankNums[1],\n                rewards: []\n            }\n            let rewards = [];\n            let rewardB = {//\u5546\u5BB6\u914D\u7F6E\u5956\u54C1\n                type: list[i].name || 'goods',     //\u5956\u54C1\u7C7B\u578B\uFF1Agoods-\u5546\u54C1 coupon-\u4F18\u60E0\u5238\n                count: list[i].num,                //\u5956\u54C1\u6570\u91CF\n                name: list[i].title,               //\u5956\u54C1\u540D\u79F0\n                url: list[i].pic_url,              //\u5956\u54C1\u56FE\u7247url\n                price: list[i].price\n            }\n            rewards.push(rewardB);\n\n            //\u6E38\u620F\u914D\u7F6E\u5956\u54C1\n            if (i < conf.length) {\n                rewards.push(conf[i].rewards[0]);\n            }\n\n            award.rewards = rewards;\n            this._rankAwardList.push(award);\n        }\n        console.log('====== \u6700\u65B0\u5956\u52B1\u5217\u8868 ======', this._rankAwardList)\n    }\n\n    //\u83B7\u53D6\u670D\u52A1\u5668\u6392\u884C\u699C\u5BF9\u5E94\u5956\u52B1\n    static getRankAwards(rank) {\n        for (let i = 0; i < this._rankAwardList.length; i++) {\n            const awards = this._rankAwardList[i];\n            if (rank > 0 && rank <= awards.rankMax) {\n                return awards;\n            }\n        }\n        return null;\n    }\n\n    //\u83B7\u53D6\u670D\u52A1\u5668\u6392\u884C\u699C\u5956\u52B1\u5217\u8868\n    static getRankAwardList() {\n        return this._rankAwardList;\n    }\n\n    //\u5237\u65B0\u670D\u52A1\u5668\u4E0A\u671F\u6392\u884C\u699C\u5956\u52B1\n    static updateLastAwards(list) {\n        let conf = JSON.parse(JSON.stringify(this._awardList));\n        this._lastRankAwardList = [];\n        for (let i = 0; i < list.length; i++) {\n            let award = {\n                type: i + 1,\n                rankMin: list[i].rankNums[0],\n                rankMax: list[i].rankNums[1],\n                rewards: []\n            }\n            let rewards = [];\n            let rewardB = {//\u5546\u5BB6\u914D\u7F6E\u5956\u54C1\n                type: list[i].name || 'goods',     //\u5956\u54C1\u7C7B\u578B\uFF1Agoods-\u5546\u54C1 coupon-\u4F18\u60E0\u5238\n                count: list[i].num,                //\u5956\u54C1\u6570\u91CF\n                name: list[i].title,               //\u5956\u54C1\u540D\u79F0\n                url: list[i].pic_url,              //\u5956\u54C1\u56FE\u7247url\n                price: list[i].price\n            }\n            rewards.push(rewardB);\n\n            //\u6E38\u620F\u914D\u7F6E\u5956\u54C1\n            if (i < conf.length) {\n                rewards.push(conf[i].rewards[0]);\n            }\n\n            award.rewards = rewards;\n            this._lastRankAwardList.push(award);\n        }\n    }\n\n    //\u83B7\u53D6\u670D\u52A1\u5668\u4E0A\u671F\u6392\u884C\u699C\u5BF9\u5E94\u5956\u52B1\n    static getLastRankAwards(rank) {\n        for (let i = 0; i < this._lastRankAwardList.length; i++) {\n            const awards = this._lastRankAwardList[i];\n            if (rank > 0 && rank <= awards.rankMax) {\n                return awards;\n            }\n        }\n        return null;\n    }\n\n    //\u83B7\u53D6\u670D\u52A1\u5668\u4E0A\u671F\u6392\u884C\u699C\u5956\u52B1\u5217\u8868\n    static getLastRankAwardList() {\n        return this._lastRankAwardList;\n    }\n\n    //\u83B7\u53D6\u4E0A\u671F\u5956\u52B1\n    static getMyAward(type) {\n        for (let i = 0; i < this._lastRankAwardList.length; i++) {\n            const awards = this._lastRankAwardList[i];\n            if (type == awards.type) {\n                return awards;\n            }\n        }\n        return null;\n    }\n}", "export default class audioLogic {\r\n\r\n    private storeName = \"hhAudio\"\r\n    private backMusicID: string | null = null;\r\n    AudioState = [true, true];\r\n\r\n    private static instance: audioLogic | null = null;\r\n    public static getInstance(): audioLogic {\r\n        if (!this.instance) {\r\n            this.instance = new audioLogic();\r\n        }\r\n        return this.instance;\r\n    }\r\n    init() {\r\n        //\u83B7\u53D6\u58F0\u97F3\u72B6\u6001(\u672C\u5730\u5B58\u50A8)\r\n        for (let i = 0; i < 2; i++) {\r\n            this.readAudioState(i);\r\n        }\r\n    }\r\n    //0\u4E3A\u80CC\u666F\u97F3\u4E50\uFF0C1\u4E3A\u97F3\u6548\r\n    readAudioState(_kind: number) {\r\n        let _open = 1;\r\n        let _v = Laya.LocalStorage.getItem(this.storeName + _kind.toString());\r\n        if (_v) {\r\n            _open = parseInt(_v);\r\n        }\r\n        if (0 == _open) {\r\n            this.AudioState[_kind] = false;\r\n        }\r\n        else {\r\n            this.AudioState[_kind] = true;\r\n        }\r\n\r\n    }\r\n    //0\u4E3A\u80CC\u666F\u97F3\u4E50\uFF0C1\u4E3A\u97F3\u6548\r\n    storeAudioState(_kind: number) {\r\n        let _open = 1;\r\n        if (!this.AudioState[_kind]) {\r\n            _open = 0;\r\n        }\r\n        Laya.LocalStorage.setItem(this.storeName + _kind.toString(), '' + _open);\r\n    }\r\n    //\u8BBE\u7F6E\u548C\u83B7\u53D6\u80CC\u666F\u97F3\u4E50id\r\n    GetMusicID(): string | null {\r\n        return this.backMusicID;\r\n    }\r\n    SetMusicID(_id: string): boolean {\r\n        if (_id == this.backMusicID) {\r\n            return false;\r\n        }\r\n        this.backMusicID = _id;\r\n        return true;\r\n    }\r\n    //\u66F4\u6539\u97F3\u4E50\u72B6\u6001\uFF0C_state\u4E0D\u586B\u65F6\u9ED8\u8BA4\u66F4\u6539\u4E3A\u53E6\u4E00\u4E2A\u72B6\u6001\uFF0C\u8FD4\u56DE\u662F\u5426\u66F4\u6539\u4E86\u72B6\u6001\r\n    ChangeAudioState(_kind: number, _state: boolean | undefined = undefined): boolean {\r\n        if (undefined == _state) {\r\n            _state = !this.AudioState[_kind];\r\n        }\r\n        if (_state == this.AudioState[_kind]) {\r\n            return false;\r\n        }\r\n        this.AudioState[_kind] = _state;\r\n        this.storeAudioState(_kind);\r\n        return true;\r\n    }\r\n}", "import PlayDataUtil from '../data/PlayDataUtil';\nimport { Global } from '../config/Global';\nimport { AudioCDNPath, AudioPath } from '../Global/AudioConfig';\ndeclare var my;\n\n// var Sound = {\n//     bg: \"sound/bg.mp3\",\n//     bad: \"sound/bad.mp3\",\n//     bomb: \"sound/bomb.mp3\",\n//     happy: \"sound/happy.mp3\",\n//     jump: \"sound/jump.mp3\",\n//     lose: \"sound/lose.mp3\",\n//     over: \"sound/over.mp3\",\n//     restTime: \"sound/restTime.mp3\",\n//     win: \"sound/win.mp3\",\n//     click: \"sound/click.mp3\",\n//     hallBg: \"sound/hallBg.mp3\",\n// }\n\nclass SoundPlayer {\n\n    public static _instance: SoundPlayer = null;\n    public static getInstance(): SoundPlayer {\n        this._instance = this._instance || new SoundPlayer();\n        return this._instance;\n    }\n\n    _musicRes: any = {};\n    _effectRes: any = {};\n    isMusic: boolean = true;\n    isEffect: boolean = true;\n\n    _isPlay: boolean = true;\n    _isPause: boolean = false;   //\u662F\u5426\u6682\u505C\n\n    public init() {\n        if (PlayDataUtil.data.musicState == 0) {\n            // Laya.SoundManager.setMusicVolume(1);\n            this.isMusic = true;\n        }\n        else {\n            // Laya.SoundManager.setMusicVolume(0);\n            this.isMusic = false;\n        }\n        if (PlayDataUtil.data.effectState == 0) {\n            // Laya.SoundManager.setSoundVolume(1);\n            this.isEffect = true;\n        }\n        else {\n            // Laya.SoundManager.setSoundVolume(0);\n            this.isEffect = false;\n        }\n        console.log(\"SoundPlayer init: \", this.isMusic, this.isEffect);\n    }\n\n    // _dafaultMusicPath: string = \"hallBg\";\n    // _curMusicPath: string = \"\";\n    // public playBgMusic(path,isResume?: boolean){\n    //     console.log(\"playBgMusic=====\",path,this.isMusic);\n    //     // path = \"bg\";\n    //     if(!this.isMusic) return;\n    //     if(Laya.Browser.onTBMiniGame){\n    //         //\u5148\u6682\u505C \u5176\u4ED6\u97F3\u4E50\n    //         // if(this._curMusicPath != \"\" && this._curMusicPath != path){\n    //         //     this.stopMusic();\n    //         // }\n    //         // if(this._curMusicPath == path) return;\n\n    //         if(this._curMusicPath != path){\n    //             if(this._musicRes[this._curMusicPath]){\n    //                 this._musicRes[this._curMusicPath].stop();\n    //             }\n    //         }\n    //         this._curMusicPath = path;\n    //         this._dafaultMusicPath = path;\n    //         //\u6E05\u7406 \u5F53\u524D\u97F3\u4E50\n    //         if(this._musicRes[path]){\n    //             console.log(\"\u6E05\u7406\u5F53\u524D \u80CC\u666F\u97F3\u4E50\");\n    //             this._musicRes[path].destroy();\n    //             this._musicRes[path] = null;\n    //         }\n    //         console.log(\"\u521B\u5EFA\u65B0\u80CC\u666F\u97F3\u4E50\");\n    //         const innerAudioContext = this.createTBMusic(path);\n    //         innerAudioContext.play();\n    //         innerAudioContext.onEnded(() =>{\n    //             console.log('====\u80CC\u666F\u97F3\u4E50  \u64AD\u653E\u7ED3\u675F===',this._curMusicPath)\n    //             // this.clearMusic();\n    //             this.clearEffect();\n    //             this._curMusicPath = \"\";\n    //             this.resumeMusic();\n    //         })\n    //         innerAudioContext.onPlay(() =>{\n    //             console.log(\"\u97F3\u4E50\u52A0\u8F7D\u6210\u529F\uFF0C\u53EF\u4EE5\u64AD\u653E\u4E86\");\n    //             console.log(\"PlayDataUtil.data.musicState = \", PlayDataUtil.data.musicState);\n    //             if(PlayDataUtil.data.musicState == 1){ //\u97F3\u4E50\u5DF2\u7ECF\u5173\u95ED\u4E86\n    //                 innerAudioContext.stop();\n    //             }\n    //         })\n    //         this._musicRes[path] = innerAudioContext;\n\n    //     }else{\n    //         console.log(\"\u64AD\u653E\u97F3\u4E50\");\n    //         Laya.SoundManager.playMusic(Sound[path],0);\n    //     }\n    //     // Laya.SoundManager.playMusic(Sound[path],0);\n    // }\n\n    // createTBMusic(path){\n    //     const innerAudioContext = my.createInnerAudioContext();\n    //     innerAudioContext.autoplay = false;\n    //     innerAudioContext.loop = false;\n    //     innerAudioContext.src = Global.hallConfig._cdn + Sound[path];\n    //     return innerAudioContext;\n    // }\n\n    // public playEffect(path){\n    //     console.log(\"playEffect: \",path);\n    //     //\u89E6\u53D1 \u9996\u6B21\u80CC\u666F\u97F3\u4E50\n    //     this.firstResumeMusic();\n    //     if(!this.isEffect) return;\n    //     if(Laya.Browser.onTBMiniGame){\n    //         if(Laya.Browser.onIOS){\n    //             if(this._effectRes[path]){\n    //                 console.log(\"111\");\n    //                 this._effectRes[path].play();\n    //             }else{\n    //                 console.log(\"222\");\n    //                 const innerAudioContext = my.createInnerAudioContext()\n    //                 innerAudioContext.autoplay = true;\n    //                 innerAudioContext.loop = false;\n    //                 innerAudioContext.src = Global.hallConfig._cdn + Sound[path];\n    //                 this._effectRes[path] = innerAudioContext;\n    //             }\n    //         }\n    //         else{\n    //             console.log(\"222\");\n    //             const innerAudioContext = my.createInnerAudioContext()\n    //             innerAudioContext.autoplay = true;\n    //             innerAudioContext.loop = false;\n    //             innerAudioContext.src = Global.hallConfig._cdn + Sound[path];\n    //             innerAudioContext.onEnded(()=>{\n    //                 innerAudioContext.destroy();\n    //             });\n    //         }\n    //     }else{\n    //         Laya.SoundManager.playSound(Sound[path],1);\n    //     }\n    //     // Laya.SoundManager.playSound(Sound[path],1);\n    // }\n\n    // public stopMusic(path?: string){\n    //     console.log(\"stopMusic: \",path);\n    //     if(Laya.Browser.onTBMiniGame){\n    //         this.isMusic = false;\n    //         if(path){\n    //             if(this._musicRes[path]){\n    //                 this._musicRes[path].stop();\n    //             }else{\n    //                 return;\n    //             }\n    //         }else{\n    //             //\u5168\u90E8\u505C\u6B62\n    //             let keys = Object.keys(this._musicRes);\n    //             for(let i = 0; i < keys.length; i++){\n    //                 let key = keys[i];\n    //                 if(this._musicRes[key]){\n    //                     this._musicRes[key].stop();\n    //                 }\n    //             }\n    //         }\n    //     }else{\n    //         this.isMusic = false;\n    //         Laya.SoundManager.stopMusic();\n    //     }\n    //     // Laya.SoundManager.stopMusic();\n    // }\n    // _isFirstResume: boolean = true;\n    // public firstResumeMusic(){\n    //     return;\n    //     console.log(\"firstResumeMusic: \",this._isFirstResume);\n    //     if(!this._isFirstResume) return;\n    //     this._isFirstResume = false;\n    //     // if(this.isMusic){\n    //     //     this.resumeMusic();\n    //     // }\n    //     this.resumeMusic(this.isMusic);\n    // }\n\n    // public resumeMusic(isBool = true){\n    //     console.log(\"resumeMusic: \",isBool);\n    //     if(isBool){\n    //         this.isMusic = true;\n    //         // Laya.SoundManager.setMusicVolume(1);\n    //     }else{\n    //         // Laya.SoundManager.setMusicVolume(0);\n    //     }\n    //     //\u8BBE\u7F6E\u754C\u9762 \u64AD\u653Ebg\n    //     if(this._curMusicPath == \"\" || !this._curMusicPath){\n    //         this._curMusicPath = this._dafaultMusicPath;\n\n    //     }\n    //     this.playBgMusic(this._curMusicPath);\n    // }\n\n    // public stopEffset(){\n    //     this.isEffect = false;\n    //     // Laya.SoundManager.setSoundVolume(0);\n    // }\n\n    // public resumeEffset(){\n    //     this.isEffect = true;\n    // }\n\n    // public clearMusic(){\n    //     console.log(\"clearMusic\");\n    //     for(let i in this._musicRes){\n    //         console.log(\"i: \",i);\n    //         if(this._musicRes[i]){\n    //             this._musicRes[i].destroy();\n    //             this._musicRes[i] = null;\n    //         }\n    //     }\n    //     this._curMusicPath = \"\";\n    // }\n\n    // public clearEffect(){\n    //     console.log(\"clearEffect\");\n    //     for(let i in this._effectRes){\n    //         console.log(\"i: \",i);\n    //         if(this._effectRes[i]){\n    //             this._effectRes[i].destroy();\n    //             this._effectRes[i] = null;\n    //         }\n    //     }\n    // }\n\n    /////////////////////////////////////////////////////////\n    //\u64AD\u653E\u58F0\u97F3\n    openSound() {\n        if (Laya.Browser.onTBMiniGame) {\n            if (this.musicContext) {\n                //this.musicContext.volume = 1;\n                this._isPlay = true;\n                this.musicContext.play();\n            }\n        }\n        else {\n            Laya.SoundManager.setSoundVolume(1);\n            Laya.SoundManager.setMusicVolume(1);\n        }\n    }\n\n    //\u505C\u6B62\u58F0\u97F3\n    closeSound() {\n        if (Laya.Browser.onTBMiniGame) {\n            if (this.musicContext) {\n                //this.musicContext.volume = 0;\n                this._isPlay = false;\n                this.musicContext.stop();\n            }\n        }\n        else {\n            Laya.SoundManager.setSoundVolume(0);\n            Laya.SoundManager.setMusicVolume(0);\n        }\n    }\n\n    //\u6682\u505C\u64AD\u653E\n    pauseSound() {\n        this._isPause = true;\n        if (Laya.Browser.onTBMiniGame) {\n            if (this.musicContext) {\n                this.musicContext.stop();\n            }\n        }\n        else {\n            Laya.SoundManager.setSoundVolume(0);\n            Laya.SoundManager.setMusicVolume(0);\n        }\n    }\n\n    //\u7EE7\u7EED\u64AD\u653E\n    resumeSound() {\n        this._isPause = false;\n        if (Laya.Browser.onTBMiniGame) {\n            if (this.musicContext && this._isPlay) {\n                this.musicContext.play();\n            }\n        }\n        else {\n            Laya.SoundManager.setSoundVolume(1);\n            Laya.SoundManager.setMusicVolume(1);\n        }\n    }\n\n    //\u64AD\u653E\u97F3\u4E50\n    musicContext = null;\n    _curMusicPathStr = \"\";\n    playMusic(path) {\n        //\u97F3\u4E50\u5173\u95ED\uFF0C\u76F4\u63A5\u8DF3\u8FC7\n        if (PlayDataUtil.data.musicCtrl == 0) {\n            return;\n        }\n        if (Laya.Browser.onTBMiniGame) {\n            if (this.musicContext) {\n                this.musicContext.stop();\n                this.musicContext.destroy();\n            }\n            // this._curMusicPathStr = path;\n            // this.musicContext = my.createInnerAudioContext()\n            // this.musicContext.autoplay = true;\n            // this.musicContext.loop = true;\n            // this.musicContext.src = Global.hallConfig._cdn + path;\n            // this.musicContext.onEnded(() => {\n            //     if (this._isPlay && !this._isPause) {\n            //         //console.log('====\u80CC\u666F\u97F3\u4E50  \u64AD\u653E\u7ED3\u675F===',this._curMusicPathStr);\n            //         this.playMusic(this._curMusicPathStr);\n            //     }\n            // });\n\n            // if (PlayDataUtil.data.musicCtrl == 0) {\n            //     this.musicContext.stop();\n            //     //this.musicContext.volume = 0;\n            // }\n        }\n        else {\n            Laya.loader.load(path, Laya.Handler.create(this, () => {\n                Laya.SoundManager.playMusic(path, 0);\n            }), null, Laya.Loader.SOUND);\n        }\n    }\n    private effectContext = {};\n    preloadSound(path, isDXG = false) {\n        //\u529F\u80FD\u521A\u5B8C\u6210vivo\u7248\u672C\u6682\u65F6\u5C4F\u853D\n        // return;\n        if (Laya.Browser.onTBMiniGame) {\n            // if (path in this.effectContext) {\n            //     console.log('\u5DF2\u521B\u5EFA\u97F3\u6548\uFF1A', path);\n            //     return this.effectContext[path];\n            // }\n            let _self = this;\n            let _url = '';\n            if (isDXG) {\n                _url = path;\n            }\n            else {\n                const soundBase = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/C_client/\"\n                _url = soundBase + path;\n            }\n            let effectContext = my.createInnerAudioContext()\n            effectContext.autoplay = false;\n            effectContext.loop = false;\n            effectContext.src = _url;\n            this.effectContext[path] = effectContext;\n\n            effectContext.onSeeked((res) => {\n                console.log('onSeeked', res)\n            })\n            effectContext.onSeeking((res) => {\n                console.log('onSeeking', res)\n            })\n            effectContext.onSeeked((res) => {\n                console.log('onSeeked', res)\n            })\n            effectContext.onCanPlay((res) => {\n                console.log('onCanPlay', res)\n            })\n            effectContext.onPlay((res) => {\n                console.log('\u5F00\u59CB\u64AD\u653E', res);\n                effectContext['isplaying'] = true;\n            })\n            effectContext.onError((res) => {\n                _self.ResetSound();\n                console.error('\u97F3\u6548\u9519\u8BEF', path, res);\n                effectContext.destroy();\n                if (_self.effectContext[path]) {\n                    delete _self.effectContext[path];\n                }\n            })\n            effectContext.onStop((res) => {\n                _self.ResetSound();\n                console.log('====onStop===', res);\n                effectContext['isplaying'] = false;\n            })\n            effectContext.onTimeUpdate((res) => {\n                console.log('====onTimeUpdate===', res);\n            })\n\n            effectContext.onEnded((res) => {\n                _self.ResetSound();\n                console.log('====onEnded===', res);\n                _self.effectContext[path]['isplaying'] = false;\n                effectContext.stop();\n                // effectContext.destroy();\n                // effectContext = null;\n\n                // if (PlayDataUtil.data.musicCtrl == 1 && this.musicContext) {\n                //     //console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F,\u7EE7\u7EED\u64AD\u653E\u97F3\u4E50===');\n                //     this.musicContext.play();\n                // }\n            });\n            console.log('\u521D\u6B21\u521B\u5EFA\u97F3\u6548\uFF1A', path);\n            return _self.effectContext[path];\n        }\n        return null;\n    }\n    // playEffect2(path, isDXG = false) {\n    //     if (Laya.Browser.onTBMiniGame) {\n    //         if (!this.effectContext[path]) {\n    //             console.error('\u672A\u52A0\u8F7D\u7684\u97F3\u6548', path);\n    //             return;\n    //         }\n    //         this.effectContext[path].play();\n    //     }\n    // }\n\n    //\u64AD\u653E\u97F3\u6548\n    playEffect(path, isDXG = false, _level = 0) {\n        //\u529F\u80FD\u521A\u5B8C\u6210vivo\u7248\u672C\u6682\u65F6\u5C4F\u853D\n        // return;\n        // return;\n        // if (Laya.Browser.onIOS) {\n        //     return;\n        // }\n        //\u97F3\u4E50\u5173\u95ED\uFF0C\u76F4\u63A5\u8DF3\u8FC7\n        if (PlayDataUtil.data.musicCtrl == 0) {\n            return;\n        }\n\n        let _url = '';\n        if (isDXG) {\n            _url = path;\n        }\n        else {\n            const soundBase = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/C_client/\"\n            _url = soundBase + path;\n        }\n        // console.log('playEffect _url', _url);\n\n        if (Laya.Browser.onTBMiniGame) {\n            console.log('\u97F3\u6548\u7B49\u7EA7', _level, this.curLevel);\n            if (_level < this.curLevel) {\n                this.toResetSoundLevel();\n                console.log('\u4E0D\u64AD\u653E\u4F4E\u7B49\u7EA7\u97F3\u6548');\n                return;\n            }\n            if (this.curSoundpath) {\n                if (this.effectContext[this.curSoundpath] && this.effectContext[this.curSoundpath]['isplaying']) {\n                    this.effectContext[this.curSoundpath].stop();\n                    this.curSoundpath = null;\n                }\n            }\n            if (!this.effectContext[path]) {\n                this.preloadSound(path, isDXG);\n            }\n            if (this.effectContext[path]['isplaying']) {\n                this.effectContext[path].stop();\n            }\n            this.curLevel = _level;\n            this.effectContext[path].play();\n            this.curSoundpath = path;\n            // let effectContext = my.createInnerAudioContext()\n            // effectContext.autoplay = true;\n            // effectContext.loop = false;\n            // effectContext.src = _url;\n\n            // effectContext.onEnded(() => {\n            //     //console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F===');\n            //     effectContext.destroy();\n            //     effectContext = null;\n\n            //     if (PlayDataUtil.data.musicCtrl == 1 && this.musicContext) {\n            //         //console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F,\u7EE7\u7EED\u64AD\u653E\u97F3\u4E50===');\n            //         this.musicContext.play();\n            //     }\n            // });\n        }\n        else {\n            Laya.loader.load(_url, Laya.Handler.create(this, () => {\n                Laya.SoundManager.playSound(_url, 1);\n            }), null, Laya.Loader.SOUND);\n        }\n    }\n\n    private curSoundpath = null as any;\n    private curLevel = 0;\n    // getCurSounsLevel() {\n    //     return this.curLevel;\n    // }\n    ResetSound() {\n        this.curSoundpath = null;\n        this.curLevel = 0;\n        this.stopResetSoundLevel();\n    }\n    private timeoutid = null as any;\n    toResetSoundLevel() {\n        this.stopResetSoundLevel();\n        this.timeoutid = setTimeout(() => {\n            this.ResetSound();\n        }, 3000);\n    }\n    stopResetSoundLevel() {\n        if (this.timeoutid) {\n            clearTimeout(this.timeoutid);\n            this.timeoutid = null;\n        }\n    }\n\n}\n\nexport default SoundPlayer.getInstance();", "\r\n/**\r\n * \u58F0\u97F3\u914D\u7F6E\u6587\u4EF6\r\n * \u6240\u6709\u7528\u5230\u7684\u58F0\u97F3\u5217\u8868\r\n */\r\nexport let AudioPath = {\r\n    // bg: \"Audio/bg.mp3\",\r\n    btn: \"Audio/btn.mp3\",\r\n    meet: \"Audio/meet.mp3\",\r\n    meet2: \"Audio/meet2.mp3\",\r\n    merge: \"Audio/merge.mp3\",\r\n    merge2: \"Audio/merge2.mp3\",\r\n    combo1: \"Audio/combo1.mp3\",\r\n    combo2: \"Audio/combo2.mp3\",\r\n    combo3: \"Audio/combo3.mp3\",\r\n    combo4: \"Audio/combo4.mp3\",\r\n    mergeNew: \"Audio/mergeNew.mp3\",\r\n    gameOver: \"Audio/gameOver.mp3\",\r\n    revive: \"Audio/revive.mp3\",\r\n    mergeTop: \"Audio/mergeTop.mp3\",\r\n    getCoupon: \"Audio/getCoupon.mp3\",\r\n    getDoubleScore: \"Audio/getDoubleScore.mp3\",\r\n\r\n    propClear: \"Audio/propClear.mp3\",\r\n    propScore: \"Audio/propScore.mp3\",\r\n    propSupperFruit: \"Audio/propSupperFruit.mp3\",\r\n}\r\nexport let AudioLevel = {\r\n    // bg: \"Audio/bg.mp3\",\r\n    btn: 1,\r\n    meet: 2,\r\n    meet2: 2,\r\n    merge: 3,\r\n    merge2: 3,\r\n    combo1: 4,\r\n    combo2: 5,\r\n    combo3: 6,\r\n    combo4: 7,\r\n    mergeNew: 3,\r\n    gameOver: 8,\r\n    revive: 14,\r\n    mergeTop: 13,\r\n    getCoupon: 12,\r\n    getDoubleScore: 15,\r\n\r\n    propClear: 11,\r\n    propScore: 11,\r\n    propSupperFruit: 11,\r\n}\r\n//cdn\u8DEF\u5F84\uFF0C\u653E\u5728\u672C\u5730\u5219\u586B ''\r\n//\u5730\u5740\u5FC5\u987B\u4F7F\u7528 'https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/'\r\n//\u4E0D\u80FD\u4F7F\u7528 'https://oss.ixald.com/'\r\nexport let AudioCDNPath = 'https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/' + 'BigWatermelon/normal/C_client/';\r\n// export let AudioCDNPath = '';\r\nexport type AudioKey = keyof (typeof AudioPath);\r\n\r\n", "// import Global from '../models/Global';\r\nimport SoundPlayer from '../../../../common/SoundPlayer';\r\nimport { AudioCDNPath, AudioLevel, AudioPath } from '../../../AudioConfig';\r\nimport HHAudio from '../HHAudio';\r\nimport audioLogic from './audioLogic';\r\n\r\ndeclare var my;\r\nexport default class AudioControl {\r\n\r\n    // audioClips: { [audioId: string]: (cc.AudioClip | string | null) } = {};\r\n    // private audioIDs: { [audioId: string]: number } = {};\r\n    private isMusicLoop = true;\r\n    private isLoaded = false;\r\n    private loadEnd = false;\r\n    private loadEndPlayMusic: string | null = null;\r\n    // private toPlayMusic = false;\r\n\r\n    private static instance: AudioControl | null = null;\r\n    public static getInstance(): AudioControl {\r\n        if (!this.instance) {\r\n            this.instance = new AudioControl();\r\n        }\r\n        return this.instance;\r\n    }\r\n    init() {\r\n        this.isLoaded = false;\r\n        this.loadEnd = false;\r\n        this.loadEndPlayMusic = null;\r\n\r\n        //\u97F3\u9891\u81EA\u52A8\u8DDF\u968F\u8BBE\u5907\u9759\u97F3\r\n        Laya.SoundManager.useAudioMusic = false;\r\n        //\u5207\u51FA\u6E38\u620F\u540E\uFF0C\u5931\u53BB\u7126\u70B9\uFF0C\u800C\u5931\u53BB\u7126\u70B9\u540E\uFF0C\u97F3\u9891\u4E5F\u4F1A\u505C\u6B62\u64AD\u653E\r\n        Laya.SoundManager.autoStopMusic = true;\r\n        // setTimeout(this.LoadAudioClip, 1);\r\n        // this.LoadAudioClip();\r\n    }\r\n    private loadingClip: string[] = [];\r\n    async PreloadAudioClips(_clipsY: string[]) {\r\n        console.error('\u672A\u5B9E\u73B0\u6B64\u529F\u80FD', 'PreloadAudioClips');\r\n\r\n        // let self = this;\r\n        // let _name = 'audio';\r\n        // let _clips: string[] = [];\r\n        // _clipsY.forEach(element => {\r\n        //     if ((element in self.audioClips) || this.loadingClip.indexOf(element) >= 0) {\r\n        //         return;\r\n        //     }\r\n        //     _clips.push(element);\r\n        //     this.loadingClip.push(element);\r\n        // });\r\n        // let _leftN = this.loadingClip.length;\r\n        // if (_leftN <= 0) {\r\n        //     return;\r\n        // }\r\n        // new Promise(async (rs: any) => {\r\n        //     for (let index = 0; index < _clips.length; index++) {\r\n        //         const element = _clips[index];\r\n        //         // console.error('PreloadAudioClips element', element);\r\n\r\n        //         cc.resources.load(`${_name}/${element}`, cc.AudioClip, function (err, prefab) {\r\n        //             // console.log('loadRes', element);\r\n        //             let _idx = self.loadingClip.indexOf(element);\r\n        //             if (_idx > -1) {\r\n        //                 self.loadingClip.splice(_idx, 1);\r\n        //             }\r\n        //             if (!err) {\r\n        //                 self.audioClips[element] = prefab as any;\r\n        //                 if (self.loadEndPlayMusic == element) {\r\n        //                     self.playMusic(self.loadEndPlayMusic);\r\n        //                 }\r\n        //                 console.log('loadRes audioClip', element);\r\n        //             }\r\n        //             _leftN--;\r\n        //             if (_leftN <= 0) {\r\n        //                 // for (const key in self.audioClips) {\r\n        //                 //     console.log('loadRes audioClips', key);\r\n        //                 // }\r\n        //                 rs();\r\n        //                 // try {\r\n        //                 //     rs();\r\n        //                 // } catch (error) {\r\n        //                 //     console.error('rs Error:' + error);\r\n\r\n        //                 // }\r\n\r\n        //             }\r\n\r\n\r\n        //         });\r\n\r\n        //     }\r\n        // })\r\n    }\r\n    //\u7ECF\u6D4B\u8BD5loadres\u52A0\u8F7D\u8D44\u6E90\u5FC5\u987B\u5728cocos\u7684load\u7ED3\u675F\u4E4B\u540E\u624D\u80FD\u6B63\u5E38\u52A0\u8F7D\r\n    async PreloadAllAudioClip() {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        if (AudioCDNPath || AudioCDNPath == '') {\r\n            return;\r\n        }\r\n        this.loadEnd = false;\r\n        this.isLoaded = true;\r\n        // let _name = 'audio';\r\n        // let self = this;\r\n        //\u901A\u8FC7\u6587\u4EF6\u8DEF\u5F84\u52A0\u8F7D\u8D44\u6E90\r\n        new Promise((rs: any) => {\r\n            let _paths: string[] = [];\r\n            for (const key in AudioPath) {\r\n                _paths.push(AudioCDNPath + AudioPath[key]);\r\n            }\r\n            Laya.loader.load(_paths, Laya.Handler.create(this, () => {\r\n                this.loadEnd = true;\r\n                this.isLoaded = false;\r\n                rs();\r\n                this.audioLoadEnd();\r\n            }), null, Laya.Loader.SOUND);\r\n\r\n\r\n            // var infos = cc.resources.getDirWithPath(_name, cc.AudioClip);\r\n            // let urls = infos.map(function (info) {\r\n            //     return info.path;\r\n            // });\r\n            // cc.resources.loadDir(_name, cc.AudioClip,\r\n            //     function (completedCount: number, totalCount: number, item: any)//\u52A0\u8F7D\u8FDB\u5EA6\r\n            //     {\r\n            //         if (completedCount == totalCount)//\u52A0\u8F7D\u5B8C\u6210\r\n            //         {\r\n            //             // self.audioLoadEnd();\r\n            //             console.log(\"load res : Complete!! \");\r\n            //         }\r\n            //     },\r\n            //     function (err, assets: any) {\r\n            //         if (err) {\r\n            //             // cc.error(err);\r\n            //             rs();\r\n            //             return;\r\n            //         }\r\n            //         //\u89E3\u6790\u6587\u4EF6\u540D\r\n            //         for (let index = 0; index < urls.length; index++) {\r\n            //             const element = urls[index];\r\n            //             //\u67E5\u5206\u4E3A\u6570\u7EC4\r\n            //             let arrStr = element.split('/');\r\n            //             //\u83B7\u53D6\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u540D\u5B57\r\n            //             let _str = arrStr[arrStr.length - 1];\r\n            //             //\u5220\u9664\u6570\u7EC4\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u5373'audio'\r\n            //             arrStr.shift();\r\n            //             //\u5269\u4F59\u5143\u7D20\u62FC\u63A5\u8D77\u6765\r\n            //             let pathName = arrStr.join('/');\r\n\r\n\r\n            //             console.log(\"arrStr : \" + element);\r\n            //             self.audioClips[pathName] = (assets[index]);\r\n            //             // if (null != self.audioClips[pathName])\r\n            //             // {\r\n            //             //     self.audioClips[pathName].constructor == string\r\n            //             //     }\r\n            //             let _clip = self.audioClips[pathName];\r\n            //             if (null !== _clip && typeof _clip !== 'string') {\r\n            //                 console.log(\"load res : \" + pathName + ' ' + _clip.name);\r\n            //             }\r\n            //             //\u5224\u65AD\u5982\u679C\u4E0D\u662F\u5728\u6839\u76EE\u5F55\u4E0B\u52A0\u5165\u8DEF\u5F84\u5BFB\u5740\r\n            //             if (_str != pathName) {\r\n            //                 if (self.audioClips[_str] == undefined) {\r\n            //                     self.audioClips[_str] = pathName;\r\n            //                 }\r\n            //                 else if (null == self.audioClips[_str] || typeof self.audioClips[_str] === 'string') {\r\n            //                     //\u91CD\u590D\u7684\u5220\u9664\u5BFB\u5740\r\n            //                     self.audioClips[_str] = null;\r\n            //                 }\r\n\r\n            //             }\r\n\r\n\r\n            //         }\r\n            //         // console.log(\"0: \" + JSON.stringify(self.audioClips));\r\n\r\n            //         // self.audioClips.\r\n            //         for (var index in self.audioClips) {\r\n\r\n            //             const element = self.audioClips[index];\r\n            //             // console.log(\"0: \" + element);\r\n            //             if (!element) {\r\n            //                 delete self.audioClips[index];\r\n            //             }\r\n            //         }\r\n            //         // for (var index in self.audioClips) {\r\n\r\n            //         //     const element = self.audioClips[index];\r\n            //         //     console.log(\"1: \" + element);\r\n            //         // }\r\n            //         // console.log(\"1: \" + JSON.stringify(self.audioClips));\r\n            //         self.loadEnd = true;\r\n            //         self.audioLoadEnd();\r\n            //         rs();\r\n            //         // setTimeout(self.audioLoadEnd, 0.1);\r\n            //     });\r\n        })\r\n\r\n    }\r\n\r\n    audioLoadEnd() {\r\n        // let _id = audioLogic.getInstance().GetMusicID();\r\n        if (!this.loadEndPlayMusic) {\r\n            return;\r\n        }\r\n        AudioControl.getInstance().playMusic(this.loadEndPlayMusic, this.isMusicLoop);\r\n\r\n    }\r\n\r\n    private playEffectDelayID = {};\r\n    /** \u64AD\u653E\u97F3\u6548 */\r\n    async playEffect(audioId: string, loop: boolean = false, _palyIntervalTime = 0) {\r\n        // // let _curTime = (new Date()).getTime();\r\n        // // console.log('playEffect', audioId, AudioControl.getInstance().audioClips);\r\n\r\n        // // if (!(audioId in AudioControl.getInstance().audioClips)) {\r\n        // //     console.log(\"\u97F3\u6548\u672A\u52A0\u8F7D\u5B8C\u6210\uFF0C\u8BF7\u7A0D\u7B49...\", audioId);\r\n        // //     this.PreloadAudioClips([audioId]);\r\n        // // }\r\n        // // try {\r\n        // //     //\u97F3\u6548\u52A0\u8F7D\u91CD\u8BD51\u6B21\u5E76\u4E14\u4E0D\u518D\u64AD\u653E\r\n        // //     if (!(audioId in AudioControl.getInstance().audioClips)) {\r\n        // //         await this.wait(500);\r\n        // //         this.PreloadAudioClips([audioId]);\r\n        // //         return;\r\n        // //     }\r\n        // //     // //\u52A0\u8F7D\u7528\u65F6>1\u79D2\u4E0D\u64AD\u653E\u6B64\u97F3\u6548\r\n        // //     // if ((new Date()).getTime() - _curTime > 1000) {\r\n        // //     //     return;\r\n        // //     // }\r\n        // //     if (audioLogic.getInstance().AudioState[1]) {\r\n        // //         let _c = this.getClipByName(audioId);\r\n        // //         this.audioIDs[audioId] = cc.audioEngine.playEffect(_c, loop);\r\n        // //     }\r\n\r\n        // // } catch (error) {\r\n        // //     console.error(error);\r\n        // // }\r\n        // if (_palyIntervalTime) {\r\n        //     if (this.playEffectDelayID[audioId]) {\r\n        //         // console.error('playEffectDelayID', audioId);\r\n        //         return;\r\n        //     }\r\n        //     this.playEffectDelayID[audioId] = setTimeout(() => {\r\n        //         this.playEffectDelayID[audioId] = null as any;\r\n        //     }, _palyIntervalTime);\r\n        // }\r\n        // HHAudio.PlayEffect('btn');\r\n        // return;\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            SoundPlayer.playEffect(AudioCDNPath + AudioPath[audioId], true,this.getAudioLevel(audioId));\r\n            // if (my) {\r\n            //     let effectContext = my.createInnerAudioContext()\r\n            //     effectContext.autoplay = true;\r\n            //     effectContext.loop = false;\r\n            //     effectContext.src = AudioCDNPath + AudioPath[audioId];\r\n            //     effectContext.onEnded(() => {\r\n            //         console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F===');\r\n            //         effectContext.destroy();\r\n            //         effectContext = null;\r\n\r\n            //         // if(PlayDataUtil.data.musicCtrl == 1){\r\n            //         //     console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F,\u7EE7\u7EED\u64AD\u653E\u97F3\u4E50===');\r\n            //         //     this.musicContext.play();\r\n            //         // }\r\n            //     });\r\n            // }\r\n            // else {\r\n            //     console.error('AudioContoller \"my\" \u4E0D\u5B58\u5728');\r\n            // }\r\n\r\n        }\r\n        else {\r\n            Laya.SoundManager.playSound(AudioCDNPath + AudioPath[audioId], loop ? 0 : 1);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    getAudioLevel(audioId: string): number {\r\n        return AudioLevel[audioId] || 0;\r\n    }\r\n    /** \u64AD\u653E\u97F3\u4E50 */\r\n    async playMusic(audioId: string, loop: boolean = true) {\r\n        console.log('playMusic', audioId, loop);\r\n\r\n        this.isMusicLoop = loop;\r\n        // if (!(audioId in AudioControl.getInstance().audioClips)) {\r\n        //     console.log(\"\u80CC\u666F\u97F3\u4E50\u672A\u52A0\u8F7D\u5B8C\u6210\uFF0C\u8BF7\u7A0D\u7B49...\");\r\n        //     this.loadEndPlayMusic = audioId;\r\n        //     await this.PreloadAudioClips([audioId]);\r\n        // }\r\n        // try {\r\n        //     if (!(audioId in AudioControl.getInstance().audioClips)) {\r\n        //         return;\r\n        //     }\r\n        //     let _state = audioLogic.getInstance().AudioState[0];\r\n        //     audioLogic.getInstance().SetMusicID(audioId)\r\n        //     if (_state) {\r\n\r\n        //         let _c = this.getClipByName(audioId);\r\n        //         // console.error('playMusic', audioId, _c);\r\n        //         cc.audioEngine.playMusic(_c, loop);\r\n        //     }\r\n        // } catch (error) {\r\n        //     console.error(error);\r\n        // }\r\n        this.loadEndPlayMusic = audioId;\r\n        audioLogic.getInstance().SetMusicID(audioId);\r\n        Laya.SoundManager.playMusic(AudioCDNPath + AudioPath[audioId], loop ? 0 : 1);\r\n\r\n    }\r\n\r\n    //\u81EA\u52A8\u66F4\u6362\u80CC\u666F\u97F3\u4E50\u64AD\u653E\u72B6\u6001\r\n    autioChangeMusicState() {\r\n        let _id = audioLogic.getInstance().GetMusicID();\r\n        if (null == _id) {\r\n            return;\r\n        }\r\n        let _state = audioLogic.getInstance().AudioState[0];\r\n        if (_state) {\r\n            this.playMusic(_id, this.isMusicLoop);\r\n        }\r\n        else {\r\n            Laya.SoundManager.stopMusic();\r\n        }\r\n    }\r\n    /**\r\n     * \u6682\u505C\u58F0\u97F3\r\n     * @param _audio \r\n     * 'ALL':\u6682\u505C\u6240\u6709\u97F3\u6548\u548C\u80CC\u666F\u97F3\u4E50\r\n     * 'BGMUSIC':\u6682\u505C\u80CC\u666F\u97F3\u4E50\r\n     * 'ALLEFFECT':\u6682\u505C\u6240\u6709\u97F3\u6548\r\n     *  string[]: \u6682\u505C\u6307\u5B9A\u97F3\u6548\r\n     */\r\n    PauseAudio(_audio: 'ALL' | 'BGMUSIC' | 'ALLEFFECT' | string[]) {\r\n        console.error('laya\u6CA1\u6709\u6B64\u529F\u80FD\uFF1A[PauseAudio]');\r\n\r\n        // if (_audio == 'ALL') {\r\n        //     Laya.SoundManager.\r\n        //     cc.audioEngine.pauseAll();\r\n        // }\r\n        // else if (_audio == 'BGMUSIC') {\r\n        //     cc.audioEngine.pauseMusic();\r\n        // }\r\n        // else if (_audio == 'ALLEFFECT') {\r\n        //     cc.audioEngine.pauseAllEffects();\r\n        // }\r\n        // else {\r\n        //     _audio.forEach(element => {\r\n        //         if (element in this.audioIDs) {\r\n        //             cc.audioEngine.pauseEffect(this.audioIDs[element]);\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * \u7EE7\u7EED\u64AD\u653E\u58F0\u97F3\r\n     * @param _audio \r\n     * 'ALL':\u7EE7\u7EED\u6240\u6709\u97F3\u6548\u548C\u80CC\u666F\u97F3\u4E50\r\n     * 'BGMUSIC':\u7EE7\u7EED\u80CC\u666F\u97F3\u4E50\r\n     * 'ALLEFFECT':\u7EE7\u7EED\u6240\u6709\u97F3\u6548\r\n     *  string[]: \u7EE7\u7EED\u6307\u5B9A\u97F3\u6548\r\n     */\r\n    ResumeAudio(_audio: 'ALL' | 'BGMUSIC' | 'ALLEFFECT' | string[]) {\r\n        console.error('laya\u6CA1\u6709\u6B64\u529F\u80FD\uFF1A[ResumeAudio]');\r\n        // if (_audio == 'ALL') {\r\n        //     cc.audioEngine.resumeAll();\r\n        // }\r\n        // else if (_audio == 'BGMUSIC') {\r\n        //     cc.audioEngine.resumeMusic();\r\n        // }\r\n        // else if (_audio == 'ALLEFFECT') {\r\n        //     cc.audioEngine.resumeAllEffects();\r\n        // }\r\n        // else {\r\n        //     _audio.forEach(element => {\r\n        //         if (element in this.audioIDs) {\r\n        //             cc.audioEngine.resumeEffect(this.audioIDs[element]);\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n    /**\r\n     * \u505C\u6B62\u64AD\u653E\u58F0\u97F3\r\n     * @param _audio \r\n     * 'ALL':\u505C\u6B62\u6240\u6709\u97F3\u6548\u548C\u80CC\u666F\u97F3\u4E50\r\n     * 'BGMUSIC':\u505C\u6B62\u80CC\u666F\u97F3\u4E50\r\n     * 'ALLEFFECT':\u505C\u6B62\u6240\u6709\u97F3\u6548\r\n     *  string[]: \u505C\u6B62\u6307\u5B9A\u97F3\u6548\r\n     */\r\n    StopAudio(_audio: 'ALL' | 'BGMUSIC' | 'ALLEFFECT' | string[]) {\r\n        if (_audio == 'ALL') {\r\n            Laya.SoundManager.stopAll();\r\n            // cc.audioEngine.stopAll();\r\n        }\r\n        else if (_audio == 'BGMUSIC') {\r\n            audioLogic.getInstance().SetMusicID('')\r\n            Laya.SoundManager.stopMusic();\r\n            // cc.audioEngine.stopMusic();\r\n        }\r\n        else if (_audio == 'ALLEFFECT') {\r\n            // cc.audioEngine.stopAllEffects();\r\n            Laya.SoundManager.stopAllSound();\r\n        }\r\n        else {\r\n            _audio.forEach(element => {\r\n                // if (element in this.audioIDs) {\r\n                //     cc.audioEngine.stopEffect(this.audioIDs[element]);\r\n                // }\r\n                Laya.SoundManager.stopSound(AudioCDNPath + AudioPath[element]);\r\n            });\r\n        }\r\n    }\r\n\r\n    // private getClipByName(_name: string) {\r\n    //     let clip = this.audioClips[_name];\r\n    //     if (CC_DEV && !clip) {\r\n    //         throw new Error('\u64AD\u653E\u4E86\u4E0D\u5B58\u5728\u7684\u58F0\u97F3: ' + _name);\r\n    //     }\r\n    //     //\u5982\u679C\u627E\u5230\u7684\u662F\u5B57\u7B26\u7C7B\u578B\uFF0C\u5219\u518D\u6B21\u901A\u8FC7\u5B57\u7B26\u67E5\u627E\r\n    //     let _c = typeof clip === 'string' ? this.audioClips[clip] : clip;\r\n    //     if (!_c || typeof _c == 'string') {\r\n    //         throw new Error('\u64AD\u653E\u58F0\u97F3\u683C\u5F0F\u9519\u8BEF: ' + _name + ' ' + (typeof _c));\r\n    //     }\r\n    //     return _c;\r\n    // }\r\n    private wait(ms: number) {\r\n        return new Promise(rs => {\r\n            setTimeout(rs, ms);\r\n        })\r\n    }\r\n\r\n}\r\n", "\r\nimport audioLogic from './models/audioLogic';\r\nimport AudioControl from './models/AudioControl';\r\nimport { AudioCDNPath, AudioKey, AudioPath } from '../../AudioConfig';\r\nimport SoundPlayer from './../../../common/SoundPlayer';\r\n/**\r\n * \u58F0\u97F3\u7BA1\u7406\u6A21\u5757\r\n * \uFF08\u88AB\u79F0\u4E3A\u53F2\u4E0A\u6700\u5F3A\u58F0\u97F3\u7BA1\u7406\u6A21\u5757\uFF09\r\n * ------------------------------------------------ *\r\n * \u7528\u6CD5\uFF1A\r\n * 1.\u628A\u6240\u6709\u58F0\u97F3\u6587\u4EF6\u653E\u5728 resources\\audio \u6587\u4EF6\u5939\u4E0B\r\n * \u5982\u679C\u6CA1\u6709\u81EA\u884C\u521B\u5EFA\r\n * 2.\u8C03\u7528 PreloadAudioClip \u9884\u52A0\u8F7D\u97F3\u6548\uFF08\u975E\u5FC5\u987B\uFF09\r\n * 3.\u8C03\u7528 PlayMusic \u6216 PlayEffect \u64AD\u653E\r\n * ------------------------------------------------ *\r\n * version: 2.1\r\n * 2019/12/25\r\n */\r\nexport default class HHAudio {\r\n    private static audioL = audioLogic.getInstance();\r\n    private static audioC = AudioControl.getInstance();\r\n\r\n    /**\r\n     * \u9884\u52A0\u8F7D\u97F3\u4E50(\u63A8\u8350\u4F7F\u7528)\r\n     * \u975E\u5FC5\u8981\u65B9\u6CD5,\u4F46\u662F\u4E0D\u4F7F\u7528\u9884\u52A0\u8F7D\u800C\u76F4\u63A5\u64AD\u653E\u53EF\u80FD\u5BFC\u81F4\u7B2C\u4E00\u6B21\u64AD\u653E\u5361\u987F\r\n     * @param _clips 'ALL'\u8868\u793A\u76F4\u63A5\u9884\u52A0\u8F7D\u5168\u90E8audio\u4E2D\u7684\u97F3\u6548\r\n     */\r\n    static PreloadAudioClip(_clips: 'ALL' | string[]) {\r\n        HHAudio.audioL.init();\r\n        HHAudio.audioC.init();\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            for (const key in AudioPath) {\r\n                SoundPlayer.preloadSound(AudioCDNPath + AudioPath[key], true);\r\n            }\r\n\r\n        } else \r\n        {\r\n            HHAudio.audioC.PreloadAllAudioClip();\r\n        }\r\n\r\n        // if (_clips == 'ALL') {\r\n        //     HHAudio.audioC.PreloadAllAudioClip();\r\n        // }\r\n        // else {\r\n        //     HHAudio.audioC.PreloadAudioClips(_clips);\r\n        // }\r\n    }\r\n    /**\r\n     * \u64AD\u653E\u80CC\u666F\u97F3\u4E50\r\n     * @param _audioid \u97F3\u4E50id(\u97F3\u4E50\u6587\u4EF6\u540D\u53BB\u6389\u540E\u7F00)\r\n     * @param _loop \u662F\u5426\u5FAA\u73AF \u9ED8\u8BA4\u5FAA\u73AF\r\n     */\r\n    static PlayMusic(_audioid: AudioKey, _loop: boolean = true) {\r\n        HHAudio.audioC.playMusic(_audioid, _loop);\r\n    }\r\n\r\n    /**\r\n     * \u64AD\u653E\u97F3\u6548\r\n     * @param _audioid \u97F3\u6548id(\u97F3\u6548\u6587\u4EF6\u540D\u53BB\u6389\u540E\u7F00)\r\n     * @param _loop \u662F\u5426\u5FAA\u73AF \u9ED8\u8BA4\u4E0D\u5FAA\u73AF\r\n     * @param _palyIntervalTime \u64AD\u653E\u95F4\u9694\u65F6\u95F4\uFF08\u95F4\u9694\u65F6\u95F4\u5185\u4E0D\u80FD\u64AD\u653E\u6B64\u97F3\u6548\uFF09\r\n     */\r\n    static PlayEffect(_audioid: AudioKey, _loop: boolean = false, _palyIntervalTime = 0) {\r\n        HHAudio.audioC.playEffect(_audioid, _loop, _palyIntervalTime);\r\n    }\r\n    /**\r\n     * \u6682\u505C\u58F0\u97F3\r\n     * @param _audio \r\n     * 'ALL':\u6682\u505C\u6240\u6709\u97F3\u6548\u548C\u80CC\u666F\u97F3\u4E50\r\n     * 'BGMUSIC':\u6682\u505C\u80CC\u666F\u97F3\u4E50\r\n     * 'ALLEFFECT':\u6682\u505C\u6240\u6709\u97F3\u6548\r\n     *  string[]: \u6682\u505C\u6307\u5B9A\u97F3\u6548\r\n     */\r\n    static PauseAudio(_audio: 'ALL' | 'BGMUSIC' | 'ALLEFFECT' | AudioKey[]) {\r\n        HHAudio.audioC.PauseAudio(_audio);\r\n    }\r\n    /**\r\n     * \u7EE7\u7EED\u64AD\u653E\u58F0\u97F3\r\n     * @param _audio \r\n     * 'ALL':\u7EE7\u7EED\u6240\u6709\u97F3\u6548\u548C\u80CC\u666F\u97F3\u4E50\r\n     * 'BGMUSIC':\u7EE7\u7EED\u80CC\u666F\u97F3\u4E50\r\n     * 'ALLEFFECT':\u7EE7\u7EED\u6240\u6709\u97F3\u6548\r\n     *  string[]: \u7EE7\u7EED\u6307\u5B9A\u97F3\u6548\r\n     */\r\n    static ResumeAudio(_audio: 'ALL' | 'BGMUSIC' | 'ALLEFFECT' | AudioKey[]) {\r\n        HHAudio.audioC.ResumeAudio(_audio);\r\n    }\r\n    /**\r\n     * \u505C\u6B62\u64AD\u653E\u58F0\u97F3\r\n     * @param _audio \r\n     * 'ALL':\u505C\u6B62\u6240\u6709\u97F3\u6548\u548C\u80CC\u666F\u97F3\u4E50\r\n     * 'BGMUSIC':\u505C\u6B62\u80CC\u666F\u97F3\u4E50\r\n     * 'ALLEFFECT':\u505C\u6B62\u6240\u6709\u97F3\u6548\r\n     *  string[]: \u505C\u6B62\u6307\u5B9A\u97F3\u6548\r\n     */\r\n    static StopAudio(_audio: 'ALL' | 'BGMUSIC' | 'ALLEFFECT' | AudioKey[]) {\r\n        HHAudio.audioC.StopAudio(_audio);\r\n    }\r\n    // static ShowAudioUI() {\r\n    //     let _ui = AudioUI.GetInstance();\r\n    //     if (!_ui) {\r\n    //         console.log('can not find audioInstance');\r\n    //         return;\r\n    //     }\r\n    //     _ui.show();\r\n    // }\r\n    static ChangeAudioState(_kind?: 'Music' | 'Effect') {\r\n        let _state = this.GetAudioState(_kind);\r\n        if (!_kind || _kind == 'Music') {\r\n            HHAudio.audioC.autioChangeMusicState();\r\n        }\r\n        if (!_kind || _kind == 'Effect') {\r\n            HHAudio.audioL.ChangeAudioState(1, !_state);\r\n        }\r\n        // console.log('ChangeAudioState', _state);\r\n\r\n\r\n        return !_state;\r\n    }\r\n    static GetAudioState(_kind?: 'Music' | 'Effect') {\r\n        let _i = _kind == 'Music' ? 0 : 1;\r\n        return HHAudio.audioL.AudioState[_i];\r\n    }\r\n\r\n}", "import SoundPlayer from \"../common/SoundPlayer\";\nimport { Global } from \"../config/Global\";\nimport HHAudio from \"../Global/modules/Audio/HHAudio\";\n\nexport default class Alert {\n    private _view: fgui.GComponent;\n    private _trans: fgui.Transition;\n    private _cbConfirm: any;\n    private _cbCancel: any;\n    private _main: any;\n\n    constructor(txt, cbConfirm?, cbCancel?) {\n        this._cbConfirm = cbConfirm || null;\n        this._cbCancel = cbCancel || null;\n        this._main = fgui.UIPackage.createObject(\"Common\", \"Alert\").asCom;\n        this._main.makeFullScreen();\n        this._main.addRelation(fgui.GRoot.inst, fgui.RelationType.Size)\n        this._trans = this._main.getTransition(\"packUp\");\n        fgui.GRoot.inst.addChild(this._main);\n\n        this._view = this._main.getChild('alert').asCom;\n        let text = this._view.getChild('tipsTxt').asTextField;\n        \n        this._view.getChild(\"confirmBtn\").onClick(this, this._cbConfirm ? this.onConfirm : this.onBack);\n        this._view.getChild(\"cancelBtn\").onClick(this, this.onCancel);\n        let alertCtrl = this._view.getController('alertCtrl');\n        alertCtrl.selectedIndex = cbCancel ? 0 : 1;\n\n        text.text = txt;\n        //\u9ED8\u8BA4\u6C34\u5E73\u5C45\u4E2D\u663E\u793A\uFF0C\u8D85\u8FC71\u884C\u65F6\u5219\u5DE6\u5BF9\u9F50\n        let lText = text.displayObject as Laya.Text;\n        if (lText.textHeight > lText.fontSize + lText.leading) {\n            lText.align = \"left\";\n        }\n\n        //\u4FDD\u8BC1\u6700\u4F4E\u9AD8\u5EA6\n        if (lText.textHeight < 230) {\n            text.autoSize = 0;\n            text.height = 230;\n        }\n        \n    }\n\n    onBack() {\n        var callback = Laya.Handler.create(this, function () {\n            this._main.dispose();\n        })\n        this._trans.play(callback);\n    }\n\n    onConfirm() {\n        HHAudio.PlayEffect('btn');\n        this._cbConfirm && this._cbConfirm();\n        this.onBack();\n        \n    }\n\n    onCancel() {\n        HHAudio.PlayEffect('btn');\n        this._cbCancel && this._cbCancel();\n        this.onBack();\n    }\n\n}\n\n", "\uFEFFimport { Global } from '../config/Global';\nimport PlayDataUtil from \"../data/PlayDataUtil\";\nimport TB from '../platform/TB';\nimport MyUtils from '../common/MyUtils';\nimport GetReward from '../fgui/GetReward';\n// import Rule from '../fgui/Rule';\nimport RankUtil from './RankUtil';\nimport Alert from './../fgui/Alert';\nimport { GameLogic } from '../FGUIClass/GameLogic';\n\nexport default class MainUtil extends Laya.Script {\n    static _activityTime: number;\n    static _curScene: number = 0;  //\u5F53\u524D\u573A\u666F\u7C7B\u578B\n\n    //\u65E5\u671F\u662F\u5426\u540C\u4E00\u5468\n    static isSameWeek(old, now) {\n        old = new Date(old);\n        now = new Date(now);\n        var oneDayTime = 1000 * 60 * 60 * 24;\n        var old_count = Math.ceil(old.getTime() / oneDayTime);\n        var now_other = Math.ceil(now.getTime() / oneDayTime);\n        return Math.ceil((old_count + 4) / 7) == Math.ceil((now_other + 4) / 7);\n    }\n\n    //\u683C\u5F0F\u5316\u65E5\u671F\n    static dateFormat(fmt, date) {\n        let ret;\n        const opt = {\n            \"Y+\": date.getFullYear().toString(),        // \u5E74\n            \"m+\": (date.getMonth() + 1).toString(),     // \u6708\n            \"d+\": date.getDate().toString(),            // \u65E5\n            \"H+\": date.getHours().toString(),           // \u65F6\n            \"M+\": date.getMinutes().toString(),         // \u5206\n            \"S+\": date.getSeconds().toString()          // \u79D2\n            // \u6709\u5176\u4ED6\u683C\u5F0F\u5316\u5B57\u7B26\u9700\u6C42\u53EF\u4EE5\u7EE7\u7EED\u6DFB\u52A0\uFF0C\u5FC5\u987B\u8F6C\u5316\u6210\u5B57\u7B26\u4E32\n        };\n        for (let k in opt) {\n            ret = new RegExp(\"(\" + k + \")\").exec(fmt);\n            if (ret) {\n                fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, \"0\")))\n            };\n        };\n        return fmt;\n    }\n\n    //\u683C\u5F0F\u5316\u5F53\u524D\u65E5\u671F\n    static getDate() {\n        return this.dateFormat(\"YYYY-mm-dd\", new Date())\n    }\n\n    //\u683C\u5F0F\u5316\u5012\u8BA1\u65F6\n    // @param timeMS \u6BEB\u79D2\n    static getCountDown(timeMS: number) {\n        // timeMS\u6709\u6BEB\u79D2\u7684\uFF0C\u8865\u9F50\u81F31\u79D2\n        let ms = timeMS % 1000;\n        if (ms) {\n            timeMS += 1000 - ms;\n        }\n        let replacePattern: {\n            [key: string]: {\n                div: number,\n                format: string,\n                isLast?: boolean\n            }\n        } = {\n            \"d+\": { div: 86400000, format: \"\u5929\" },\n            \"h+\": { div: 3600000, format: \":\" },\n            \"m+\": { div: 60000, format: \":\" },\n            \"s+\": { div: 1000, format: \"\" }\n        };\n        let format = \"dhhmmss\";//\u56FA\u5B9A\u683C\u5F0F\n        let isHide = true;\n        for (let key in replacePattern) {\n            let toReplace = '';\n            format = format.replace(new RegExp(key, 'g'), str => {\n                if (!toReplace) {\n                    let pattern = replacePattern[key];\n                    let result = timeMS / pattern.div | 0;\n                    timeMS -= result * pattern.div;\n                    let resultStr = result + '';\n                    if (result == 0 && isHide) {\n                        resultStr = '';\n                        toReplace = resultStr;\n                    } else {\n                        isHide = false;\n                        toReplace = '0'.repeat(Math.max(str.length - resultStr.length, 0)) + resultStr + pattern.format;\n                    }\n                }\n                return toReplace;\n            })\n        }\n\n        return format;\n    }\n\n    // \u683C\u5F0F\u5316\u65F6\u95F4\n    // @param timeMS \u6BEB\u79D2\n    // @param format \u683C\u5F0F \u5F62\u5982 dd hh: mm: ss\n    static getTime(timeMS: number, format: string = 'dhms') {\n        // timeMS\u6709\u6BEB\u79D2\u7684\uFF0C\u8865\u9F50\u81F31\u79D2\n        let ms = timeMS % 1000;\n        if (ms) {\n            timeMS += 1000 - ms;\n        }\n\n        let replacePattern: {\n            [key: string]: {\n                div: number,\n                isLast?: boolean\n            }\n        } = {\n            \"d+\": { div: 86400000 },\n            \"h+\": { div: 3600000 },\n            \"m+\": { div: 60000 },\n            \"s+\": { div: 1000 }\n        };\n\n        for (let key in replacePattern) {\n            let toReplace = '';\n            format = format.replace(new RegExp(key, 'g'), str => {\n                if (!toReplace) {\n                    let pattern = replacePattern[key];\n                    let result = timeMS / pattern.div | 0;\n                    let resultStr = result + '';\n                    timeMS -= result * pattern.div;\n                    toReplace = '0'.repeat(Math.max(str.length - resultStr.length, 0)) + resultStr;\n                }\n                return toReplace;\n            })\n        }\n\n        return format;\n    }\n\n    //\u6570\u5B57\u524D\u9762\u88650 num-\u8981\u4FEE\u6539\u7684\u6570\u5B57 count-\u88650\u7684\u4F4D\u6570\n    static formatNum(num, count) {\n        let str = num + \"\";\n        if (str.length < count) {\n            str = '0'.repeat(Math.max(count - str.length, 0)) + str;\n        }\n        return str;\n    }\n\n    //\u83B7\u53D6\u65F6\u95F4\u95F4\u9694\n    static getTimeSpan(startTime, endTime, type = 'sec') {\n        if (type == 'sec') {\n            return Math.floor((endTime - startTime) / 1000)\n        } else if (type == 'min') {\n            return Math.floor((endTime - startTime) / 1000 / 60);\n        } else if (type == 'hour') {\n            return Math.floor((endTime - startTime) / 1000 / 60 / 60)\n        } else if (type == 'day') {\n            return Math.floor((endTime - startTime) / 1000 / 60 / 60 / 24);\n        }\n\n        return Math.floor((endTime - startTime) / 1000)\n    }\n\n    //\u83B7\u53D6\u5956\u52B1\n    static addReward(rewards, taskId?: string) {\n        for (let i = 0; i < rewards.length; i++) {\n            const reward = rewards[i];\n            if (reward.type == 'Skin') {\n                MainUtil.reqMyRole(parseInt(reward.id), () => {\n                    let roleArr = PlayDataUtil.data.myRoleIDArray;\n                    if (roleArr.indexOf(parseInt(reward.id)) == -1) { //\u6CA1\u6709\u8FD9\u4E2A\u89D2\u8272\n                        roleArr.push(parseInt(reward.id));\n                        PlayDataUtil.setData('myRoleIDArray', roleArr);\n                    }\n                });\n            } else if (reward.type == 'Coin') {\n                this.sendCoin(parseInt(reward.count), taskId);\n            } else if (reward.type == 'Point') {\n                // let allCount = PlayDataUtil.data.point + parseInt(reward.count);\n                this.sendChangePoint(parseInt(reward.count), null, null);\n            }\n        }\n    }\n\n    //\u662F\u5426\u5F00\u542F\u7EC8\u6781\u6311\u6218\n    static isChallenge() {\n        // let conf = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.gameConfig)\n        // if (Laya.Browser.onTBMiniGame) {\n        //     conf = Global.ResourceManager.getConf('gameConfig');\n        // }\n        // if (conf) {\n        //     conf = conf.challenge;\n        //     let state = 0;//0-\u5173\u95ED\n        //     let date = new Date();\n        //     let day = date.getDay();\n        //     if (conf.day) {\n        //         if (conf.day.indexOf(day) != -1) {\n        //             let hour = date.getHours();\n        //             if (hour >= conf.hourMin && hour <= conf.hourMax) {\n        //                 state = 1;\n        //             }\n        //         }\n        //     }\n        //     return state;\n        // }\n        return 0;\n    }\n\n    static getTips() {\n        // let conf = Global.ResourceManager.GetRes(Global.hallConfig.Jsons.gameConfig)\n        // if (Laya.Browser.onTBMiniGame) {\n        //     conf = Global.ResourceManager.getConf('gameConfig');\n        // }\n        // if (conf) {\n        //     conf = conf.challenge;\n        //     let str = \"\u6BCF\";\n        //     let week = ['\u5468\u65E5', '\u5468\u4E00', '\u5468\u4E8C', '\u5468\u4E09', '\u5468\u56DB', '\u5468\u4E94', '\u5468\u516D'];\n        //     let day = 0;\n        //     for (let i = 0; i < conf.day.length; i++) {\n        //         str = str + (day == 0 ? '' : '\u3001') + week[conf.day[i]];\n        //         day++;\n        //     }\n        //     str = str + conf.hourMin + \":00-\" + conf.hourMax + \":00\u5F00\u542F\";\n        //     return str;\n        // }\n\n        return '\u5C1A\u672A\u5F00\u542F\uFF0C\u656C\u8BF7\u671F\u5F85';\n    }\n\n    //\u4E0A\u62A5\u83B7\u5F97\u5956\u676F\n    static sendChangePoint(count, successFun?, failFun?) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n                changePoint: parseInt(count) | 0,//\u589E\u52A0\u7684\u79EF\u5206\u6570\n                // allPoint: parseInt(allCount) | 0\n            }\n            let info = { \"id\": Global.MSG_UPLOAD_POINT, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    // console.log('sendChangePoint');\n\n                    PlayDataUtil.setData('point', buf.data.point);\n                    console.log(\"\u4E0A\u62A5\u79EF\u5206\u6210\u529F\", buf.data);\n                    Laya.stage.event(\"updateValue\");\n                    if (successFun) {\n                        successFun();\n                    }\n                }\n                else {\n                    console.log(\"\u4E0A\u62A5\u79EF\u5206\u5931\u8D25\");\n                    if (failFun) {\n                        failFun();\n                    }\n                }\n            });\n        }\n        else {\n            PlayDataUtil.setData('point', PlayDataUtil.data.point + count);\n            if (successFun) {\n                successFun();\n            }\n            Laya.stage.event(\"updateValue\");\n        }\n    }\n\n    //\u4E0A\u62A5\u83B7\u5F97\u91D1\u5E01\n    static sendCoin(addCoin, taskId?: string, cbSuccess?: Function) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n                changeCoin: parseInt(addCoin) | 0,\n            }\n            if (taskId) {\n                reqData[\"taskId\"] = taskId;\n            }\n\n            let info = { \"id\": Global.MSG_COIN_ADD, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    PlayDataUtil.setData(\"coin\", buf.data.userCoin);\n                    Laya.stage.event(\"updateValue\");\n                    console.log(\"\u4E0A\u62A5\u5206\u6570\u6210\u529F\", buf.data);\n                    cbSuccess && cbSuccess(buf.data.userCoin);\n                }\n                else {\n                    console.log(\"\u4E0A\u62A5\u5206\u6570\u5931\u8D25\");\n                }\n            });\n        }\n        else {\n            PlayDataUtil.setData('coin', PlayDataUtil.data.coin + addCoin);\n        }\n    }\n\n    //\u4E0A\u62A5\u6D88\u8017\u91D1\u5E01\n    static costCoin(costCoin, cbSuccess?: Function, cbFail?: Function) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n                changeCoin: parseInt(costCoin) | 0\n            }\n            let info = { \"id\": Global.MSG_COIN_COST, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                MyUtils.closeLoading();\n                if (buf.code == 0) {\n                    //\u5237\u65B0\u91D1\u5E01\n                    PlayDataUtil.setData('coin', buf.data.userCoin);\n                    console.log(\"\u4E0A\u62A5\u6D88\u8017\u91D1\u5E01\u6210\u529F\", buf.data);\n                    cbSuccess && cbSuccess(buf.data.userCoin);\n                }\n                else {\n                    cbFail && cbFail(buf.code);\n                }\n            });\n        } else {\n            PlayDataUtil.setData('coin', PlayDataUtil.data.coin - costCoin);\n        }\n    }\n\n    //\u4E0A\u62A5\u83B7\u5F97vip\n    static sendVip(isVip, successFunc, FailFunc) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n                vipState: (isVip == 1) ? true : false,\n            }\n            let info = { \"id\": Global.MSG_UPLOAD_VIPSTATE, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    PlayDataUtil.setData(\"isVip\", isVip);\n                    console.log(\"\u83B7\u5F97vip\u6210\u529F:1011\", isVip);\n\n                    if (successFunc) {\n                        successFunc();\n                    }\n                }\n                else {\n                    if (FailFunc) {\n                        FailFunc();\n                    }\n                    console.log(\"\u83B7\u5F97vip\u5931\u8D25:1011\", isVip);\n                }\n            });\n        }\n    }\n\n    //\u4E0A\u62A5\u4F1A\u5458\u72B6\u6001\n    static sendMember(isMember, successFunc, FailFunc) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n                isMember: isMember,\n            }\n            let info = { \"id\": Global.MSG_MEMBER_STATE, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    PlayDataUtil.setData(\"isMember\", isMember);\n                    console.log(\"\u4E0A\u62A5\u4F1A\u5458\u72B6\u6001\u6210\u529F:1009\", isMember);\n                    if (successFunc) {\n                        successFunc();\n                    }\n                }\n                else {\n                    if (FailFunc) {\n                        FailFunc();\n                    }\n                    console.log(\"\u4E0A\u62A5\u4F1A\u5458\u72B6\u6001\u5931\u8D25:1009\", isMember);\n                }\n            });\n        }\n    }\n\n    //\u4E0A\u62A5\u5934\u50CF\u6635\u79F0/\u83B7\u53D6\u73A9\u5BB6\u57FA\u7840\u6570\u636E\n    static reqUserInfo(headUrl, name, func) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                headUrl: headUrl,\n                nickName: name,\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_LOGIN, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    console.log(\"\u4E0A\u62A5\u73A9\u5BB6\u57FA\u7840\u4FE1\u606F\u6210\u529F:1001\");\n                }\n                else {\n                    console.error(\"\u4E0A\u62A5\u73A9\u5BB6\u57FA\u7840\u4FE1\u606F\u5931\u8D25:1001\");\n                }\n                if (func) {\n                    func();\n                }\n            });\n        }\n    }\n\n    //\u4E0A\u62A5\u83B7\u5F97\u7684\u89D2\u8272\n    static reqMyRole(roleId, func) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                roleId: roleId,\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_MY_ROLE, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    console.log(\"\u4E0A\u62A5\u89D2\u8272\u6210\u529F\");\n                }\n                else {\n                    console.log(\"\u4E0A\u62A5\u89D2\u8272\u5931\u8D25\");\n                }\n                if (func) {\n                    func();\n                }\n            });\n        }\n        else {\n            if (func) {\n                func();\n            }\n        }\n    }\n\n    //\u63D0\u793A\u6846\n    static showToast(txt) {\n        let toast = fgui.UIPackage.createObject(\"Common\", \"Toast\").asCom;\n        toast.getChild('tipsTxt').asTextField.text = txt;\n        toast.y = Laya.stage.height / 2;\n        let fadeOut = toast.getTransition(\"fadeOut\");\n        var callback = Laya.Handler.create(this, function () {\n            toast.dispose();\n        })\n        fadeOut.play(callback);\n        fgui.GRoot.inst.addChild(toast);\n    }\n\n    //\u6587\u5B57\u81EA\u52A8\u7F29\u653E\n    static autoSize(fText, txt: string) {\n        fText.text = '' + txt;\n        let text = fText.displayObject as Laya.Text;\n        text.wordWrap = false;\n        if (fText.width < text.textWidth) {\n            text.fontSize = Math.floor((fText.width / text.textWidth) * fText.fontSize)\n        }\n    }\n\n    //\u4E0A\u62A5\u57CB\u70B9\u6570\u636E\n    static analysis(action, data?) {\n        // if (Laya.Browser.onTBMiniGame) {\n        //     let reqData = {\n        //         activeId: TB._activeId,\n        //         action: action,\n        //         data: data || {},\n        //     }\n        //     let info = { \"id\": Global.MSG_ANALYSIS, \"data\": reqData };\n        //     TB.sendAnalysis(info, (buf) => {\n        //         if (buf.code == 0) {\n        //             console.log(\"\u4E0A\u62A5\u57CB\u70B9\u6210\u529F = \", buf);\n        //         } else {\n        //             console.log(\"\u4E0A\u62A5\u57CB\u70B9\u5931\u8D25\");\n        //         }\n        //     });\n        // } else {\n        //     console.log('==== \u4E0A\u62A5%s\u6570\u636E\uFF1A=====', action, data)\n        // }\n        // return;\n\n    }\n\n    static initActivityTime() {\n        this._activityTime = new Date().getTime();\n    }\n\n    static sendActivityTime() {\n        // this.analysis('activity', { time: this.getTimeSpan(this._activityTime, new Date().getTime(), 'sec') });\n        this.analysis('activeTime', { playTime: this.getTimeSpan(this._activityTime, new Date().getTime(), 'sec') });\n    }\n\n    //\u83B7\u53D6\u6392\u884C\u699C\u540D\u6B21\u53D8\u5316\n    static reqRanking(func, priority?: number) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_RANKING, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    console.log(\"\u6392\u884C\u699C\u540D\u6B21\u83B7\u53D6\u6210\u529F\", buf.data.changeRank);\n                    if (func) {\n                        func(buf.data.changeRank);\n                    }\n                }\n                else {\n                    console.log(\"\u6392\u884C\u699C\u540D\u6B21\u83B7\u53D6\u5931\u8D25\");\n                }\n            });\n        }\n    }\n\n    //\u8BF7\u6C42\u672C\u671F\u6392\u540D\n    static reqCurRank(successFunc, FailFunc) {\n        let reqData = {\n            activeId: TB._activeId,\n        }\n        let info = { \"id\": Global.MSG_CUR_RANK, \"data\": reqData };\n        TB.sendMsg(info, (buf) => {\n            MyUtils.closeLoading();\n            if (buf.code == 0) {\n                if (successFunc) {\n                    successFunc(buf);\n                }\n            }\n            else {\n                if (FailFunc) {\n                    FailFunc();\n                }\n            }\n        });\n    }\n\n    //\u8BF7\u6C42\u4E0A\u671F\u6392\u540D\n    static reqLastRank(successFunc, FailFunc) {\n        let reqData = {\n            activeId: TB._activeId,\n        }\n        let info = { \"id\": Global.MSG_LAST_RANK, \"data\": reqData };\n        TB.sendMsg(info, (buf) => {\n            MyUtils.closeLoading();\n            if (buf.code == 0) {\n                if (successFunc) {\n                    successFunc(buf);\n                }\n            }\n            else {\n                if (FailFunc) {\n                    FailFunc();\n                }\n            }\n        });\n    }\n\n    //\u8BF7\u6C42\u6392\u884C\u699C\u6570\u636E\n    static reqResultRank(oldPoint, newPoint, successFunc, FailFunc) {\n        let reqData = {\n            activeId: TB._activeId,\n            oldPoint: oldPoint,\n            newPoint: newPoint,\n        }\n        let info = { \"id\": Global.MSG_RESULT_RANK, \"data\": reqData };\n        TB.sendMsg(info, (buf) => {\n            MyUtils.closeLoading();\n            if (buf.code == 0) {\n                if (successFunc) {\n                    successFunc(buf);\n                }\n            }\n            else {\n                if (FailFunc) {\n                    FailFunc();\n                }\n            }\n        });\n    }\n\n    //\u83B7\u53D6\u9080\u8BF7\u4FE1\u606F\n    static reqShare(cb) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_SHARE_INFO, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                cb && cb(buf);\n                console.log(\"\u83B7\u53D6\u9080\u8BF7\u4FE1\u606F\u6210\u529F\");\n            });\n        }\n    }\n\n    //\u6309\u94AE\u70B9\u51FB\u4E8B\u4EF6\n    static btnClickEvent(btnNode, caller, Func) {\n        btnNode.on(Laya.Event.MOUSE_DOWN, caller, () => {\n            //\u7F29\u5C0F\u52A8\u4F5C\n            Laya.Tween.to(btnNode, { scaleX: 0.8, scaleY: 0.8 }, 80, Laya.Ease.backInOut, null);\n        });\n        btnNode.on(Laya.Event.MOUSE_UP, caller, () => {\n            //\u7F29\u5C0F\u52A8\u4F5C\n            Laya.Tween.to(btnNode, { scaleX: 1, scaleY: 1 }, 40, Laya.Ease.backInOut, null);\n            if (Func) {\n                Func();\n            }\n        });\n        btnNode.on(Laya.Event.MOUSE_OUT, caller, () => {\n            //\u56DE\u590D\u5927\u5C0F\n            Laya.Tween.to(btnNode, { scaleX: 1, scaleY: 1 }, 40, Laya.Ease.backInOut, null);\n        });\n    }\n\n    //\u83B7\u53D6\u7EA2\u70B9\u53D8\u5316\n    static reqStateChange(cb) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n            }\n            console.log('reqStateChange');\n\n            let info = { \"id\": Global.MSG_STATE_CHANGE, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                //\u8FD4\u56DE\u6570\u636E data:{bag_num:1,task_num:2}\n                cb && cb(buf.data);\n                console.log(\"\u83B7\u53D6\u7EA2\u70B9\u53D8\u5316\u6210\u529F\", buf.data);\n            });\n        }\n        else {\n            cb && cb({ bag_num: 1, task_num: 2 });\n        }\n    }\n\n    //\u67E5\u8BE2\u5546\u54C1\u662F\u5426\u5DF2\u6536\u85CF\n    static checkCollectState() {\n        if (Laya.Browser.onTBMiniGame) {\n            let listData = Global.ResourceManager.getGoodsConf();\n            let localData = PlayDataUtil.data.collectIdArr;\n            for (let i = 0; i < listData.length; i++) {\n                let goodsId = listData[i].num_iid;\n                TB.checkGoodsCollectedStatus(goodsId, (res) => {\n                    //console.log(\"\u5546\u54C1id%s, \u72B6\u6001%s:\", goodsId, res);\n                    //\u68C0\u6D4B\u672C\u5730\u6536\u85CF\u5217\u8868\u4E2D\u662F\u5426\u5305\u542B\n                    let idx = localData.indexOf(goodsId);\n                    if (res) {  //\u5DF2\u6536\u85CF\n                        if (idx == -1) {\n                            localData.push(goodsId);\n                        }\n                    }\n                    else {\n                        if (idx > -1) {\n                            localData.splice(idx, 1);\n                        }\n                    }\n                })\n            }\n        }\n    }\n\n    //\u4E0A\u62A5\u9886\u53D6\u4EFB\u52A1\n    static sendGetTask(taskId) {\n        //\u4E0A\u62A5\u9886\u53D6\u5956\u52B1id\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                task_id: taskId,\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_GET_TASK, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    console.log(\"\u9886\u53D6\u6210\u529F\");\n                }\n                else {\n                    console.log(\"\u8BE5\u5956\u52B1\u5DF2\u53D1\u653E,\u4E0D\u80FD\u91CD\u590D\u9886\u53D6\");\n                }\n            });\n        }\n    }\n\n    //\u83B7\u53D6\u5BF9\u5E94\u7684UI\u8DEF\u5F84\n    static getUI(ui) {\n        return ui.replace(\".txt\", \"\");\n    }\n\n    //\u83B7\u53D6\u5BF9\u5E94\u7684style\u63A7\u5236\u5668\u7C7B\u578B\n    static getStyle() {\n        let idx = Global.ResourceManager.getAtmosphere().style - 1;\n        if (Global.ResourceManager.getAtmosphere().style >= 3) {\n            idx = 0;\n        }\n        return idx;\n    }\n\n    static TradesSoldInfo: {\n        num_iid: string, pic_url: string, title: string, price: string,\n        rewardCount: number\n        , scorerewardCount: number,\n        nickName: string\n    } = null as any;\n    //\u6821\u9A8C\u662F\u5426\u8D2D\u4E70\u6210\u529F\n    static checkGetTradesSold() {\n        console.log('========= checkGetTradesSold ==========');\n        if (PlayDataUtil.data.buyTime == 0) {\n            return\n        }\n\n        let func = (price) => {\n            // let awardCoin = Math.ceil(parseFloat('' + price)) * Global.ResourceManager.getExchangeIdx()[0];\n            // let awardScore = Math.ceil(parseFloat('' + price)) * Global.ResourceManager.getExchangeIdx()[1];\n            // console.log(\"awardCoin = \", awardCoin)\n            // console.log(\"awardScore = \", awardScore)\n            // if (awardCoin > 0 || awardScore > 0) {\n            //     //\u4E0A\u62A5\u52A0\u91D1\u5E01\n            //     let rewards = [];\n            //     if (awardCoin > 0) {\n            //         rewards.push({ type: 'Coin', count: awardCoin });\n            //     }\n            //     if (awardScore > 0) {\n            //         rewards.push({ type: 'Point', count: awardScore });\n            //     }\n            //     new GetReward({ type: 2, rewards: rewards });\n            // }\n            Global.EventManager.event(Global.hallConfig.EventEnum.TASK_CHANGE);\n            this.uploadOrder(price);\n        };\n\n        //\u8BF7\u6C42\u662F\u5426\u4ED8\u6B3E\u6210\u529F\n        if (Laya.Browser.onTBMiniGame) {\n            console.log('======= \u67E5\u8BE2\u4ED8\u6B3E\u662F\u5426\u6210\u529F ======')\n            let reqData = {\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_CHECK_TRADES_SOLD, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                console.log(\"\u8BF7\u6C42\u662F\u5426\u4ED8\u6B3E\u6210\u529F\", JSON.stringify(buf));\n                if (buf.code == 0) {\n                    console.log(\"\u4ED8\u6B3E\u6210\u529F\");\n                    PlayDataUtil.setData('buyTime', 0);\n                    func(buf.data.price);\n                    let nickName = RankUtil.getMyPlayer().name;\n                    let awardCoin = (buf.data.price * Global.ResourceManager.getExchangeIdx()[0]) | 0;\n                    let awardScore = (buf.data.price * Global.ResourceManager.getExchangeIdx()[1]) | 0;\n                    // MainUtil.analysis('pay', {\n                    //     type: 1,\n                    //     record: buf.data.record,\n                    //     nickName: nickName,\n                    //     payNum: buf.data.price,\n                    //     rewardNum: awardCoin,\n                    //     rewardNum2: awardScore,\n                    // });\n\n\n                }\n                else {\n                    console.log(\"\u4ED8\u6B3E\u5931\u8D25\");\n                }\n            });\n        }\n    }\n\n    //\u4E0A\u62A5\u91D1\u989D\n    static uploadOrder(price) {\n        //\u4E0A\u62A5\u8D2D\u4E70\u6570\u636E\n        let reqData = {\n            price: parseFloat(price),\n            activeId: TB._activeId,\n        }\n        let info = { \"id\": Global.MSG_BUY_DATA, \"data\": reqData };\n        TB.sendMsg(info, (buf) => {\n            if (buf.code == 0) {\n                // this.sendTask7();\n                console.log(\"\u4E0A\u62A5\u8D2D\u4E70\u6570\u636E\u6210\u529F\");\n            } else {\n                // this.sendTask7();\n                console.log(\"\u4E0A\u62A5\u8D2D\u4E70\u6570\u636E\u5931\u8D25\");\n            }\n        });\n    }\n\n    // //\u4E0A\u62A5\u4E70\u4E00\u9001\u4E00\u8FDB\u5EA6\n    // static sendTask7() {\n    //     if (Laya.Browser.onTBMiniGame) {\n    //         let reqData = {\n    //             task_id: \"7\",\n    //             activeId: TB._activeId,\n    //         }\n    //         let info = { \"id\": Global.MSG_TASK_PROGRESS, \"data\": reqData };\n    //         TB.sendMsg(info, (buf) => {\n    //             if (buf.code == 0) {\n    //                 console.log(\"\u4E0A\u62A5\u4EFB\u52A1\u8FDB\u5EA6\u6210\u529F\");\n    //             }\n    //             else {\n    //                 console.log(\"\u4E0A\u62A5\u4EFB\u52A1\u8FDB\u5EA6\u5931\u8D25\");\n    //             }\n    //         });\n    //     }\n    // }\n\n    //\u67E5\u8BE2\u516C\u544A\n    static checkNotice() {\n        // if (Laya.Browser.onTBMiniGame) {\n        //     let reqData = {\n        //         activeId: TB._activeId,\n        //     }\n        //     let info = { \"id\": Global.MSG_NOTICE, \"data\": reqData };\n        //     TB.sendMsg(info, (buf) => {\n        //         if (buf.code == 0) {\n        //             if (buf.data.type != 0) {\n        //                 new Rule(buf.data);\n        //             }\n        //         } else {\n        //             console.log('\u67E5\u65E0\u516C\u544A')\n        //         }\n        //     });\n        // } else {\n        //     let data = {\n        //         type: 0,\n        //         msg: '\u6D4B\u8BD5\u4E00\u4E0B\u516C\u544A\u5148',\n        //         ver: '1.0.0'\n        //     }\n        //     if (data.type != 0) {\n        //         new Rule(data);\n        //     }\n        // }\n    }\n\n    //\u5F53\u524D\u754C\u9762\u7C7B\u578B  type : 0-\u52A0\u8F7D\u754C\u9762\n    static setCurScene(type) {\n        this._curScene = type;\n    }\n\n    static getCurScene() {\n        return this._curScene;\n    }\n    static TradesSoldType = 0;\n    //\u6821\u9A8C\u662F\u5426\u8D2D\u4E70\u6210\u529F\n    static sendGetTradesSold(isBuy, finishFunc = null) {\n        Laya.stage.offAll('checkOrder');\n        //let myPrice = this._orderPrice;\n        // //\u6821\u9A8C\u662F\u5426\u8D2D\u4E70\u6210\u529F\n        // let func = (price) => {\n        //     console.log(\"\u5B9E\u9645\u8D2D\u4E70\u4EF7\u683C = \", price)\n        //     let awardCoin = Math.ceil(parseFloat(''+price)) * Global.ResourceManager.getExchangeIdx();\n        //     console.log(\"awardCoin = \", awardCoin)\n        //     if (awardCoin > 0) {\n        //         //\u4E0A\u62A5\u52A0\u91D1\u5E01\n        //         let rewards = [];\n        //         rewards.push({ type: 'Coin', count: awardCoin });\n        //         new GetReward({ type: 1, rewards: rewards, taskId : this._opt.id});\n        //     }\n        //     //\u8D2D\u4E70\u6210\u529F,\u4E0B\u5355\u4EFB\u52A1+1\n        //     TaskUtil.setTaskDone(7);\n        //     //\u8D2D\u4E70\u4EFB\u52A1+1\n        //     TaskUtil.setTaskDone(9);\n        //     Global.EventManager.event(Global.hallConfig.EventEnum.TASK_CHANGE);\n\n        //     this.uploadOrder(price);\n        // };\n\n        //\u8BF7\u6C42\u662F\u5426\u4ED8\u6B3E\u6210\u529F\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                openDetilTime: PlayDataUtil.data.buyTime,  //\u6253\u5F00\u8BE6\u60C5\u9875\u9762\u7684\u65F6\u95F4\n                activeId: TB._activeId,\n            }\n            console.log('======= \u67E5\u8BE2\u4ED8\u6B3E\u662F\u5426\u6210\u529F reqData======', reqData)\n            let info = { \"id\": Global.MSG_GET_TRADES_SOLD, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                console.log(\"\u8BF7\u6C42\u662F\u5426\u4ED8\u6B3E\u6210\u529F\", JSON.stringify(buf));\n                if (buf.code == 0) {\n                    PlayDataUtil.setData('buyTime', 0);\n                    console.log(\"\u4ED8\u6B3E\u6210\u529F\");\n                    //\u4E0A\u62A5\u52A0\u91D1\u5E01\n                    if (finishFunc) {\n                        finishFunc(buf.data.price);\n                    }\n                    let nickName = RankUtil.getMyPlayer().name;\n                    let awardCoin = (buf.data.price * Global.ResourceManager.getExchangeIdx()[0]) | 0;\n                    let awardScore = (buf.data.price * Global.ResourceManager.getExchangeIdx()[1]) | 0;\n                    // //MainUtil.analysis('pay', {\n                    //     type: this.TradesSoldType, record: buf.data.record,\n                    //     nickName: nickName,\n                    //     payNum: buf.data.price,\n                    //     rewardNum: awardCoin,\n                    //     rewardNum2: awardScore,\n                    // });\n                    //func(buf.data.price);\n                }\n                else {\n                    console.log(\"\u4ED8\u6B3E\u5931\u8D25\");\n                    if (isBuy) {\n                        TB.showToast('\u8BA2\u5355\u6838\u51C6\u4E2D\uFF0C\u6838\u5BF9\u540E\u5C06\u53D1\u653E\u5BF9\u5E94\u5956\u52B1');\n                        Laya.timer.once(10000, this, MainUtil.checkGetTradesSold);//\u5341\u79D2\u540E\u91CD\u8BD5\n                    }\n                }\n            });\n        }\n        else {\n            if (finishFunc) {\n                finishFunc(1);\n            }\n            //func(myPrice);\n        }\n    }\n    //\u83B7\u53D6\u4EFB\u52A1\u5217\u8868-2002\n    static sendGetTaskList(cb?) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_GET_TASKLIST, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    cb && cb();\n                    console.log(\"\u83B7\u53D6\u5217\u8868\u6210\u529F\");\n                } else {\n                    console.log(\"\u83B7\u53D6\u5217\u8868\u5931\u8D25\");\n                }\n            });\n        }\n    }\n\n    //\u9886\u53D6\u4EFB\u52A1\u5956\u52B1-2004\n    //taskPlace\u4EFB\u52A1\u6240\u5728\u4F4D\u7F6E\uFF081:\u4E3B\u754C\u9762\uFF0C2\u6E38\u620F\u5185\uFF0C3\u7ED3\u7B97\u754C\u9762\uFF09\n    static sendGetTaskReward(taskId, cb?, taskPlace = 1) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                task_id: taskId,\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_GET_TASK_REWARD, \"data\": reqData };\n            //\u4EFB\u52A1\u5B8C\u6210\u6253\u70B9\n            MainUtil.analysis('task', { type: GameLogic.isInGame ? 2 : 1, sub: taskId });\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    /*\u8FD4\u56DE\u683C\u5F0F\n                    \"data\":{\"reward\":{\"rewardCount_1\":20,\"rewardCount_2\":20,\"id\":1},\"get\":3,\"state\":2}}\n                    */\n                    //\u8FD4\u56DE\u503C\u8F6C\u6362\u4E3AGetReward\u53EF\u7528\u683C\u5F0F -xuan 2021/4/9\n                    let _rewardData = buf.data.reward;\n                    buf.data.reward = {//\u91D1\u5E01\n                        type: 'Coin',\n                        count: _rewardData.rewardCount_1,\n                        id: 1,\n                    };\n                    buf.data.reward2 = {//\u79EF\u5206\n                        type: 'Point',\n                        count: _rewardData.rewardCount_2,\n                        id: 1,\n                    },\n                        cb && cb(buf.data);\n                    console.log(\"\u9886\u53D6\u6210\u529F:2004\", buf.data);\n                } else {\n                    console.log(\"\u9886\u53D6\u5956\u52B1\u5931\u8D25:2004 code\", buf.code);\n                    if (buf.code == -10) {\n                        new Alert('\u6D3B\u52A8\u672A\u5F00\u59CB\uFF01');\n                    }\n                    else if (buf.code == -11) {\n                        new Alert('\u6D3B\u52A8\u5DF2\u7ED3\u675F\uFF01');\n                    }\n                }\n            });\n        }\n        else {\n            // new Alert('\u6D3B\u52A8\u5DF2\u7ED3\u675F\uFF01');\n            cb && cb({\n                finish: 1,\n                state: 2,\n                get: 1,\n                reward: {//\u91D1\u5E01\n                    type: 'Coin',\n                    count: 1,\n                    id: 1,\n                },\n                reward2: {//\u79EF\u5206\n                    type: 'Point',\n                    count: 2,\n                    id: 1,\n                }\n            });\n        }\n    }\n\n    //\u4E0A\u62A5\u4EFB\u52A1\u8FDB\u5EA6-2003\n    static sendTaskProgress(id, cb?) {\n        if (Laya.Browser.onTBMiniGame) {\n            let reqData = {\n                task_id: id,\n                activeId: TB._activeId,\n            }\n            let info = { \"id\": Global.MSG_GET_TASK_PROGRESS, \"data\": reqData };\n            TB.sendMsg(info, (buf) => {\n                if (buf.code == 0) {\n                    console.log(\"\u4E0A\u62A5\u4EFB\u52A1\u8FDB\u5EA6\u6210\u529F:2003\");\n                    if (cb) {\n                        cb(buf.data);\n                    }\n                } else {\n                    console.log(\"\u4E0A\u62A5\u4EFB\u52A1\u8FDB\u5EA6\u5931\u8D25:2003 code\", buf.code);\n                    if (buf.code == -10) {\n                        new Alert('\u6D3B\u52A8\u672A\u5F00\u59CB\uFF01');\n                    }\n                    else if (buf.code == -11) {\n                        new Alert('\u6D3B\u52A8\u5DF2\u7ED3\u675F\uFF01');\n                    }\n                }\n\n            });\n        } else {\n            if (cb) {\n                cb({\n                    finish: 1,\n                    state: 1,\n                    get: 1,\n                });\n                // new Alert('\u6D3B\u52A8\u5DF2\u7ED3\u675F\uFF01');\n            }\n        }\n    }\n}", "\uFEFFimport MainUtil from \"../utils/MainUitl\";\nimport SoundPlayer from '../common/SoundPlayer';\nimport { Global } from \"../config/Global\";\nimport { GameLogic } from \"../FGUIClass/GameLogic\";\n\ndeclare var my;\n\nclass TB {\n    _dataQueue: any = [];  //\u6D88\u606F\u961F\u5217\n\n    public static _instance: TB = null;\n    public static getInstance(): TB {\n        this._instance = this._instance || new TB();\n        return this._instance;\n    }\n    /**\n     * \u521D\u59CB\u5316  \u9700\u8981\u624B\u52A8\u8C03\u7528\n     */\n    init() {\n        console.log(\"TB initSuccess\");\n        if (!Laya.Browser.onTBMiniGame) return;\n        //\u521D\u59CB\u5316 \u5207\u6362\u524D\u540E\u53F0\n        this.initShow();\n        //\u521D\u59CB\u5316 \u7F51\u7EDC\u72B6\u6001\n        this.initNetState();\n\n        Laya.timer.frameLoop(5, this, () => {\n            this.onUpdate();\n        });\n    }\n    /**\n     * api\u7248\u672C\u517C\u5BB9\n     * @param apiName api\u540D\n     */\n    checkApiLv(apiName: string, sdkName?: string) {\n        if (!Laya.Browser.onTBMiniGame) return false;\n        if (!sdkName || sdkName == undefined) {\n            if (my[apiName]) return true;\n        } else {\n            if (my[sdkName][apiName]) return true;\n        }\n        console.log('\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\u8BE5API: ', apiName);\n        return false;\n    }\n    /**\n     * \u83B7\u53D6 \u7CFB\u7EDF\u4FE1\u606F\n     */\n    getSystemInfoSync() {\n        if (!this.checkApiLv(\"authorize\")) return null;\n        return my.getSystemInfoSync();\n    }\n    /**\n     * \u6388\u6743\n     */\n    _isAuthorize: boolean = false;\n    _userInfo: any = null;\n    authorize(authorizeSuccess?: Function, fail?: Function) {\n        if (!this.checkApiLv(\"authorize\")) return;\n        let self = this;\n        my.authorize({\n            scopes: 'scope.userInfo',\n            success: (res) => {\n                console.log(\"authorize res: \", res);\n                self._isAuthorize = true;\n                my.getAuthUserInfo({\n                    success: (userInfo) => {\n                        self._userInfo = userInfo;\n                        if (authorizeSuccess) {\n                            authorizeSuccess(self._userInfo);\n                        }\n                    }, fail: () => {\n                        console.log(\"\u83B7\u53D6\u6388\u6743\u5931\u8D25 \u5F15\u5BFC\u6388\u6743\u754C\u9762\");\n                        if (!this.checkApiLv(\"showAuthGuide\")) return;\n                        my.showAuthGuide();\n                    }\n                });\n            },\n            fail: () => {\n                if (fail) {\n                    fail();\n                }\n            }\n        });\n    }\n    /**\n     * \u83B7\u53D6 \u7528\u6237\u6570\u636E\n     * @param callback \u56DE\u8C03 \u5E26userinfo\u53C2\u6570\n     */\n    getAuthUserInfo(callback: Function) {\n        if (!this._userInfo) {\n            if (!this._isAuthorize) {\n                this.authorize(callback);\n            } else {\n                let self = this;\n                if (!this.checkApiLv(\"getAuthUserInfo\")) return;\n                my.getAuthUserInfo({\n                    success: (userInfo) => {\n                        self._userInfo = userInfo;\n                        if (callback) {\n                            callback(self._userInfo);\n                        }\n                    }, fail: () => {\n                        console.log(\"\u83B7\u53D6\u6388\u6743\u5931\u8D25 \u5F15\u5BFC\u6388\u6743\u754C\u9762\");\n                        if (!this.checkApiLv(\"showAuthGuide\")) return;\n                        my.showAuthGuide();\n                    }\n                });\n            }\n        } else {\n            if (callback) {\n                callback(this._userInfo);\n            }\n        }\n    }\n    isLogin: boolean = false;\n    _socket: any = null;\n    _openid: string = \"\";   //\u73A9\u5BB6ID\n    _shopOpenid: string = \"\"; //\u5546\u94FAID\n    _shopId: string = \"\"; //\u5546\u94FAID\uFF08\u5173\u6CE8\u5E97\u94FA\u7528\uFF09\n    _storeId: string = \"\"; //\u5E97\u94FAID\uFF08\u8DF3\u8F6C\u5E97\u94FA\u7528\uFF09\n    _activeId: string = \"\"; //\u6D3B\u52A8ID\n    //_ename: string = \"\";\n    /**\n     * \u767B\u5F55\u63A5\u53E3  \u6682\u65E0\n     */\n    login(loginSuccess?: Function, loginFail?: Function) {\n        if (this.isLogin) {\n            if (!this.getServerData()) {\n                this.isLogin = false;\n                if (loginFail) {\n                    loginFail();\n                }\n                return;\n            }\n            if (loginSuccess) loginSuccess(this.getServerData());\n            return;\n        }\n        this.showLoad(\"\u62C9\u53D6\u914D\u7F6E\u4E2D\");\n        let app = getApp();\n        app[\"getServerData\"]((res) => {\n            console.log(\"login getServerData: \", res);\n            if (res[\"code\"] == 0) {\n                console.log(\"login\u6210\u529F\");\n                this.isLogin = true;\n                this.hideLoad();\n                console.log(\"res.data: \", res.data);\n                this._openid = res.data.userOpenId;\n                this._shopOpenid = res.data.openid;\n                this._shopId = res.data.shopId;\n                if (res.data.hasOwnProperty(\"storeId\")) {\n                    this._storeId = res.data.storeId;\n                }\n                this._activeId = res.data.activeId;\n                console.log(\"_storeId = \", this._storeId);\n\n                //this._ename = res.data.gameConfig.redPacket.ename;\n                console.log(\"this._openid: \", this._openid);\n                //console.log(\"this._ename: \",this._ename);\n                console.log(\"this._shopOpenid: \", res.data.openid);\n                //this.showToast(\"\u5E97\u94FAID:\" + this._shopId);\n                this.setServerData(res.data);\n                if (loginSuccess) {\n                    loginSuccess(res.data);\n                }\n            }\n            else if (res[\"code\"] == -11) {  //\u9ED1\u540D\u5355\u73A9\u5BB6\n                this.showToast(\"\u9ED1\u540D\u5355\u73A9\u5BB6\uFF0C\u6682\u65F6\u65E0\u6CD5\u8FDB\u5165\u6E38\u620F\uFF01\");\n            }\n            else {\n                console.log(\"login\u5931\u8D25\");\n                this.hideLoad();\n                this.isLogin = false;\n                this.showToast(\"\u62C9\u53D6\u914D\u7F6E\u5931\u8D25\");\n                if (loginFail) {\n                    loginFail();\n                }\n            }\n        }, Global.hallConfig._version);\n    }\n    _serverData: any = null;\n    setServerData(data: any) {\n        this._serverData = data;\n    }\n    /**\n     * \u83B7\u53D6 \u670D\u52A1\u5668\u914D\u7F6E\u6570\u636E\n     */\n    getServerData() {\n        return this._serverData;\n    }\n\n    /**\n     * \u53D1\u9001\u6570\u636E\u5230\u670D\u52A1\u5668\n     */\n    sendServer(data: any, callback?: Function) {\n        data[\"clientVersion\"] = Global.hallConfig._version;\n        console.log(\"sendServer: \", data);\n        if (this._openid == undefined || this._openid == \"\") {\n            this.login();\n            return;\n        }\n        let app = getApp();\n        if (app[\"sendServer\"]) {\n            app[\"sendServer\"](data, callback);\n        }\n    }\n\n    //\u4E0A\u62A5\u57CB\u70B9\u6570\u636E\n    sendAnalysis(data: any, callback?: Function) {\n        data[\"clientVersion\"] = Global.hallConfig._version;\n        console.log(\"sendServerAnalysis: \", data);\n        let app = getApp();\n        if (app[\"sendServer\"]) {\n            app[\"sendServer\"](data, callback);\n        }\n    }\n\n\n    /**\n     * \u5206\u4EAB\u63A5\u53E3\n     */\n    share(shareSuccess?: Function, shareFail?: Function) {\n        if (!this.checkApiLv(\"showSharePanel\")) return;\n        //\u793A\u4F8B\n        let app: any = getApp();\n        app.setShare({\n            title: Global.ResourceManager.getShareConfig().shareTitle || \"\u5408\u6210\u5927\u4F5C\u6218\",\n            desc: Global.ResourceManager.getShareConfig().shareDesc || \"\u5408\u6210\u5927\u4F5C\u6218\",\n            imageUrl: Global.ResourceManager.getShareConfig().shareURL || \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/admin/images/config/skin/tmp_3.png\",\n\n            path: \"pages/index/game?fromId=\" + this._openid + \"&activeId=\" + app.activeId\n        });\n        if (shareSuccess) {\n            app.global[\"shareSuccess\"] = shareSuccess;\n        }\n        if (shareFail) {\n            app.global[\"shareFail\"] = shareFail;\n        }\n        my.showSharePanel();\n        return;\n        //\u5524\u8D77\u5206\u4EAB\u529F\u80FD  \u5206\u4EAB\u5185\u5BB9\u5728onShareAppMessage\u4E2D\u914D\u7F6E\n        my.showSharePanel();\n    }\n    /**\n     * \u76D1\u63A7\u7F51\u7EDC\u72B6\u6001\n     */\n    isNetSuccess: boolean = true;\n    initNetState() {\n        if (!this.checkApiLv(\"getNetworkType\")) return;\n        let self = this;\n        my.getNetworkType({\n            success: (res) => {\n                self.isNetSuccess = res.networkAvailable ? true : false;\n            }\n        });\n        my.onNetworkStatusChange((res) => {\n            self.isNetSuccess = res.isConnected ? true : false;\n        });\n    }\n    /**\n     * \u83B7\u53D6\u7F51\u7EDC\u72B6\u6001\n     */\n    getNetState(): boolean {\n        return this.isNetSuccess;\n    }\n    /**\n     * \u524D\u540E\u53F0\u5207\u6362\n     */\n    initShow() {\n        let app = getApp();\n        app[\"global\"][\"onShow\"] = this.onShow;\n        app[\"global\"][\"onHide\"] = this.onHide;\n        MainUtil.initActivityTime();\n    }\n\n    //\u5207\u524D\u53F0 \u8C03\u7528\n    onShow() {\n        console.log(\"TB onshow\");\n        //\u68C0\u67E5\u8BA2\u5355\n        Laya.stage.event(\"checkOrder\");\n        //\u6D4F\u89C8\u5546\u54C1\u56DE\u8C03\n        Laya.stage.event(\"checkBrowse\");\n        //\u68C0\u67E5\u4EFB\u52A1\u53D8\u5316\n        Laya.stage.event(\"TBTaskChange\");\n        //\u68C0\u67E5\u662F\u5426\u662F\u5206\u4EAB\u56DE\u6765\n        Laya.stage.event(\"checkShare\");\n\n        MainUtil.initActivityTime();\n        GameLogic.CheckLuckyBagState();\n\n        //\u68C0\u6D4B\u80CC\u666F\u97F3\u4E50\u662F\u5426\u7EE7\u7EED\u64AD\u653E\n        SoundPlayer.resumeSound();\n    }\n\n    //\u5207\u540E\u53F0 \u8C03\u7528\n    onHide() {\n        console.log(\"TB onHide\");\n\n        //\u52A0\u8F7D\u754C\u9762\u9000\u51FA\u4E0A\u62A5\u57CB\u70B9\n        if (MainUtil.getCurScene() == Global.hallConfig.CUR_SCENE.loading) {\n            let t = new Date().getTime() - TB.getInstance().getOpenAppTime();\n            console.log(\"openApp->exit time = \", t);\n            //MainUtil.analysis('exit', { type: Global.hallConfig.CUR_SCENE.loading, diff_time: t, tag: TB.getInstance().getOpenAppTime() });\n            // //MainUtil.analysis('exit', { type: Global.hallConfig.CUR_SCENE.loading, diff_time: t, tag: TB.getInstance().getOpenAppTime() });\n        }\n\n        MainUtil.sendActivityTime();\n        //\u6682\u505C\u80CC\u666F\u97F3\u4E50\n        SoundPlayer.pauseSound();\n    }\n    /**\n     * showLoad\n     * @param content \u63D0\u793A\u5185\u5BB9\n     */\n    showLoad(content?: string) {\n        if (!this.checkApiLv(\"showLoading\")) return;\n        let str_content = content == undefined ? \"\u52A0\u8F7D\u4E2D...\" : content;\n        my.showLoading({\n            content: str_content,\n            delay: 1000,\n        });\n        setTimeout(() => {\n            this.hideLoad();\n        }, 5000);\n    }\n    hideLoad() {\n        if (!this.checkApiLv(\"hideLoading\")) return;\n        my.hideLoading();\n    }\n    /**\n     * showToast\n     * @param content \u63D0\u793A\u5185\u5BB9\n     */\n    showToast(content?: string) {\n        if (!this.checkApiLv(\"showToast\")) return;\n        if (!content || content == undefined) return;\n        my.showToast({\n            type: 'success',\n            content: content,\n            duration: 2000,\n            success: () => {\n\n            },\n        });\n    }\n\n    /**\n     * \u786E\u8BA4/\u53D6\u6D88 \u5F39\u6846\n     * @param title \n     * @param content \n     * @param str_sure \n     * @param str_cancel \n     */\n    confirm(title: string, content: string, str_sure = \"\u786E\u5B9A\", str_cancel = \"\u53D6\u6D88\") {\n        if (!this.checkApiLv(\"confirm\")) return;\n        my.confirm({\n            title: title,\n            content: content,\n            confirmButtonText: str_sure,\n            cancelButtonText: str_cancel,\n            success: (result) => {\n                console.log(\"result: \", result);\n            },\n        });\n    }\n\n    /**\n     * \u4EFB\u52A1\n     */\n    task() {\n        //\u4EFB\u52A1 \u7C7B\u578B\u5F88\u591A\n\n    }\n    /**\n     * \u6253\u5F00 \u5546\u54C1\u8BE6\u60C5\n     * @param good_id \u5546\u54C1id\n     * @param success \u6210\u529F\u56DE\u8C03\n     */\n    openDetail(good_id: string, success?: Function, fail?: Function) {\n        console.log('===== openDetail ====', good_id);\n        if (!this.checkApiLv(\"openDetail\", \"tb\")) return;\n        my.tb.openDetail({\n            itemId: '' + good_id,\n            success: (res) => {\n                if (success) {\n                    success();\n                }\n            },\n            fail: (res) => {\n                if (fail) {\n                    fail();\n                }\n            },\n        });\n    }\n    /**\n     * \u6536\u85CF \u5546\u54C1\n     * @param good_id \u5546\u54C1id\n     */\n    collectGoods(good_id: string, success, fail) {\n        if (!this.checkApiLv(\"collectGoods\", \"tb\")) return;\n        let self = this;\n        my.tb.collectGoods({\n            id: good_id,\n            success: (res) => {\n                self.showToast(\"\u6536\u85CF\u6210\u529F\");\n                if (success) {\n                    success(res);\n                }\n            },\n            fail: (res) => {\n                if (fail) {\n                    fail(res);\n                }\n            },\n            complete: (res) => {\n            }\n        })\n    }\n    /**\n     * \u53D6\u6D88\u6536\u85CF \u5546\u54C1\n     * @param good_id \u5546\u54C1id\n     */\n    unCollectGoods(good_id: string) {\n        if (!this.checkApiLv(\"unCollectGoods\", \"tb\")) return;\n        let self = this;\n        my.tb.unCollectGoods({\n            id: '' + good_id,\n            success: (res) => {\n                self.showToast(\"\u53D6\u6D88\u5173\u6CE8\");\n            },\n            fail: (res) => {\n\n            },\n            complete: (res) => {\n            }\n        })\n    }\n\n    //\u68C0\u6D4B\u662F\u5426\u5DF2\u6536\u85CF\n    checkGoodsCollectedStatus(good_id: string, func?: Function) {\n        if (!this.checkApiLv(\"checkGoodsCollectedStatus\", \"tb\")) return;\n        let self = this;\n        my.tb.checkGoodsCollectedStatus({\n            id: '' + good_id,\n            success: (res) => {\n                //console.log(\"\u5546\u54C1\u6536\u85CF\u72B6\u6001 res = \", res);\n                if (func) {\n                    func(res.isCollect);\n                }\n            },\n        })\n    }\n\n    /**\n     * \u68C0\u6D4B\u5BF9\u67D0\u4E2A\u5546\u94FA \u7684\u5173\u6CE8\u72B6\u6001\n     * @param shop_id \u5E97\u94FAid\n     * @param callback \u83B7\u53D6\u6210\u529F \u56DE\u8C03\n     */\n    checkShopFavoredStatus(callback?: Function, failCallback?: Function) {\n        if (!this.checkApiLv(\"checkShopFavoredStatus\", \"tb\")) return;\n        my.tb.checkShopFavoredStatus({\n            id: '' + this._shopId,\n            success: (res) => {\n                if (callback) {\n                    /*\n                        res: {\n                            id: \u5356\u5BB6id\n                            isFavor: \u662F\u5426\u5173\u6CE8(Boolen)\n                        }\n                    */\n                    callback(res);\n                }\n            },\n            fail: (res) => {\n                failCallback && failCallback(res);\n            }\n        })\n    }\n    /**\n     * \u5173\u6CE8 \u5E97\u94FA\n     * @param shop_id \u5E97\u94FAid\n     */\n    favorShop(successFunc?: Function, failFunc?: Function, type = 0) {\n        if (!this.checkApiLv(\"favorShop\", \"tb\")) return;\n        let self = this;\n        console.log(\"shopid = \", this._shopId);\n        my.tb.favorShop({\n            id: '' + this._shopId,\n            success: (res) => {\n                if (successFunc) {\n                    successFunc();\n                }\n                //MainUtil.analysis('joinFavor', { isFavor: true, type: type });\n                self.showToast(\"\u5173\u6CE8\u6210\u529F\");\n            },\n            fail: (res) => {\n                if (failFunc) {\n                    failFunc();\n                }\n                self.showToast(\"\u5173\u6CE8\u5931\u8D25\");\n            }\n        })\n    }\n    /**\n     * \u53D6\u6D88\u5173\u6CE8 \u5E97\u94FA\n     * @param shop_id \u5E97\u94FAid\n     */\n    unFavorShop(shop_id: string) {\n        if (!this.checkApiLv(\"unFavorShop\", \"tb\")) return;\n        let self = this;\n        my.tb.unFavorShop({\n            id: '' + shop_id,\n            success: (res) => {\n                self.showToast(\"\u53D6\u6D88\u5173\u6CE8\");\n            },\n            fail: (res) => {\n\n            }\n        });\n    }\n    /**\n     * \u8DF3\u8F6C\u5176\u4ED6\u5C0F\u7A0B\u5E8Fid\n     * @param app_Id \u5176\u4ED6\u5C0F\u7A0B\u5E8Fid\n     */\n    navigateToMiniProgram(app_Id: number | string) {\n        if (!this.checkApiLv(\"navigateToMiniProgram\")) return;\n        my.navigateToMiniProgram({\n            appId: app_Id,\n            extraData: {\n                \"data1\": \"test\"\n            },\n            success: (res) => {\n                console.log(JSON.stringify(res))\n            },\n            fail: (res) => {\n                console.log(JSON.stringify(res))\n            }\n        });\n    }\n    /**\n     * \u8DF3\u8F6C\u5E97\u94FA\n     * @param shop_id \u5E97\u94FAid\n     */\n    navigateToTaobaoPage(successFunc?: Function, failFunc?: Function) {\n        if (!this.checkApiLv(\"navigateToTaobaoPage\", \"tb\")) return;\n        let self = this;\n        //MainUtil.showToast(self._storeId);\n        my.tb.navigateToTaobaoPage({\n            appCode: 'shop',\n            appParams: {\n                shopId: '' + self._storeId,\n                weexShopSubTab: \"shopindex\",\n                weexShopTab: \"shopindexbar\"\n            },\n            success: (res) => {\n                console.log(\"\u8DF3\u8F6C\u5E97\u94FA\u6210\u529F\");\n                if (successFunc) {\n                    successFunc();\n                }\n            },\n            fail: (err) => {\n                //MainUtil.showToast(JSON.stringify(err));\n                console.log(\"\u8DF3\u8F6C\u5E97\u94FA\u5931\u8D25: \", err);\n                if (failFunc) {\n                    failFunc();\n                }\n            }\n        });\n    }\n\n    /**\n     * \u6570\u636E\u57CB\u70B9\n     * @param state \u57CB\u70B9 \n     * @param data  \u6570\u636E\n     */\n    reportAnalytics(state: string, data?: any) {\n        if (!this.checkApiLv(\"reportAnalytics\")) return;\n        // my.reportAnalytics(\"enter\", {\n        //     // \u9875\u9762\u540D\u79F0\u57CB\u70B9\uFF0C\uFF08\u53EF\u9009\uFF0C\u5982\u6B64\u9879\u4E0D\u586B\uFF0C\u5C0F\u7A0B\u5E8F\u5BB9\u5668\u4F1A\u81EA\u52A8\u53D6currentPagePath\uFF09\n        //     'pageName': 'yourPageName', \n        //     // \u9875\u9762url\u57CB\u70B9\uFF08\u53EF\u9009\uFF0C\u5982\u6B64\u9879\u4E0D\u586B\uFF0C\u5C0F\u7A0B\u5E8F\u5BB9\u5668\u4F1A\u81EA\u52A8\u53D6currentPagePath\uFF09\uFF0C\u5982\u4F20\u5165\u9700\u8981\u7528https//\u6253\u5934\n        //     'pageUrl': 'https://' + 'yourPageUrl', \n        //     // \u5404\u79CD\u81EA\u5B9A\u4E49\u53C2\u6570key-value\u952E\u503C\u5BF9\uFF0C\u4E0D\u9650\u4E2A\u6570\uFF08\u6CE8\u610F\uFF1Avalue\u53EA\u652F\u6301\u5B57\u7B26\u4E32\u683C\u5F0F\uFF09\n        //     'customKey1': 'customValue1',\n        //     'customKey2': 'customValue2',\n        //     'customKey3': 'customValue3',\n        // })\n        my.reportAnalytics(state, data);\n    }\n    /**\n     * \u663E\u793ASKU\u9009\u62E9\u5668\n     * @param good_id \u5546\u54C1id\n     * @param success \u6210\u529F\u56DE\u8C03\n     */\n    showSku(good_id: string, success?: Function) {\n        if (!this.checkApiLv(\"showSku\", \"tb\")) return;\n        my.tb.showSku({\n            itemId: good_id,\n            success: (res) => {\n                console.log(\"skuId = \", res.skuId);\n                if (success) {\n                    success(true);\n                }\n                //\u6D4F\u89C8\u5B8C\u76F4\u63A5\u4E0B\u5355\n                // this.order(res.itemId, res.skuId, res.quantity, success ? success : null);\n            },\n            fail: (res) => {\n                if (success) {\n                    success(false);\n                }\n            },\n        });\n    }\n    /**\n     * \u4E0B\u5355\n     * @param good_id \u5546\u54C1id\n     * @param sku_id skuid\n     * @param quantity \u5546\u54C1\u6570\u91CF\n     * @param success \u6210\u529F\u56DE\u8C03\n     */\n    order(good_id: string, sku_id: string, quantity: number, success?: Function) {\n        if (!this.checkApiLv(\"confirmCustomOrder\", \"tb\")) return;\n        my.tb.confirmCustomOrder({\n            itemId: good_id,\n            skuId: sku_id,\n            quantity: quantity,\n            success: (res) => {\n                if (success) {\n                    success();\n                }\n            },\n            fail: (res) => {\n\n            },\n        });\n    }\n\n    /**\n     * \u6253\u5F00\u6536\u8D27\u5730\u5740\u9009\u62E9\u5668\n     * @param success \u6210\u529F\u56DE\u8C03\n     */\n    chooseAddress(success?: Function) {\n        console.log('chooseAddress', 1);\n\n        if (!this.checkApiLv(\"chooseAddress\", \"tb\")) return;\n\n        console.log('chooseAddress', 2);\n        my.authorize({\n            scopes: 'scope.addressList',\n            success: (result) => {\n                console.log('chooseAddress authorize', result);\n                my.tb.chooseAddress({\n                    addAddress: \"show\",\n                    searchAddress: \"hide\",\n                    locateAddress: \"hide\",\n                    success: (res) => {\n                        console.log('======= \u6536\u8D27\u5730\u5740 ======', JSON.stringify(res))\n                        if (success) {\n                            let data = {\n                                name: res.name,\n                                phone: res.telNumber,\n                                address: res.provinceName + res.cityName + res.countyName + res.streetName + res.detailInfo,\n                                province: res.provinceName,\n                                city: res.cityName,\n                                county: res.countyName,\n                                street: res.streetName,\n                                detailInfo: res.detailInfo\n                            }\n                            success(data);\n                        }\n                    },\n                    fail: (res) => {\n                        success && success(null)\n                        console.error('======= \u6536\u8D27\u5931\u8D25 ======', JSON.stringify(res))\n                    },\n                });\n            },\n        })\n\n    }\n\n    /**\n     * \u6253\u5F00\u5165\u4F1A\u63D2\u4EF6\n     */\n    openMember(closeCB, resultCB) {\n        if (!Laya.Browser.onTBMiniGame) return;\n        if (this._openid == undefined || this._openid == \"\") {\n            this.login();\n            return;\n        }\n        let app = getApp();\n        if (app[\"openMember\"]) {\n            app[\"openMember\"](closeCB, resultCB);\n        }\n    }\n\n    /**\n     * \u662F\u5426\u4E3A\u4F1A\u5458\n     */\n    checkMember(callback) {\n        if (!Laya.Browser.onTBMiniGame) return;\n        if (this._openid == undefined || this._openid == \"\") {\n            this.login();\n            return;\n        }\n        console.log('==== checkMember ====');\n        let app = getApp();\n        if (app[\"checkMember\"]) {\n            app[\"checkMember\"](callback);\n        }\n    }\n\n    //\u4FDD\u5B58\u5230\u961F\u5217\n    sendMsg(data, callBack, priority?: number) {\n        priority = (priority == undefined) ? 2 : priority;\n        let msg = { data: data, callBack: callBack, priority: priority };\n        for (let i = this._dataQueue.length - 1; i >= 0; i--) {\n            let tmp = this._dataQueue[i];\n            //\u6309\u7167\u4F18\u5148\u7EA7\u63D2\u5165\u6570\u636E\n            if (tmp.priority <= priority) {\n                //\u63D2\u5165\u6570\u636E\n                this._dataQueue.splice(i + 1, 0, msg);\n                //console.log(\"\u6570\u636E\u63D2\u5165\u6210\u529F\uFF0C\u6D88\u606Fid = \", msg.data.id);\n                console.log(\"this._dataQueue = \", this._dataQueue);\n                return;\n            }\n        }\n\n        //\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u76F4\u63A5\u63D2\u5165\u6700\u524D\u9762\n        this._dataQueue.splice(0, 0, msg);\n        //console.log(\"\u6570\u636E\u63D2\u5165\u6210\u529F\uFF0C\u4F18\u5148\u7EA7\u6700\u9AD8, \u6D88\u606Fid = \", msg.data.id);\n        //console.log(\"this._dataQueue = \", this._dataQueue);\n    }\n\n    onUpdate() {\n        if (this._dataQueue.length > 0) {\n            let msg = this._dataQueue.shift();\n            if (msg != undefined && msg != null) {\n                this.sendServer(msg.data, msg.callBack);\n                console.log(\"\u53D1\u9001\u6570\u636E\u6210\u529F\uFF0C\u6D88\u606Fid = \", msg.data.id);\n                //console.log(\"this._dataQueue = \", this._dataQueue);\n            }\n        }\n    }\n\n    phoneVibrate() {\n        my.vibrate({\n            success: () => {\n\n            }\n        });\n    }\n\n    //\u914D\u7F6E\u540D\u5B57\uFF0C\u7279\u6B8A\u4EBA\u5458\u6D4B\u8BD5\u7528\n    setName(name) {\n        let app: any = getApp();\n        app.setName(name);\n    }\n\n    //\u83B7\u53D6\u7248\u672C\u7C7B\u578B\uFF1A\u53D1\u5E03\u3001\u8C03\u8BD5..\n    getRunScene(cb) {\n        if (!this.checkApiLv(\"getRunScene\")) return;\n        my.getRunScene({\n            success(result) {\n                cb(result.envVersion)\n            },\n        })\n    }\n\n    //\u4EFB\u52A1\u63D2\u4EF6-\u83B7\u53D6\u4EFB\u52A1\u5217\u8868\n    getTaskList(cb) {\n        let app: any = getApp();\n        app.getTaskList((res) => {\n            cb && cb(res);\n        });\n    }\n\n    //\u4EFB\u52A1\u63D2\u4EF6-\u8DF3\u8F6C\u3001\u7B7E\u5230\n    triggerItem(title, cb) {\n        let app: any = getApp();\n        app.triggerItem(title, (res) => {\n            cb && cb(res);\n        });\n    }\n\n    //\u8C03\u6574\u5BFC\u822A\u680F\n    setBarColor(style) {\n        if (!Laya.Browser.onTBMiniGame) return;\n        let app: any = getApp();\n        app.setBarColor(style);\n    }\n\n    //\u83B7\u53D6openApp\u57CB\u70B9\u4E0A\u62A5\u7684\u65F6\u95F4\n    getOpenAppTime() {\n        let time = 0;\n        if (!Laya.Browser.onTBMiniGame) return time;\n        let app: any = getApp();\n        time = app.getOpenAppTime();\n        return time;\n    }\n}\n\nexport default TB.getInstance();", "\r\n\r\nexport type FGUIElement = fgui.GObject | FGUIBase;\r\nexport enum FGUIClassType {\r\n    element,//\u5143\u4EF6\r\n    scene,//\u573A\u666F\r\n    mount,//\u811A\u672C\u6302\u4EF6\r\n}\r\n/**\r\n * FGUI\u57FA\u7C7B\r\n * \u7EE7\u627F\u6B64\u57FA\u7C7B \u6784\u5EFA\u7C7B\u540E\u53EF\u4EE5\u76F4\u63A5\u663E\u793AFUI\u754C\u9762\r\n * \u6B64\u7C7B\u4E2D\u7684main\u624D\u662F\u76EE\u6807\u5143\u4EF6\r\n */\r\nexport default class FGUIBase {\r\n\r\n    //\u4E3B\u7EC4\u4EF6\u5BF9\u8C61\r\n    main: fgui.GComponent;\r\n    fguiType: FGUIClassType = FGUIClassType.element;\r\n    /*\r\n    FGUI\u4E2D\u7528\u5230\u7684\u5143\u4EF6\r\n    \u6CA1\u6709 elementPath \u8DEF\u5F84\u65F6\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    \u58F0\u660E\u7528\u6CD5\uFF1A\r\n    element = {\r\n        startBtn: null as fgui.GButton,\r\n        subjectBtn: null as fgui.GButton\r\n    }\r\n    */\r\n    element: {\r\n        [key: string]: FGUIElement\r\n    } = {} as any;\r\n    /**\r\n     * \u5143\u4EF6\u8DEF\u5F84\r\n     * \u76F4\u63A5\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\r\n     * \u8DEF\u5F84\u4E3A\u7EC4\u4EF6\u5305\u540D\r\n     */\r\n    protected elementPath: {\r\n        [key: string]: string\r\n        //\u4F8B\u5982\uFF1A\r\n        //startBtn:\"bg.pkg1.startBtn\"\r\n    } = {} as any;\r\n    /**\r\n     * \u6302\u8F7D\u7684\u7C7B\r\n     * \u5982\u679C\u8981\u662F\u7528\u81EA\u5B9A\u4E49\u7C7B \u5728 element \u58F0\u660E\u4E4B\u540E\u8BF7\u5728 classType \u6302\u8F7D\u6B64\u7C7B\u7C7B\u578B\r\n     */\r\n    protected classType: {\r\n        [key: string]: typeof FGUIBase\r\n        //\u4F8B\u5982\uFF1A\r\n        //startscene:StartScene\r\n    } = {} as any;\r\n    // element: {\r\n    //     Main: fgui.GComponent;\r\n    // } = {} as any;\r\n\r\n    constructor() {\r\n    }\r\n    SetMain(_main: fgui.GComponent) {\r\n        // console.error('SetMain', _main);\r\n        this.main = _main;\r\n    }\r\n    Init(_main: fgui.GComponent) {\r\n        // console.log('FGUIBase Main', this.Main);\r\n        this.SetMain(_main);\r\n        //\u52A0\u8F7D\u5F53\u524D\u7C7B\u6302\u8F7D\u7684\u5305\r\n        this.getElementsObj();\r\n        // console.error('this.main', this.main);\r\n        if (this.main.visible) {\r\n            this.main.visible = false;\r\n            this.onStart();\r\n            this.Show();\r\n        }\r\n    }\r\n\r\n    //\u83B7\u53D6\u58F0\u660E\u7684\u5143\u4EF6\u5B9E\u4F8B\r\n    private getElementsObj() {\r\n        let _eleKeys = Object.keys(this.element);\r\n        for (const key of _eleKeys) {\r\n            // console.log('type', typeof this.element[key]);\r\n\r\n            let _path = key;\r\n            if (key in this.elementPath) {\r\n                _path = this.elementPath[key];\r\n            }\r\n            // if (key in this.elementPath) {\r\n            //     console.error('elementPath', this.elementPath[key]);\r\n\r\n            //     let _patharr = this.elementPath[key].split('.');\r\n            //     let _parent = this.main;\r\n            //     for (let index = 0; index < _patharr.length; index++) {\r\n            //         console.error('path:', _patharr[index]);\r\n\r\n            //         _parent = _parent.getChild(_patharr[index]).asCom;\r\n            //         console.error('_parent:', _parent);\r\n\r\n            //     }\r\n            //     this.element[key] = _parent;\r\n\r\n            // }\r\n            // else {\r\n            //     // _path = this.elementPath[key];\r\n            //     this.element[key] = this.main.getChild(_path);\r\n            // }\r\n            // console.log('getChild', _path);\r\n            this.element[key] = this.main.getChildByPath(_path);\r\n            if (!this.element[key]) {\r\n                console.error(`${this.constructor.name}:\"${_path}\"\u672A\u627E\u5230,\u8BF7\u786E\u8BA4\u8DEF\u5F84\u6B63\u786E\uFF01`);\r\n                continue;\r\n            }\r\n            if (this.classType[key]) {\r\n                let _comp = (this.element[key] as fgui.GObject).asCom;\r\n                if (!_comp) {\r\n                    console.error(`\"${key}\"\u4E0D\u662FGComponent\u7C7B\u578B\uFF0C\u4E0D\u80FD\u6302\u8F7D\u7C7B\uFF01`);\r\n                    continue;\r\n                }\r\n                let _class = this.element[key] = new (this.classType[key])();\r\n                _class.Init(_comp);\r\n            }\r\n            // console.log('element', key, this.element[key]);\r\n        }\r\n    }\r\n    RemoveSelf() {\r\n        // console.error('RemoveSelf');\r\n\r\n        for (const key in this.classType) {\r\n            let _class = this.element[key] as FGUIBase\r\n            if (_class) {\r\n                _class.RemoveSelf();\r\n            }\r\n            this.element[key] = null as any;\r\n        }\r\n        this.Hide();\r\n        this.onEnd();\r\n        this.main.removeFromParent();\r\n\r\n    }\r\n    Show() {\r\n        // console.error('Show this.main', this.main);\r\n        if (this.main.visible) {\r\n            return;\r\n        }\r\n        this.main.visible = true;\r\n        this.onShow();\r\n    }\r\n    Hide() {\r\n        if (!this.main.visible) {\r\n            return;\r\n        }\r\n        this.main.visible = false;\r\n        this.onHide();\r\n    }\r\n    /**\r\n     * fgui\u5305\u663E\u793A\u5B8C\u6210\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u521D\u59CB\u5316\u64CD\u4F5C\r\n     */\r\n    onStart() { }\r\n    /**\r\n     * fgui\u5305\u4E0D\u518D\u663E\u793A\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u7ED3\u675F\u64CD\u4F5C\r\n     */\r\n    onEnd() { }\r\n    /**\r\n     * fgui\u5305\u663E\u793A\u5B8C\u6210\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u521D\u59CB\u5316\u64CD\u4F5C\r\n     */\r\n    onShow() { }\r\n    /**\r\n     * fgui\u5305\u4E0D\u518D\u663E\u793A\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u7ED3\u675F\u64CD\u4F5C\r\n     */\r\n    onHide() { }\r\n\r\n}", "import FGUIBase, { FGUIClassType, FGUIElement } from \"./FGUIBase\";\r\n\r\n\r\n\r\n\r\n/**\r\n * FGUI \u6302\u8F7D\u811A\u672C\r\n * \u6302\u8F7D\u5230\u4E00\u4E2A\u5305\u4E0A\u53EF\u4EE5\u4F7F\u7528\r\n * \u6CE8\u610F\u5FC5\u987B\u662F fgui.GComponent \u7C7B\u578B\r\n * \u5982\u679C\u662F\u5176\u4ED6\u7C7B\u578B\u53EF\u5728fgui\u4E2D\u653E\u5728Component\u7EC4\u4EF6\u4E2D\uFF0C\u4EE5\u4FBF\u4F7F\u7528\r\n */\r\nexport default abstract class FGUIMount extends fgui.GComponent {\r\n\r\n    /**\r\n     * ***\u6CE8\u610F\uFF1A\u6302\u8F7D\u7C7B\u6709\u53EF\u80FD\u5BFC\u81F4\u7EC4\u4EF6\u9ED8\u8BA4\u4E0D\u663E\u793A\uFF0C\u53EF\u8C03\u7528Show\u65B9\u6CD5\u663E\u793A\u6B64\u7EC4\u4EF6***\r\n     */\r\n\r\n    fguiType: FGUIClassType = FGUIClassType.mount;\r\n    //\u6240\u5728\u5185\u5B58\u6C60\u540D\u5B57\r\n    poolName = '';\r\n\r\n    /*\r\n    FGUI\u4E2D\u7528\u5230\u7684\u5143\u4EF6\r\n    \u6CA1\u6709 elementPath \u8DEF\u5F84\u65F6\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    \u58F0\u660E\u7528\u6CD5\uFF1A\r\n    element = {\r\n        startBtn: null as fgui.GButton,\r\n        subjectBtn: null as fgui.GButton\r\n    }\r\n    */\r\n    element: {\r\n        [key: string]: FGUIElement\r\n    } = {} as any;\r\n    /**\r\n     * \u5143\u4EF6\u8DEF\u5F84\r\n     * \u76F4\u63A5\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\r\n     * \u8DEF\u5F84\u4E3A\u7EC4\u4EF6\u5305\u540D\r\n     */\r\n    protected elementPath: {\r\n        [key: string]: string\r\n        //\u4F8B\u5982\uFF1A\r\n        //startBtn:\"bg.pkg1.startBtn\"\r\n    } = {} as any;\r\n    /**\r\n     * \u6302\u8F7D\u7684\u7C7B\r\n     * \u5982\u679C\u8981\u662F\u7528\u81EA\u5B9A\u4E49\u7C7B \u5728 element \u58F0\u660E\u4E4B\u540E\u8BF7\u5728 classType \u6302\u8F7D\u6B64\u7C7B\u7C7B\u578B\r\n     */\r\n    protected classType: {\r\n        [key: string]: typeof FGUIBase\r\n        //\u4F8B\u5982\uFF1A\r\n        //startscene:StartScene\r\n    } = {} as any;\r\n    // element: {\r\n    //     Main: fgui.GComponent;\r\n    // } = {} as any;\r\n    private isStarted = false;\r\n    // //\u4E3A\u4E86\u89E3\u51B3\u6302\u8F7D\u7C7B\u4F1A\u88AB\u81EA\u52A8\u4E0D\u663E\u793A\u95EE\u9898\r\n    // private curShowState = false;\r\n    onConstruct() {\r\n        // console.error('FGUIMount onConstruct');\r\n        this.Init();\r\n    }\r\n    private Init() {\r\n        //\u52A0\u8F7D\u5F53\u524D\u7C7B\u6302\u8F7D\u7684\u5305\r\n        this.getElementsObj();\r\n        // console.error('InitInitInit visible', this.enabled, this.visible);\r\n        //\u5EF6\u8FDF1\u79D2\u6267\u884CShow\u65B9\u6CD5\r\n        Laya.timer.frameOnce(1, this, () => {\r\n            if (this.visible) {\r\n                this.forceShow = true;\r\n                // this.visible = false;\r\n                this.Show();\r\n\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    //\u83B7\u53D6\u58F0\u660E\u7684\u5143\u4EF6\u5B9E\u4F8B\r\n    private getElementsObj() {\r\n        let _eleKeys = Object.keys(this.element);\r\n        // console.error('FGUIMount _eleKeys', _eleKeys);\r\n        for (const key of _eleKeys) {\r\n            // console.log('type', typeof this.element[key]);\r\n\r\n            let _path = key;\r\n            if (key in this.elementPath) {\r\n                _path = this.elementPath[key];\r\n            }\r\n            // console.log('getChild', _path);\r\n            this.element[key] = this.getChildByPath(_path);\r\n            if (!this.element[key]) {\r\n                console.error(`${this.constructor.name}:\"${_path}\"\u672A\u627E\u5230,\u8BF7\u786E\u8BA4\u8DEF\u5F84\u6B63\u786E\uFF01`);\r\n                continue;\r\n            }\r\n            // console.log('getElementsObj', key, this.element[key]);\r\n            if (this.classType[key]) {\r\n                let _comp = (this.element[key] as fgui.GObject).asCom;\r\n                if (!_comp) {\r\n                    console.error(`\"${key}\"\u4E0D\u662FGComponent\u7C7B\u578B\uFF0C\u4E0D\u80FD\u6302\u8F7D\u7C7B\uFF01`);\r\n                    continue;\r\n                }\r\n                let _class = this.element[key] = new (this.classType[key])();\r\n                _class.Init(_comp);\r\n\r\n            }\r\n            else {\r\n\r\n            }\r\n            // console.log('element', key, this.element[key]);\r\n        }\r\n    }\r\n    removeFromParent() {\r\n        for (const key in this.classType) {\r\n            let _class = this.element[key] as FGUIBase\r\n            if (_class) {\r\n                _class.RemoveSelf();\r\n            }\r\n            this.element[key] = null as any;\r\n        }\r\n        this.Hide();\r\n        this.onEnd();\r\n        super.removeFromParent();\r\n    }\r\n    private forceShow = false;\r\n\r\n    Show() {\r\n        if (this.visible && !this.forceShow) {\r\n            return;\r\n        }\r\n        this.forceShow = false;\r\n        this.visible = true;\r\n        if (!this.isStarted) {\r\n            this.onStart();\r\n            this.isStarted = true;\r\n        }\r\n        this.onShow();\r\n    }\r\n    Hide() {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.visible = false;\r\n        this.onHide();\r\n    }\r\n    /**\r\n     * fgui\u5305\u663E\u793A\u5B8C\u6210\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u521D\u59CB\u5316\u64CD\u4F5C\r\n     */\r\n    onStart() { }\r\n    /**\r\n     * fgui\u5305\u4E0D\u518D\u663E\u793A\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u7ED3\u675F\u64CD\u4F5C\r\n     */\r\n    onEnd() { }\r\n    /**\r\n     * fgui\u5305\u663E\u793A\u5B8C\u6210\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u521D\u59CB\u5316\u64CD\u4F5C\r\n     */\r\n    onShow() { }\r\n    /**\r\n     * fgui\u5305\u4E0D\u518D\u663E\u793A\r\n     * \u91CD\u5199\u53EF\u8FDB\u884C\u4E00\u4E9B\u7ED3\u675F\u64CD\u4F5C\r\n     */\r\n    onHide() { }\r\n\r\n}", "\nexport const IsCDN = true;\n/**\n * FGUI\u914D\u7F6E\u6587\u4EF6\n */\nexport const FGUIConfig = {\n    /*  fgui\u8D44\u6E90\u6240\u5728cdn\u7684\u8DEF\u5F84,\n        \u5B9E\u9645cdn\u8DEF\u5F84\u4E3A CDNBasePath+resBase\n        \u4F8B\u5982\uFF1A\"https://oss.ixald.com/Cattle/Laya/bin/res/FFGUI/\"\n    */\n    CDNBasePath: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/normal/C_client/\" + 'v16/',\n\n    //\u672C\u5730\u8D44\u6E90\u8DEF\u5F84 (bin\u4E0B)\n    resBase: 'res/FGUI/',\n\n    //\u6587\u4EF6\u540E\u7F00\u683C\u5F0F(\u9ED8\u8BA4fui,\u4F46\u662F\u5C0F\u6E38\u620F\u4E0D\u652F\u6301\uFF0C\u6240\u4EE5\u4F7F\u7528\u5176\u4ED6\u81EA\u5B9A\u4E49\u683C\u5F0F)\n    FileExtension: 'txt',\n\n    /*\u8D44\u6E90\u5305  \n    \u5305\u540D:{\n        isCDN\u662F\u5426\u662Fcdn\u8FDC\u7A0B\u8D44\u6E90,\n        ImageN:\u5305\u76F8\u5173\u56FE\u7247\uFF08\u5305\u540C\u540D\u56FE\u7247,png\u683C\u5F0F\uFF09\u6570\u91CF,\n        aloneImages:\u5355\u72EC\u5BFC\u51FA\u7684\u7EB9\u7406\u96C6\u540D\n    }*/\n    Pakages: {\n        // StartScene: { isCDN: false, ImageN: 1 ,aloneImages:[], class: StartScene},\n        GameCommon: { isCDN: IsCDN, ImageN: 2 },\n\n        StartScene: { isCDN: IsCDN, ImageN: 1, aloneImages: ['StartScene_atlas_9ffy16.png'] },\n\n        GameScene: { isCDN: IsCDN, ImageN: 2 },\n\n        // EditorScene: { isCDN: false, ImageN: 1 },\n    },\n};\nexport type PkgNameType = keyof typeof FGUIConfig.Pakages;\n", "import Alert from \"../../../fgui/Alert\";\r\nimport { FGUIConfig, PkgNameType } from \"../../FGUIConfig\";\r\nimport FGUIBase from \"./FGUIBase\";\r\nimport FGUIMount from \"./FGUIMount\";\r\nimport FGUIScene from './FGUIScene';\r\n\r\n/**\r\n * fgui\u5DE5\u5177\u7C7B\r\n */\r\nclass FGUIUtil_C {\r\n\r\n    private loadedPakages: PkgNameType[] = [];\r\n\r\n    private static instance: FGUIUtil_C = null as any;\r\n    static INS() {\r\n        if (!this.instance) {\r\n            this.instance = new FGUIUtil_C();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    //fgui \u521D\u59CB\u914D\u7F6E\r\n    private isinit = false;\r\n    Init() {\r\n        if (this.isinit) {\r\n            return;\r\n        }\r\n        fairygui.UIConfig.packageFileExtension = FGUIConfig.FileExtension;\r\n        Laya.stage.addChild(fgui.GRoot.inst.displayObject);\r\n        fgui.GRoot.inst.displayObject.zOrder = 2;\r\n        this.loadedPakages = [];\r\n        this.isinit = true;\r\n    }\r\n    //-------------------------------------------------------\u8D44\u6E90\u9884\u52A0\u8F7D------------------------------------------------//\r\n    /**\r\n     * \u9884\u52A0\u8F7D\u8D44\u6E90\r\n     * @param _pakageInfo \u8D44\u6E90\u5305\u4FE1\u606F\r\n     */\r\n    async PreLoadResouce(_pakageInfo: PkgNameType | PkgNameType[] | 'All' = 'All', callBack?: Function) {\r\n        let _arr = this.getUnloadPkgs(_pakageInfo);\r\n        // console.log('PreLoadResouce _arr', _arr);\r\n\r\n        if (_arr.length <= 0) {\r\n            return true;\r\n        }\r\n        return new Promise<boolean>(rs => {\r\n            let _allresN = _arr.length;\r\n            let _result = true;\r\n            let _loaded = () => {\r\n                _allresN--;\r\n                if (_allresN <= 0) {\r\n                    callBack && callBack();\r\n                    rs(_result);\r\n                }\r\n\r\n            }\r\n            for (const _pkg of _arr) {\r\n                // let _pkgInfo = FGUIConfig.Pakages[_pkg];\r\n                // console.log('PreLoadResouce _pkgInfo', _pkgInfo);\r\n                // if (!_pkgInfo.isCDN) {\r\n                //     this.loadedPakages.push(_pkg);\r\n                //     _loaded();\r\n                //     continue;\r\n                // }\r\n                let _resArr = this.getPkgAllRes(_pkg);\r\n                Laya.loader.load(_resArr, Laya.Handler.create(this, (result, result2) => {\r\n                    if (result) {\r\n                        let _package = fgui.UIPackage.addPackage(this.getPackageBasePath(_pkg) + _pkg);\r\n                        this.loadedPakages.push(_pkg);\r\n                        // console.log('[PreLoadResouce] ' + _pkg, '\u52A0\u8F7D\u6210\u529F');\r\n                        console.log('[PreLoadResouce] ' + _pkg, '\u52A0\u8F7D\u6210\u529F', _package);\r\n                    }\r\n                    else {\r\n                        _result = false;\r\n                        console.error('[PreLoadResouce] ' + _pkg, '\u52A0\u8F7D\u5931\u8D25');\r\n                    }\r\n                    _loaded();\r\n\r\n                }), Laya.Handler.create(this, (result, result2) => {\r\n                    // console.error('[loadloadloadload] ', result, result2);\r\n\r\n                }, undefined, false));\r\n            }\r\n\r\n\r\n\r\n        })\r\n    }\r\n    /**\r\n     * \u52A0\u8F7Dfgui\u5305\r\n     * @param _pakage \r\n     * @param _caller \r\n     * @param _callback \r\n     */\r\n    async loadPackage(_pakage: PkgNameType, _caller: any, _callback: Function) {\r\n\r\n        let _r = await this.PreLoadResouce(_pakage);\r\n        // console.log('loadPackage000', _pakage, _r);\r\n        if (!_r) {\r\n            return _r;\r\n        }\r\n        // console.log('loadPackage', _pakage);\r\n\r\n\r\n        fgui.UIPackage.loadPackage(this.getPackageBasePath(_pakage) + _pakage, Laya.Handler.create(_caller, _callback));\r\n        return _r;\r\n        // fgui.UIPackage.addPackage( _path);\r\n        // _callback();\r\n        // fgui.UIPackage.loadPackage(this.CDNBasePath + _path, Laya.Handler.create(_caller, _callback));\r\n\r\n    }\r\n    //-------------------------------------------------------\u516C\u7528\u52A8\u753B------------------------------------------------//\r\n    //\u5F39\u5165\u52A8\u753B\r\n    ActionPopIn(_node: any, _endcallbacK?: Function) {\r\n        _node.setScale(0.3, 0.3);\r\n        Laya.Tween.to(_node, { scaleX: 1.15, scaleY: 1.15, }, 150, Laya.Ease.sineOut, Laya.Handler.create(this, () => {\r\n            // Laya.Tween.to(_node, { scaleX: 1.1, scaleY: 1.1 }, 200, undefined, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(_node, { scaleX: 1, scaleY: 1 }, 400, Laya.Ease.sineOut, Laya.Handler.create(this, () => {\r\n                _endcallbacK && _endcallbacK();\r\n            }));\r\n            // }));\r\n        }));\r\n    }\r\n    //\u5F39\u51FA\u52A8\u753B\r\n    ActionPopOut(_node: any, _endcallbacK?: Function) {\r\n        Laya.Tween.to(_node, { scaleX: 1.1, scaleY: 1.1, }, 200, Laya.Ease.linearOut, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(_node, { scaleX: 0, scaleY: 0 }, 200, Laya.Ease.linearIn, Laya.Handler.create(this, () => {\r\n                _endcallbacK && _endcallbacK();\r\n            }));\r\n        }));\r\n    }\r\n    //-------------------------------------------------------FGUI\u573A\u666F------------------------------------------------//\r\n    private curFGUI: FGUIScene | null = null;\r\n    /**\r\n     * \u663E\u793AFGUI \u540C\u4E00\u65F6\u95F4\u53EA\u4F1A\u51FA\u73B0\u4E00\u4E2A\r\n     * Scene\u7C7B\u578B\r\n     * @param UIClass \u7C7B\u540D\r\n     */\r\n    async ShowScene<T extends (typeof FGUIScene)>(_class: T, _callBack?: Function) {\r\n        this.Init();\r\n        return new Promise<void>((rs) => {\r\n            let _lastScene = this.curFGUI;\r\n            // console.error('_lastScene', _lastScene);\r\n            this.curFGUI = new (_class as any)();\r\n            // console.error('curFGUI', this.curFGUI);\r\n            if (!this.curFGUI.AddScene(() => {\r\n                this.CloseScene(_lastScene);\r\n                _callBack && _callBack(this.curFGUI);\r\n                rs && rs();\r\n            })) {\r\n                this.curFGUI = null;\r\n            }\r\n\r\n        })\r\n\r\n\r\n    }\r\n    //\u5DF2\u6301\u6709\u672A\u9500\u6BC1\u7C7B\r\n    private freeScene = {};\r\n    /**\r\n     * \u663E\u793A\u81EA\u7531FGUI\u573A\u666F \r\n     * \u9700\u8981 \u8C03\u7528 closeScene\u624B\u52A8\u63A7\u5236\u9500\u6BC1\r\n     * \u4E0D\u9500\u6BC1\u518D\u6B21\u8C03\u7528\u4E0D\u4F1A\u91CD\u590D\u521B\u5EFA\r\n     * Scene\u7C7B\u578B\r\n     * @param UIClass \u7C7B\u540D\r\n     */\r\n    ShowFreeScene<T extends (typeof FGUIScene)>(_class: T, _callBack?: (_class: any) => void) {\r\n\r\n        //\u56E0\u4E3A\u6DD8\u5B9D\u9884\u89C8\u4E2D\u4E0D\u80FD\u8BC6\u522B_class.name\uFF0C\u6240\u4EE5\u9700\u8981\u6839\u636E\u7C7B\u4E2D\u4FE1\u606F\u5236\u4F5C\u552F\u4E00key\r\n        //\uFF08\u539F\u56E0\u53EF\u80FD\u662F\u538B\u7F29\u6DF7\u6DC6\u8FD0\u884C\u73AF\u5883\u4E0B\u65B9\u6CD5\u540D\u76F8\u540C\uFF09\r\n        let _soleKey = this.getFGUISceneSoloKey(_class);\r\n        // console.error('_name', _soleKey);\r\n        this.Init();\r\n        let _freeScene: FGUIScene = null as any;\r\n        if (_soleKey in this.freeScene) {\r\n            _freeScene = this.freeScene[_soleKey];\r\n            // new Alert(\"\u5DF2\u5B58\u5728\u7C7B\uFF1A\" + _class.name);\r\n            // console.error('\u5DF2\u5B58\u5728\u7C7B\uFF1A', _soleKey);\r\n        }\r\n        if (!_freeScene) {\r\n            _freeScene = new (_class as any)();\r\n        }\r\n        // console.error('ShowFreeScene _class', _class.name);\r\n\r\n        // console.error('curFGUI', this.curFGUI);\r\n        if (!_freeScene.AddScene(() => {\r\n            // _freeScene.main.sortingOrder = 2;\r\n            this.freeScene[_soleKey] = _freeScene;\r\n            // new Alert(\"_freeScene\uFF1A\" + JSON.stringify(_freeScene.mainName), () => { }, () => { });\r\n            _callBack && _callBack(_freeScene as any);\r\n        })) {\r\n            this.curFGUI = null;\r\n        }\r\n        return _freeScene;\r\n\r\n        // new Alert(\" _class\" + (typeof _class));\r\n\r\n\r\n\r\n    }\r\n    /**\r\n     * \u5173\u95ED\u6240\u6709\r\n     */\r\n    CloseScene(_fguiScene: FGUIScene) {\r\n        // console.error('_fguiScene', _fguiScene);\r\n\r\n        // if (!_fguiScene) {\r\n        //     _fguiScene = this.curFGUI;\r\n        //     console.error('this.curFGUI', this.curFGUI);\r\n        //     this.curFGUI = null;\r\n        // }\r\n        // console.error('closeScene', _fguiScene.constructor.name);\r\n\r\n        if (_fguiScene) {\r\n            _fguiScene.RemoveSelf && _fguiScene.RemoveSelf();\r\n            let _soleKey = this.getFGUISceneSoloKey(_fguiScene.constructor);\r\n            // let _name = _fguiScene.constructor.name;\r\n            // console.error('CloseScene _soleKey', _soleKey);\r\n\r\n            if (_soleKey in this.freeScene) {\r\n                // console.error('\u9500\u6BC1\u7C7B\uFF1A', _soleKey);\r\n\r\n                delete this.freeScene[_soleKey];\r\n            }\r\n            // this.curFGUI.destroy && this.curFGUI.destroy();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    //-------------------------------------------------------\u9884\u5236\u4F53------------------------------------------------//\r\n    /**\r\n     * \u521B\u5EFA\u9884\u5236\u4F53\r\n     */\r\n    async CreatePrefab(_parent: fgui.GComponent, _pkgName: PkgNameType, _compName: string, _class: new () => FGUIMount, _usePool = true) {\r\n        return new Promise<FGUIMount>(rs => {\r\n            this.loadPackage(_pkgName, this, () => {\r\n                // console.error('CreatePrefab000', _pkgName, _compName);\r\n\r\n                fgui.UIObjectFactory.setExtension(fgui.UIPackage.getItemURL(_pkgName, _compName), _class);\r\n                // console.error('CreatePrefab111', _pkgName, _compName);\r\n                // this.curFGUI = _fgui;\r\n                //\u83B7\u53D6Main\u7EC4\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u5230\u5F53\u524D\u754C\u9762\r\n                let _createFun = () => {\r\n                    return fgui.UIPackage.createObject(_pkgName, _compName, _class);\r\n                }\r\n                let _main: any = null;\r\n                if (_usePool) {\r\n                    let _poolName = _pkgName + _compName;\r\n                    _main = Laya.Pool.getItemByCreateFun(_poolName, _createFun, this);\r\n                    _main.poolName = _poolName;\r\n                }\r\n                else {\r\n                    _main = _createFun();\r\n                    _main.poolName = '';\r\n                }\r\n                _main.usePool = _usePool;\r\n                // let _main = fgui.UIPackage.createObject(_pkgName, _compName, _class) as any;\r\n                _main.addRelation(_parent, fgui.RelationType.Size);\r\n                _parent.addChild(_main);\r\n                // console.error('_main', 'Init');\r\n                // _main.Init();\r\n                rs(_main);\r\n            });\r\n        })\r\n    }\r\n    RecyclePrefab(_obj: FGUIMount) {\r\n        if (_obj.poolName != '') {\r\n            Laya.Pool.recover(_obj.poolName, _obj);\r\n        }\r\n        _obj.removeFromParent();\r\n\r\n    }\r\n\r\n    //-------------------------------------------------------\u5185\u90E8\u65B9\u6CD5------------------------------------------------//\r\n    //\u751F\u6210FGUIScene\u7684\u552F\u4E00key\r\n    private getFGUISceneSoloKey(_sceneFunction: Function) {\r\n        let _str = _sceneFunction.toString();\r\n        let _soleKey = ''\r\n        //\u6839\u636E\u7C7B\u4E2D\u6B64\u5C5E\u6027\u751F\u6210\r\n        const nameKs = ['pkgName', 'mainName'];\r\n        for (const Key of nameKs) {\r\n            let _idx = _str.indexOf(Key);\r\n            if (_idx < 0) {\r\n                continue;\r\n            }\r\n            _soleKey += _str.slice(_idx, _idx + 30);\r\n        }\r\n        return _soleKey;\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u5F53\u524D\u5305\u7684\u57FA\u7840\u8D44\u6E90\u8DEF\u5F84\r\n     * @param _pakage \r\n     */\r\n    private getPackageBasePath(_pakage: PkgNameType) {\r\n        let _pkg = FGUIConfig.Pakages[_pakage];\r\n        let _path = (_pkg.isCDN ? FGUIConfig.CDNBasePath : '') + FGUIConfig.resBase;\r\n        return _path;\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u672A\u88AB\u52A0\u8F7D\u7684\u8D44\u6E90\u5305\r\n     * \u5DF2\u52A0\u8F7D\u8FC7\u4F1A\u88AB\u5FFD\u7565\r\n     * @param _pakageInfo \r\n     */\r\n    private getUnloadPkgs(_pakageInfo: PkgNameType | PkgNameType[] | 'All' = 'All') {\r\n        let _arr: PkgNameType[] = [];\r\n        if ('All' == _pakageInfo) {\r\n            for (const key of (Object.keys(FGUIConfig.Pakages) as PkgNameType[])) {\r\n                if (this.loadedPakages.indexOf(key) < 0) {\r\n                    _arr.push(key)\r\n                }\r\n            }\r\n        }\r\n        else if (typeof _pakageInfo == 'string') {\r\n            if (this.loadedPakages.indexOf(_pakageInfo) < 0) {\r\n                _arr.push(_pakageInfo)\r\n            }\r\n\r\n        }\r\n        else {\r\n            for (const key of _pakageInfo) {\r\n                if (this.loadedPakages.indexOf(key) < 0) {\r\n                    _arr.push(key)\r\n                }\r\n            }\r\n        }\r\n        return _arr;\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u5F53\u524D\u5305\u7684\u6240\u6709\u8D44\u6E90\u4FE1\u606F\r\n     * @param _pkg \r\n     */\r\n    private getPkgAllRes(_pkg: PkgNameType) {\r\n        let _pkgInfo = FGUIConfig.Pakages[_pkg];\r\n        let _path = this.getPackageBasePath(_pkg);\r\n        let _resArr: any[] = [];\r\n        //\u5305\u8D44\u6E90\r\n        _resArr.push({ url: _path + _pkg + '.' + FGUIConfig.FileExtension, type: Laya.Loader.BUFFER })\r\n        //\u56FE\u7247\u8D44\u6E90 .png\u683C\u5F0F\r\n        if (_pkgInfo['ImageN']) {\r\n            for (let index = 0; index < _pkgInfo['ImageN']; index++) {\r\n                let _extStr = '';\r\n                if (index > 0) {\r\n                    _extStr = '_' + index;\r\n                }\r\n                _resArr.push({ url: _path + _pkg + `_atlas0${_extStr}.png`, type: Laya.Loader.IMAGE })\r\n            }\r\n        }\r\n        //\u5176\u4ED6\u56FE\u7247\u8D44\u6E90\r\n        let _aloneImages: string[] = _pkgInfo['aloneImages'];\r\n        if (_aloneImages && _aloneImages.length > 0) {\r\n            for (const imag of _aloneImages) {\r\n                _resArr.push({ url: _path + imag, type: Laya.Loader.IMAGE })\r\n            }\r\n        }\r\n        return _resArr;\r\n    }\r\n}\r\nexport default FGUIUtil_C.INS();", "import { PkgNameType } from \"../../Global/FGUIConfig\";\r\nimport FGUIMount from \"../../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../../Global/modules/FGUI/FGUIUtil\";\r\nimport { GameLogic } from \"../GameLogic\";\r\n\r\n\r\nexport interface GetScoreInfo {\r\n    score: number,\r\n    pos: [number, number], //\u6240\u5728\u4F4D\u7F6E\r\n}\r\n\r\nexport default class GetScore extends FGUIMount {\r\n\r\n    private static myPkg: PkgNameType = 'GameScene';\r\n    private static myComp = 'GetScore';\r\n    element = {\r\n        getScoreLabel: null as fgui.GTextField,\r\n    }\r\n\r\n    // @property\r\n    // text: string = 'hello';\r\n    curInfo?: GetScoreInfo;\r\n    // LIFE-CYCLE CALLBACKS:\r\n    //ai\u667A\u529B\u8303\u56F4\r\n    private static myParent: any = null as any;\r\n    static allObj: GetScore[] = [];\r\n    static SetParent(_parent: any) {\r\n        this.myParent = _parent;\r\n    }\r\n    static async Create(_info: GetScoreInfo) {\r\n        if (!this.myParent) {\r\n            console.error('[Create]\u8BF7\u5148\u8BBE\u7F6E\u7236\u8282\u70B9');\r\n            return null;\r\n        }\r\n        let _obj = await FGUIUtil.CreatePrefab(this.myParent, this.myPkg, this.myComp, GetScore) as GetScore;\r\n        this.allObj.push(_obj);\r\n        _obj.Show();\r\n        _obj.init(_info);\r\n        return _obj;\r\n    }\r\n    static RemoveAll() {\r\n        while (this.allObj.length > 0) {\r\n            // console.error('RemoveAllRemoveAll');\r\n            let _obj = this.allObj.pop();\r\n            _obj && _obj.removeSelf();\r\n        }\r\n    }\r\n    removeSelf() {\r\n        try {\r\n            this.visible = false;\r\n            FGUIUtil.RecyclePrefab(this);\r\n        } catch (error) {\r\n            // console.error('GetScore removeSelf', error);\r\n        }\r\n    }\r\n    removeInAllObj() {\r\n        let _idx = GetScore.allObj.findIndex(v => v.id == this.id);\r\n        if (_idx > -1) {\r\n            // console.log('removeInAllObj GetScore');\r\n            GetScore.allObj.splice(_idx, 1);\r\n        }\r\n    }\r\n    init(_info: GetScoreInfo) {\r\n        // console.error('init GetScore', _info);\r\n        // console.error('this', this);\r\n        this.curInfo = _info;\r\n        this.touchable = false;\r\n        this.setXY(_info.pos[0], _info.pos[1]);\r\n        this.element.getScoreLabel.text = '' + _info.score;\r\n        this.runMyAction();\r\n    }\r\n    onEnd() {\r\n        Laya.Tween.clearAll(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    runMyAction() {\r\n        this.setScale(0, 0);\r\n        this.alpha = 1;\r\n\r\n        let _py = this.curInfo.pos[1] - 50;\r\n        Laya.Tween.to(this, { scaleX: 1.1, scaleY: 1.1, y: _py }, 300, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(this, { scaleX: 0.9, scaleY: 0.9 }, 200, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                Laya.Tween.to(this, { scaleX: 1, scaleY: 1 }, 100, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                    Laya.Tween.to(this, { alpha: 0, y: _py - 200 }, 1000, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                        this.removeSelf();\r\n                    }));\r\n                }));\r\n            }));\r\n        }));\r\n        this.setScale(0, 0);\r\n    }\r\n    // onLoad () {}\r\n}\r\n", "import { AudioKey } from \"../../Global/AudioConfig\";\r\nimport { PkgNameType } from \"../../Global/FGUIConfig\";\r\nimport HHAudio from \"../../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../../Global/modules/FGUI/FGUIUtil\";\r\nimport { GameLogic } from \"../GameLogic\";\r\n\r\n\r\nexport interface ComboEffectInfo {\r\n    comboN: number,\r\n    pos: [number, number], //\u6240\u5728\u4F4D\u7F6E\r\n}\r\n\r\nexport default class ComboEffect extends FGUIMount {\r\n\r\n    private static myPkg: PkgNameType = 'GameScene';\r\n    private static myComp = 'ComboEffect';\r\n    element = {\r\n        comboText: null as fgui.GTextField,\r\n    }\r\n\r\n    // @property\r\n    // text: string = 'hello';\r\n    curInfo?: ComboEffectInfo;\r\n    // LIFE-CYCLE CALLBACKS:\r\n    //ai\u667A\u529B\u8303\u56F4\r\n    private static myParent: any = null as any;\r\n    static allObj: ComboEffect[] = [];\r\n    static SetParent(_parent: any) {\r\n        this.myParent = _parent;\r\n    }\r\n    static async Create(_info: ComboEffectInfo) {\r\n        if (!this.myParent) {\r\n            console.error('[Create]\u8BF7\u5148\u8BBE\u7F6E\u7236\u8282\u70B9');\r\n            return null;\r\n        }\r\n        let _obj = await FGUIUtil.CreatePrefab(this.myParent, this.myPkg, this.myComp, ComboEffect) as ComboEffect;\r\n        this.allObj.push(_obj);\r\n        _obj.Show();\r\n        _obj.init(_info);\r\n        return _obj;\r\n    }\r\n    static RemoveAll() {\r\n        while (this.allObj.length > 0) {\r\n            // console.error('RemoveAllRemoveAll');\r\n            let _obj = this.allObj.pop();\r\n            _obj && _obj.removeSelf();\r\n        }\r\n    }\r\n    removeSelf() {\r\n        try {\r\n            this.visible = false;\r\n            FGUIUtil.RecyclePrefab(this);\r\n        } catch (error) {\r\n            // console.error('ComboEffect removeSelf', error);\r\n        }\r\n    }\r\n    removeInAllObj() {\r\n        let _idx = ComboEffect.allObj.findIndex(v => v.id == this.id);\r\n        if (_idx > -1) {\r\n            // console.log('removeInAllObj ComboEffect');\r\n            ComboEffect.allObj.splice(_idx, 1);\r\n        }\r\n    }\r\n    init(_info: ComboEffectInfo) {\r\n        // console.error('init ComboEffect', _info);\r\n        // console.error('this', this);\r\n        this.curInfo = _info;\r\n        this.setXY(_info.pos[0], _info.pos[1]);\r\n        this.element.comboText.text = '' + _info.comboN;\r\n        this.runMyAction();\r\n        this.touchable = false;\r\n    }\r\n    onEnd() {\r\n        Laya.Tween.clearAll(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n\r\n    runMyAction() {\r\n        this.setScale(0, 0);\r\n        this.alpha = 1;\r\n\r\n        //[2,3][5][6][7,9]\r\n        let _audio: AudioKey | null = null;\r\n        switch (this.curInfo.comboN) {\r\n            case 2:\r\n                // case 3:\r\n                _audio = 'combo1';\r\n                break;\r\n            case 4:\r\n                _audio = 'combo2';\r\n                break;\r\n            // case 6:\r\n            //     _audio = 'combo3';\r\n            //     break;\r\n            case 5:\r\n            case 7:\r\n                _audio = 'combo4';\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        if (_audio) {\r\n            HHAudio.PlayEffect(_audio);\r\n        }\r\n        let _py = this.curInfo.pos[1] - 100;\r\n        Laya.Tween.to(this, { scaleX: 1.2, scaleY: 1.2, y: _py }, 300, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n\r\n            Laya.Tween.to(this, { scaleX: 0.9, scaleY: 0.9 }, 200, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                Laya.Tween.to(this, { scaleX: 1.1, scaleY: 1.1 }, 200, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                    Laya.Tween.to(this, { scaleX: 1, scaleY: 1 }, 200, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                        Laya.Tween.to(this, {}, 500, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                            Laya.Tween.to(this, { alpha: 0, y: _py - 200 }, 500, Laya.Ease.linearNone, Laya.Handler.create(this, () => {\r\n                                this.removeSelf();\r\n                            }));\r\n                        }));\r\n                    }));\r\n                }));\r\n            }));\r\n        }));\r\n        this.setScale(0, 0);\r\n    }\r\n    // onLoad () {}\r\n}\r\n", "import TB from \"../platform/TB\";\n\n/**\n * \u6570\u636E\u63A5\u53E3\u914D\u7F6E\u6587\u4EF6\n */\nexport const ServerConfig = {\n\n    //------------------------------\u77ED\u94FE\u63A5----------------------------------//\n    Http: {\n        //\u670D\u52A1\u5668ip\u5730\u5740\n        IP: \"https://service.eroswift.com/\",\n\n        //get\u63A5\u53E3\n        GetPort: {\n            GameInfo: 'customs/game/config',\n        },\n\n        //post\u8FDE\u63A5\n        PostPort: {\n            GamePostInfo: 'customs/game/config',\n        },\n    },\n\n    //------------------------------\u957F\u94FE\u63A5----------------------------------//\n    Sorcket: {},\n\n    //------------------------------\u4E91\u51FD\u6570----------------------------------//\n    Cloud: {\n        //\u662F\u5426\u5F00\u542F\u8C03\u8BD5\uFF08\u5F00\u542F\u8C03\u8BD5\u4F1A\u8FDB\u884C\u7C7B\u578B\u68C0\u9A8C\uFF09\n        EnableDebug: true,\n\n\n        //\u6240\u6709\u6D88\u606F\u5B9E\u4F8B\n        Message:\n        {\n            //\u79EF\u5206\u6392\u884C\u699C\n            ScoreRank:\n            {\n                ID: 1014,//\u6D88\u606Fid\n\n                SendData: undefined,//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData://\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F(\u5176\u4E2D\u6570\u636E\u4E3A\u4E91\u51FD\u6570\u4E0D\u751F\u6548\u65F6\u7684\u6D4B\u8BD5\u6570\u636E)\n                {\n                    curPoint: 0,// \u5F53\u524D\u79EF\u5206\n                    curRank: 1,//\u5F53\u524D\u6392\u540D\uFF08-1\uFF1A\u672A\u4E0A\u699C\uFF09\n                    list:\n                        [\n                            { nickName: '\u6635\u79F0\u6635\u79F0\u6635\u79F0\u6635\u79F0\u6635\u79F01', point: 99999, headUrl: '' },\n                            { nickName: '\u6635\u79F02', point: 20, headUrl: '' },\n                            { nickName: '\u6635\u79F03', point: 30, headUrl: '' },\n                            { nickName: '\u6635\u79F04', point: 40, headUrl: '' },\n                            { nickName: '\u6635\u79F05', point: 50, headUrl: '' },\n                            { nickName: '\u6635\u79F06', point: 60, headUrl: '' },\n                        ],//\u524D50\u540D\u73A9\u5BB6\u6570\u636E\n                },\n            },\n\n            //\u79EF\u5206\u6392\u884C\u699C\n            Notice:\n            {\n                ID: 6002,//\u6D88\u606Fid\n\n                //scene:\u573A\u666F \uFF08startGame: \u9996\u9875\u516C\u544A endGame: \u7ED3\u7B97\u9875\u516C\u544A\uFF09\n                SendData: { scene: 'startGame' } as { scene: 'startGame' | 'endGame' },//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData: {\n                    scene: 'startGame',//\u573A\u666F\n                    no: '', yes: '', //url\u5730\u5740\n                    isBuyLuckyBag: true //\u662F\u5426\u5DF2\u7ECF\u8D2D\u4E70\u8FC7\u798F\u888B\n                },//\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F\n            },\n\n            //\u67E5\u8BE2\u798F\u888B\u8BA2\u5355\u72B6\u6001\n            CheckLuckyBagOrder:\n            {\n                ID: 8001,//\u6D88\u606Fid\n\n                SendData: undefined,//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData: {\n                    price: 0,//\u573A\u666F\n                    time: 0,//\u8BA2\u5355\u65F6\u95F4\n                    record: {}, //\u8BA2\u5355\u4FE1\u606F\n                },//\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F\n            },\n\n            //\u6D3B\u52A8\u7ED3\u675F\u6211\u7684\u6392\u540D\u5956\u52B1\n            GetRankReward:\n            {\n                ID: 8002,//\u6D88\u606Fid\n\n                SendData: undefined,//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData: {\n                    curRank: 1,//\u5F53\u524D\u6392\u540D\n                    rewardType: 0,//\u5956\u54C1\u7EA7\u522B\n                    title: \"IQOO\u4EFB\u4E00\u624B\u673A\u514D\u5355\\n\uFF08\u9650618\u671F\u95F4\u652F\u4ED8\u8BA2\u5355\uFF09\", //\u5956\u54C1\u540D\u79F0\n                    pic_url: \"\",\n                    price: 0,\n                },\n                //\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F code:0\uFF1A\u6D3B\u52A8\u7ED3\u675F\u5DF2\u7ECF\u4E0A\u699C\uFF0C-3\uFF1A\u6D3B\u52A8\u7ED3\u675F\u672A\u4E0A\u699C\uFF0C\u5176\u4ED6\u4E0D\u5F39\u7A97\n            },\n\n            //\u67E5\u8BE2\u6240\u6709\u6392\u540D\u5956\u52B1\n            GetRankAllReward:\n            {\n                ID: 8003,//\u6D88\u606Fid\n\n                SendData: undefined,//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData:\n                    [\n                        //\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F\n                        {\n                            price: '\u968F\u4FBF\u7684\u4EF7\u683C',//\u5F53\u524D\u6392\u540D\n                            count: 0,//\u5F53\u524D\u6392\u540D\n                            rankNums: [1],//\u5F53\u524D\u6392\u540D\n                            id: 1,\n                            type: 1,\n                            pic_url: \"\",\n                            title: \"IQOO\u4EFB\u4E00\u624B\u673A\u514D\u5355\\n\uFF08\u9650618\u671F\u95F4\u652F\u4ED8\u8BA2\u5355\uFF09\"\n                        }, {\n                            price: 2,//\u5F53\u524D\u6392\u540D\n                            count: 0,//\u5F53\u524D\u6392\u540D\n                            rankNums: [2, 3],//\u5F53\u524D\u6392\u540D\n                            id: 1,\n                            type: 1,\n                            pic_url: \"\",\n                            title: \"IQOO\u4EFB\u4E00\u624B\u673A\u514D\u5355\\n\uFF08\u9650000\u671F\u95F4\u652F\u4ED8\u8BA2\u5355\uFF09\"\n                        }\n                    ],\n            },\n\n            //\u67E5\u8BE2\u6240\u6709\u6392\u540D\u5956\u52B1\n            GetActivityState:\n            {\n                ID: 1002,//\u6D88\u606Fid\n\n                SendData: undefined,//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData: {\n                    state: 1,//state\u6D3B\u52A8\u72B6\u6001 0|1 | 2  \uFF0C0\u6D3B\u52A8\u672A\u5F00\u59CB\uFF0C1\u6D3B\u52A8\u8FDB\u884C\u4E2D\uFF0C2\u6D3B\u52A8\u5DF2\u7ED3\u675F\n                },//\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F\n            },\n\n            //\u83B7\u53D6\u6D4F\u89C8\u65B0\u54C1\u5546\u54C1\u4FE1\u606F\n            BrowseNewInfo: {\n                ID: 8004,//\u6D88\u606Fid\n\n                SendData: undefined,//\u53D1\u9001\u6D88\u606F\u683C\u5F0F\n\n                GetData: {\n                    time: '2021-01-01 10:01:00',//\u6D3B\u52A8\u5F00\u59CB\u65F6\u95F4\n                    num_iid: '1',//\u5546\u54C1id\n                    title: '\u5546\u54C1\u540D',//\u5546\u54C1\u540D\n                    price: '',//\u5546\u54C1\u4EF7\u683C\n                },//\u83B7\u5F97\u7684\u6D88\u606F\u683C\u5F0F\n            },\n        }\n    }\n    //-----------------------------------------------------------------------//\n\n};\n//-----------------------------http\u8BF7\u6C42\u63A5\u53E3----------------------------//\nexport type GetType = keyof typeof ServerConfig.Http.GetPort;\nexport type PortType = keyof typeof ServerConfig.Http.PostPort;\nexport type HttpType = GetType | PortType;\n\n//-----------------------------\u4E91\u51FD\u6570\u8BF7\u6C42\u63A5\u53E3----------------------------//\nexport type CloudMessageType = keyof typeof ServerConfig.Cloud.Message;\n", "\r\nimport { Config } from '../../Config';\r\nimport Global from '../../Global';\r\nimport { HttpType, ServerConfig } from '../../ServerConfig';\r\nclass HttpUtil_C {\r\n\r\n    private xhr = null as any;\r\n    private static instance: HttpUtil_C = null as any;\r\n    static INS() {\r\n        if (!this.instance) {\r\n            this.instance = new HttpUtil_C();\r\n            this.instance.init();\r\n        }\r\n        return this.instance;\r\n    }\r\n    private init() {\r\n        this.xhr = new XMLHttpRequest();\r\n    }\r\n    Connect<T extends HttpType>(_port: T, reqData?: string[] | Object, callback?: (_json: any) => void) {\r\n        let _port1: string = _port;\r\n        if (_port1 in ServerConfig.Http.GetPort) {\r\n            this.Get(ServerConfig.Http.GetPort[_port1], reqData as any, callback);\r\n        }\r\n        else {\r\n            this.Post(ServerConfig.Http.PostPort[_port1], reqData, callback);\r\n        }\r\n    }\r\n    /**\r\n     * Get\u8BF7\u6C42\r\n     * \u901F\u5EA6\u5FEB\uFF0C\u4E0D\u5B89\u5168 \r\n     * @param url \u5730\u5740\r\n     * @param reqData \u8BF7\u6C42\u7684\u4FE1\u606F\r\n     * @param callback \u8FD4\u56DE\u5B57\u6BB5\r\n     */\r\n    private Get(url: string, reqData?: string[], callback?: (_json: any) => void) {\r\n        // url += \"?\";\r\n        // for (var item in reqData) {\r\n        //     url += item + \"=\" + reqData[item] + \"&\";\r\n        // }\r\n        if (reqData && reqData.length > 0) {\r\n            for (const _data of reqData) {\r\n                url += '/' + _data;\r\n            }\r\n        }\r\n        this.xhr.onreadystatechange = () => {\r\n            if (this.xhr.readyState == 4) {\r\n                if (this.xhr.status >= 200 && this.xhr.status < 400) {\r\n                    var response = this.xhr.responseText;\r\n                    // console.log(\"response\", response)\r\n                    if (response) {\r\n                        var responseJson = JSON.parse(response);\r\n                        callback(responseJson);\r\n                    } else {\r\n                        console.log(\"\u8FD4\u56DE\u6570\u636E\u4E0D\u5B58\u5728\")\r\n                        callback(false);\r\n                    }\r\n                } else {\r\n                    console.log(\"\u8BF7\u6C42\u5931\u8D25\")\r\n                    callback(false);\r\n                }\r\n            }\r\n        };\r\n        // console.log('url', ServerConfig.Http.IP + url);\r\n\r\n        this.xhr.open(\"GET\", ServerConfig.Http.IP + url, true);\r\n        this.xhr.send();\r\n    }\r\n    /**\r\n     * Post\u8BF7\u6C42\r\n     * \u901F\u5EA6\u76F8\u5BF9\u6162\uFF0C\u5B89\u5168\u6027\u8F83\u597D \r\n     * @param url \u5730\u5740\r\n     * @param reqData \u8BF7\u6C42\u7684\u4FE1\u606F\r\n     * @param callback \u8FD4\u56DE\u5B57\u6BB5\r\n     */\r\n    private Post(url: string, reqData: Object, callback?: (_json: any) => void) {\r\n        // console.log(url)\r\n        // console.log(reqData)\r\n        //1.\u62FC\u63A5\u8BF7\u6C42\u53C2\u6570\r\n        // var param = \"\";\r\n        // for (var item in reqData) {\r\n        //     param += item + \"=\" + reqData[item] + \"&\";\r\n        // }\r\n        //2.\u53D1\u8D77\u8BF7\u6C42\r\n        this.xhr.onreadystatechange = () => {\r\n            if (this.xhr.readyState == 4) {\r\n                if (this.xhr.status >= 200 && this.xhr.status < 400) {\r\n                    var response = this.xhr.responseText;\r\n                    // console.log(response)\r\n                    if (response) {\r\n                        var responseJson = JSON.parse(response);\r\n                        callback && callback(responseJson);\r\n                    } else {\r\n                        console.log(\"\u8FD4\u56DE\u6570\u636E\u4E0D\u5B58\u5728\")\r\n                        callback && callback(false);\r\n                    }\r\n                } else {\r\n                    console.log(\"\u8BF7\u6C42\u5931\u8D25\")\r\n                    callback && callback(false);\r\n                }\r\n            }\r\n        };\r\n        this.xhr.open(\"POST\", ServerConfig.Http.IP + url, true);\r\n        this.xhr.setRequestHeader('Access-Control-Allow-Origin', '*');\r\n        this.xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET, POST');\r\n        this.xhr.setRequestHeader('Access-Control-Allow-Headers', 'x-requested-with,content-type');\r\n        this.xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n        this.xhr.setRequestHeader('token', \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0aGlyZFBhcnR5SWQiOiI1ZjNhMDQzNTM1OTY1NTBiYmZhODdhMGUiLCJpYXQiOjE1OTc3MjE4NDR9.CBPIyQE_AGQbQx8B_PkgMWs1cW0WYdiUuXRCRcNIFDk\");\r\n        // this.xhr.send(JSON.stringify(param));//param\u4E3A\u5B57\u7B26\u4E32\u5F62\u5F0F\uFF1A \"key=value\"\r\n        this.xhr.send(JSON.stringify(reqData));//reqData\u4E3Ajson\u5F62\u5F0F\uFF1A \"{key:value}\"\r\n        //\u8BF7\u7528\u771F\u673A\u6216\u6A21\u62DF\u5668\u6D4B\u8BD5\r\n    }\r\n\r\n    // //\u5207\u540E\u53F0\u4E13\u7528\u6253\u70B9\r\n    // static submitAction(action: string, data: any) {\r\n    //     if (!Global.hhgame || !Global.hhgame.currentUser) {\r\n    //         return;\r\n    //     }\r\n    //     let json = {\r\n    //         \"action\": action,\r\n    //         \"data\": data,\r\n    //         \"uid\": Global.hhgame.currentUser._id,\r\n    //         \"__appId\": Config.hhConfig.appid,\r\n    //     }\r\n    //     HttpUtil.Post(\"ActionPoint\", json);\r\n    // }\r\n\r\n}\r\nexport let HttpUtil = HttpUtil_C.INS();\r\n", "\r\n\r\nimport TB from '../../../platform/TB';\r\nimport { CloudMessageType, HttpType, ServerConfig } from '../../ServerConfig';\r\n\r\nclass CloudUtil_C {\r\n\r\n    // private xhr = null as any;\r\n    private static instance: CloudUtil_C = null as any;\r\n    static INS() {\r\n        if (!this.instance) {\r\n            this.instance = new CloudUtil_C();\r\n            this.instance.init();\r\n        }\r\n        return this.instance;\r\n    }\r\n    private init() {\r\n        // this.xhr = new XMLHttpRequest();\r\n    }\r\n    Connect<T extends CloudMessageType>(_port: T, _data: {\r\n        sendData?: typeof ServerConfig.Cloud.Message[T]['SendData'],\r\n        callBack?: (success: boolean, _getData?: typeof ServerConfig.Cloud.Message[T]['GetData'], code?: number) => void\r\n    }) {\r\n\r\n        let _message = ServerConfig.Cloud.Message[_port];\r\n        if (!_data) {\r\n            _data = {};\r\n        }\r\n\r\n        if (!Laya.Browser.onTBMiniGame) {\r\n            _data.callBack && _data.callBack(true, _message.GetData, 0);\r\n            return;\r\n        }\r\n\r\n        //\u6DFB\u52A0 activeId\r\n\r\n        if (ServerConfig.Cloud.EnableDebug) {\r\n            this.detectType(_port, _data.sendData, _message['SendData'], '\u53D1\u9001\u6D88\u606F');\r\n        }\r\n        if (!_data.sendData) {\r\n            _data.sendData = {};\r\n        }\r\n        _data.sendData['activeId'] = TB._activeId;\r\n        if (ServerConfig.Cloud.EnableDebug) {\r\n            console.log('\u53D1\u9001\u6570\u636E', _port, _data.sendData);\r\n\r\n        }\r\n        // let _port1: string = _port;\r\n        // if (_port1 in ServerConfig.Http.GetPort) {\r\n        //     this.Get(ServerConfig.Http.GetPort[_port1], reqData as any, callback);\r\n        // }\r\n        // else {\r\n        //     this.Post(ServerConfig.Http.PostPort[_port1], reqData, callback);\r\n        // }\r\n        // typeof ServerConfig.Cloud.Message[_port]\r\n\r\n        let info = { \"id\": _message.ID, \"data\": _data.sendData };\r\n        type _gettype = { code: number, message: string, data: typeof _message.GetData }\r\n        //\u6DD8\u5B9D\u4E91\u51FD\u6570\u6682\u65F6\u57FA\u4E8ETB.ts\r\n        TB.sendMsg(info, (buf: _gettype) => {\r\n            if (buf.code == 0) {\r\n                if (ServerConfig.Cloud.EnableDebug) {\r\n                    console.log('\u63A5\u6536\u6570\u636E', _port, buf);\r\n                    this.detectType(_port, buf.data, _message['GetData'], '\u63A5\u6536\u6D88\u606F');\r\n                }\r\n                _data.callBack && _data.callBack(true, buf.data, buf.code);\r\n            } else {\r\n                console.error(`[\u4E91\u51FD\u6570]\u6D88\u606F{${_port},ID:${_message.ID}}\u83B7\u53D6\u5931\u8D25:`, buf.message);\r\n                _data.callBack && _data.callBack(false, null, buf.code);\r\n            }\r\n\r\n        });\r\n    }\r\n    /**\r\n     * \u68C0\u6D4B\u6570\u636E\u7C7B\u578B\r\n     * @param _port \u6570\u636E\u540D\r\n     * @param _nD \u5B9E\u9645\u6570\u636E\r\n     * @param _oD \u6A21\u578B\u6570\u636E\r\n     */\r\n    private detectType(_port: string, _nD: any, _oD: any, otherInfo?: string) {\r\n        let _nType = typeof _nD;//\u5B9E\u9645\u6570\u636E\r\n        let _oType = typeof _oD;//\u6A21\u578B\u6570\u636E\r\n        if (_nType != _oType) {\r\n            console.error('------------------------------')\r\n            console.error('[\u4E91\u51FD\u6570]\u68C0\u6D4B\u5230\u6570\u636E\u7C7B\u578B\u4E0D\u7B26:', _port);\r\n            console.error('\u6A21\u578B\u6570\u636E\u7C7B\u578B:', _oType);\r\n            console.error('\u5B9E\u9645\u6570\u636E\u7C7B\u578B:', _nType);\r\n            if (otherInfo) {\r\n                console.error('\u5176\u4ED6\u6D88\u606F:', otherInfo);\r\n            }\r\n            console.error('------------------------------')\r\n\r\n        }\r\n        if (_oType == 'object') {\r\n            let _isoDArray = Array.isArray(_oD);\r\n            let _isnDArray = Array.isArray(_nD);\r\n            if (_isoDArray != _isnDArray) {\r\n                console.error('------------------------------')\r\n                console.error('[\u4E91\u51FD\u6570]\u68C0\u6D4B\u5230\u6570\u636E\u7C7B\u578B\u4E0D\u7B26:', _port);\r\n                console.error('\u6A21\u578B\u6570\u636E\u7C7B\u578B\u662F\u6570\u7EC4:', _isoDArray);\r\n                console.error('\u5B9E\u9645\u6570\u636E\u7C7B\u578B\u662F\u6570\u7EC4:', _isnDArray);\r\n                if (otherInfo) {\r\n                    console.error('\u5176\u4ED6\u6D88\u606F:', otherInfo);\r\n                }\r\n                console.error('------------------------------')\r\n                return;\r\n\r\n            }\r\n            for (const key in _oD) {\r\n\r\n                if (!Object.prototype.hasOwnProperty.call(_nD, key)) {\r\n                    if (!_isoDArray) {\r\n                        console.error('------------------------------')\r\n                        console.error('[\u4E91\u51FD\u6570]\u6570\u636E\u9519\u8BEF:', _port);\r\n                        console.error('\u5B9E\u9645\u6570\u636E\u4E2D\u7F3A\u5C11\u5B57\u6BB5:', key);\r\n                        if (otherInfo) {\r\n                            console.error('\u5176\u4ED6\u6D88\u606F:', otherInfo);\r\n                        }\r\n                        console.error('------------------------------')\r\n                    }\r\n                }\r\n                else {\r\n                    this.detectType(_port + '.' + key, _nD[key], _oD[key]);\r\n                }\r\n                if (_isoDArray) {\r\n                    console.log('\u6570\u7EC4\u7C7B\u578B\u4E0D\u518D\u68C0\u6D4B');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\nexport let CloudUtil = CloudUtil_C.INS();\r\n", "\r\nimport { HttpUtil } from './HttpUtil';\r\nimport { CloudUtil } from './CloudUtil';\r\n\r\nexport default class ServerAPI {\r\n    //http\u63A5\u53E3\r\n    static Http = HttpUtil;\r\n    static Cloud = CloudUtil;\r\n}", "import SoundPlayer from \"../common/SoundPlayer\";\nimport { Global } from \"../config/Global\";\nimport MainUtil from '../utils/MainUitl';\nimport MyUtils from \"../common/MyUtils\";\nimport HHAudio from \"../Global/modules/Audio/HHAudio\";\n\nexport default class Invite {\n    private _main: fgui.GComponent;\n    private _view: fgui.GComponent;\n    private _trans: fgui.Transition;\n    private _coin: number;\n    private _isBack: boolean;\n\n    constructor(opt) {\n        //\u52A0\u8F7D\u5305\uFF0C\u5B8C\u6210\u540E\u5C55\u793A\n        if (Laya.Browser.onTBMiniGame) {\n            Laya.loader.load([\n                { url: Global.hallConfig._cdn + Global.hallConfig.FGui.invite, type: Laya.Loader.BUFFER },\n                { url: Global.hallConfig._cdn + Global.hallConfig.FGui.invitePng, type: Laya.Loader.IMAGE },\n            ], Laya.Handler.create(this, () => {\n                fgui.UIPackage.addPackage(Global.hallConfig._cdn + MainUtil.getUI(Global.hallConfig.FGui.invite));\n                this.onUILoaded(opt);\n            }));\n        } else {\n            fgui.UIPackage.loadPackage(MainUtil.getUI(Global.hallConfig.FGui.invite), Laya.Handler.create(this, () => {\n                fgui.UIPackage.addPackage(MainUtil.getUI(Global.hallConfig.FGui.invite));\n                this.onUILoaded(opt);\n            }));\n        }\n    }\n\n    onUILoaded(opt) {\n        MyUtils.closeLoading();\n        this._isBack = true;\n        this._coin = 0;\n        this._main = fgui.UIPackage.createObject(\"Invite\", \"Main\").asCom;\n        this._main.makeFullScreen();\n        this._main.addRelation(fgui.GRoot.inst, fgui.RelationType.Size)\n        fgui.GRoot.inst.addChild(this._main);\n\n        this._trans = this._main.getTransition(\"packUp\");\n        this._view = this._main.getChild('invite').asCom;\n        this._view.getChild(\"confirmBtn\").onClick(this, this.onBack);\n        let inviteCtrl = this._view.getController('isInvite');\n        inviteCtrl.selectedIndex = opt.coin ? 1 : 0;//1-\u9080\u8BF7\uFF0C0-\u88AB\u9080\u8BF7\n        let tipsTxt = this._view.getChild('tipsTxt').asTextField;\n        if (inviteCtrl.selectedIndex == 0) {\n            tipsTxt.setVar('name', opt.nickName).flushVars();\n        } else {\n            tipsTxt.setVar('name', opt.nickName).flushVars();\n            //MainUtil.analysis('shareSuccess', { type: -1 });\n            // tipsTxt.setVar('name', opt.nickName).setVar('coin', '' + opt.coin).flushVars();\n            // let coinTxt = this._view.getChild('coinCom').asCom.getChild('countTxt').asTextField;\n            // coinTxt.text = '+' + opt.coin;\n            // this._coin = opt.coin;\n\n        }\n        let avatar = this._view.getChild('avatar').asLoader;\n        avatar.url = opt.headUrl;\n    }\n\n    onBack() {\n        if (this._isBack) {\n            this._isBack = false;\n            HHAudio.PlayEffect('btn');\n            var callback = Laya.Handler.create(this, function () {\n                this._main.dispose();\n                if (this._coin > 0) {\n                    MainUtil.sendCoin(this._coin);\n                }\n            })\n            this._trans.play(callback);\n        }\n\n    }\n\n}\n\n", "/**\r\n * \u65F6\u95F4\u7B49\u5F85\r\n */\r\nexport default class TimeUtil {\r\n    static wait(ms: number) {\r\n        return new Promise(rs => {\r\n            setTimeout(rs, ms);\r\n        })\r\n    }\r\n\r\n    static waitFrame(frame: number = 1) {\r\n        return new Promise<void>(rs => {\r\n            let finished = 0;\r\n            let wait = function () {\r\n                requestAnimationFrame(() => {\r\n                    if (++finished >= frame) {\r\n                        rs();\r\n                    }\r\n                    else {\r\n                        wait()\r\n                    }\r\n                })\r\n            }\r\n            wait();\r\n        })\r\n    }\r\n    //\u6309\u94AE\u7B49\u5F85,\u7ED9\u6309\u94AE\u52A0\u5165\u6309\u4E0B\u95F4\u9694,\u9632\u6B62\u91CD\u590D\u70B9\u51FB,\u8FD4\u56DE\u4E3Atrue\u65F6\u4E0D\u80FD\u70B9\u51FB\r\n    private static _cantouch: any = {};\r\n    static ButtonWait(key = 'btn', _time = 300): boolean {\r\n        if (key in TimeUtil._cantouch) {\r\n            return true;\r\n        }\r\n        TimeUtil._cantouch[key] = true;\r\n        setTimeout(() => {\r\n            delete TimeUtil._cantouch[key];\r\n        }, _time);\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n//\u65F6\u949F\u4E8B\u4EF6\r\nexport interface ClockEventType {\r\n    tag?: string,//\u4E8B\u4EF6\u540D,\u7528\u6765\u786E\u5B9A\u552F\u4E00,\u9ED8\u8BA4\u968F\u673A\r\n    type?: 'once' | 'continue',//\u4E8B\u4EF6\u7C7B\u578B\uFF08\u4E00\u6B21\u6027/\u6301\u7EED\u89E6\u53D1\u4E8B\u4EF6\uFF09\u9ED8\u8BA4continue\r\n    interval?: number, //\u95F4\u9694\u65F6\u95F4(\u6700\u5C0F0.001s)\u9ED8\u8BA40.1\r\n\r\n    callBack: (clockTag: string, tag: string, _n: number) => void //\u89E6\u53D1\u56DE\u8C03(tag:\u4E8B\u4EF6\u540D,_n:\u7B2C\u51E0\u6B21\u89E6\u53D1)\r\n}\r\n//\u65F6\u949F\u7C7B\u578B\r\nexport interface ClockType {\r\n    id: any,\r\n    interval: number,//(\u6700\u5C0F0.001s)\r\n    eventList: { [tag: string]: ClockEventType },\r\n\r\n    time: number,\r\n    resume: boolean,\r\n}\r\n\r\n//\u8BA1\u65F6\u5668\r\nexport class ClockUtil {\r\n\r\n    private static allClock: { [tag: string]: ClockType } = {};\r\n    //\u5F00\u542F\u4E00\u4E2A\u8BA1\u65F6\u5668\r\n    static Start(_tag: string, _interval = 0.1) {\r\n\r\n        this.createClock(_tag, _interval);\r\n    }\r\n    //\u91CD\u7F6E\u8BA1\u65F6\u5668\r\n    static Reset(_tag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010Reset\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n\r\n        console.log('\u91CD\u7F6E\u8BA1\u65F6\u5668', _tag);\r\n        this.allClock[_tag].time = 0;\r\n\r\n        return true;\r\n    }\r\n    //\u6682\u505C\u8BA1\u65F6\u5668\r\n    static Pause(_tag: string) {\r\n\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010Pause\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n\r\n        console.log('\u6682\u505C\u8BA1\u65F6\u5668', _tag);\r\n        this.allClock[_tag].resume = false;\r\n    }\r\n    //\u7EE7\u7EED\u8BA1\u65F6\u5668\r\n    static Resume(_tag: string) {\r\n\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010Resume\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n\r\n        console.log('\u7EE7\u7EED\u8BA1\u65F6\u5668', _tag);\r\n        this.allClock[_tag].resume = true;\r\n\r\n    }\r\n    //\u505C\u6B62\u8BA1\u65F6\u5668\r\n    static Stop(_tag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            if (this.allClock[_tag]) {\r\n                clearInterval(this.allClock[_tag].id);\r\n            }\r\n            delete this.allClock[_tag];\r\n            return true;\r\n        }\r\n        console.log('\u505C\u6B62\u8BA1\u65F6\u5668', _tag);\r\n\r\n        return false;\r\n\r\n    }\r\n    //\u63D2\u5165\u4E8B\u4EF6\r\n    static insertEvent(_tag: string, _event: ClockEventType) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010insertEvent\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n        this.allClock[_tag].eventList[_event.tag] = _event;\r\n        //\u53EF\u9009\u9879\u8BBE\u7F6E\u9ED8\u8BA4\u503C\r\n        _event.interval = _event.interval || 0.1;\r\n        _event.tag = _event.tag || ('tag_' + Object.keys(this.allClock[_tag].eventList).length);\r\n        _event.type = _event.type || 'continue';\r\n\r\n        //\u6DFB\u52A0\u8BA1\u6570\u53D8\u91CF\r\n        _event['curN'] = 0;\r\n        console.log('\u8BA1\u65F6\u5668\u63D2\u5165\u4E8B\u4EF6', _tag, JSON.stringify(_event));\r\n\r\n\r\n        return true;\r\n    }\r\n    //\u79FB\u9664\u4E8B\u4EF6\r\n    static removeEvent(_tag: string, _eventTag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010removeEvent\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n        console.log('\u8BA1\u65F6\u5668\u79FB\u9664\u4E8B\u4EF6', _tag, _eventTag);\r\n        if (_eventTag in this.allClock[_tag].eventList) {\r\n            delete this.allClock[_tag].eventList[_eventTag];\r\n        }\r\n        return true;\r\n\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u8BA1\u65F6\u5668\u5F53\u524D\u65F6\u95F4\r\n     * @param _tag \r\n     * @returns \r\n     */\r\n    static GetTime(_tag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010GetTime\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return 0;\r\n        }\r\n        return this.allClock[_tag].time;\r\n    }\r\n    private static createClock(_tag: string, _interval: number) {\r\n        //\u5982\u679C\u6709\u8BA1\u65F6\u5668\u5148\u9500\u6BC1\r\n        if (_tag in this.allClock) {\r\n            clearInterval(this.allClock[_tag].id);\r\n        }\r\n        //\u521B\u5EFA\u65B0\u8BA1\u65F6\u5668\r\n        let _clock: ClockType = { id: 0, time: 0, interval: _interval, eventList: {}, resume: true }\r\n\r\n        _clock.id = setInterval(() => {\r\n            //\u6682\u505C\u65F6\u4E0D\u589E\u52A0\u8BA1\u65F6\r\n            if (!_clock.resume) {\r\n                return;\r\n            }\r\n            //\u4FDD\u7559\u5C0F\u6570\u70B9\u540E\u4E09\u4F4D\u5373\u6BEB\u79D2\r\n            _clock.time = Number((_clock.time + _clock.interval).toFixed(3));\r\n\r\n            //\u68C0\u6D4B\u89E6\u53D1\u4E8B\u4EF6\r\n            for (const key in _clock.eventList) {\r\n                let _e = _clock.eventList[key];\r\n\r\n                if (_e.type == 'once') {\r\n                    if (_clock.time >= _e.interval) {\r\n                        _e['curN']++;\r\n                        _e.callBack && _e.callBack(_tag, _e.tag, _e['curN']);\r\n                        delete _clock.eventList[key];\r\n                    }\r\n                }\r\n                else if (_e.type == 'continue') {\r\n                    if (((_clock.time * 1000) | 0) % ((_e.interval * 1000) | 0) == 0) {\r\n                        _e['curN']++;\r\n                        _e.callBack && _e.callBack(_tag, _e.tag, _e['curN']);\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }, _interval * 1000);\r\n        this.allClock[_tag] = _clock;\r\n        console.log('\u521B\u5EFA\u8BA1\u65F6\u5668', _clock);\r\n        // console.log('\u6240\u6709\u8BA1\u65F6\u5668', this.allClock);\r\n\r\n    }\r\n}\r\n", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_AutotriggerAward extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_iconLoader:fgui.GLoader;\n\tpublic m_tText:fgui.GTextField;\n\tpublic m_attentionBtn:fgui.GButton;\n\tpublic m_priceText:fgui.GTextField;\n\tpublic m_describeText:fgui.GTextField;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://hmoqxzvjkv205\";\n\n\tpublic static createInstance():UI_AutotriggerAward {\n\t\treturn <UI_AutotriggerAward>(fgui.UIPackage.createObject(\"autotriggerAward\", \"AutotriggerAward\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_iconLoader = <fgui.GLoader>(this.getChildAt(2));\n\t\tthis.m_tText = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_attentionBtn = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_priceText = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_describeText = <fgui.GTextField>(this.getChildAt(6));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "// import SoundPlayer from \"../common/SoundPlayer\";\r\n\r\ndeclare var my;\r\n\r\n/**\r\n * \u6A21\u5757\u516C\u7528\u7684\u4E00\u4E9B\u5DE5\u5177\r\n */\r\nexport class ModuleTool {\r\n    //\u622A\u53D6\u6307\u5B9A\u957F\u5EA6\u7684\u5B57\u7B26\u4E32\uFF0C\u7701\u7565\u90E8\u5206\u8865...\r\n    public static getCutString(str, length) {\r\n        let newStr = \"\";\r\n        let lastStr = \"\";\r\n        var regNum = new RegExp(/^[0-9]*$/);\r\n        var regStr = new RegExp(/(?!.*?_$)[a-zA-Z0-9_]+$/);\r\n        for (let i = 0; i < str.length; i++) {\r\n            if (i < length) {\r\n                if ((regNum.test(lastStr) && !regStr.test(str[i])) || (!regStr.test(lastStr) && regNum.test(str[i]))) {\r\n                    newStr += \" \" + str[i];\r\n                }\r\n                else {\r\n                    newStr += str[i];\r\n                }\r\n                lastStr = str[i];\r\n            }\r\n            else if (i == length) {\r\n                newStr += \"...\";\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        return newStr;\r\n    }\r\n    /**\r\n     * \u6839\u636E\u79D2\u6570\u8FD4\u56DE\u65F6\u95F4\t\u4F8B\u5982:123\u79D2=02:03;\r\n     */\r\n    public static SurviveTimeToString(surviveSecond: number): string {\r\n\r\n        var str: string = \"\";\r\n\r\n        if (surviveSecond < 0) {\r\n\r\n            str = \"00\u520600\u79D2\";//\u8D1F\u7684\u65F6\u95F4\r\n\r\n        } else if (surviveSecond >= 0 && surviveSecond < 60) {\r\n\r\n            var strSecond: String = surviveSecond < 10 ? \"0\" + surviveSecond : surviveSecond.toString();\r\n            str = \"00\u5206\" + strSecond + \"\u79D2\";\r\n\r\n        } else {\r\n\r\n            var strYuSecond: number = Math.floor(surviveSecond % 60);//\u4F59:\u79D2\u6570\r\n            var strZongMinute: number = Math.floor(surviveSecond / 60);//\u603B:\u5206\u949F\r\n            var strYuMinute: number = strZongMinute % 60;//\u4F59:\u5206\u949F\r\n            var strZongHour: number = Math.floor(strZongMinute / 60);//\u603B:\u5C0F\u65F6\r\n\r\n            if (strZongHour < 24)//\u5C0F\u4E8E\u4E00\u5929\r\n            {\r\n                if (strZongHour != 0) {\r\n\r\n                    str = (strZongHour < 10 ? \"0\" + strZongHour : strZongHour) + \"\u65F6\" + (strYuMinute < 10 ? \"0\" + strYuMinute : strYuMinute) + \"\u5206\" + (strYuSecond < 10 ? \"0\" + strYuSecond : strYuSecond) + '\u79D2';\r\n\r\n                } else {\r\n\r\n                    str = (strYuMinute < 10 ? \"0\" + strYuMinute : strYuMinute) + \"\u5206\" + (strYuSecond < 10 ? \"0\" + strYuSecond : strYuSecond) + '\u79D2';\r\n                }\r\n\r\n            } else if (strZongHour == 24 && strYuMinute == 0 && strYuSecond == 0) { //\u521A\u521A\u4E00\u5929\u7684\u65F6\u95F4\r\n\r\n                str = \"24\u65F600\u520600\u79D2\";\r\n\r\n            } else { //\u5927\u4E8E\u4E00\u5929\r\n\r\n                var strZongDay: number = Math.floor(strZongHour / 24);\r\n                var strYuHour: number = strZongHour % 24;\r\n                str = strZongDay + \"\u5929\" + (strYuHour < 10 ? \"0\" + strYuHour : strYuHour) + \"\u65F6\" + (strYuMinute < 10 ? \"0\" + strYuMinute : strYuMinute) + \"\u5206\" + (strYuSecond < 10 ? \"0\" + strYuSecond : strYuSecond) + '\u79D2';\r\n            }\r\n        }\r\n\r\n        return str;\r\n    }\r\n    /**\r\n     * \u65F6\u95F4\u6233\u8F6C\u5B57\u7B26\u4E32\r\n     * @param timestamp \r\n     * @returns \r\n     */\r\n    public static TimestampToString(timestamp: number) {\r\n\r\n        let time = new Date(timestamp);\r\n        let year = time.getFullYear();\r\n        let month = time.getMonth() + 1;\r\n        let day = time.getDate();\r\n        let hours = time.getHours();\r\n        let minute = time.getMinutes();\r\n        let second = time.getSeconds();\r\n\r\n        let strRet = year + '\u5E74';\r\n        strRet += ((month < 10) ? '0' + month : month) + '\u6708';\r\n        strRet += ((day < 10) ? '0' + day : day) + '\u65E5';\r\n        strRet += ((hours < 10) ? '0' + hours : hours) + '\u65F6';\r\n        strRet += ((minute < 10) ? '0' + minute : minute) + '\u5206';\r\n        strRet += ((second < 10) ? '0' + second : second) + '\u79D2';\r\n\r\n        return strRet;\r\n    }\r\n    // \u683C\u5F0F\u5316\u65F6\u95F4\r\n    // @param timeMS \u6BEB\u79D2\r\n    // @param format \u683C\u5F0F \u5F62\u5982 dd hh: mm: ss\r\n    static GetTime(timeMS: number, format: string = 'dhms') {\r\n        // timeMS\u6709\u6BEB\u79D2\u7684\uFF0C\u8865\u9F50\u81F31\u79D2\r\n        let ms = timeMS % 1000;\r\n        if (ms) {\r\n            timeMS += 1000 - ms;\r\n        }\r\n\r\n        let replacePattern: {\r\n            [key: string]: {\r\n                div: number,\r\n                isLast?: boolean\r\n            }\r\n        } = {\r\n            \"d+\": { div: 86400000 },\r\n            \"h+\": { div: 3600000 },\r\n            \"m+\": { div: 60000 },\r\n            \"s+\": { div: 1000 }\r\n        };\r\n\r\n        for (let key in replacePattern) {\r\n            let toReplace = '';\r\n            format = format.replace(new RegExp(key, 'g'), str => {\r\n                if (!toReplace) {\r\n                    let pattern = replacePattern[key];\r\n                    let result = timeMS / pattern.div | 0;\r\n                    let resultStr = result + '';\r\n                    timeMS -= result * pattern.div;\r\n                    toReplace = '0'.repeat(Math.max(str.length - resultStr.length, 0)) + resultStr;\r\n                }\r\n                return toReplace;\r\n            })\r\n        }\r\n\r\n        return format;\r\n    }\r\n\r\n    /**\r\n     * \u68C0\u6D4B\u6570\u636E\u7C7B\u578B\r\n     * @param _port \u6570\u636E\u540D\r\n     * @param _nD \u5B9E\u9645\u6570\u636E\r\n     * @param _oD \u6A21\u578B\u6570\u636E\r\n     */\r\n    static DetectType(_port: string, _nD: any, _oD: any, otherInfo?: string) {\r\n        let _nType = typeof _nD;//\u5B9E\u9645\u6570\u636E\r\n        let _oType = typeof _oD;//\u6A21\u578B\u6570\u636E\r\n        if (_nType != _oType) {\r\n            console.error('------------------------------')\r\n            console.error('[\u4E91\u51FD\u6570]\u68C0\u6D4B\u5230\u6570\u636E\u7C7B\u578B\u4E0D\u7B26:', _port);\r\n            console.error('\u6A21\u578B\u6570\u636E\u7C7B\u578B:', _oType);\r\n            console.error('\u5B9E\u9645\u6570\u636E\u7C7B\u578B:', _nType);\r\n            if (otherInfo) {\r\n                console.error('\u5176\u4ED6\u6D88\u606F:', otherInfo);\r\n            }\r\n            console.error('------------------------------')\r\n\r\n        }\r\n        if (_oType == 'object') {\r\n            let _isoDArray = Array.isArray(_oD);\r\n            let _isnDArray = Array.isArray(_nD);\r\n            if (_isoDArray != _isnDArray) {\r\n                console.error('------------------------------')\r\n                console.error('[\u4E91\u51FD\u6570]\u68C0\u6D4B\u5230\u6570\u636E\u7C7B\u578B\u4E0D\u7B26:', _port);\r\n                console.error('\u6A21\u578B\u6570\u636E\u7C7B\u578B\u662F\u6570\u7EC4:', _isoDArray);\r\n                console.error('\u5B9E\u9645\u6570\u636E\u7C7B\u578B\u662F\u6570\u7EC4:', _isnDArray);\r\n                if (otherInfo) {\r\n                    console.error('\u5176\u4ED6\u6D88\u606F:', otherInfo);\r\n                }\r\n                console.error('------------------------------')\r\n                return;\r\n\r\n            }\r\n            for (const key in _oD) {\r\n\r\n                if (!Object.prototype.hasOwnProperty.call(_nD, key)) {\r\n                    if (!_isoDArray) {\r\n                        console.error('------------------------------')\r\n                        console.error('[\u4E91\u51FD\u6570]\u6570\u636E\u9519\u8BEF:', _port);\r\n                        console.error('\u5B9E\u9645\u6570\u636E\u4E2D\u7F3A\u5C11\u5B57\u6BB5:', key);\r\n                        if (otherInfo) {\r\n                            console.error('\u5176\u4ED6\u6D88\u606F:', otherInfo);\r\n                        }\r\n                        console.error('------------------------------')\r\n                    }\r\n                }\r\n                else {\r\n                    this.DetectType(_port + '.' + key, _nD[key], _oD[key]);\r\n                }\r\n                if (_isoDArray) {\r\n                    console.log('\u6570\u7EC4\u7C7B\u578B\u4E0D\u518D\u68C0\u6D4B');\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * \u8F6C\u6362\u4E3Anumber\u7C7B\u578B\r\n     * @param _v \r\n     * @returns \r\n     */\r\n    static ChangeToNumber(_v: any) {\r\n        if (typeof _v == 'number') {\r\n            return _v;\r\n        } else if (typeof _v == 'string') {\r\n            return Number(_v);\r\n        }\r\n        console.error('ChangeToNumber\u9519\u8BEF\u7C7B\u578B\uFF1A', _v);\r\n        return 0;\r\n    }\r\n    //-------------------------------------------------------FGUI\u5DE5\u5177------------------------------------------------//\r\n    //\u6587\u5B57\u81EA\u52A8\u7F29\u653E\r\n    static SetTextAndFitSize(fText: fgui.GTextField, txt: string) {\r\n        fText.text = '' + txt;\r\n        let text = fText.displayObject as Laya.Text;\r\n        text.wordWrap = false;\r\n        if (fText.width < text.textWidth) {\r\n            text.fontSize = Math.floor((fText.width / text.textWidth) * fText.fontSize)\r\n        }\r\n    }\r\n    //-------------------------------------------------------\u672C\u5730\u5B58\u50A8------------------------------------------------//\r\n    //\u6839\u636E\u952E\u503C\u8BFB\u53D6\u672C\u5730\u6570\u636E\r\n    static GetLocalItem(_key: string) {\r\n        let _getdata = null as any;\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            let data = my.getStorageSync({ key: _key });\r\n            //console.log(\"data: \",data);\r\n\r\n            if (data && data[\"data\"]) {\r\n                _getdata = data[\"data\"];\r\n            }\r\n        } else {\r\n            let data = Laya.LocalStorage.getItem(_key);\r\n            //console.log(\"data: \",data);\r\n            if (data) {\r\n                _getdata = JSON.parse(data);\r\n            }\r\n        }\r\n        return _getdata;\r\n    }\r\n    //\u6839\u636E\u952E\u503C\u5B58\u50A8\u672C\u5730\u6570\u636E\r\n    static SetLocalItem(_key: string, _data: any) {\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            my.setStorage({\r\n                key: _key,\r\n                data: _data,\r\n                success: () => {\r\n                    console.log(_key, \"\u5199\u5165\u6210\u529F\");\r\n                }\r\n            });\r\n        } else {\r\n            Laya.LocalStorage.setItem(_key, JSON.stringify(_data));\r\n        }\r\n    }\r\n    //-------------------------------------------------------\u516C\u7528\u52A8\u753B------------------------------------------------//\r\n    //\u5F39\u5165\u52A8\u753B\r\n    static ActionPopIn(_node: any, _endcallbacK?: Function) {\r\n        _node.setScale(0.3, 0.3);\r\n        Laya.Tween.to(_node, { scaleX: 1.15, scaleY: 1.15, }, 150, Laya.Ease.sineOut, Laya.Handler.create(this, () => {\r\n            // Laya.Tween.to(_node, { scaleX: 1.1, scaleY: 1.1 }, 200, undefined, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(_node, { scaleX: 1, scaleY: 1 }, 400, Laya.Ease.sineOut, Laya.Handler.create(this, () => {\r\n                _endcallbacK && _endcallbacK();\r\n            }));\r\n            // }));\r\n        }));\r\n    }\r\n    //\u5F39\u51FA\u52A8\u753B\r\n    static ActionPopOut(_node: any, _endcallbacK?: Function) {\r\n        Laya.Tween.to(_node, { scaleX: 1.1, scaleY: 1.1, }, 200, Laya.Ease.linearOut, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(_node, { scaleX: 0, scaleY: 0 }, 200, Laya.Ease.linearIn, Laya.Handler.create(this, () => {\r\n                _endcallbacK && _endcallbacK();\r\n            }));\r\n        }));\r\n    }\r\n}\r\n\r\nexport class ModuleAudio {\r\n\r\n    private static allEffectContext = {};\r\n    static preloadAudio(path) {\r\n\r\n        let _url = path;\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            // if (path in this.effectContext) {\r\n            //     console.log('\u5DF2\u521B\u5EFA\u97F3\u6548\uFF1A', path);\r\n            //     return this.effectContext[path];\r\n            // }\r\n\r\n            // if (isDXG) {\r\n            //     _url = path;\r\n            // }\r\n            // else {\r\n            //     const soundBase = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/C_client/\"\r\n            //     _url = soundBase + path;\r\n            // }\r\n            let effectContext = my.createInnerAudioContext()\r\n            effectContext.autoplay = false;\r\n            effectContext.loop = false;\r\n            effectContext.src = _url;\r\n            this.allEffectContext[path] = effectContext;\r\n\r\n            effectContext.onSeeked((res) => {\r\n                console.log('onSeeked', res)\r\n            })\r\n            effectContext.onSeeking((res) => {\r\n                console.log('onSeeking', res)\r\n            })\r\n            effectContext.onSeeked((res) => {\r\n                console.log('onSeeked', res)\r\n            })\r\n            effectContext.onCanPlay((res) => {\r\n                console.log('onCanPlay', res)\r\n            })\r\n            effectContext.onPlay((res) => {\r\n                console.log('\u5F00\u59CB\u64AD\u653E', res);\r\n                effectContext['isplaying'] = true;\r\n            })\r\n            effectContext.onError((res) => {\r\n                console.error('\u97F3\u6548\u9519\u8BEF', path, res);\r\n                effectContext.destroy();\r\n                if (this.allEffectContext[path]) {\r\n                    delete this.allEffectContext[path];\r\n                }\r\n            })\r\n            effectContext.onStop((res) => {\r\n                console.log('====onStop===', res);\r\n                effectContext['isplaying'] = false;\r\n            })\r\n            effectContext.onTimeUpdate((res) => {\r\n                console.log('====onTimeUpdate===', res);\r\n            })\r\n\r\n            effectContext.onEnded((res) => {\r\n                console.log('====onEnded===', res);\r\n                effectContext['isplaying'] = false;\r\n                effectContext.stop();\r\n                // effectContext.destroy();\r\n                // effectContext = null;\r\n\r\n                // if (PlayDataUtil.data.musicCtrl == 1 && this.musicContext) {\r\n                //     //console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F,\u7EE7\u7EED\u64AD\u653E\u97F3\u4E50===');\r\n                //     this.musicContext.play();\r\n                // }\r\n            });\r\n            console.log('\u521D\u6B21\u521B\u5EFA\u97F3\u6548\uFF1A', path);\r\n            return this.allEffectContext[path];\r\n        }\r\n        else {\r\n            Laya.loader.load(_url, Laya.Handler.create(this, () => {\r\n\r\n            }), null, Laya.Loader.SOUND);\r\n        }\r\n        return null;\r\n    }\r\n    // playEffect2(path, isDXG = false) {\r\n    //     if (Laya.Browser.onTBMiniGame) {\r\n    //         if (!this.effectContext[path]) {\r\n    //             console.error('\u672A\u52A0\u8F7D\u7684\u97F3\u6548', path);\r\n    //             return;\r\n    //         }\r\n    //         this.effectContext[path].play();\r\n    //     }\r\n    // }\r\n\r\n    //\u64AD\u653E\u97F3\u6548\r\n    static playEffect(path: string) {\r\n        // //\u97F3\u4E50\u5173\u95ED\uFF0C\u76F4\u63A5\u8DF3\u8FC7\r\n        // if (PlayDataUtil.data.musicCtrl == 0) {\r\n        //     return;\r\n        // }\r\n\r\n        let _url = path;\r\n        // if (isDXG) {\r\n        //     _url = path;\r\n        // }\r\n        // else {\r\n        //     const soundBase = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/C_client/\"\r\n        //     _url = soundBase + path;\r\n        // }\r\n        // console.log('playEffect _url', _url);\r\n\r\n        if (Laya.Browser.onTBMiniGame) {\r\n\r\n            if (!this.allEffectContext[path]) {\r\n                this.preloadAudio(path);\r\n            }\r\n            if (this.allEffectContext[path]['isplaying']) {\r\n                this.allEffectContext[path].stop();\r\n            }\r\n            // SoundPlayer.ResetSound();\r\n            this.allEffectContext[path].play();\r\n            // let effectContext = my.createInnerAudioContext()\r\n            // effectContext.autoplay = true;\r\n            // effectContext.loop = false;\r\n            // effectContext.src = _url;\r\n\r\n            // effectContext.onEnded(() => {\r\n            //     //console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F===');\r\n            //     effectContext.destroy();\r\n            //     effectContext = null;\r\n\r\n            //     if (PlayDataUtil.data.musicCtrl == 1 && this.musicContext) {\r\n            //         //console.log('====\u97F3\u6548\u64AD\u653E\u7ED3\u675F,\u7EE7\u7EED\u64AD\u653E\u97F3\u4E50===');\r\n            //         this.musicContext.play();\r\n            //     }\r\n            // });\r\n        }\r\n        else {\r\n            Laya.SoundManager.playSound(_url, 1);\r\n            // Laya.loader.load(_url, Laya.Handler.create(this, () => {\r\n\r\n            // }), null, Laya.Loader.SOUND);\r\n        }\r\n    }\r\n\r\n    private static _comonBtnAudioPath = '';\r\n    //\u8BBE\u7F6E\u901A\u7528\u97F3\u6548\u8DEF\u5F84\r\n    static SetComonBtnAudioPath(_path: string) {\r\n        this._comonBtnAudioPath = _path;\r\n        this.preloadAudio(_path);\r\n    }\r\n    /**\r\n     * \u64AD\u653E\u901A\u7528\u6309\u94AE\u97F3\u6548\r\n     * @returns \r\n     */\r\n    static PlayComonBtnAudio() {\r\n        if (this._comonBtnAudioPath == '') {\r\n            console.error('\u8BF7\u5148\u4F20\u5165\u901A\u7528\u6309\u94AE\u97F3\u6548\u8DEF\u5F84');\r\n            return;\r\n        }\r\n        this.playEffect(this._comonBtnAudioPath);\r\n    }\r\n}\r\n\r\n//\u65F6\u949F\u4E8B\u4EF6\r\nexport interface ClockEventType {\r\n    tag?: string,//\u4E8B\u4EF6\u540D,\u7528\u6765\u786E\u5B9A\u552F\u4E00,\u9ED8\u8BA4\u968F\u673A\r\n    type?: 'once' | 'continue',//\u4E8B\u4EF6\u7C7B\u578B\uFF08\u4E00\u6B21\u6027/\u6301\u7EED\u89E6\u53D1\u4E8B\u4EF6\uFF09\u9ED8\u8BA4continue\r\n    interval?: number, //\u95F4\u9694\u65F6\u95F4(\u6700\u5C0F0.001s)\u9ED8\u8BA40.1\r\n\r\n    callBack: (clockTag: string, tag: string, _n: number) => void //\u89E6\u53D1\u56DE\u8C03(tag:\u4E8B\u4EF6\u540D,_n:\u7B2C\u51E0\u6B21\u89E6\u53D1)\r\n}\r\n//\u65F6\u949F\u7C7B\u578B\r\nexport interface ClockType {\r\n    id: any,\r\n    interval: number,//(\u6700\u5C0F0.001s)\r\n    eventList: { [tag: string]: ClockEventType },\r\n\r\n    time: number,\r\n    resume: boolean,\r\n}\r\n//\u8BA1\u65F6\u5668\r\nexport class ModuleClock {\r\n\r\n    private static allClock: { [tag: string]: ClockType } = {};\r\n    //\u5F00\u542F\u4E00\u4E2A\u8BA1\u65F6\u5668\r\n    static Start(_tag: string, _interval = 0.1) {\r\n\r\n        this.createClock(_tag, _interval);\r\n    }\r\n    //\u91CD\u7F6E\u8BA1\u65F6\u5668\r\n    static Reset(_tag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010Reset\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n\r\n        console.log('\u91CD\u7F6E\u8BA1\u65F6\u5668', _tag);\r\n        this.allClock[_tag].time = 0;\r\n\r\n        return true;\r\n    }\r\n    //\u6682\u505C\u8BA1\u65F6\u5668\r\n    static Pause(_tag: string) {\r\n\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010Pause\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n\r\n        console.log('\u6682\u505C\u8BA1\u65F6\u5668', _tag);\r\n        this.allClock[_tag].resume = false;\r\n    }\r\n    //\u7EE7\u7EED\u8BA1\u65F6\u5668\r\n    static Resume(_tag: string) {\r\n\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010Resume\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n\r\n        console.log('\u7EE7\u7EED\u8BA1\u65F6\u5668', _tag);\r\n        this.allClock[_tag].resume = true;\r\n\r\n    }\r\n    //\u505C\u6B62\u8BA1\u65F6\u5668\r\n    static Stop(_tag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            if (this.allClock[_tag]) {\r\n                clearInterval(this.allClock[_tag].id);\r\n            }\r\n            delete this.allClock[_tag];\r\n            return true;\r\n        }\r\n        console.log('\u505C\u6B62\u8BA1\u65F6\u5668', _tag);\r\n\r\n        return false;\r\n\r\n    }\r\n    //\u63D2\u5165\u4E8B\u4EF6\r\n    static insertEvent(_tag: string, _event: ClockEventType) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010insertEvent\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n        this.allClock[_tag].eventList[_event.tag] = _event;\r\n        //\u53EF\u9009\u9879\u8BBE\u7F6E\u9ED8\u8BA4\u503C\r\n        _event.interval = _event.interval || 0.1;\r\n        _event.tag = _event.tag || ('tag_' + Object.keys(this.allClock[_tag].eventList).length);\r\n        _event.type = _event.type || 'continue';\r\n\r\n        //\u6DFB\u52A0\u8BA1\u6570\u53D8\u91CF\r\n        _event['curN'] = 0;\r\n        console.log('\u8BA1\u65F6\u5668\u63D2\u5165\u4E8B\u4EF6', _tag, JSON.stringify(_event));\r\n\r\n\r\n        return true;\r\n    }\r\n    //\u79FB\u9664\u4E8B\u4EF6\r\n    static removeEvent(_tag: string, _eventTag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010removeEvent\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return false;\r\n        }\r\n        console.log('\u8BA1\u65F6\u5668\u79FB\u9664\u4E8B\u4EF6', _tag, _eventTag);\r\n        if (_eventTag in this.allClock[_tag].eventList) {\r\n            delete this.allClock[_tag].eventList[_eventTag];\r\n        }\r\n        return true;\r\n\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u8BA1\u65F6\u5668\u5F53\u524D\u65F6\u95F4\r\n     * @param _tag \r\n     * @returns \r\n     */\r\n    static GetTime(_tag: string) {\r\n        if (!(_tag in this.allClock)) {\r\n            console.error('\u3010GetTime\u3011\u8BA1\u65F6\u5668\u4E0D\u5B58\u5728', _tag);\r\n\r\n            return 0;\r\n        }\r\n        return this.allClock[_tag].time;\r\n    }\r\n    private static createClock(_tag: string, _interval: number) {\r\n        //\u5982\u679C\u6709\u8BA1\u65F6\u5668\u5148\u9500\u6BC1\r\n        if (_tag in this.allClock) {\r\n            clearInterval(this.allClock[_tag].id);\r\n        }\r\n        //\u521B\u5EFA\u65B0\u8BA1\u65F6\u5668\r\n        let _clock: ClockType = { id: 0, time: 0, interval: _interval, eventList: {}, resume: true }\r\n\r\n        _clock.id = setInterval(() => {\r\n            //\u6682\u505C\u65F6\u4E0D\u589E\u52A0\u8BA1\u65F6\r\n            if (!_clock.resume) {\r\n                return;\r\n            }\r\n            //\u4FDD\u7559\u5C0F\u6570\u70B9\u540E\u4E09\u4F4D\u5373\u6BEB\u79D2\r\n            _clock.time = Number((_clock.time + _clock.interval).toFixed(3));\r\n\r\n            //\u68C0\u6D4B\u89E6\u53D1\u4E8B\u4EF6\r\n            for (const key in _clock.eventList) {\r\n                let _e = _clock.eventList[key];\r\n\r\n                if (_e.type == 'once') {\r\n                    if (_clock.time >= _e.interval) {\r\n                        _e['curN']++;\r\n                        _e.callBack && _e.callBack(_tag, _e.tag, _e['curN']);\r\n                        delete _clock.eventList[key];\r\n                    }\r\n                }\r\n                else if (_e.type == 'continue') {\r\n                    if (((_clock.time * 1000) | 0) % ((_e.interval * 1000) | 0) == 0) {\r\n                        _e['curN']++;\r\n                        _e.callBack && _e.callBack(_tag, _e.tag, _e['curN']);\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }, _interval * 1000);\r\n        this.allClock[_tag] = _clock;\r\n        console.log('\u521B\u5EFA\u8BA1\u65F6\u5668', _clock);\r\n        // console.log('\u6240\u6709\u8BA1\u65F6\u5668', this.allClock);\r\n\r\n    }\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_closeBtn:fgui.GButton;\n\tpublic static URL:string = \"ui://2614tyiclh0h0\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"Atmosphere\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_closeBtn = <fgui.GButton>(this.getChildAt(0));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport ModulePackage from \"../ModulePackage\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_Main from \"./Atmosphere/UI_Main\";\nimport uiSurpassHint from \"./uiSurpassHint\";\n\n\n\nexport default class uiAtmosphereMain extends UI_Main {\n\n\tpublic m_SurpassHint: uiSurpassHint;\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\t// this.m_inviteBtn.onClick(this, () => {\n\n\t\t// \tModulePackage.Instance.SendMessage(\"rank\", \"task\", \"show\");\t//\u8C03\u7528\u4EFB\u52A1\u6A21\u5757\u7684\u663E\u793A\u65B9\u6CD5\n\t\t// });\n\n\t\t// this.m_myPanel.m_ruleBtn.onClick(this, () => {\n\t\t// \t//\u663E\u793A\u5956\u52B1\u8BE6\u60C5\n\t\t// \tModulePackage.Instance.PopWindow(\"rank\", \"Awards\");\n\t\t// });\n\n\t\t// this.m_myPanel.m_lastRankBtn.onClick(this, () => {\n\t\t// \t//\u663E\u793A\u4E0A\u671F\u6392\u884C\n\t\t// \tModulePackage.Instance.PopWindow(\"rank\", \"LastRank\");\n\t\t// });\n\n\t\t// this.makeFullScreen();\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t// //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\n\t\t// let _anchorX = 0;\n\t\t// let _anchorY = 0;\n\t\t// if (this.pivotAsAnchor) {\n\t\t// \t_anchorX = this.pivotX;\n\t\t// \t_anchorY = this.pivotY;\n\t\t// }\n\t\t// this.setXY(_anchorX * this.width, _anchorY * this.height);\n\n\n\n\t\t// console.log('wh', this.width, this.height);\n\t\t// console.log('xy', this.x, this.y);\n\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\tLaya.timer.once(100, this, () => {\n\t\t\t\tModulePackage.Instance.PopWindow(\"Atmosphere\", \"SurpassHint\", {\n\t\t\t\t\tpx: 0, py: 0, winParamData: {\n\t\t\t\t\t\tdelayTime: 1000,\n\t\t\t\t\t\tpercent: 10\n\n\t\t\t\t\t}, isModal: false\n\t\t\t\t});\n\t\t\t})\n\n\t\t}\n\n\t\tthis.m_closeBtn.onClick(this, () => {\n\t\t\tthis._winHandler.hide();\n\t\t})\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_SurpassHint extends fgui.GComponent {\n\n\tpublic m_bg:fgui.GImage;\n\tpublic m_surpassText:fgui.GTextField;\n\tpublic m_photoLoader1:fgui.GLoader;\n\tpublic m_photoLoader2:fgui.GLoader;\n\tpublic static URL:string = \"ui://2614tyiclh0h2\";\n\n\tpublic static createInstance():UI_SurpassHint {\n\t\treturn <UI_SurpassHint>(fgui.UIPackage.createObject(\"Atmosphere\", \"SurpassHint\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_bg = <fgui.GImage>(this.getChildAt(0));\n\t\tthis.m_surpassText = <fgui.GTextField>(this.getChildAt(1));\n\t\tthis.m_photoLoader1 = <fgui.GLoader>(this.getChildAt(2));\n\t\tthis.m_photoLoader2 = <fgui.GLoader>(this.getChildAt(3));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_SurpassHint from \"./Atmosphere/UI_SurpassHint\";\n\nexport interface SurpassHintInfo {\n\tdelayTime?: number,//\u663E\u793A\u65F6\u95F4ms\n\tposY: number,//\u51FA\u73B0\u4F4D\u7F6Ey\n\tpercent: number,//\u8D85\u8D8A\u4EBA\u6570\u6BD4\u4F8B\uFF080~100\uFF09\n\n}\nexport default class uiSurpassHint extends UI_SurpassHint {\n\n\n\tmyInfo: SurpassHintInfo = null as any;\n\n\tprivate _winHandler: ModuleWindow;\n\n\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.changeUrl();\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\t// console.error('makeFullScreenmakeFullScreen');\n\n\t\t// super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t\tthis.SetInfo(this._winHandler.GetParamData())\n\n\t\t}\n\t\t// this.OnShow();\n\t}\n\n\tSetInfo(_info: SurpassHintInfo) {\n\t\tif (!_info || !_info.percent) {\n\t\t\treturn;\n\t\t}\n\t\tthis.myInfo = _info;\n\t\tif (!this.myInfo.delayTime) {\n\t\t\tthis.myInfo.delayTime = 2000;\n\t\t}\n\t\tif (!this.myInfo.posY) {\n\t\t\tthis.myInfo.posY = 200;\n\t\t}\n\t\tthis.m_surpassText.setVar(\"count\", '' + _info.percent).flushVars();\n\n\t}\n\tchangeUrl() {\n\t\tconst baseUrl = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/bigFight/matchAvatar/tx_\";\n\t\tfor (let i = 0; i < 2; i++) {\n\t\t\tlet _headid = 1 + (Math.random() * 2000) | 0;\n\t\t\tlet _url = baseUrl + (Array(5).join('0') + _headid).slice(-5) + \".jpg\";\n\t\t\tconsole.log('_url', _url);\n\n\t\t\tif (i == 0) {\n\t\t\t\tthis.m_photoLoader1.url = _url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_photoLoader2.url = _url;\n\t\t\t}\n\t\t}\n\t}\n\tpublic OnShow(): void {\n\t\tconsole.log(\"OnShow~~~\");\n\t\tLaya.stage.offAllCaller(this);\n\t\tLaya.timer.clearAll(this);\n\n\n\t\tlet _startx = Laya.stage.width + this.width * this.pivotX;\n\t\tlet _endx = Laya.stage.width - this.width * (1 - this.pivotX);\n\t\tthis.x = _startx;\n\t\tthis.y = this.myInfo.posY;\n\t\tLaya.Tween.to(this, { x: _endx }, 500, undefined, Laya.Handler.create(this, () => {\n\t\t\tLaya.timer.once(this.myInfo.delayTime, this, () => {\n\t\t\t\tLaya.Tween.to(this, { x: _startx }, 500, undefined, Laya.Handler.create(this, () => {\n\n\n\t\t\t\t\tthis._winHandler.hide();\n\t\t\t\t}));\n\t\t\t})\n\t\t}));\n\t}\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\n\t\tLaya.stage.offAllCaller(this);\n\t\tLaya.timer.clearAll(this);\n\n\t\tthis.changeUrl();\n\t\t// ModulePackage.Instance.PopWindow(\"rank\", \"ResultRank\", 0, 0, {title: \"\u6E38\u620F\u7ED3\u675F\", score: 100, target: this, callBack: () => { \n\n\t\t// \tconsole.log(\"\u518D\u6765\u4E00\u5C40\");\n\t\t// } });\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport uiAtmosphereMain from './uiAtmosphereMain';\nimport uiSurpassHint from './uiSurpassHint';\n\n\nexport default class AtmosphereBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiAtmosphereMain.URL, uiAtmosphereMain);\n\t\tfgui.UIObjectFactory.setExtension(uiSurpassHint.URL, uiSurpassHint);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_prizeItem extends fgui.GComponent {\n\n\tpublic m_ctrlSendStatus:fgui.Controller;\n\tpublic m_ctrlType:fgui.Controller;\n\tpublic m_loadItemHead:fgui.GLoader;\n\tpublic m_btnApply:fgui.GButton;\n\tpublic m_btnApply2:fgui.GButton;\n\tpublic m_txtName:fgui.GTextField;\n\tpublic m_txtPrice:fgui.GTextField;\n\tpublic m_txtBeginTime:fgui.GTextField;\n\tpublic m_txtOrderNo:fgui.GTextField;\n\tpublic static URL:string = \"ui://ennunbg0ctsq39\";\n\n\tpublic static createInstance():UI_prizeItem {\n\t\treturn <UI_prizeItem>(fgui.UIPackage.createObject(\"baseBag\", \"prizeItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlSendStatus = this.getControllerAt(0);\n\t\tthis.m_ctrlType = this.getControllerAt(1);\n\t\tthis.m_loadItemHead = <fgui.GLoader>(this.getChildAt(0));\n\t\tthis.m_btnApply = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_btnApply2 = <fgui.GButton>(this.getChildAt(2));\n\t\tthis.m_txtName = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_txtPrice = <fgui.GTextField>(this.getChildAt(4));\n\t\tthis.m_txtBeginTime = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_txtOrderNo = <fgui.GTextField>(this.getChildAt(6));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_textInput extends fgui.GComponent {\n\n\tpublic m_value:fgui.GTextInput;\n\tpublic static URL:string = \"ui://ennunbg0ctsq3e\";\n\n\tpublic static createInstance():UI_textInput {\n\t\treturn <UI_textInput>(fgui.UIPackage.createObject(\"baseBag\", \"textInput\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_value = <fgui.GTextInput>(this.getChildAt(1));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Alert extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_txtMessage:fgui.GTextField;\n\tpublic m_btnOk:fgui.GButton;\n\tpublic m_btnNo:fgui.GButton;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://ennunbg0ctsq3h\";\n\n\tpublic static createInstance():UI_Alert {\n\t\treturn <UI_Alert>(fgui.UIPackage.createObject(\"baseBag\", \"Alert\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_txtMessage = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_btnOk = <fgui.GButton>(this.getChildAt(3));\n\t\tthis.m_btnNo = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "import ModulePackage from \"../ModulePackage\";\nimport { ModuleAudio } from \"../ModuleTool\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_Alert from \"./baseBag/UI_Alert\";\n\n\nexport default class uiAddressAlert extends UI_Alert {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate _winParamData: { callBack: (_ok: boolean) => void };\n\n\tprivate _bDataIsReady = false;\n\n\tprivate _bIsShown = false;\n\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_btnOk.onClick(this, this._OnOkClick);\n\t\tthis.m_btnNo.onClick(this, this._OnNoClick);\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\n\t\t\t//\u83B7\u53D6\u5F39\u51FA\u7A97\u53E3\u662F\u4F20\u8FDB\u6765\u7684\u53C2\u6570,\u8FD9\u91CC\u662F\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570,\u7528\u6765\u5904\u7406\u518D\u6B21\u8FDB\u5165\u6E38\u620F\u7684\u903B\u8F91\n\t\t\tthis._winParamData = this._winHandler.GetParamData();\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u6253\u5F00\u65F6\u7684\u672C\u7C7B\u6570\u636E\u521D\u59CB\u5316\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t}\n\t}\n\n\tprivate _OnOkClick() {\n\t\t// this._CommitAdressData();\n\n\t\tthis._winHandler.hide();\n\n\t\tif (!!this._winParamData.callBack) {\n\t\t\tthis._winParamData.callBack(true);\n\t\t}\n\t}\n\n\tprivate _OnNoClick() {\n\t\tthis._winHandler.hide();\n\n\t\tif (!!this._winParamData.callBack) {\n\t\t\tthis._winParamData.callBack(false);\n\t\t}\n\t}\n\n\n\n\tpublic OnShow(): void {\n\n\t\tconsole.log(\"OnShow~~~\");\n\n\t\tif (this._winHandler.isShowing == false) return;\n\n\t\tif (this._bIsShown == true) return;\t//\u9632\u6B62\u91CD\u590D\u6267\u884C\n\n\t\tthis._bIsShown = true;\n\t}\n\n\tpublic OnHide(): void {\n\t\tconsole.log(\"OnHide~~~\");\n\t}\n\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_ctrlType:fgui.Controller;\n\tpublic m_ctrlEmptyStatus:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_btnCoupon:fgui.GButton;\n\tpublic m_btnGoods:fgui.GButton;\n\tpublic m_tab:fgui.GGroup;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_noneTxt:fgui.GTextField;\n\tpublic m_listGift:fgui.GList;\n\tpublic m_listSale:fgui.GList;\n\tpublic m_list:fgui.GGroup;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://ennunbg0r8mh1\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"baseBag\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlType = this.getControllerAt(0);\n\t\tthis.m_ctrlEmptyStatus = this.getControllerAt(1);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_btnCoupon = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_btnGoods = <fgui.GButton>(this.getChildAt(2));\n\t\tthis.m_tab = <fgui.GGroup>(this.getChildAt(3));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(4));\n\t\tthis.m_noneTxt = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_listGift = <fgui.GList>(this.getChildAt(6));\n\t\tthis.m_listSale = <fgui.GList>(this.getChildAt(7));\n\t\tthis.m_list = <fgui.GGroup>(this.getChildAt(8));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "import { ModuleTool } from \"./ModuleTool\";\n\n/**\n * \u5E73\u53F0\u63A5\u53E3\n * v0.0.1\n * \u76EE\u524D\u4EC5\u652F\u6301\u6DD8\u5B9D\n */\ndeclare var my;\n\n//\u7528\u5230\u7684\u5168\u5C40\u6570\u636E\nexport interface globalVarsType {\n\tuserOpenID?: string,//\u73A9\u5BB6id\uFF08\u4ECE\u670D\u52A1\u7AEF\u767B\u5F55\u81EA\u52A8\u83B7\u53D6\uFF09\n\tshopID?: string,//\u6307\u5B9A\u5E97\u94FAId\uFF08\u4ECE\u670D\u52A1\u7AEF\u767B\u5F55\u81EA\u52A8\u83B7\u53D6\uFF09\n\tshopOwnerID?: number,//\u5E97\u94FA\u5F52\u5C5E\u7684\u5356\u5BB6Id\uFF08\u4ECE\u670D\u52A1\u7AEF\u767B\u5F55\u81EA\u52A8\u83B7\u53D6\uFF09\n\tshareConfig?: {//\u5206\u4EAB\u914D\u7F6E\uFF08\u4ECE\u6D3B\u52A8\u4FE1\u606F\u81EA\u52A8\u83B7\u53D6\uFF09\n\t\ttitle: string,//\u6807\u9898\u540D\n\t\tdesc: string,//\u5206\u4EAB\u8BED\n\t\timageUrl: string,//\u5206\u4EAB\u56FE\u7247\n\t\tactiveId?: string\n\t}\n\n}\n/**\u53EF\u76D1\u542C\u53D8\u5316\u7684key*/\nexport enum PlatformListenKey {\n\n\t/**\u5207\u6362\u524D\u53F0*/onShow = 'onShow',\n\n\t/**\u5207\u6362\u540E\u53F0*/onHide = 'onHide',\n\n\t/**\u4F1A\u5458\u72B6\u6001\u53D8\u5316*/MemberChange = 'MemberChangeKey',\n\n\t/**\u5173\u6CE8\u72B6\u6001\u53D8\u5316*/FavorChange = 'FavorChangeKey',\n}\nclass ModulePlatformAPI_C {\n\n\t//---------------------\u5916\u90E8\u53EF\u7528\u53D8\u91CF------------------------------//\n\n\tprivate _isMember = false;\n\t/**\u662F\u5426\u662F\u4F1A\u5458*/\n\tget IsMember() { return this._isMember; }\n\n\tprivate _isFavor = false;\n\t/**\u662F\u5426\u5DF2\u5173\u6CE8\u5E97\u94FA*/\n\tget IsFavor() { return this._isFavor; }\n\n\n\t//---------------------\u5185\u90E8\u4F7F\u7528\u5168\u5C40\u53D8\u91CF----------------------------//\n\tprivate globalVars: globalVarsType = {};\n\tprivate fromId?: string | null;\n\t//-------------------------------------------------------//\n\n\tprivate static myInstance: ModulePlatformAPI_C = null as any;\n\tstatic Instance() {\n\t\tif (!this.myInstance) {\n\t\t\tthis.myInstance = new ModulePlatformAPI_C();\n\t\t}\n\t\treturn this.myInstance;\n\t}\n\n\tprivate _objUserInfo: { avatar: string, /*mixNick: string, */nickName: string };\n\n\n\n\t/**\n\t * \u5E73\u53F0\u63A5\u53E3\u521D\u59CB\u5316\n\t * \u8FDB\u5165\u6E38\u620F\u8C03\u7528\u4E00\u6B21\n\t */\n\tInit(_config?: globalVarsType) {\n\t\tif (!Laya.Browser.onTBMiniGame) return false;\n\t\t_config && this.SetGlobal(_config);\n\t\tthis.initShow();\n\n\t\treturn true;\n\t}\n\t/**\n\t * \u8BBE\u7F6E\u5E73\u53F0\u5168\u5C40\u53C2\u6570\n\t * @param _config \n\t */\n\tSetGlobal(_config?: globalVarsType) {\n\t\tif (_config) {\n\t\t\tfor (const key in _config) {\n\t\t\t\tthis.globalVars[key] = _config[key];\n\t\t\t\tif (key == 'shopID') {\n\t\t\t\t\tthis.globalVars[key] = '' + this.globalVars[key];\n\t\t\t\t}\n\t\t\t\telse if (key == 'shopOwnerID') {\n\t\t\t\t\tif (typeof this.globalVars[key] != \"number\") {\n\t\t\t\t\t\tthis.globalVars[key] = Number(this.globalVars[key]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log('SetGlobal', JSON.stringify(this.globalVars));\n\n\t\t}\n\t}\n\tprivate ChangeFavorState(_isFavor: boolean) {\n\t\tif (this._isFavor == _isFavor) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isFavor = _isFavor;\n\t\t//\u9632\u6B62\u4E0E\u4EFB\u52A1\u5185\u68C0\u6D4B\u51B2\u7A81\uFF0C\u5EF6\u8FDF\u53D1\u9001\n\t\tsetTimeout(() => {\n\t\t\tLaya.stage.event(PlatformListenKey.FavorChange);\n\t\t}, 100);\n\n\t};\n\tprivate ChangeMemberState(_isMember: boolean) {\n\t\tif (this._isMember == _isMember) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isMember = _isMember;\n\t\t//\u9632\u6B62\u4E0E\u4EFB\u52A1\u5185\u68C0\u6D4B\u51B2\u7A81\uFF0C\u5EF6\u8FDF\u53D1\u9001\n\t\tsetTimeout(() => {\n\t\t\tLaya.stage.event(PlatformListenKey.MemberChange);\n\t\t}, 100);\n\n\t}\n\n\n\t//-----------------------------------------------app\u751F\u547D\u5468\u671F-------------------------------------//\n\t/**\n\t * \u524D\u540E\u53F0\u5207\u6362\n\t */\n\tinitShow() {\n\t\tlet app = getApp();\n\t\tapp[\"global\"][\"onShow\"] = this.onShow;\n\t\tapp[\"global\"][\"onHide\"] = this.onHide;\n\n\t}\n\n\t//\u5207\u524D\u53F0 \u8C03\u7528\n\tprivate onShow() {\n\t\tconsole.log(\"TB onshow\");\n\t\t//\u53D1\u9001\u5207\u6362\u524D\u53F0\u4E8B\u4EF6\n\t\tLaya.stage.event(PlatformListenKey.onShow);\n\t}\n\n\t//\u5207\u540E\u53F0 \u8C03\u7528\n\tprivate onHide() {\n\t\tconsole.log(\"TB onHide\");\n\t\t//\u53D1\u9001\u5207\u6362\u540E\u53F0\u4E8B\u4EF6\n\t\tLaya.stage.event(PlatformListenKey.onHide);\n\t}\n\t//-----------------------------------------------\u57FA\u7840api-------------------------------------//\n\t/**\n\t * \u662F\u5426\u53EF\u4F7F\u7528\u5E73\u53F0\u63A5\u53E3\n\t * @returns \n\t */\n\tCanUsePlatformAPI() {\n\t\tif (!Laya.Browser.onTBMiniGame)\n\t\t\treturn true;\n\n\t\treturn false;\n\t}\n\t/**\n\t * api\u7248\u672C\u517C\u5BB9\n\t * @param apiName api\u540D\n\t */\n\tpublic CheckApiLv(apiName: string, sdkName?: string) {\n\n\t\tif (!Laya.Browser.onTBMiniGame) return false;\n\n\t\tif (!sdkName || sdkName == undefined) {\n\n\t\t\tif (my[apiName]) return true;\n\n\t\t} else {\n\n\t\t\tif (my[sdkName][apiName]) return true;\n\t\t}\n\n\t\tconsole.log('\u5F53\u524D\u7248\u672C\u4E0D\u652F\u6301\u8BE5API: ', apiName);\n\n\t\treturn false;\n\t}\n\t/**\n\t * \u83B7\u53D6 \u7CFB\u7EDF\u4FE1\u606F\n\t */\n\tpublic GetSystemInfoSync() {\n\n\t\tif (!this.CheckApiLv(\"authorize\")) return null;\n\n\t\treturn my.getSystemInfoSync();\n\t}\n\t/**\n\t * \u83B7\u53D6\u7528\u6237\u4FE1\u606F\n\t */\n\tGetUserInfo(success?: (_info: { nickName: string, avatar: string }) => void, fail?: Function) {\n\n\t\tif (this._objUserInfo) {\n\t\t\tif (!!success) success(this._objUserInfo);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.CheckApiLv(\"authorize\")) {\n\t\t\tif (!!success) success({ nickName: '\u67D0\u4EBA', avatar: '' });\n\t\t\treturn;\n\t\t};\n\n\t\tlet self = this;\n\n\t\tmy.authorize({\n\t\t\tscopes: 'scope.userInfo',\n\n\t\t\tsuccess: (res) => {\n\n\t\t\t\tconsole.log(\"authorize res: \", res);\n\n\t\t\t\tmy.getAuthUserInfo({\n\n\t\t\t\t\tsuccess: (userInfo) => {\n\n\t\t\t\t\t\tself._objUserInfo = userInfo;\n\n\t\t\t\t\t\tif (success) {\n\n\t\t\t\t\t\t\tsuccess(userInfo);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, fail: () => {\n\n\t\t\t\t\t\tconsole.log(\"\u83B7\u53D6\u6388\u6743\u5931\u8D25 \u5F15\u5BFC\u6388\u6743\u754C\u9762\");\n\n\t\t\t\t\t\tif (!this.CheckApiLv(\"showAuthGuide\")) return;\n\n\t\t\t\t\t\tmy.showAuthGuide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tfail: (result) => {\n\n\t\t\t\tif (!!fail) fail(result);\n\t\t\t}\n\t\t});\n\t}\n\t//-----------------------------------------------\u5E73\u53F0\u5F39\u7A97-------------------------------------//\n\t/**\n\t * showLoad\n\t * @param content \u63D0\u793A\u5185\u5BB9\n\t */\n\tshowLoad(content?: string) {\n\t\tif (!this.CheckApiLv(\"showLoading\")) return;\n\t\tlet str_content = content == undefined ? \"\u52A0\u8F7D\u4E2D...\" : content;\n\t\tmy.showLoading({\n\t\t\tcontent: str_content,\n\t\t\tdelay: 1000,\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tthis.hideLoad();\n\t\t}, 5000);\n\t}\n\thideLoad() {\n\t\tif (!this.CheckApiLv(\"hideLoading\")) return;\n\t\tmy.hideLoading();\n\t}\n\t/**\n\t * showToast\n\t * @param content \u63D0\u793A\u5185\u5BB9\n\t */\n\tshowToast(content?: string) {\n\t\tif (!this.CheckApiLv(\"showToast\")) return;\n\t\tif (!content || content == undefined) return;\n\t\tmy.showToast({\n\t\t\ttype: 'success',\n\t\t\tcontent: content,\n\t\t\tduration: 2000,\n\t\t\tsuccess: () => {\n\n\t\t\t},\n\t\t});\n\t}\n\n\t/**\n\t * \u786E\u8BA4/\u53D6\u6D88 \u5F39\u6846\n\t * @param title \n\t * @param content \n\t * @param str_sure \n\t * @param str_cancel \n\t */\n\tconfirm(title: string, content: string, str_sure = \"\u786E\u5B9A\", str_cancel = \"\u53D6\u6D88\") {\n\t\tif (!this.CheckApiLv(\"confirm\")) return;\n\t\tmy.confirm({\n\t\t\ttitle: title,\n\t\t\tcontent: content,\n\t\t\tconfirmButtonText: str_sure,\n\t\t\tcancelButtonText: str_cancel,\n\t\t\tsuccess: (result) => {\n\t\t\t\tconsole.log(\"result: \", result);\n\t\t\t},\n\t\t});\n\t}\n\n\n\t//-----------------------------------------------\u5546\u54C1\u76F8\u5173-------------------------------------//\n\n\t/**\n\t * \u8DF3\u8F6C\u5E97\u94FA\n\t * @param shop_id \u5E97\u94FAid\n\t */\n\tNavigateToTaobaoPage(callbackFunc?: (_success: boolean) => void) {\n\t\tif (!this.CheckApiLv(\"navigateToTaobaoPage\", \"tb\")) return;\n\t\tif (!this.globalVars.shopID) {\n\t\t\tconsole.error('[NavigateToTaobaoPage]\u8BF7\u4F20\u5165shopID');\n\t\t\tif (callbackFunc) {\n\t\t\t\tcallbackFunc(false);\n\t\t\t}\n\t\t\treturn;\n\n\t\t}\n\t\tlet shopId = this.globalVars.shopID\n\t\t//MainUtil.showToast(self._storeId);\n\t\tmy.tb.navigateToTaobaoPage({\n\t\t\tappCode: 'shop',\n\t\t\tappParams: {\n\t\t\t\tshopId: '' + shopId,//\u5E94\u8BE5\u83B7\u53D6\u5E97\u94FAid\n\t\t\t\tweexShopSubTab: \"shopindex\",\n\t\t\t\tweexShopTab: \"shopindexbar\"\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(\"\u8DF3\u8F6C\u5E97\u94FA\u6210\u529F\");\n\t\t\t\tif (callbackFunc) {\n\t\t\t\t\tcallbackFunc(true);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\t//MainUtil.showToast(JSON.stringify(err));\n\t\t\t\tconsole.log(\"\u8DF3\u8F6C\u5E97\u94FA\u5931\u8D25: \", err);\n\t\t\t\tif (callbackFunc) {\n\t\t\t\t\tcallbackFunc(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * \u6536\u85CF \u5546\u54C1\n\t * @param good_id \u5546\u54C1id(\u5FC5\u987B\u4F7F\u7528numer,\u5426\u5219\u82F9\u679C\u4E0D\u80FD\u4F7F\u7528)\n\t */\n\tCollectGoods(good_id: number, callback?: (_success, res?: any) => void) {\n\t\tif (!this.CheckApiLv(\"collectGoods\", \"tb\")) return;\n\t\tif (typeof good_id != 'number') {\n\t\t\tconsole.error('[CollectGoods]\u5546\u54C1id\u9700\u8981\u4F7F\u7528 number \u7C7B\u578B');\n\t\t\tgood_id = Number(good_id);\n\t\t}\n\t\tlet self = this;\n\t\tmy.tb.collectGoods({\n\t\t\tid: good_id,\n\t\t\tsuccess: (res) => {\n\t\t\t\tself.showToast(\"\u6536\u85CF\u6210\u529F\");\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(true, res);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfail: (res) => {\n\t\t\t\tif (res.message) {\n\t\t\t\t\tself.showToast(res.message);\n\t\t\t\t}\n\t\t\t\tconsole.error('\u6536\u85CF\u5931\u8D25', res);\n\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\tcomplete: (res) => {\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * \u53D6\u6D88\u6536\u85CF \u5546\u54C1\n\t * @param good_id \u5546\u54C1id(\u5FC5\u987B\u4F7F\u7528numer,\u5426\u5219\u82F9\u679C\u4E0D\u80FD\u4F7F\u7528)\n\t */\n\tUnCollectGoods(good_id: number) {\n\t\tif (!this.CheckApiLv(\"unCollectGoods\", \"tb\")) return;\n\t\tif (typeof good_id != 'number') {\n\t\t\tconsole.error('[UnCollectGoods]\u5546\u54C1id\u9700\u8981\u4F7F\u7528 number \u7C7B\u578B');\n\t\t\tgood_id = Number(good_id);\n\t\t}\n\t\tlet self = this;\n\t\tmy.tb.unCollectGoods({\n\t\t\tid: good_id,\n\t\t\tsuccess: (res) => {\n\t\t\t\tself.showToast(\"\u53D6\u6D88\u5173\u6CE8\");\n\t\t\t},\n\t\t\tfail: (res) => {\n\n\t\t\t},\n\t\t\tcomplete: (res) => {\n\t\t\t}\n\t\t})\n\t}\n\n\t//\u68C0\u6D4B\u662F\u5426\u5DF2\u6536\u85CF\n\tCheckGoodsCollectedStatus(good_id: number, func?: (_isCollect: boolean) => void) {\n\t\tif (!this.CheckApiLv(\"checkGoodsCollectedStatus\", \"tb\")) {\n\t\t\tfunc && func(true);\n\t\t\treturn;\n\t\t}\n\t\tif (typeof good_id != 'number') {\n\t\t\tconsole.error('[CheckGoodsCollectedStatus]\u5546\u54C1id\u9700\u8981\u4F7F\u7528 number \u7C7B\u578B');\n\t\t\tgood_id = Number(good_id);\n\t\t}\n\t\t// let self = this;\n\t\tmy.tb.checkGoodsCollectedStatus({\n\t\t\tid: good_id,\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(\"\u5546\u54C1\u6536\u85CF\u72B6\u6001 res = \", res);\n\t\t\t\tif (func) {\n\t\t\t\t\tfunc(res.isCollect);\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t}\n\n\t/**\n\t * \u68C0\u6D4B\u5BF9\u67D0\u4E2A\u5546\u94FA \u7684\u5173\u6CE8\u72B6\u6001\n\t * @param shop_id \u5E97\u94FAid(number)\n\t * @param callback \u83B7\u53D6\u6210\u529F \u56DE\u8C03\n\t */\n\tCheckShopFavoredStatus(callback?: (_success: boolean, _isFavor: boolean) => void) {\n\t\tif (!this.CheckApiLv(\"checkShopFavoredStatus\", \"tb\")) return;\n\n\t\tif (!this.globalVars.shopOwnerID) {\n\t\t\tconsole.error('[CheckShopFavoredStatus]\u8BF7\u4F20\u5165shopOwnerID');\n\t\t\tif (callback) {\n\t\t\t\tcallback(false, false);\n\t\t\t}\n\t\t\treturn;\n\n\t\t}\n\t\tlet owner_id = ModuleTool.ChangeToNumber(this.globalVars.shopOwnerID);\n\t\tlet self = this;\n\t\tmy.tb.checkShopFavoredStatus({\n\t\t\tid: owner_id,\n\t\t\tsuccess: (res) => {\n\t\t\t\t/*\n\t\t\t\t\t\tres: {\n\t\t\t\t\t\t\tid: \u5356\u5BB6id\n\t\t\t\t\t\t\tisFavor: \u662F\u5426\u5173\u6CE8(Boolen)\n\t\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\tconsole.log('\u5DF2\u5173\u6CE8\u5E97\u94FA', owner_id);\n\n\t\t\t\tself.ChangeFavorState(res.isFavor);\n\t\t\t\tif (callback) {\n\n\n\t\t\t\t\tcallback(true, self._isFavor);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfail: (res) => {\n\t\t\t\tconsole.log('\u672A\u5173\u6CE8\u5E97\u94FA', owner_id, self._isFavor);\n\t\t\t\tcallback && callback(false, self._isFavor);\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * \u5173\u6CE8 \u5E97\u94FA\n\t * @param shop_id \u5E97\u94FAid\n\t */\n\tFavorShop(callbackFunc?: (_isFavor: boolean) => void, type = 0) {\n\t\tif (!this.CheckApiLv(\"favorShop\", \"tb\")) return;\n\t\tif (!this.globalVars.shopOwnerID) {\n\t\t\tconsole.error('[CheckShopFavoredStatus]\u8BF7\u4F20\u5165shopOwerID');\n\t\t\tif (callbackFunc) {\n\t\t\t\tcallbackFunc(this.IsFavor);\n\t\t\t}\n\t\t\treturn;\n\n\t\t}\n\t\tif (this.IsFavor) {\n\t\t\tif (callbackFunc) {\n\t\t\t\tcallbackFunc(this.IsFavor);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tlet owner_id = this.globalVars.shopOwnerID;\n\t\tlet self = this;\n\t\tconsole.log(\"shopid = \", owner_id);\n\t\tmy.tb.favorShop({\n\t\t\tid: owner_id,\n\t\t\tsuccess: (res) => {\n\t\t\t\tself.ChangeFavorState(true);\n\t\t\t\tif (callbackFunc) {\n\t\t\t\t\tcallbackFunc(this.IsFavor);\n\t\t\t\t}\n\t\t\t\t// //MainUtil.analysis('joinFavor', { isFavor: true, type: type });\n\t\t\t\tself.showToast(\"\u5173\u6CE8\u6210\u529F\");\n\t\t\t},\n\t\t\tfail: (res) => {\n\t\t\t\tif (callbackFunc) {\n\t\t\t\t\tcallbackFunc(this.IsFavor);\n\t\t\t\t}\n\t\t\t\tconsole.error('\u5173\u6CE8\u5931\u8D25', res);\n\n\t\t\t\tself.showToast(\"\u5173\u6CE8\u5931\u8D25\");\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * \u53D6\u6D88\u5173\u6CE8 \u5E97\u94FA\n\t * @param shop_id \u5E97\u94FAid\n\t */\n\tUnFavorShop() {\n\t\tif (!this.CheckApiLv(\"unFavorShop\", \"tb\")) return;\n\t\tif (!this.globalVars.shopOwnerID) {\n\t\t\tconsole.error('[CheckShopFavoredStatus]\u8BF7\u4F20\u5165shopOwerID');\n\t\t\treturn;\n\n\t\t}\n\t\tlet owner_id = this.globalVars.shopOwnerID;\n\t\tlet self = this;\n\t\tmy.tb.unFavorShop({\n\t\t\tid: owner_id,\n\t\t\tsuccess: (res) => {\n\n\t\t\t\tself.showToast(\"\u53D6\u6D88\u5173\u6CE8\");\n\n\t\t\t\tself.ChangeFavorState(false);\n\t\t\t},\n\t\t\tfail: (res) => {\n\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * \u6253\u5F00\u5546\u54C1\u8BE6\u60C5\u9875\n\t * @param itemId \u5546\u54C1Id(string)\n\t * @param platform \u5E73\u53F0\n\t */\n\tpublic OpenShopItemDetail(itemId: string, successCallback?: Function, failCallback?: Function) {\n\t\tif (Laya.Browser.onTBMiniGame) {\n\t\t\tmy.tb.openDetail({\n\n\t\t\t\titemId: '' + itemId,\n\n\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\tconsole.log(\"openDetail success\", res);\n\t\t\t\t\tsuccessCallback && successCallback(res);\n\n\t\t\t\t}, fail: (res) => {\n\n\t\t\t\t\tconsole.error(\"openDetail fail\", res);\n\t\t\t\t\tfailCallback && failCallback(res);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t * \u663E\u793ASKU\u9009\u62E9\u5668\uFF08\u8D2D\u4E70\u5546\u54C1\u5F39\u7A97\uFF09\n\t * @param good_id \u5546\u54C1id(string)\n\t * @param success \u6210\u529F\u56DE\u8C03\n\t */\n\tshowSku(good_id: string, success?: Function) {\n\t\tif (!this.CheckApiLv(\"showSku\", \"tb\")) return;\n\t\tmy.tb.showSku({\n\t\t\titemId: '' + good_id,\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(\"skuId = \", res.skuId);\n\t\t\t\tif (success) {\n\t\t\t\t\tsuccess(true);\n\t\t\t\t}\n\t\t\t\t//\u6D4F\u89C8\u5B8C\u76F4\u63A5\u4E0B\u5355\n\t\t\t\t// this.order(res.itemId, res.skuId, res.quantity, success ? success : null);\n\t\t\t},\n\t\t\tfail: (res) => {\n\t\t\t\tif (success) {\n\t\t\t\t\tsuccess(false);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\t/**\n\t * \u6253\u5F00\u6536\u8D27\u5730\u5740\u9009\u62E9\u5668\n\t * @param success \u6210\u529F\u56DE\u8C03\n\t */\n\tpublic ChooseAddress(successCallBack?: (_success: boolean, info?: {\n\t\tname: string,//\u6536\u8D27\u4EBA\u59D3\u540D\n\t\ttelNumber: string,//\u7535\u8BDD\u53F7\u7801\n\t\tprovinceName: string,//\u7701\n\t\tcityName: string,//\u5E02\n\t\tcountyName: string,//\u533A/\u53BF\n\t\tstreetName: string,//\u8857\u9053\n\t\tstreetCode: string,//\u8857\u9053\u7F16\u7801\n\t\tdetailInfo: string,//\u8BE6\u7EC6\u5730\u5740\n\t}) => void) {\n\n\t\tif (this.CheckApiLv(\"chooseAddress\", \"tb\")) {\n\n\t\t\tmy.authorize({\n\t\t\t\tscopes: 'scope.addressList',\n\t\t\t\tsuccess: (result) => {\n\n\t\t\t\t\tmy.tb.chooseAddress({\n\t\t\t\t\t\taddAddress: \"show\",\n\t\t\t\t\t\tsearchAddress: \"hide\",\n\t\t\t\t\t\tlocateAddress: \"hide\",\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tconsole.log('======= \u6536\u8D27\u5730\u5740 ======', JSON.stringify(res))\n\t\t\t\t\t\t\tif (successCallBack) {\n\t\t\t\t\t\t\t\t// let data = {\n\t\t\t\t\t\t\t\t// \tname: res.name,\n\t\t\t\t\t\t\t\t// \tphone: res.telNumber,\n\t\t\t\t\t\t\t\t// \t// address: res.provinceName + res.cityName + res.countyName + res.streetName + res.detailInfo,\n\t\t\t\t\t\t\t\t// \tprovince: res.provinceName,\n\t\t\t\t\t\t\t\t// \tcity: res.cityName,\n\t\t\t\t\t\t\t\t// \tcounty: res.countyName,\n\t\t\t\t\t\t\t\t// \tstreet: res.streetName,\n\t\t\t\t\t\t\t\t// \tdetailInfo: res.detailInfo\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\tsuccessCallBack(true, res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\t\tconsole.log('======= \u6536\u8D27\u5931\u8D25 ======', JSON.stringify(res))\n\t\t\t\t\t\t\t// this.showToast('\u9009\u62E9\u6536\u8D27\u5730\u5740\u5931\u8D25');\n\t\t\t\t\t\t\tsuccessCallBack && successCallBack(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail(result) {\n\t\t\t\t\tconsole.log('======= \u6388\u6743\u5931\u8D25 ======', JSON.stringify(result))\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tsuccessCallBack(true, {\n\t\t\t\tname: '\u6D4B\u8BD5\u540D',//\u6536\u8D27\u4EBA\u59D3\u540D\n\t\t\t\ttelNumber: '123',//\u7535\u8BDD\u53F7\u7801\n\t\t\t\tprovinceName: '\u7701\u4EFD\u3001',//\u7701\n\t\t\t\tcityName: '\u5E02\u3001',//\u5E02\n\t\t\t\tcountyName: '\u533A\u3001',//\u533A/\u53BF\n\t\t\t\tstreetName: '\u8857\u9053\u3001',//\u8857\u9053\n\t\t\t\tstreetCode: '\u8857\u9053\u7F16\u7801\u3001',//\u8857\u9053\u7F16\u7801\n\t\t\t\tdetailInfo: '\u8BE6\u7EC6\u5730\u5740',//\u8BE6\u7EC6\u5730\u5740\n\t\t\t});\n\t\t}\n\t}\n\n\t//-----------------------------------------------\u4F1A\u5458-------------------------------------//\n\t/**\n\t * \u6253\u5F00\u5165\u4F1A\u63D2\u4EF6\n\t */\n\tOpenMember(resultCB?: (_isMember: boolean) => void) {\n\t\tif (!Laya.Browser.onTBMiniGame) return;\n\t\t// if (this._openid == undefined || this._openid == \"\") {\n\t\t// \tthis.login();\n\t\t// \treturn;\n\t\t// }\n\t\tif (this.IsMember) {\n\t\t\tresultCB && resultCB(this.IsMember);\n\t\t\treturn;\n\t\t}\n\t\tlet app = getApp();\n\t\tif (app[\"openMember\"]) {\n\t\t\tapp[\"openMember\"](() => {\n\t\t\t\tconsole.log('\u5173\u95ED\u5165\u4F1A');\n\t\t\t\tresultCB && resultCB(false);\n\t\t\t}, (res) => {\n\t\t\t\tconsole.log('\u52A0\u5165\u4F1A\u5458\u7ED3\u679C', res);\n\t\t\t\t//\u66F4\u65B0\u4F1A\u5458\u72B6\u6001\n\t\t\t\tthis.ChangeMemberState(res);\n\t\t\t\tresultCB && resultCB(res);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * \u662F\u5426\u4E3A\u4F1A\u5458\n\t */\n\tCheckMember(callback?: (_isMember: boolean) => void) {\n\t\tif (!Laya.Browser.onTBMiniGame) return;\n\t\t// if (this._openid == undefined || this._openid == \"\") {\n\t\t// \tthis.login();\n\t\t// \treturn;\n\t\t// }\n\t\tconsole.log('==== checkMember ====');\n\t\tlet app = getApp();\n\t\tif (app[\"checkMember\"]) {\n\t\t\tapp[\"checkMember\"]((res) => {\n\t\t\t\tconsole.log('checkMember res', res);\n\t\t\t\t//\u66F4\u65B0\u4F1A\u5458\u72B6\u6001\n\t\t\t\tthis.ChangeMemberState(res);\n\t\t\t\tcallback && callback(res);\n\t\t\t});\n\t\t}\n\t}\n\t//-----------------------------------------------\u5176\u4ED6-------------------------------------//\n\t/**\n\t * \u5206\u4EAB\u63A5\u53E3\n\t */\n\tShare(shareSuccess?: Function, shareFail?: Function) {\n\t\tif (!this.CheckApiLv(\"showSharePanel\")) return;\n\n\t\t//\u83B7\u53D6\u5E76\u68C0\u6D4B\u5206\u4EAB\u4FE1\u606F\n\t\tlet app: any = getApp();\n\t\tif (!this.globalVars.shareConfig) {\n\t\t\tconsole.error('[Share]\u8BF7\u5148\u914D\u7F6E\u5206\u4EAB\u4FE1\u606F\uFF01');\n\t\t\treturn;\n\t\t}\n\t\tlet _shareConfig = this.globalVars.shareConfig;\n\t\tconsole.log('_shareConfig', JSON.stringify(_shareConfig));\n\n\t\tif (!_shareConfig['userOpenId']) {\n\t\t\t_shareConfig['userOpenId'] = this.globalVars.userOpenID;\n\t\t}\n\t\tif (!_shareConfig.activeId) {\n\t\t\t_shareConfig.activeId = app.activeId;\n\t\t}\n\t\tif (!_shareConfig.activeId) {\n\t\t\tconsole.error('[Share]\u8BF7\u5148\u83B7\u53D6activeId');\n\t\t\treturn;\n\t\t}\n\t\tif (!_shareConfig['userOpenId']) {\n\t\t\tconsole.error('[Share]\u8BF7\u5148\u83B7\u53D6userOpenId');\n\t\t\treturn;\n\t\t}\n\t\tconsole.log('_shareConfig2', JSON.stringify(_shareConfig));\n\n\t\t//\u8BBE\u7F6E\u5206\u4EAB\u4FE1\u606F\n\t\tapp.setShare({\n\t\t\ttitle: _shareConfig.title,\n\t\t\tdesc: _shareConfig.desc,\n\t\t\timageUrl: _shareConfig.imageUrl,\n\n\t\t\tpath: \"pages/index/game?fromId=\" + _shareConfig['userOpenId'] + \"&activeId=\" + _shareConfig.activeId\n\t\t});\n\t\tif (shareSuccess) {\n\t\t\tapp.global[\"shareSuccess\"] = shareSuccess;\n\t\t}\n\t\tif (shareFail) {\n\t\t\tapp.global[\"shareFail\"] = shareFail;\n\t\t}\n\t\t//\u663E\u793A\u5206\u4EAB\n\t\tmy.showSharePanel();\n\t\treturn;\n\t}\n\t//\u7528\u6237\u6765\u6E90\n\tGetFromID() {\n\t\tif (!Laya.Browser.onTBMiniGame) {\n\t\t\treturn this.fromId;\n\t\t}\n\t\tif (this.fromId === undefined) {\n\t\t\tlet app: any = getApp();\n\t\t\tthis.fromId = app.fromId || null;\n\t\t}\n\t\treturn this.fromId;\n\t}\n\n\t//-----------------------------------------------------------------------------------------//\n\n};\n\n\nexport let ModulePlatformAPI = ModulePlatformAPI_C.Instance();\n", "import ModulePackage from \"../ModulePackage\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_Main from \"./baseBag/UI_Main\";\nimport UI_prizeItem from \"./baseBag/UI_prizeItem\";\nimport { ModulePlatformAPI } from './../ModulePlatformAPI';\nimport { ModuleAudio, ModuleTool } from \"../ModuleTool\";\nimport { AddressInfoType } from \"./uiInputRewardAdress\";\n\n\nexport default class uiBaseBagMain extends UI_Main {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate _winParamData: {};\n\n\tprivate _bDataIsReady = false;\n\n\tprivate _bIsShown = false;\n\n\t/**\n\t * \u80CC\u5305\u6570\u636E\n\t */\n\tprivate _bagData = {\n\t\t\"code\": 0,\n\t\t\"msg\": '',\n\t\t\"data\": {\n\t\t\t\"total\": 1,\n\t\t\t\"totalPage\": 1,\n\t\t\t\"currentPage\": 1,\n\t\t\t\"pageData\": [\n\t\t\t\t{\n\t\t\t\t\t\"orderId\": \"202104261003039887\",\n\t\t\t\t\t\"icon\": \"https://www.cico.vip/images/upload/sed.png\",\n\t\t\t\t\t\"updateTime\": 1619431383393,\n\t\t\t\t\t\"userId\": \"AAEUJuVuANh0-OdADmy09-ts\",\n\t\t\t\t\t\"prizeNumber\": 1,\n\t\t\t\t\t\"activityId\": 1015,\n\t\t\t\t\t\"prizePrice\": 199,\n\t\t\t\t\t\"createTime\": 1619431383393,\n\t\t\t\t\t\"merchantId\": 1007,\n\t\t\t\t\t\"prizeName\": \"\u5B9E\u7269123123123123123\",\n\t\t\t\t\t\"price\": 12300,\n\t\t\t\t\t\"AppKey\": \"32676443\",\n\t\t\t\t\t\"Id\": \"60868fd7ef5071b7e224764a\",//\u8FD9\u662F\u6743\u76CAid\n\t\t\t\t\t\"state\": 1,\n\t\t\t\t\t\"prizeType\": 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"orderId\": \"202104261003039887\",\n\t\t\t\t\t\"icon\": \"https://www.cico.vip/images/upload/sed.png\",\n\t\t\t\t\t\"updateTime\": 1619431383393,\n\t\t\t\t\t\"userId\": \"AAEUJuVuANh0-OdADmy09-ts\",\n\t\t\t\t\t\"prizeNumber\": 1,\n\t\t\t\t\t\"activityId\": 1015,\n\t\t\t\t\t\"prizePrice\": 199,\n\t\t\t\t\t\"createTime\": 1619431383393,\n\t\t\t\t\t\"merchantId\": 1007,\n\t\t\t\t\t\"prizeName\": \"\u7279\u7B49\u595612312312312123123123\",\n\t\t\t\t\t\"price\": 12345,\n\t\t\t\t\t\"AppKey\": \"32676443\",\n\t\t\t\t\t\"Id\": \"60868fd7ef5071b7e224764a\",//\u8FD9\u662F\u6743\u76CAid\n\t\t\t\t\t\"state\": 1,\n\t\t\t\t\t\"prizeType\": 2,\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t};\n\tprivate divideData = {\n\t\tgoods: [],\n\t\tcoupons: [],\n\t}\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_btnGoods.onClick(this, () => {\n\t\t\t// if (this.m_ctrlType.selectedPage == '\u5B9E\u7269') {\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\tModuleAudio.PlayComonBtnAudio();\n\t\t\tthis._LoadBagData('goods');\n\t\t\t// console.log('\u5B9E\u7269\u5B9E\u7269');\n\t\t\t// this.m_ctrlType.setSelectedPage(\"\u5B9E\u7269\");\n\n\t\t})\n\t\tthis.m_btnCoupon.onClick(this, () => {\n\t\t\t// if (this.m_ctrlType.selectedPage == '\u4F18\u60E0\u5238') {\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\tModuleAudio.PlayComonBtnAudio();\n\t\t\tthis._LoadBagData('coupons');\n\t\t\t// console.log('\u4F18\u60E0\u5238\u4F18\u60E0\u5238');\n\t\t\t// this.m_ctrlType.setSelectedPage(\"\u4F18\u60E0\u5238\");\n\n\n\t\t})\n\t\tthis.m_ctrlType.setSelectedPage(\"\u5B9E\u7269\");\n\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u83B7\u53D6\u5F39\u51FA\u7A97\u53E3\u662F\u4F20\u8FDB\u6765\u7684\u53C2\u6570,\u8FD9\u91CC\u662F\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570,\u7528\u6765\u5904\u7406\u518D\u6B21\u8FDB\u5165\u6E38\u620F\u7684\u903B\u8F91\n\t\t\tthis._winParamData = this._winHandler.GetParamData();\n\t\t\t// //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u6253\u5F00\u65F6\u7684\u672C\u7C7B\u6570\u636E\u521D\u59CB\u5316\u3002\n\t\t\t// this._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\n\t\t\tthis.divideData['goods'] = [];\n\t\t\tthis.divideData['coupons'] = [];\n\t\t\tlet _type: 'goods' | 'coupons' = this.m_ctrlType.selectedPage == '\u5B9E\u7269' ? 'goods' : 'coupons';\n\t\t\tthis._LoadBagData(_type);\n\t\t\t// this._LoadBagData('coupons');\n\t\t\tLaya.stage.on('refreshAdress', this, () => {\n\t\t\t\tthis._LoadBagData('goods', true);\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _LoadBagData(_type: 'goods' | 'coupons', _refresh = false): void {\n\n\t\t// if (!_refresh && this.divideData[_type] && this.divideData[_type].length > 0) {\n\t\t// \treturn;\n\t\t// }\n\t\tthis.divideData[_type] = [];\n\n\n\t\tlet _show = (_data) => {\n\t\t\t// console.error('_LoadBagData', this._bagData.data.pageData);\n\n\t\t\t// for (const iterator of this._bagData.data.pageData) {\n\t\t\t// \tif (iterator.prizeType == 1) {\n\t\t\t// \t\tthis.divideData.goods.push(iterator);\n\t\t\t// \t}\n\t\t\t// \telse if (iterator.prizeType == 2) {\n\t\t\t// \t\tthis.divideData.coupons.push(iterator);\n\t\t\t// \t}\n\t\t\t// }\n\t\t\t// console.error('divideDatadivideDatadivideData', _data);\n\n\t\t\tthis.divideData[_type] = _data;\n\n\t\t\t// this._bDataIsReady = true;\n\t\t\tthis.OnShow(_type);\n\t\t\t// this.OnShow('coupons');\n\t\t}\n\t\tif (ModulePackage.Instance.CanUseNetAPI()) {\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/bag/userBag\", {\n\n\t\t\t\tpageNumber: 1,\t//\u4ECE1\u5F00\u59CB\n\t\t\t\tpageSize: 999,\n\t\t\t\tprizeState: _type == 'goods' ? 1 : 2\n\t\t\t\t// userId : \"1\"\n\n\t\t\t}, \"post\", this, (data) => {\n\n\t\t\t\tLaya.timer.clear(this._winHandler, this._winHandler.showModalWait);\n\n\t\t\t\tthis._winHandler.closeModalWait();\n\n\t\t\t\t// console.log(data);\n\n\t\t\t\t// this._bagData = data;\n\t\t\t\t_show(data.data.pageData);\n\t\t\t});\n\n\t\t\tLaya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\n\t\t}\n\t\telse {\n\t\t\t_show(this._bagData.data.pageData);\n\t\t}\n\n\n\t\t//this._OnClick(0,null); //test\n\t}\n\n\n\t/**\n\t * \u5217\u8868\u70B9\u51FB\u4E8B\u4EF6\n\t */\n\tprivate _OnClick(index: number, evt: Event): void {\n\n\t\tconsole.log(\"---------------------------\", evt, index);\n\n\t\tModuleAudio.PlayComonBtnAudio();\n\t\tlet itemData = this.divideData.goods[index];\n\n\t\tif (itemData.state > 1) return;\t//\u53EA\u6709\u672A\u7533\u8BF7\u8FC7\u53D1\u8D27\u7684\u624D\u80FD\u7533\u8BF7\u3002\n\n\t\t// // ModulePackage.Instance.PopWindow(\"baseBag\",\"InputRewardAdress\",0,0,{orderId:itemData.Id});\n\t\t// ModulePlatformAPI.ChooseAddress(this, (result) => {\n\n\t\t// \tModulePackage.Instance.PopWindow(\"baseBag\", \"InputRewardAdress\", {\n\t\t// \t\tpx: 0, py: 0, winParamData: {\n\n\t\t// \t\t\t\"Id\": itemData.Id,\t\t\t\t\t//\u6743\u76CAId\n\t\t// \t\t\t\"name\": result.name,\n\t\t// \t\t\t// \"nickName\": result.name,\n\t\t// \t\t\t\"phone\": result.telNumber,\n\t\t// \t\t\t// \"region\": result.provinceName + result.cityName + result.countyName,\n\t\t// \t\t\t// \"address\": result.streetName + result.detailInfo,\n\t\t// \t\t\t\"address\": result.provinceName + result.cityName + result.countyName + result.streetName + result.detailInfo,\n\n\t\t// \t\t\t// target: this,\n\t\t// \t\t\t// callBack: (flag) => { if (flag == \"Ok\") this._winHandler.hide(); }\n\t\t// \t\t}\n\t\t// \t});\n\n\t\t// });\n\n\t\tlet _adrinfo: AddressInfoType = {} as any;\n\t\t_adrinfo.Id = itemData.Id;\n\t\t//\u4F20\u5165\u5730\u5740\u4FE1\u606F\n\t\tlet _showAddress = () => {\n\t\t\tModulePlatformAPI.ChooseAddress((_success, _info) => {\n\t\t\t\tif (!_success) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_adrinfo.name = _info.name;\n\t\t\t\t_adrinfo.phone = _info.telNumber;\n\t\t\t\t_adrinfo.province = _info.provinceName;\n\t\t\t\t_adrinfo.city = _info.cityName;\n\t\t\t\t_adrinfo.county = _info.countyName;\n\t\t\t\t_adrinfo.street = _info.streetName;\n\t\t\t\t_adrinfo.address = _info.detailInfo;\n\n\t\t\t\tconsole.error('_info_info', _adrinfo);\n\n\t\t\t\tModulePackage.Instance.PopWindow(\"baseBag\", \"InputRewardAdress\", {\n\t\t\t\t\twinParamData: _adrinfo\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t\t//\u83B7\u53D6\u7528\u6237\u6635\u79F0\n\t\tModulePlatformAPI.GetUserInfo((_info) => {\n\t\t\t_info.nickName = _info.nickName;\n\t\t\t_showAddress();\n\t\t}, () => {\n\t\t\t_adrinfo.nickName = '\u672A\u6388\u6743';\n\t\t\t_showAddress();\n\t\t}\n\t\t)\n\t}\n\t_OnClickCoupons() {\n\t\tModulePlatformAPI.NavigateToTaobaoPage();\n\t\tModuleAudio.PlayComonBtnAudio();\n\t}\n\tprivate showAddress() {\n\n\t}\n\n\t/**\n\t * \u5217\u8868\u9879\u6E32\u67D3\u51FD\u6570\n\t * \u6B63\u786E\u7528\u6CD5\uFF0Cbtn.onClick(this._OnClick); \n\t * \u9519\u8BEF\u7528\u6CD5\uFF0Cbtn.onClick(()=>{}); \u8FD9\u91CC\u4E0D\u5E94\u8BE5\u4F7F\u7528\u4E34\u65F6\u51FD\u6570\n\t * @param index\n\t * @param obj\n\t */\n\tprivate _OnRenderItem(_typeKey: 'goods' | 'coupons', index: number, obj: fgui.GObject): void {\n\n\t\tconsole.log(index, \"================================1\", _typeKey);\n\n\t\tvar prizeItem = obj as UI_prizeItem;\n\n\t\tlet itemData = this.divideData[_typeKey][index];\n\n\t\t// console.log(index, \"================================2\", itemData, prizeItem);\n\n\t\tif (!!itemData) {\n\n\t\t\tif (_typeKey == 'goods') {\n\t\t\t\tprizeItem.m_btnApply.onClick(this, this._OnClick, [index]);\n\t\t\t\tprizeItem.m_ctrlType.setSelectedPage('\u5B9E\u7269');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprizeItem.m_btnApply2.onClick(this, this._OnClickCoupons);\n\t\t\t\tprizeItem.m_ctrlType.setSelectedPage('\u4F18\u60E0\u5238');\n\t\t\t}\n\n\t\t\tvar name = ModuleTool.getCutString(itemData.prizeName,15)\n\t\t\tprizeItem.m_txtName.text = name;\n\n\t\t\t//prizePrice \u4E0Eb\u7AEF\u6570\u636E\u4E0D\u4E00\u81F4\uFF0C\u6539\u4E3A\u5143\u4E3A\u5355\u4F4D\n\t\t\tprizeItem.m_txtPrice.setVar(\"money\", (itemData.prizePrice).toFixed(2).toString()).flushVars();\n\n\t\t\tlet _date = new Date(itemData.createTime);\n\n\t\t\tprizeItem.m_txtBeginTime.setVar(\"time\", `${_date.getFullYear()}-${_date.getMonth()+1}-${_date.getDate()}`).flushVars();\n\n\t\t\tprizeItem.m_txtOrderNo.setVar(\"orderId\", itemData.orderId).flushVars();\n\n\t\t\tprizeItem.m_loadItemHead.url = itemData.icon;\n\n\t\t\t// console.log(index, \"================================3\", itemData, prizeItem);\n\n\t\t\t//1\u672A\u7533\u8BF7\uFF0C2\u5DF2\u7ECF\u7533\u8BF7\uFF0C3\u5DF2\u53D1\u8D27\n\t\t\tif (itemData.state <= 1) {\n\t\t\t\tprizeItem.m_ctrlSendStatus.setSelectedPage(\"\u672A\u7533\u8BF7\u53D1\u8D27\");\n\t\t\t}\n\t\t\telse if (itemData.state == 2) {\n\t\t\t\tprizeItem.m_ctrlSendStatus.setSelectedPage(\"\u5DF2\u7533\u8BF7\u53D1\u8D27\");\n\t\t\t}\n\t\t\telse if (itemData.state == 3) {\n\t\t\t\tprizeItem.m_ctrlSendStatus.setSelectedPage(\"\u5DF2\u53D1\u8D27\");\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic OnShow(_typeKey: 'goods' | 'coupons'): void {\n\n\t\tif (this._winHandler.visible == false) return;\n\n\t\t// if (this._bDataIsReady == false) return;\n\n\t\t// if (this._bIsShown == true) return;\t//\u9632\u6B62\u91CD\u590D\u6267\u884C\n\n\t\tlet len = 0;\n\n\t\ttry {\n\n\t\t\t// console.log(\"uiBaseBagMain::OnShow1~~~\", this.divideData[_typeKey]);\n\n\t\t\t// this.m_ctrlType.setSelectedPage(\"\u5B9E\u7269\");\n\n\t\t\tlet _list = _typeKey == 'goods' ? this.m_listGift : this.m_listSale;\n\t\t\tif (!!this.divideData[_typeKey]) {\n\t\t\t\tlen = this.divideData[_typeKey].length;\n\t\t\t}\n\n\t\t\t// console.log(\"uiBaseBagMain::OnShow2~~~\", len);\n\n\t\t\tif (len > 0) {\n\t\t\t\tthis.m_ctrlEmptyStatus.setSelectedPage(\"\u4E0D\u4E3A\u7A7A\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_ctrlEmptyStatus.setSelectedPage(\"\u7A7A\u7684\");\n\t\t\t}\n\n\t\t\t// console.log(\"uiBaseBagMain::OnShow5~~~\", this);\n\t\t\t//\u5B9E\u7269\u5217\u8868\n\t\t\t_list.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, [_typeKey], false);\n\n\t\t\t// console.log(\"uiBaseBagMain::OnShow6~~~\", _list);\n\n\t\t\t_list.setVirtual();\n\n\t\t\t_list.numItems = len;\n\n\n\t\t}\n\t\tcatch (e) {\n\n\t\t\tconsole.log(\"uiBaseBagMain::OnShow4~~~\", e);\n\t\t}\n\n\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\n\t\t// console.log(\"uiBaseBagMain::OnShow3~~~\", len);\n\t}\n\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\t}\n\n\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_InputRewardAdress extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_btnOk:fgui.GButton;\n\tpublic m_pannelName:fgui.GImage;\n\tpublic m_inputName:fgui.GTextField;\n\tpublic m_pannelPhone:fgui.GImage;\n\tpublic m_inputPhone:fgui.GTextField;\n\tpublic m_pannelAdress:fgui.GImage;\n\tpublic m_inputAdress:fgui.GTextField;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://ennunbg0ctsq3i\";\n\n\tpublic static createInstance():UI_InputRewardAdress {\n\t\treturn <UI_InputRewardAdress>(fgui.UIPackage.createObject(\"baseBag\", \"InputRewardAdress\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_btnOk = <fgui.GButton>(this.getChildAt(3));\n\t\tthis.m_pannelName = <fgui.GImage>(this.getChildAt(7));\n\t\tthis.m_inputName = <fgui.GTextField>(this.getChildAt(8));\n\t\tthis.m_pannelPhone = <fgui.GImage>(this.getChildAt(9));\n\t\tthis.m_inputPhone = <fgui.GTextField>(this.getChildAt(10));\n\t\tthis.m_pannelAdress = <fgui.GImage>(this.getChildAt(11));\n\t\tthis.m_inputAdress = <fgui.GTextField>(this.getChildAt(12));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "import ModulePackage from \"../ModulePackage\";\nimport { ModulePlatformAPI } from \"../ModulePlatformAPI\";\nimport { ModuleAudio } from \"../ModuleTool\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_InputRewardAdress from \"./baseBag/UI_InputRewardAdress\";\n\nexport interface AddressInfoType {\n\tId: string,//mongoId\n\tname: string,\n\tnickName: string,\n\tphone: string,\n\tprovince: string,\n\tcity: string,\n\tcounty: string,\n\tstreet: string,\n\taddress: string\n\n\n}\n\nexport default class uiInputRewardAdress extends UI_InputRewardAdress {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate _winParamData: AddressInfoType;\n\n\tprivate _bIsShown = false;\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_btnOk.onClick(this, this._OnOkClick);\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u83B7\u53D6\u5F39\u51FA\u7A97\u53E3\u662F\u4F20\u8FDB\u6765\u7684\u53C2\u6570,\u8FD9\u91CC\u662F\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570,\u7528\u6765\u5904\u7406\u518D\u6B21\u8FDB\u5165\u6E38\u620F\u7684\u903B\u8F91\n\t\t\tthis._winParamData = this._winHandler.GetParamData();\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u6253\u5F00\u65F6\u7684\u672C\u7C7B\u6570\u636E\u521D\u59CB\u5316\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\n\t\t\t{\n\t\t\t\tthis.m_inputName.text = '' + this._winParamData.name;\n\t\t\t\tthis.m_inputPhone.text = '' + this._winParamData.phone;\n\t\t\t\tthis.m_inputAdress.text =\n\t\t\t\t\tthis._winParamData.province\n\t\t\t\t\t+ this._winParamData.city\n\t\t\t\t\t+ this._winParamData.county\n\t\t\t\t\t+ this._winParamData.street\n\t\t\t\t\t+ this._winParamData.address;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _OnOkClick() {\n\t\t// let _param = {\n\n\t\t// \t\"Id\": \"1\",\n\t\t// \t\"name\": this.m_inputName.m_value.text,\n\t\t// \t\"phone\": this.m_inputPhone.m_value.text,\n\t\t// \t\"region\": \"\u672A\u77E5\",\n\t\t// \t\"address\": this.m_inputAdress.m_value.text,\n\t\t// \t\"nickName\": this.m_inputName.m_value.text\n\t\t// };\n\t\tlet _nickName = '';\n\n\t\tModuleAudio.PlayComonBtnAudio();\n\t\tlet _send = () => {\n\t\t\tlet _info = {\n\t\t\t\tcallBack: (_ok: boolean) => {\n\t\t\t\t\tif (_ok) {\n\t\t\t\t\t\tconsole.log('\u786E\u5B9A\u7533\u8BF7\u53D1\u8D27');\n\t\t\t\t\t\tthis._winHandler.showModalWait();\n\n\t\t\t\t\t\tLaya.timer.once(5000, this._winHandler, this._winHandler.closeModalWait);\n\t\t\t\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/bag/userConfirm\", this._winParamData, \"post\", this,\n\t\t\t\t\t\t\t(data) => {\n\t\t\t\t\t\t\t\tLaya.timer.clear(this._winHandler, this._winHandler.closeModalWait);\n\t\t\t\t\t\t\t\tthis._winHandler.closeModalWait();\n\t\t\t\t\t\t\t\tif (data.code == 0) {\n\t\t\t\t\t\t\t\t\tLaya.stage.event('refreshAdress');\n\t\t\t\t\t\t\t\t\tthis._winHandler.hide();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tModulePackage.Instance.PopWindow(\"baseBag\", \"Alert\", {\n\t\t\t\twinParamData: _info,\n\t\t\t});\n\t\t}\n\t\tModulePlatformAPI.GetUserInfo((_info) => {\n\t\t\t_nickName = _info.nickName;\n\t\t\t_send();\n\t\t}, () => {\n\t\t\t_send();\n\t\t}\n\t\t)\n\n\t}\n\tpublic OnShow(): void {\n\n\t\tif (this._winHandler.isShowing == false) return;\n\n\t\tif (this._bIsShown == true) return;\t//\u9632\u6B62\u91CD\u590D\u6267\u884C\n\n\t\tconsole.log(\"OnShow~~~\");\n\n\n\t\tthis._bIsShown = true;\n\t}\n\n\tpublic OnHide(): void {\n\t\tLaya.timer.clearAll(this);\n\t\tconsole.log(\"OnHide~~~\");\n\t}\n\n\n}", "\nimport UI_prizeItem from \"./baseBag/UI_prizeItem\";\nimport UI_textInput from \"./baseBag/UI_textInput\";\nimport uiAddressAlert from \"./uiAddressAlert\";\nimport uiBaseBagMain from \"./uiBaseBagMain\";\nimport uiInputRewardAdress from \"./uiInputRewardAdress\";\n\nexport default class baseBagBinder {\n\n\tpublic static bindAll(): void {\n\n\t\t//////////////////////////////////////////////////////////////////////////////////////\n\t\t//\u624B\u52A8\u5BFC\u5165\n\t\t//////////////////////////////////////////////////////////////////////////////////////\n\t\tfgui.UIObjectFactory.setExtension(uiBaseBagMain.URL, uiBaseBagMain);\n\t\tfgui.UIObjectFactory.setExtension(uiAddressAlert.URL, uiAddressAlert);\n\t\tfgui.UIObjectFactory.setExtension(uiInputRewardAdress.URL, uiInputRewardAdress);\n\t\t//////////////////////////////////////////////////////////////////////////////////////\n\t\t//\u81EA\u52A8\u751F\u6210\u7684\u90E8\u5206\uFF0C\u9700\u624B\u52A8\u62F7\u8D1D\u8FC7\u6765\n\t\t//////////////////////////////////////////////////////////////////////////////////////\n\t\tfgui.UIObjectFactory.setExtension(UI_textInput.URL, UI_textInput);\n\t\tfgui.UIObjectFactory.setExtension(UI_prizeItem.URL, UI_prizeItem);\n\t}\n}", "import { ModuleAudio } from \"./ModuleTool\";\n\nexport default class ModuleWindow extends fgui.Window {\n\n    private _callBackHideTarget: any;\n\n    private _callBackHide: Function;\n\n    private _callBackShowTarget: any;\n\n    private _callBackShow: Function;\n\n    private _winParamData: any;\n\n    constructor(winParamData: any) {\n\n        super();\n\n        this._winParamData = winParamData;\n        // console.error('ModuleWindow', this);\n\n    }\n\n    protected doShowAnimation(): void {\n\n        let _trs = this.contentPane.getTransition(\"popUp\");\n\n        if (_trs) {\n\n            _trs.play(Laya.Handler.create(this, () => {\n                this.onShown();\n            }));\n\n        }\n        else {\n            this.onShown();\n        }\n\n    }\n\n    protected doHideAnimation(): void {\n\n        ModuleAudio.PlayComonBtnAudio();\n        let _trs = this.contentPane.getTransition(\"packUp\");\n\n        if (_trs) {\n\n            _trs.play(Laya.Handler.create(this, () => {\n                this.hideImmediately();\n            }));\n\n        }\n        else {\n            this.hideImmediately();\n        }\n\n    }\n\n    public onHide() {\n\n        if (!!this._callBackHide) this._callBackHide.call(this._callBackHideTarget);\n\n        // console.error('onHide parent', this.parent);\n\n    }\n\n    public onShown() {\n        super.onShown();\n        if (!!this._callBackShow) this._callBackShow.call(this._callBackShowTarget);\n\n        // console.error('onShown parent', this.parent);\n    }\n\n\n    public SetShowCallBack(thisObj: any, callBackShow: Function) {\n        this._callBackShowTarget = thisObj;\n\n        this._callBackShow = callBackShow;\n    }\n\n    public SetHideCallBack(thisObj: any, callBackHide: Function) {\n        this._callBackHideTarget = thisObj;\n\n        this._callBackHide = callBackHide;\n    }\n\n    public GetParamData(): any {\n        return this._winParamData;\n    }\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_awardItem extends fgui.GComponent {\n\n\tpublic m_styleCtrl:fgui.Controller;\n\tpublic m_txtRank:fgui.GTextField;\n\tpublic m_loadItemHead:fgui.GLoader;\n\tpublic m_txtName:fgui.GTextField;\n\tpublic m_txtPrice:fgui.GTextField;\n\tpublic static URL:string = \"ui://qkteqwfpcowj1n\";\n\n\tpublic static createInstance():UI_awardItem {\n\t\treturn <UI_awardItem>(fgui.UIPackage.createObject(\"rank\", \"awardItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_styleCtrl = this.getControllerAt(0);\n\t\tthis.m_txtRank = <fgui.GTextField>(this.getChildAt(0));\n\t\tthis.m_loadItemHead = <fgui.GLoader>(this.getChildAt(2));\n\t\tthis.m_txtName = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_txtPrice = <fgui.GTextField>(this.getChildAt(4));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_banner extends fgui.GComponent {\n\n\tpublic m_ctrlActveStatus:fgui.Controller;\n\tpublic m_topLoader:fgui.GLoader;\n\tpublic m_numBanner:fgui.GImage;\n\tpublic m_timeBanner:fgui.GImage;\n\tpublic m_txtMaxNum:fgui.GRichTextField;\n\tpublic m_numTxt:fgui.GRichTextField;\n\tpublic m_timeTxt:fgui.GRichTextField;\n\tpublic static URL:string = \"ui://qkteqwfpctsq3a\";\n\n\tpublic static createInstance():UI_banner {\n\t\treturn <UI_banner>(fgui.UIPackage.createObject(\"rank\", \"banner\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlActveStatus = this.getControllerAt(0);\n\t\tthis.m_topLoader = <fgui.GLoader>(this.getChildAt(0));\n\t\tthis.m_numBanner = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_timeBanner = <fgui.GImage>(this.getChildAt(2));\n\t\tthis.m_txtMaxNum = <fgui.GRichTextField>(this.getChildAt(3));\n\t\tthis.m_numTxt = <fgui.GRichTextField>(this.getChildAt(4));\n\t\tthis.m_timeTxt = <fgui.GRichTextField>(this.getChildAt(5));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_GetReward extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_loadItemIcon:fgui.GLoader;\n\tpublic m_txtItemName:fgui.GTextField;\n\tpublic m_btnOk:fgui.GButton;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpip943j\";\n\n\tpublic static createInstance():UI_GetReward {\n\t\treturn <UI_GetReward>(fgui.UIPackage.createObject(\"rank\", \"GetReward\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_loadItemIcon = <fgui.GLoader>(this.getChildAt(2));\n\t\tthis.m_txtItemName = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_btnOk = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_rankItem from \"./UI_rankItem\";\n\nexport default class UI_LastRank extends fgui.GComponent {\n\n\tpublic m_ctrlRewardStatus:fgui.Controller;\n\tpublic m_ctrlLastRankStatus:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_listLastRank:fgui.GList;\n\tpublic m_listRank:fgui.GGroup;\n\tpublic m_myPanel:fgui.GImage;\n\tpublic m_myItem:UI_rankItem;\n\tpublic m_selfItem:fgui.GGroup;\n\tpublic m_btnGetReward:fgui.GButton;\n\tpublic m_txtTips:fgui.GTextField;\n\tpublic m_btnGetRewardGray:fgui.GButton;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpcowj1z\";\n\n\tpublic static createInstance():UI_LastRank {\n\t\treturn <UI_LastRank>(fgui.UIPackage.createObject(\"rank\", \"LastRank\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlRewardStatus = this.getControllerAt(0);\n\t\tthis.m_ctrlLastRankStatus = this.getControllerAt(1);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_listLastRank = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_listRank = <fgui.GGroup>(this.getChildAt(3));\n\t\tthis.m_myPanel = <fgui.GImage>(this.getChildAt(4));\n\t\tthis.m_myItem = <UI_rankItem>(this.getChildAt(5));\n\t\tthis.m_selfItem = <fgui.GGroup>(this.getChildAt(6));\n\t\tthis.m_btnGetReward = <fgui.GButton>(this.getChildAt(7));\n\t\tthis.m_txtTips = <fgui.GTextField>(this.getChildAt(8));\n\t\tthis.m_btnGetRewardGray = <fgui.GButton>(this.getChildAt(9));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_lastRankBtn extends fgui.GButton {\n\n\tpublic m_isGet:fgui.Controller;\n\tpublic static URL:string = \"ui://qkteqwfpcowj1h\";\n\n\tpublic static createInstance():UI_lastRankBtn {\n\t\treturn <UI_lastRankBtn>(fgui.UIPackage.createObject(\"rank\", \"lastRankBtn\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_isGet = this.getControllerAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_rankItem extends fgui.GButton {\n\n\tpublic m_ctrlRank:fgui.Controller;\n\tpublic m_ctrlHaveAward:fgui.Controller;\n\tpublic m_ctrlIsSelf:fgui.Controller;\n\tpublic m_nameTxt:fgui.GTextField;\n\tpublic m_rankTxt:fgui.GTextField;\n\tpublic m_avatarLoader:fgui.GLoader;\n\tpublic m_awardBtn:fgui.GButton;\n\tpublic m_scoreTxt:fgui.GTextField;\n\tpublic m_score:fgui.GGroup;\n\tpublic m_slideIn:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpc8s24\";\n\n\tpublic static createInstance():UI_rankItem {\n\t\treturn <UI_rankItem>(fgui.UIPackage.createObject(\"rank\", \"rankItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlRank = this.getControllerAt(1);\n\t\tthis.m_ctrlHaveAward = this.getControllerAt(2);\n\t\tthis.m_ctrlIsSelf = this.getControllerAt(3);\n\t\tthis.m_nameTxt = <fgui.GTextField>(this.getChildAt(1));\n\t\tthis.m_rankTxt = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_avatarLoader = <fgui.GLoader>(this.getChildAt(7));\n\t\tthis.m_awardBtn = <fgui.GButton>(this.getChildAt(8));\n\t\tthis.m_scoreTxt = <fgui.GTextField>(this.getChildAt(11));\n\t\tthis.m_score = <fgui.GGroup>(this.getChildAt(12));\n\t\tthis.m_slideIn = this.getTransitionAt(0);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_rankItem2 extends fgui.GButton {\n\n\tpublic m_rank:fgui.Controller;\n\tpublic m_isSelf:fgui.Controller;\n\tpublic m_nameTxt:fgui.GTextField;\n\tpublic m_rankTxt:fgui.GTextField;\n\tpublic m_avatarLoader:fgui.GLoader;\n\tpublic m_scoreTxt:fgui.GTextField;\n\tpublic m_slideIn:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpip943k\";\n\n\tpublic static createInstance():UI_rankItem2 {\n\t\treturn <UI_rankItem2>(fgui.UIPackage.createObject(\"rank\", \"rankItem2\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_rank = this.getControllerAt(1);\n\t\tthis.m_isSelf = this.getControllerAt(2);\n\t\tthis.m_nameTxt = <fgui.GTextField>(this.getChildAt(1));\n\t\tthis.m_rankTxt = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_avatarLoader = <fgui.GLoader>(this.getChildAt(7));\n\t\tthis.m_scoreTxt = <fgui.GTextField>(this.getChildAt(10));\n\t\tthis.m_slideIn = this.getTransitionAt(0);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_ResultRank extends fgui.GComponent {\n\n\tpublic m_ctrlFrontStatus:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_listNewRank:fgui.GList;\n\tpublic m_listRank:fgui.GGroup;\n\tpublic m_myPanel:fgui.GImage;\n\tpublic m_txtFornt:fgui.GTextField;\n\tpublic m_itemHead:fgui.GLoader;\n\tpublic m_txtItemName:fgui.GTextField;\n\tpublic m_txtPrice:fgui.GTextField;\n\tpublic m_btnItemInfo:fgui.GButton;\n\tpublic m_reward:fgui.GGroup;\n\tpublic m_btnOk:fgui.GButton;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpctsq3d\";\n\n\tpublic static createInstance():UI_ResultRank {\n\t\treturn <UI_ResultRank>(fgui.UIPackage.createObject(\"rank\", \"ResultRank\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlFrontStatus = this.getControllerAt(0);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_listNewRank = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_listRank = <fgui.GGroup>(this.getChildAt(3));\n\t\tthis.m_myPanel = <fgui.GImage>(this.getChildAt(4));\n\t\tthis.m_txtFornt = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_itemHead = <fgui.GLoader>(this.getChildAt(6));\n\t\tthis.m_txtItemName = <fgui.GTextField>(this.getChildAt(7));\n\t\tthis.m_txtPrice = <fgui.GTextField>(this.getChildAt(8));\n\t\tthis.m_btnItemInfo = <fgui.GButton>(this.getChildAt(9));\n\t\tthis.m_reward = <fgui.GGroup>(this.getChildAt(10));\n\t\tthis.m_btnOk = <fgui.GButton>(this.getChildAt(11));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_rankItem from \"./UI_rankItem\";\nimport UI_lastRankBtn from \"./UI_lastRankBtn\";\n\nexport default class UI_selfItem extends fgui.GComponent {\n\n\tpublic m_ctrLastRankStatus:fgui.Controller;\n\tpublic m_myItem:UI_rankItem;\n\tpublic m_lastRankBtn:UI_lastRankBtn;\n\tpublic m_ruleBtn:fgui.GButton;\n\tpublic static URL:string = \"ui://qkteqwfpctsq3b\";\n\n\tpublic static createInstance():UI_selfItem {\n\t\treturn <UI_selfItem>(fgui.UIPackage.createObject(\"rank\", \"selfItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrLastRankStatus = this.getControllerAt(0);\n\t\tthis.m_myItem = <UI_rankItem>(this.getChildAt(1));\n\t\tthis.m_lastRankBtn = <UI_lastRankBtn>(this.getChildAt(2));\n\t\tthis.m_ruleBtn = <fgui.GButton>(this.getChildAt(3));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Awards extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_listAwards:fgui.GList;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpcowj1s\";\n\n\tpublic static createInstance():UI_Awards {\n\t\treturn <UI_Awards>(fgui.UIPackage.createObject(\"rank\", \"Awards\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_listAwards = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "import ModulePackage from \"../ModulePackage\";\nimport { ModulePlatformAPI } from \"../ModulePlatformAPI\";\nimport { ModuleAudio, ModuleTool } from \"../ModuleTool\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_awardItem from \"./Rank/UI_awardItem\";\nimport UI_Awards from \"./Rank/UI_Awards\";\n\ninterface rankAwardType {\n\t\"code\": number,\n\t\"msg\": string,\n\t\"data\": [\n\t\t{\n\t\t\trankBegin: number,\n\t\t\trankEnd: number,\n\t\t\tprizeId: string,\n\t\t\tprizeName: string,\n\t\t\t// prizePicture: string,\n\t\t\tprizePrice: number,\n\t\t\tprizePicture: string,\n\t\t\tprizeUrl?: string\n\t\t}\n\n\t]\n}\n\nexport default class uiAwards extends UI_Awards {\n\n\tprivate _winHandler: ModuleWindow;\n\n\n\tprivate _awardData?: rankAwardType;\n\n\tprivate static cacheData?: rankAwardType;\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\n\t\t\tthis._LoadAwardData();\n\t\t}\n\t}\n\n\n\n\n\tstatic GetRankData(_callback?: (_data: rankAwardType) => void) {\n\n\n\t\tif (uiAwards.cacheData) {\n\t\t\t_callback && _callback(uiAwards.cacheData)\n\t\t\treturn;\n\t\t}\n\n\t\tif (ModulePackage.Instance.CanUseNetAPI()) {\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/prize\", {\n\n\t\t\t\t// actId: 2,\n\n\t\t\t}, \"post\", this, (data) => {\n\t\t\t\tif (data.data && data.data.length > 0) {\n\t\t\t\t\tuiAwards.cacheData = data;\n\t\t\t\t}\n\t\t\t\t_callback && _callback(data);\n\n\t\t\t});\n\n\t\t}\n\t\telse {\n\t\t\t_callback && _callback({\n\n\t\t\t\t\"code\": 0,\n\t\t\t\t\"msg\": '',\n\t\t\t\t\"data\": [\n\t\t\t\t\t// {\n\t\t\t\t\t// \trankBegin: 1,\n\t\t\t\t\t// \trankEnd: 2,\n\t\t\t\t\t// \tprizeId: '111',\n\t\t\t\t\t// \tprizeName: '\u5956\u54C1\u540D',\n\t\t\t\t\t// \tprizePicture: '',\n\t\t\t\t\t// \tprizePrice: 100,\n\t\t\t\t\t// \tprizeUrl: ''\n\t\t\t\t\t// }\n\t\t\t\t\t{\n\t\t\t\t\t\tprizeId: \"643091706250\",\n\t\t\t\t\t\tprizeName: \"\u738B\u8005\u8363\u8000\u5361\u901A\u624B\u529E-\u516C\u5B59\u79BB\",\n\t\t\t\t\t\tprizePicture: \"https://img.alicdn.com/bao/uploaded/i4/2210005895332/O1CN01n5jrMq1pG6UrJzzSC_!!2210005895332.jpg\",\n\t\t\t\t\t\tprizePrice: 0.01,\n\t\t\t\t\t\trankBegin: 1,\n\t\t\t\t\t\trankEnd: 5\n\t\t\t\t\t}\n\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\t}\n\tprivate _LoadAwardData(): void {\n\t\tuiAwards.GetRankData((_data) => {\n\t\t\tthis._awardData = _data;\n\t\t\tthis.OnShow();\n\t\t})\n\t}\n\n\tprivate _OnItemClick(item: any, index: number) {\n\t\tconsole.log(index);\n\n\t\tlet itemData = this._awardData.data[index];\n\n\t\tconsole.log(itemData);\n\n\t\tModulePlatformAPI.OpenShopItemDetail(\"641416140869\");\n\t}\n\n\t/**\n\t * \u5217\u8868\u9879\u6E32\u67D3\u51FD\u6570\n\t * \u6B63\u786E\u7528\u6CD5\uFF0Cbtn.onClick(this._OnClick); \n\t * \u9519\u8BEF\u7528\u6CD5\uFF0Cbtn.onClick(()=>{}); \u8FD9\u91CC\u4E0D\u5E94\u8BE5\u4F7F\u7528\u4E34\u65F6\u51FD\u6570\n\t * @param index\n\t * @param obj\n\t */\n\tprivate _OnRenderItem(index: number, obj: fgui.GObject): void {\n\n\t\t// console.log(\"-------------------:\" + index);\n\n\t\tvar rankItem = obj as UI_awardItem;\n\n\t\tlet itemData = this._awardData.data[index];\n\n\t\t// console.log(\"-------------------:\" + itemData);\n\t\t// console.log(\"-------------------:\", rankItem);\n\n\t\tif (!!itemData) {\n\n\t\t\t// //\u4E0D\u663E\u793A\u67E5\u770B\u5956\u54C1\u6309\u94AE\n\t\t\t// rankItem.m_ctrAwardBtn.setSelectedPage('\u4E0D\u663E\u793A');\n\n\t\t\tif (itemData.rankBegin == itemData.rankEnd) {\n\n\t\t\t\trankItem.m_txtRank.setVar(\"rank\", itemData.rankBegin.toString()).flushVars();\n\n\t\t\t} else {\n\n\t\t\t\trankItem.m_txtRank.setVar(\"rank\", itemData.rankBegin + '-' + itemData.rankEnd).flushVars();\n\t\t\t}\n\n\t\t\t// console.log(\"-------------------1\");\n\t\t\trankItem.m_txtName.text = ModuleTool.getCutString(itemData.prizeName, 21);\n\t\t\t// console.log(\"-------------------2\");\n\t\t\trankItem.m_txtPrice.text = '\u4EF7\u503C\uFF1A' + itemData.prizePrice.toString() + '\u5143';\n\t\t\t// console.log(\"-------------------3\");\n\t\t\t// rankItem.m_loadItemHead.url = itemData.prizePicture;\n\t\t\trankItem.m_loadItemHead.url = itemData.prizePicture;\n\t\t\t// console.log(\"-------------------4\");\n\t\t\t// rankItem.m_btnLookInfo.onClick(this, this._OnItemClick, [index]);\n\t\t}\n\t}\n\n\tpublic OnShow(): void {\n\n\t\tif (this._winHandler.visible == false) return;\n\n\t\tconsole.log(\"OnShow~~~\");\n\t\t//\u6392\u884C\u699C\u5217\u8868\n\t\tthis.m_listAwards.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, null, false);\n\n\t\tthis.m_listAwards.setVirtual();\n\n\t\t// console.log(\"-----------------------------\", this._awardData.data);\n\n\t\tthis.m_listAwards.numItems = this._awardData.data.length;\n\n\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t}\n\n\tpublic OnHide(): void {\n\t\tconsole.log(\"OnHide~~~\");\n\t}\n\n\n}", "import ModulePackage from \"../ModulePackage\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_awardItem from \"./Rank/UI_awardItem\";\nimport UI_GetReward from \"./Rank/UI_GetReward\";\n\nexport default class uiGetReward extends UI_GetReward {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate _prizeData: {\n\n\t\t\"prizeId\": string,\n\t\t\"prizeName\": string,\n\t\t\"prizePicture\": string,\n\t\t\"prizePrice\": string,\n\t\t\"prizeUrl\": string\n\t};\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_btnOk.onClick(this, this._OnOkClick)\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u53D6\u7A97\u53E3\u53C2\u6570\n\t\t\tthis._prizeData = this._winHandler.GetParamData();\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u6253\u5F00\u65F6\u7684\u672C\u7C7B\u6570\u636E\u521D\u59CB\u5316\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t}\n\t}\n\n\tprivate _OnOkClick(item: any) {\n\t\tconsole.log(item);\n\n\t\tthis._winHandler.hide();\n\t}\n\n\tpublic OnShow(): void {\n\n\t\tconsole.log(\"OnShow~~~\");\n\n\t\tif (this._winHandler.isShowing == false) return;\n\n\t\tthis.m_loadItemIcon.url = this._prizeData.prizePicture;\n\n\t\tthis.m_txtItemName.text = this._prizeData.prizeName;\n\n\t}\n\n\tpublic OnHide(): void {\n\t\tconsole.log(\"OnHide~~~\");\n\t}\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Alert extends fgui.GComponent {\n\n\tpublic m_alertCtrl:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_tipsTxt:fgui.GTextField;\n\tpublic m_noBtn:fgui.GButton;\n\tpublic m_yesBtn:fgui.GButton;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://c66xycir11ndo3p\";\n\n\tpublic static createInstance():UI_Alert {\n\t\treturn <UI_Alert>(fgui.UIPackage.createObject(\"GeneralInterface\", \"Alert\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_alertCtrl = this.getControllerAt(0);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_tipsTxt = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_noBtn = <fgui.GButton>(this.getChildAt(3));\n\t\tthis.m_yesBtn = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport ModulePackage from '../ModulePackage';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_Alert from './GeneralInterface/UI_Alert';\nimport { ModuleGlobal } from './../ModuleGlobal';\n\nexport interface AlertInfoType {\n\tcontent: string,\n\tclickYes?: () => void,\n\tclickNo?: () => void,\n}\nexport default class uiAlert extends UI_Alert {\n\n\n\tstatic Show(_info: AlertInfoType) {\n\t\tconsole.log('uiAlert Show');\n\n\t\tModulePackage.Instance.PopWindow(\"GeneralInterface\", \"Alert\", { winParamData: _info });\n\t}\n\n\t// private static isActivityStateShowing = false;\n\t/**\n\t * \u81EA\u52A8\u663E\u793A\u6D3B\u52A8\u9519\u8BEF\u5F39\u7A97\n\t * @returns true \u4E3A\u663E\u793A\uFF0Cfalse \u4E3A\u6D3B\u52A8\u6B63\u5E38\u4E0D\u663E\u793A\u5F39\u7A97\n\t */\n\tstatic AutoShowActivityState() {\n\t\tif (ModuleGlobal.IsActivityOn()) {\n\t\t\treturn false;\n\t\t}\n\t\t// if (this.isActivityStateShowing) {\n\t\t// \treturn true;\n\t\t// }\n\t\t// this.isActivityStateShowing = true;\n\t\tlet _msg = ModuleGlobal.ActivityStateMsg;\n\t\tuiAlert.Show({\n\t\t\tcontent: _msg\n\t\t});\n\t\treturn true;\n\t}\n\n\tprivate _winHandler: ModuleWindow;\n\n\n\tprivate myInfo?: AlertInfoType\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\t\tthis.m_yesBtn.onClick(this, () => {\n\t\t\tthis._winHandler.hide();\n\t\t\tif (this.myInfo.clickYes) {\n\t\t\t\tthis.myInfo.clickYes();\n\t\t\t}\n\t\t})\n\t\tthis.m_noBtn.onClick(this, () => {\n\t\t\tthis._winHandler.hide();\n\t\t\tif (this.myInfo.clickNo) {\n\t\t\t\tthis.myInfo.clickNo();\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\t// console.error('makeFullScreenmakeFullScreen');\n\n\t\tconsole.log('uiAlert makeFullScreen');\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t\tthis.SetInfo(this._winHandler.GetParamData())\n\n\t\t}\n\t\t// this.OnShow();\n\t}\n\tSetInfo(_info: AlertInfoType) {\n\t\tthis.myInfo = _info;\n\t\tthis.m_tipsTxt.text = _info.content;\n\t\tif (_info.clickNo) {\n\t\t\tthis.m_alertCtrl.setSelectedPage('\u786E\u8BA4\u53D6\u6D88');\n\t\t}\n\t\telse {\n\t\t\tthis.m_alertCtrl.setSelectedPage('\u786E\u8BA4');\n\t\t}\n\t}\n\tpublic OnShow(): void {\n\t\tconsole.log(\"OnShow~~~\");\n\t}\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\t\tLaya.stage.offAllCaller(this);\n\t\tLaya.timer.clearAll(this);\n\t}\n\n}", "/**\n * \u5168\u5C40\u4F7F\u7528\u7684\u57FA\u7840\u6570\u636E\u7C7B\n */\n\nimport uiAlert from \"./GeneralInterface/uiAlert\";\nimport ModulePackage from \"./ModulePackage\";\nimport { ModulePlatformAPI } from \"./ModulePlatformAPI\";\nimport { ModuleTool } from './ModuleTool';\n\n\n\n//\u5546\u54C1\u4FE1\u606F\u7C7B\u578B\nexport interface GoodsInfoType {\n\tgoodsId: number,//\u5546\u54C1ID\n\n\tgoodsName: string,//\u5546\u54C1\u540D\u79F0\n\n\tpic: string,//\u5546\u54C1\u56FE\u7247\n\n\tprice: string,//\u5546\u54C1\u4EF7\u683C\n\n\tsum: string,//\u5546\u54C1\u6570\u91CF\n\tisCollected?: boolean//\u5546\u54C1\u662F\u5426\u5DF2\u88AB\u6536\u85CF\uFF0C\u672C\u5730\u81EA\u52A8\u68C0\u6D4B\n\n}\n/**\n * \u6240\u6709\u8D27\u5E01\n */\nexport interface GCurrencyInfo {\n\t/**\u6B21\u6570*/ times: number,\n\t/**\u5200\u7247*/ cutter: number,\n\t/**\u79EF\u5206*/ score: number,\n\t/**\u5927\u897F\u74DC\u79EF\u5206*/ wmScore: number,\n\t/**\u91D1\u725B\u5E01*/ cattleGold: number,\n}\n/**\u6240\u6709\u8D27\u5E01\u7C7B\u578B */\nexport enum GCurrencyType {\n\t/**\u6B21\u6570*/ times = 'times',\n\t/**\u5200\u7247*/ cutter = 'cutter',\n\t/**\u79EF\u5206*/ score = 'score',\n\t/**\u5927\u897F\u74DC\u79EF\u5206*/ wmScore = 'wmScore',\n\t/**\u91D1\u725B\u5E01*/ cattleGold = 'cattleGold',\n};\n\nexport type ActivityStateType = 'on' | 'off' | 'unstart' | 'error';\n\nclass ModuleGlobal_C {\n\n\t//--------------------------\u5916\u90E8\u53EF\u7528\u53D8\u91CF------------------------------//\n\t/** \u7528\u6237 \u552F\u4E00 id,\u901A\u8FC7\u5C0F\u7A0B\u5E8F url \u4F20\u53C2\u4F20\u9012 */\n\tuid: string = 'OX5DwwvIn3-E7Ks3NMoPUD3geYo=';\n\t/**\u6D3B\u52A8id  \u901A\u8FC7\u5C0F\u7A0B\u5E8F url \u4F20\u53C2\u4F20\u9012*/\n\tActivityID: number = 1048;\n\t/* C\u7AEF\u7528\u6237\u6635\u79F0 \u901A\u8FC7\u5C0F\u7A0B\u5E8F url \u4F20\u53C2\u4F20\u9012*/\n\tnickName: string = 'test';\n\t/* C\u7AEF\u7528\u6237\u5934\u50CF  \u901A\u8FC7\u5C0F\u7A0B\u5E8F url \u4F20\u53C2\u4F20\u9012*/\n\tavatar: string = 'https://'\n\n\t/**\u5546\u54C1id */\n\tShopID: number = 0;\n\t/**\u7528\u6237\u7684openId */\n\tUserOpenID: number = 0;\n\t/**\u5546\u94FA\u5BF9\u5E94\u7684\u5356\u5BB6ID */\n\tShopOwnerID: number = 0;\n\t/**\u7528\u6237\u7684\u6D3B\u52A8\u72B6\u6001'on'\u6B63\u5E38\uFF0C'off'\u5DF2\u4E0B\u7EBF,'unstart'\u672A\u5F00\u59CB*/\n\tActivityState: ActivityStateType = 'on';\n\tActivityStateMsg: string = '';\n\t/**\u89C4\u5219\u8BF4\u660E */\n\tRuleInfo: string = '\u6E38\u620F\u89C4\u5219...';\n\t/**\u4FC3\u9500\u5546\u54C1\u5217\u8868 */\n\tGoodsList: GoodsInfoType[] = [\n\t\t{\n\t\t\tgoodsId: 1,//\u5546\u54C1ID\n\t\t\tgoodsName: '\u5546\u54C11',//\u5546\u54C1\u540D\u79F0\n\t\t\tpic: '',//\u5546\u54C1\u56FE\u7247\n\t\t\tprice: '100',//\u5546\u54C1\u4EF7\u683C\n\t\t\tsum: '1',//\u5546\u54C1\u6570\u91CF\n\t\t},\n\t\t{\n\t\t\tgoodsId: 2,//\u5546\u54C1ID\n\t\t\tgoodsName: '\u5546\u54C12',//\u5546\u54C1\u540D\u79F0\n\t\t\tpic: '',//\u5546\u54C1\u56FE\u7247\n\t\t\tprice: '200',//\u5546\u54C1\u4EF7\u683C\n\t\t\tsum: '2',//\u5546\u54C1\u6570\u91CF\n\t\t},\n\t];\n\t/**\u8D27\u5E01\u6570\u91CF */\n\tMyCurrency: GCurrencyInfo = {\n\t\t/**\u6B21\u6570*/ times: 0,\n\t\t/**\u5200\u7247*/ cutter: 0,\n\t\t/**\u79EF\u5206*/ score: 0,\n\t\t/**\u79EF\u5206*/ wmScore: 0,\n\t\t/**\u91D1\u725B\u5E01*/ cattleGold: 0,\n\t};\n\n\n\t//-------------------------------------------------------//\n\n\tprivate static myInstance: ModuleGlobal_C = null as any;\n\tstatic Instance() {\n\t\tif (!this.myInstance) {\n\t\t\tthis.myInstance = new ModuleGlobal_C();\n\t\t}\n\t\treturn this.myInstance;\n\t}\n\n\tprivate isInit = false;\n\n\n\t//\u83B7\u53D6url\u91CC\u9762\u7684\u53C2\u6570\n\tGetQueryString(name): any {\n\t\tconsole.log('window.location', window.location)\n\t\tconst r = window.location.hash.split('#params=')\n\t\tconst str = decodeURIComponent(r[1])\n\t\tconst params = str.split('&');\n\t\tconst data = [];\n\t\tfor (let i = 0; i < params.length; i++) {\n\t\t\tconst item = params[i];\n\t\t\tlet value = item.split('=');\n\n\t\t\tlet k = value[0];\n\t\t\tlet v = value[1];\n\n\t\t\tlet _a={};\n\t\t\t_a[k]=v;\n\n\t\t\tdata.push(_a)\n\t\t}\n\t\tlet retValue = '';\n\t\tfor (const iterator of data) {\n\t\t\tif(iterator[name]) {\n\t\t\t\tretValue = iterator[name]\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tconsole.log('r[1]r[1]r[1]', r[1])\n\t\tconsole.log('retValue', retValue)\n\t\tuiAlert.Show({\n\t\t\tcontent: window.location.hash\n\t\t})\n\t\tuiAlert.Show({\n\t\t\tcontent: JSON.stringify(r)\n\t\t})\n\t\tuiAlert.Show({\n\t\t\tcontent: retValue\n\t\t})\n\t\treturn retValue;\n\t}\n\n\n\t/**\n\t * \u5E73\u53F0\u63A5\u53E3\u521D\u59CB\u5316\n\t * \u8FDB\u5165\u6E38\u620F\u8C03\u7528\u4E00\u6B21\n\t * \u4F1A\u6267\u884C\u4EE5\u4E0B\u64CD\u4F5C\n\t * 1.\u767B\u5F55\n\t * 2.\u83B7\u53D6\u6D3B\u52A8\u4FE1\u606F\n\t * 3.\u7ED9\u5E73\u53F0\u7C7B\u9700\u8981\u53C2\u6570\u8D4B\u503C\n\t */\n\tInit(_callBack?: () => void) {\n\n\t\tif (this.isInit) {\n\t\t\treturn;\n\t\t}\n\t\tlet _l = 2;\n\t\tlet _finish = (_success: boolean) => {\n\t\t\tif (!_success) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_l--;\n\t\t\tif (_l <= 0) {\n\t\t\t\t_callBack && _callBack();\n\t\t\t}\n\t\t}\n\t\tthis.UserLogin(_finish);\n\t\tthis.GetActivityInfo(_finish);\n\n\t\tsetTimeout((v) => {\n\t\tthis.GetQueryString('uid')\n\t\t}, 10000)\n\n\t}\n\t//\u7528\u6237\u767B\u5F55\uFF0C\u5FC5\u987B\u767B\u5F55\u6210\u529F\u624D\u80FD\u8FDB\u5165\n\tUserLogin(_callBack?: (_success: boolean) => void, _getPlatformData = true) {\n\t\tconsole.log(\"\u7528\u6237\u767B\u5F55\");\n\t\tif (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t\t_callBack && _callBack(true);\n\t\t\treturn;\n\t\t}\n\t\tlet _senddata = {\n\t\t\tnickName: undefined,\n\t\t\tavatar: undefined,\n\t\t\tfromUserOpenId: undefined,\n\t\t\tuid: undefined\n\t\t}\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/user/login\", _senddata, \"post\", this,\n\t\t\t\t(_data) => {\n\t\t\t\t\tif (_data.code != 0) {\n\t\t\t\t\t\tModulePlatformAPI.showToast('\u767B\u5F55\u5931\u8D25:' + _data.msg);\n\t\t\t\t\t\t// _callBack && _callBack(false);\n\t\t\t\t\t\t// if (_data.code == 1 || _data.code == 999) {\n\t\t\t\t\t\t// \t_callBack && _callBack(false);\n\t\t\t\t\t\t// \treturn;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.ActivityID = _data.data.activityId;\n\t\t\t\t\tthis.ShopID = _data.data.shopId;\n\t\t\t\t\tthis.UserOpenID = _data.data.userOpenId;\n\t\t\t\t\tthis.ShopOwnerID = _data.data.sellerId;\n\t\t\t\t\tModulePlatformAPI.SetGlobal({\n\t\t\t\t\t\tuserOpenID: '' + this.UserOpenID,//\u73A9\u5BB6id\n\t\t\t\t\t\tshopID: '' + this.ShopID,//\u6307\u5B9A\u5E97\u94FAId\n\t\t\t\t\t\tshopOwnerID: this.ShopOwnerID,//\u5E97\u94FA\u5F52\u5C5E\u7684\u5356\u5BB6Id\n\t\t\t\t\t})\n\t\t\t\t\t_callBack && _callBack(true);\n\t\t\t\t});\n\n\t\t}\n\t\tif (_getPlatformData) {\n\t\t\t_senddata.fromUserOpenId = ModulePlatformAPI.GetFromID();\n\t\t\t_senddata.uid = this.uid\n\t\t\t_senddata.nickName = this.nickName\n\t\t\t_senddata.avatar = this.avatar\n\t\t\t// ModulePlatformAPI.GetUserInfo((_info) => {\n\t\t\t// \t_senddata.nickName = _info.nickName;\n\t\t\t// \t_senddata.avatar = _info.avatar;\n\t\t\t// \t_send();\n\n\t\t\t// }, () => {\n\t\t\t// \t_send();\n\t\t\t// \tModulePlatformAPI.showToast('\u83B7\u53D6\u4FE1\u606F\u5931\u8D25')\n\t\t\t// })\n\t\t\t_send()\n\t\t}\n\t\telse {\n\t\t\t_send();\n\t\t}\n\n\t}\n\tChangeActivityState(_state: ActivityStateType, _msg?: string) {\n\t\tthis.ActivityState = _state;\n\t\tif (_msg) {\n\t\t\tthis.ActivityStateMsg = _msg;\n\t\t}\n\t}\n\tIsActivityOn() {\n\t\tif (this.ActivityState == 'on') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t//\u83B7\u53D6\u6D3B\u52A8\u4FE1\u606F\n\tGetActivityInfo(_callBack?: (_success: boolean) => void) {\n\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t// \t_callBack && _callBack(true);\n\t\t// \treturn;\n\t\t// }\n\t\tconsole.log(\"\u83B7\u53D6\u6D3B\u52A8\u4FE1\u606F\");\n\t\tlet tryTime = 3;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/activity/info\", {}, \"post\", this,\n\t\t\t\t(_data) => {\n\t\t\t\t\tif (_data.code != 0) {\n\t\t\t\t\t\t// if (_data.code == 1 || _data.code == 999) {\n\t\t\t\t\t\t// \t_callBack && _callBack(false);\n\t\t\t\t\t\t// \treturn;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tModulePlatformAPI.showToast('\u83B7\u53D6\u6D3B\u52A8\u4FE1\u606F\u5931\u8D25:' + _data.msg);\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tswitch (_data.data.status) {\n\t\t\t\t\t\tcase 0://\u6B63\u5E38\n\t\t\t\t\t\t\tthis.ChangeActivityState('on');\n\t\t\t\t\t\t\tthis.ActivityState = 'on';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1://\u5546\u5BB6\u5C06\u6D3B\u52A8\u4E0B\u7EBF\u4E86\n\t\t\t\t\t\t\tthis.ChangeActivityState('error', '\u6D3B\u52A8\u4E0B\u7EBF\u4E86');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2://\u6D3B\u52A8\u7ED3\u675F\u65F6\u95F4\u5230\u4E86\n\t\t\t\t\t\t\tthis.ChangeActivityState('off', '\u6D3B\u52A8\u5DF2\u7ED3\u675F,\u8C22\u8C22\u53C2\u4E0E');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3://\u6D3B\u52A8\u672A\u5F00\u59CB\n\t\t\t\t\t\t\tthis.ChangeActivityState('unstart', '\u6D3B\u52A8\u672A\u5F00\u59CB');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthis.ChangeActivityState('error', '\u6D3B\u52A8\u4E0B\u7EBF\u4E86');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (_data.data.status != 0) {\n\t\t\t\t\t\tconsole.error('status', _data.data.status);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.RuleInfo = _data.data.ruleInfo;\n\t\t\t\t\t//\u8BBE\u7F6E\u5206\u4EAB\u4FE1\u606F\n\t\t\t\t\tModulePlatformAPI.SetGlobal({\n\t\t\t\t\t\tshareConfig: {//\u5206\u4EAB\u914D\u7F6E\n\t\t\t\t\t\t\ttitle: _data.data.shareTitle,//\u6807\u9898\u540D\n\t\t\t\t\t\t\tdesc: _data.data.shareInfo,//\u5206\u4EAB\u8BED\n\t\t\t\t\t\t\timageUrl: _data.data.sharePic,//\u5206\u4EAB\u56FE\u7247\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t_callBack && _callBack(true);\n\n\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\t//\u83B7\u53D6\u4FC3\u9500\u5546\u54C1\u5217\u8868\n\tGetGoodsList(_callBack?: (_success: boolean, _list?: GoodsInfoType[]) => void,\n\t\t_sendInfo?://\u53D1\u9001\u5217\u8868\u6D88\u606F\n\t\t\t{\n\t\t\t\tpageNumber?: number,//\u9875\u7801\u9ED8\u8BA4\u503C: 1\n\t\t\t\tpageSize?: number,//\u6BCF\u9875\u591A\u5C11\u6761\u9ED8\u8BA4\u503C: 10\n\t\t\t\tsortType?: 'desc' | 'asc' | 'random'//\u6392\u5E8F\u65B9\u5F0F,\u9ED8\u8BA4'desc'\u964D\u5E8F \uFF0C'asc'\u5347\u5E8F\uFF0C'random'\u968F\u673A\n\t\t\t}, _refresh = true) {\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t// \t_callBack && _callBack(true, this.GoodsList);\n\t\t// \treturn;\n\t\t// }\n\t\tif (!_refresh && this.GoodsList.length > 0) {\n\t\t\t_callBack && _callBack(true, this.GoodsList);\n\t\t\treturn;\n\t\t}\n\t\tlet tryTime = 3;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/operateGoods/getList\", _sendInfo, \"post\", this,\n\t\t\t\t(_data) => {\n\t\t\t\t\tif (_data.code != 0) {\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._isAllGoodsColelcted = true;\n\t\t\t\t\t// ModuleTool.DetectType('getList', _data.data.pageData, this.GoodsList);\n\t\t\t\t\tthis.GoodsList = _data.data.pageData;\n\n\t\t\t\t\t//\u68C0\u6D4B\u662F\u5426\u5DF2\u7ECF\u6536\u85CF\n\t\t\t\t\t//\u9632\u6B62\u68C0\u6D4B\u6570\u91CF\u8FC7\u591A\u5361\u987F\uFF0C\u5206\u6279\u68C0\u6D4B\n\t\t\t\t\tlet _curIdx = 0;\n\t\t\t\t\tlet _detectCollect = (_finish: Function) => {\n\t\t\t\t\t\t//\u6BCF\u6B21\u68C0\u6D4B5\u4E2A\n\t\t\t\t\t\tlet _leftN = this.GoodsList.length - _curIdx;\n\t\t\t\t\t\tlet _maxN = _leftN > 5 ? 5 : _leftN;\n\t\t\t\t\t\tlet _curN = 0;\n\t\t\t\t\t\tlet _collectfinish = (_iscollect: boolean) => {\n\t\t\t\t\t\t\t_curN++;\n\t\t\t\t\t\t\tif (!_iscollect && this._isAllGoodsColelcted) {\n\t\t\t\t\t\t\t\tthis._isAllGoodsColelcted = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (_curN < _maxN) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_curIdx += _maxN;\n\t\t\t\t\t\t\t//\u68C0\u6D4B\u5B8C\u6210\n\t\t\t\t\t\t\tif (_curIdx < this.GoodsList.length) {\n\t\t\t\t\t\t\t\t_detectCollect(_finish);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t_finish();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let index = 0; index < _maxN; index++) {\n\t\t\t\t\t\t\tconst element = this.GoodsList[_curIdx + index];\n\t\t\t\t\t\t\tModulePlatformAPI.CheckGoodsCollectedStatus(element.goodsId, (_iscollect) => {\n\t\t\t\t\t\t\t\telement.isCollected = _iscollect;\n\t\t\t\t\t\t\t\t// console.log('isCollected', _curIdx + index, _iscollect);\n\n\t\t\t\t\t\t\t\t_collectfinish(_iscollect);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t_detectCollect(() => {\n\t\t\t\t\t\t// console.error('_isAllGoodsColelcted', this._isAllGoodsColelcted);\n\n\t\t\t\t\t\t_callBack && _callBack(true, _data.data.pageData);\n\t\t\t\t\t})\n\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\n\tprivate _isAllGoodsColelcted = true;\n\t/**\n\t * \u662F\u5426\u6240\u6709\u5546\u54C1\u90FD\u5DF2\u7ECF\u88AB\u6536\u85CF\n\t */\n\tget IsAllGoodsColelcted() {\n\t\tconsole.log('IsAllGoodsColelcted', this._isAllGoodsColelcted);\n\t\treturn this._isAllGoodsColelcted;\n\t}\n\n\n\t//--------------------------------------------\u4E0A\u4F20\u6392\u884C\u79EF\u5206---------------------------------------------//\n\t/**\n\t * \u589E\u52A0\u8D27\u5E01\n\t * @param _type \n\t * @param _n \n\t */\n\tAddRankScore(_score: number, _callBack?: (_success: boolean) => void) {\n\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\n\t\t// \t_callBack && _callBack(true);\n\t\t// \treturn;\n\t\t// }\n\n\t\tlet tryTime = 3;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/commit\", { score: _score }, \"post\", this,\n\t\t\t\t(data) => {\n\t\t\t\t\tif (data.code != 0) {\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t_callBack && _callBack(true);\n\t\t\t\t\tthis.UpdateCurrency(GCurrencyType.wmScore);\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\n\n\n\n\t//--------------------------------------------\u8D27\u5E01---------------------------------------------//\n\t/**\n\t * \u6D88\u8017\u8D27\u5E01\n\t * @param _type \n\t * @param _n \n\t */\n\tConsumeCurrency(_type: GCurrencyType, _n = 1, _callBack?: (_success: boolean, _amount: number) => void) {\n\n\t\tif (_type != 'times' && _type != 'cutter') {\n\t\t\tconsole.error('[\u6D88\u8017\u8D27\u5E01]\u4E0D\u652F\u6301\u6B64\u7C7B\u578B', _type);\n\t\t\t_callBack && _callBack(false, this.MyCurrency[_type]);\n\t\t\treturn;\n\t\t}\n\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t// \t_callBack && _callBack(true, this.CurrencyChange(_type, this.MyCurrency[_type] - _n));\n\t\t// \treturn;\n\t\t// }\n\n\t\tlet tryTime = 1;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/user/consumePropAmount\", { itemType: _type, num: _n }, \"post\", this,\n\t\t\t\t(data) => {\n\t\t\t\t\tif (data.code != 0) {\n\t\t\t\t\t\t//\u6D3B\u52A8\u5DF2\u7ED3\u675F\n\t\t\t\t\t\tif (data.code == 98 || data.code == 99) {\n\t\t\t\t\t\t\tModuleGlobal.ChangeActivityState(data.code == 98 ? 'unstart' : 'off', data.msg);\n\t\t\t\t\t\t\t_callBack && _callBack(false, this.MyCurrency[_type]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false, this.MyCurrency[_type]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.CurrencyChange(_type, data.data.amount);\n\t\t\t\t\t_callBack && _callBack(true, this.MyCurrency[_type]);\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\t/**\n\t * \u589E\u52A0\u8D27\u5E01\n\t * @param _type \n\t * @param _n \n\t */\n\tAddCurrency(_type: GCurrencyType, _n = 1, _callBack?: (_success: boolean, _amount: number) => void) {\n\n\t\tif (_type != 'score' && _type != 'cattleGold' && _type != GCurrencyType.wmScore) {\n\t\t\tconsole.error('[\u589E\u52A0\u8D27\u5E01]\u4E0D\u652F\u6301\u6B64\u7C7B\u578B', _type);\n\t\t\t_callBack && _callBack(false, this.MyCurrency[_type]);\n\t\t\treturn;\n\t\t}\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\n\t\t// \t_callBack && _callBack(true, this.CurrencyChange(_type, this.MyCurrency[_type] + _n));\n\t\t// \treturn;\n\t\t// }\n\n\t\tlet tryTime = 3;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/user/addAmount\", { itemType: _type, num: _n }, \"post\", this,\n\t\t\t\t(data) => {\n\t\t\t\t\tif (data.code != 0) {\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false, this.MyCurrency[_type]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t_callBack && _callBack(true, this.CurrencyChange(_type, data.data.amount));\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\n\t/**\n\t * \u66F4\u65B0\u8D27\u5E01\u6570\u91CF\n\t * @param _type \n\t * @param _callBack \n\t * @returns \n\t */\n\tUpdateCurrency(_type: GCurrencyType, _callBack?: (_success: boolean, _amount: number) => void) {\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t// \t_callBack && _callBack(true, this.MyCurrency[_type]);\n\t\t// \treturn;\n\t\t// }\n\t\tlet _postName = '';\n\t\tif (_type == 'score' || _type == 'cattleGold' || _type == GCurrencyType.wmScore) {\n\t\t\t_postName = '/C/user/getAccount';\n\t\t}\n\t\telse if (_type == 'times' || _type == 'cutter') {\n\t\t\t_postName = '/C/user/getPropAccount';\n\t\t}\n\t\tif (_postName == '') {\n\t\t\tconsole.error('[\u66F4\u65B0\u8D27\u5E01\u6570\u91CF]\u4E0D\u652F\u6301\u6B64\u7C7B\u578B', _type);\n\t\t\treturn;\n\t\t}\n\n\t\tlet tryTime = 3;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", _postName, { itemType: _type }, \"post\", this,\n\t\t\t\t(data) => {\n\t\t\t\t\tif (data.code != 0) {\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false, this.MyCurrency[_type]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.CurrencyChange(_type, data.data.amount);\n\t\t\t\t\t_callBack && _callBack(true, this.MyCurrency[_type]);\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\n\t/**\n\t * \u76D1\u542C\u8D27\u5E01\u53D8\u66F4\n\t * \u901A\u8FC7Laya.stage\u4E8B\u4EF6\u5B9E\u73B0\n\t * @param _type \n\t * @param _caller \n\t * @param _func \n\t */\n\tListenCurrencyChange(_type: GCurrencyType, _caller, _func: (_newAmount: number) => void) {\n\t\tLaya.stage.on(this.GetCurrencyListenkey(_type), _caller, _func);\n\t}\n\t/**\n\t * \u53D6\u6D88\u76D1\u542C\u8D27\u5E01\u53D8\u66F4\n\t * \u901A\u8FC7Laya.stage\u4E8B\u4EF6\u5B9E\u73B0\n\t * @param _type \n\t * @param _caller \n\t * @param _func \n\t */\n\tUnListenCurrencyChange(_type: GCurrencyType, _caller, _func: Function) {\n\t\tLaya.stage.off(this.GetCurrencyListenkey(_type), _caller, _func);\n\t}\n\tprivate readonly CurrencyEventKey = 'CurrencyEvent_';\n\t/**\n\t * \u83B7\u5F97\u8D27\u5E01\u53D8\u66F4\u7684\u76D1\u542Ckey\n\t * @param _type \n\t * @returns \n\t */\n\tGetCurrencyListenkey(_type: GCurrencyType) {\n\t\treturn this.CurrencyEventKey + _type;\n\t}\n\t/**\n\t * \u89E6\u53D1\u8D27\u5E01\u53D8\u5316\n\t * \u901A\u8FC7Laya.stage\u4E8B\u4EF6\u5B9E\u73B0\n\t * @param _type \n\t * @param _newAmount \n\t */\n\tprivate CurrencyChange(_type: GCurrencyType, _newAmount: number) {\n\t\tif (this.MyCurrency[_type] == _newAmount) {\n\t\t\treturn;\n\t\t}\n\t\tthis.MyCurrency[_type] = _newAmount;\n\t\tLaya.stage.event(this.GetCurrencyListenkey(_type), _newAmount);\n\t\treturn this.MyCurrency[_type];\n\t}\n\n\n\t//-----------------------------------------------------------------------------------------//\n\n};\n\n\nexport let ModuleGlobal = ModuleGlobal_C.Instance();\n", "import { ModuleGlobal } from \"../ModuleGlobal\";\nimport ModulePackage from \"../ModulePackage\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_LastRank from \"./Rank/UI_LastRank\";\nimport UI_rankItem from \"./Rank/UI_rankItem\";\n\nexport default class uiLastRank extends UI_LastRank {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate _lastRankData: {\n\n\t\t\"code\": number,\n\t\t\"msg\": string,\n\t\t\"data\": {\n\t\t\t\"rankInfo\": {\n\t\t\t\t\"users\": number,\n\t\t\t\t\"lotteryEndTime\": number,\n\t\t\t\t\"lotteryUsers\": number\n\t\t\t},\n\t\t\t\"userRankList\": [\n\t\t\t\t{\n\t\t\t\t\t\"rankNo\": number,\n\t\t\t\t\t\"userOpenId\": string,\n\t\t\t\t\t\"nickName\": string,\n\t\t\t\t\t\"avatar\": string,\n\t\t\t\t\t\"score\": number,\n\t\t\t\t\t\"prizeInfo\": {\n\t\t\t\t\t\t\"prizeId\": string,\n\t\t\t\t\t\t\"prizeName\": string,\n\t\t\t\t\t\t\"prizePicture\": string,\n\t\t\t\t\t\t\"prizePrice\": string,\n\t\t\t\t\t\t\"prizeUrl\": string\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"userRankInfo\": {\n\t\t\t\t\"rankNo\": number,\n\t\t\t\t\"score\": number,\n\t\t\t\t\"prizePicture\": string,\n\t\t\t\t\"status\": number,\n\t\t\t\t\"prizeId\": string\n\t\t\t},\n\t\t\t\"rankStatus\": number\n\t\t}\n\t};\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_btnGetReward.onClick(this, this._OnGetRewardClick);\n\t\tthis.m_btnGetRewardGray.onClick(this, this._OnGetRewardGrayClick);\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\n\t\t\tthis._LoadLastRankData();\n\t\t}\n\t}\n\n\tprivate _LoadLastRankData(): void {\n\n\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/list\", {\n\t\t\tactivityId: ModuleGlobal.ActivityID,\n\t\t\t// actId: 2,\n\t\t\ttype: \"pre\",\n\t\t\t// userOpenId: \"9872\"\n\n\t\t}, \"post\", this, (data) => {\n\n\t\t\tLaya.timer.clear(this._winHandler, this._winHandler.showModalWait);\n\n\t\t\tthis._winHandler.closeModalWait();\n\n\t\t\tthis._lastRankData = data;\n\n\t\t\tthis.OnShow();\n\t\t});\n\n\t\tLaya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\n\t}\n\n\tprivate _OnGetRewardClick(item: any) {\n\t\tif (!this._lastRankData.data.userRankInfo) return;\n\n\t\tlet index = this._lastRankData.data.userRankInfo.rankNo - 1;\n\n\t\tlet selfData = this._lastRankData.data.userRankList[index];\n\n\t\tconsole.log(selfData);\n\n\t\tModulePackage.Instance.PopWindow(\"rank\", \"GetReward\", { px: 0, py: 0, winParamData: selfData.prizeInfo });\n\t}\n\n\tprivate _OnGetRewardGrayClick(item: any) {\n\t\tconsole.log(item);\n\n\t\tthis._winHandler.hide();\n\t}\n\t/**\n\t * \u5217\u8868\u9879\u6E32\u67D3\u51FD\u6570\n\t * \u6B63\u786E\u7528\u6CD5\uFF0Cbtn.onClick(this._OnClick); \n\t * \u9519\u8BEF\u7528\u6CD5\uFF0Cbtn.onClick(()=>{}); \u8FD9\u91CC\u4E0D\u5E94\u8BE5\u4F7F\u7528\u4E34\u65F6\u51FD\u6570\n\t * @param index\n\t * @param obj\n\t */\n\tprivate _OnRenderItem(index: number, obj: fgui.GObject): void {\n\n\t\tconsole.log(\"-------------------:\" + index);\n\n\t\tvar rankItem = obj as UI_rankItem;\n\n\t\tlet itemData = this._lastRankData.data.userRankList[index];\n\n\t\tif (!!itemData) {\n\n\t\t\tif (index == 0) {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E00\");\n\n\t\t\t} else if (index == 1) {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E8C\");\n\n\t\t\t} else if (index == 2) {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E09\");\n\n\t\t\t} else {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u5176\u4ED6\");\n\t\t\t}\n\n\t\t\trankItem.m_rankTxt.text = itemData.rankNo.toString();\n\n\t\t\trankItem.m_nameTxt.text = itemData.nickName;\n\n\t\t\trankItem.m_scoreTxt.text = itemData.score.toString();\n\n\t\t\trankItem.m_avatarLoader.url = itemData.avatar;\n\n\t\t\tif (itemData.prizeInfo != null) {\n\t\t\t\trankItem.m_ctrlHaveAward.setSelectedPage(\"\u6709\u5956\u52B1\");\n\t\t\t\trankItem.m_awardBtn.icon = itemData.prizeInfo.prizePicture;\n\t\t\t}\n\t\t\telse {\n\t\t\t\trankItem.m_ctrlHaveAward.setSelectedPage(\"\u6CA1\u6709\u5956\u52B1\");\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic OnShow(): void {\n\n\t\tconsole.log(\"_InitView~~~\");\n\n\t\tif (this._winHandler.isShowing == false) return;\n\n\t\ttry {\n\n\t\t\t//\u6392\u884C\u699C\u5217\u8868\n\t\t\tthis.m_listLastRank.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, null, false);\n\n\t\t\tthis.m_listLastRank.setVirtual();\n\n\t\t\tthis.m_listLastRank.numItems = this._lastRankData.data.userRankList.length;\n\n\t\t\tif (this.m_listLastRank.numItems > 0) //\u6709\u6392\u884C\u699C\n\t\t\t{\n\t\t\t\tthis.m_ctrlLastRankStatus.setSelectedPage(\"\u6709\u6392\u884C\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_ctrlLastRankStatus.setSelectedPage(\"\u6CA1\u6709\u6392\u884C\");\n\t\t\t}\n\n\t\t\t//\u9886\u5956\u6309\u94AE\u72B6\u6001\u8BBE\u7F6E\n\t\t\tif (this._lastRankData.data.rankStatus == 1)\t//\u5DF2\u9881\u5956\n\t\t\t{\n\t\t\t\tconsole.log(this._lastRankData.data.rankStatus, \"~~~~~~~~~~~~~~~~~~~~~~~~~~1\");\n\t\t\t}\n\t\t\telse if (this._lastRankData.data.rankStatus == 2) {\n\t\t\t\tconsole.log(this._lastRankData.data.rankStatus, \"~~~~~~~~~~~~~~~~~~~~~~~~~~2\");\n\t\t\t\tthis.m_ctrlRewardStatus.setSelectedPage(\"\u6709\u5956\u52B1\u4EBA\u6570\u4E0D\u8DB3\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_ctrlRewardStatus.setSelectedPage(\"\u65E0\u5956\u52B1\");\n\t\t\t\tconsole.log(this._lastRankData.data.rankStatus, \"~~~~~~~~~~~~~~~~~~~~~~~~~~0\");\n\t\t\t}\n\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\n\t\t\t//\u82E5\u65E0\u6392\u884C\u4FE1\u606F\u8BF4\u660E\u4E0A\u671F\u6CA1\u53C2\u52A0\n\t\t\tif (!this._lastRankData.data.userRankInfo) {\n\n\t\t\t\tthis.m_ctrlLastRankStatus.setSelectedPage(\"\u6709\u6392\u884C\u4F46\u65E0\u81EA\u5DF1\u6392\u884C\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this._lastRankData.data.userRankInfo.status == 0) //\u672A\u9886\u53D6\u65F6\n\t\t\t{\n\t\t\t\tthis.m_ctrlRewardStatus.setSelectedPage(\"\u53EF\u9886\u5956\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_ctrlRewardStatus.setSelectedPage(\"\u5DF2\u9886\u5956\");\n\t\t\t}\n\n\t\t\tlet index = this._lastRankData.data.userRankInfo.rankNo - 1;\n\n\t\t\tlet selfData = this._lastRankData.data.userRankList[index];\n\n\t\t\t//\u81EA\u5DF1\u7684\u6392\u884C\u8BBE\u7F6E\n\t\t\tthis.m_myItem.m_rankTxt.text = selfData.rankNo.toString();\n\n\t\t\tif (index == 0) {\n\n\t\t\t\tthis.m_myItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E00\");\n\n\t\t\t} else if (index == 1) {\n\n\t\t\t\tthis.m_myItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E8C\");\n\n\t\t\t} else if (index == 2) {\n\n\t\t\t\tthis.m_myItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E09\");\n\n\t\t\t} else {\n\n\t\t\t\tthis.m_myItem.m_ctrlRank.setSelectedPage(\"\u5176\u4ED6\");\n\t\t\t}\n\n\t\t\tthis.m_myItem.m_rankTxt.text = selfData.rankNo.toString();\n\n\t\t\tthis.m_myItem.m_nameTxt.text = selfData.nickName;\n\n\t\t\tthis.m_myItem.m_scoreTxt.text = selfData.score.toString();\n\n\t\t\tthis.m_myItem.m_avatarLoader.url = selfData.avatar;\n\n\t\t\tif (selfData.prizeInfo != null) {\n\t\t\t\tthis.m_myItem.m_ctrlHaveAward.setSelectedPage(\"\u6709\u5956\u52B1\");\n\t\t\t\tthis.m_myItem.m_awardBtn.icon = selfData.prizeInfo.prizePicture;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_myItem.m_ctrlHaveAward.setSelectedPage(\"\u6CA1\u6709\u5956\u52B1\");\n\t\t\t}\n\n\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\", e);\n\t\t}\n\t}\n\n\tpublic OnHide(): void {\n\t\tconsole.log(\"OnHide~~~\");\n\t}\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_banner from \"./UI_banner\";\nimport UI_selfItem from \"./UI_selfItem\";\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_ctrlOkButtonStatus:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_inviteBtn:fgui.GButton;\n\tpublic m_topLoader:UI_banner;\n\tpublic m_myPanel:UI_selfItem;\n\tpublic m_noneTxt:fgui.GTextField;\n\tpublic m_listPanel:fgui.GImage;\n\tpublic m_curList:fgui.GList;\n\tpublic m_listRank:fgui.GGroup;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://qkteqwfpc8s20\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"rank\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ctrlOkButtonStatus = this.getControllerAt(0);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_inviteBtn = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_topLoader = <UI_banner>(this.getChildAt(2));\n\t\tthis.m_myPanel = <UI_selfItem>(this.getChildAt(3));\n\t\tthis.m_noneTxt = <fgui.GTextField>(this.getChildAt(4));\n\t\tthis.m_listPanel = <fgui.GImage>(this.getChildAt(5));\n\t\tthis.m_curList = <fgui.GList>(this.getChildAt(6));\n\t\tthis.m_listRank = <fgui.GGroup>(this.getChildAt(7));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/**\n * \u66F4\u6362\u76AE\u80A4\u7C7B\n */\n\n/**\n * \u652F\u6301\u83B7\u53D6\u7684\u6E38\u620F\u63A5\u53E3\n * \u586B\u5165\u81EA\u5DF1\u6E38\u620F\u5BF9\u5E94\u7684GameInfo \u5B57\u6BB5\u5373\u53EF\u652F\u6301\n */\nconst SkinsConfig = {\n\t//\u9996\u9875\n\t/**\u542F\u52A8\u9875\u54C1\u724C\u56FE\u7247*/beginLogo: { url: '', },\n\t/**\u9996\u9875\u80CC\u666F\u56FE\u7247*/bgImage: { url: '', },\n\t/**\u79EF\u5206icon*/integralIcon: { url: '', },\n\t/**\u9996\u9875\u54C1\u724C\u56FE\u7247*/logo: { url: '', },\n\t/**\u6D3B\u52A8\u89C4\u5219icon*/ruleIcon: { url: '', },\n\t/**\u6392\u884C\u699Cicon*/rankingIcon: { url: '', },\n\t/**\u8D5A\u6B21\u6570icon*/numberIcon: { url: '', },\n\t/**\u5F00\u59CB\u6E38\u620Ficon*/StartIcon: { url: '', },\n\n\t//\u6392\u884C\u699C\n\t/**\u6392\u884C\u699Cbanner*/rankingBanner: { url: '', },\n\t/**\u5956\u54C1\u9884\u89C8icon*/prizeIcon: { url: '', },\n\n\t//\u6E38\u620F\u5185\n\t/**\u6E38\u620F\u80CC\u666F*/gameBgImage: { url: '', },\n\t/**\u5C0F\u871C\u8702*/honeybeeIcon: { url: '', },\n\n\t//\u79EF\u5206\u5151\u6362\n\t/**\u6211\u7684\u5956\u54C1icon*/myPrize: { url: '', },\n\n}\nconst skinJsonConfig = {\n\tpath: 'https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/normal/configs/skinConfig.json',\n\tversion: 'normal',\n}\n\nlet jsonPath = 'CustomConfig/CustomData.json';\n//\u73B0\u5728\u652F\u6301\u7684\u6E38\u620F\u79CD\u7C7B\nexport type SkinKind = keyof typeof SkinsConfig;\n\n\nclass ModuleSkins_C {\n\n\t//-------------------------------------------------------//\n\n\tprivate static myInstance: ModuleSkins_C = null as any;\n\tstatic Instance() {\n\t\tif (!this.myInstance) {\n\t\t\tthis.myInstance = new ModuleSkins_C();\n\t\t}\n\t\treturn this.myInstance;\n\t}\n\n\tprivate isInit = false;\n\n\n\t/**\n\t * \u521D\u59CB\u5316\u66F4\u6362\u76AE\u80A4\n\t * @param _callBack \n\t * @returns \n\t */\n\tInit(_callBack?: () => void) {\n\t\tif (this.isInit) {\n\t\t\treturn;\n\t\t}\n\t\tthis.getJsonPath(() => {\n\t\t\tthis.getServerConfig(() => {\n\t\t\t\tthis.preloadAllSkin(_callBack);\n\t\t\t})\n\t\t})\n\n\n\n\t}\n\t//-------------------------------------\u5916\u90E8\u65B9\u6CD5---------------------------------------------//\n\n\t/**\n\t * \u6362\u80A4\n\t * @param _image \u8981\u6362\u80A4\u7684loader\n\t * @param _kind \u76AE\u80A4\n\t */\n\tChangeSkin<T extends SkinKind>(_image: fgui.GLoader | Laya.Sprite | Laya.Image, _kind: T) {\n\t\tlet _url = this.getUrl(_kind);\n\t\tif (!_url) {\n\t\t\treturn;\n\t\t}\n\t\tif (_image instanceof fgui.GLoader) {\n\t\t\t//fgui \u7684 Loader \u7C7B\u578B\n\t\t\t_image.url = _url\n\t\t}\n\t\telse if (_image instanceof Laya.Image) {\n\t\t\t_image.skin = _url;\n\t\t}\n\t\telse if (_image instanceof Laya.Sprite) {\n\t\t\t//laya \u7684 Image\u7C7B\u578B\n\t\t\t// _image.texture.url = this.getUrl(_kind);\n\t\t\t_image.texture = Laya.loader.getRes(_url);\n\t\t}\n\t\telse {\n\t\t\tconsole.error('\u672A\u5904\u7406\u7684\u76AE\u80A4\u7C7B\u578B\uFF1A', _image);\n\n\t\t}\n\n\t}\n\t/**\n\t * \u66FF\u6362fgui\u4E2D\u7684icon\n\t * \uFF08\u6BD4\u5982\u6309\u94AE\u4E2D\u7684icon\uFF09\n\t */\n\tChangeFguiICON<T extends SkinKind>(_item: fgui.GComponent, _kind: T) {\n\t\tlet _url = this.getUrl(_kind);\n\t\tif (!_url) {\n\t\t\treturn;\n\t\t}\n\t\t_item.icon = _url;\n\t}\n\t//-------------------------------------\u5185\u90E8\u65B9\u6CD5---------------------------------------------//\n\t//\u83B7\u53D6\u6700\u65B0\u7684\u914D\u7F6E\u8DEF\u5F84\n\tgetJsonPath(_callback: Function) {\n\t\tlet _tryTime = 3;\n\t\t//\u52A0\u8F7DcustomData.json\n\t\tlet _toload = () => {\n\t\t\tlet _p = skinJsonConfig.path + '?r=' + Date.now();\n\t\t\tLaya.loader.load(_p, Laya.Handler.create(this, (info) => {\n\t\t\t\tif (info) {\n\t\t\t\t\tconsole.log('getJsonPath', _p, info);\n\t\t\t\t\tlet _data = info[skinJsonConfig.version];\n\t\t\t\t\tif (_data && _data != '') {\n\t\t\t\t\t\tjsonPath = _data;\n\t\t\t\t\t}\n\t\t\t\t\t_callback();\n\t\t\t\t} else {\n\t\t\t\t\tif (_tryTime <= 0) {\n\t\t\t\t\t\t_callback();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t_tryTime--;\n\t\t\t\t\t_toload();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\t_toload();\n\t}\n\t//\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\n\tgetServerConfig(_finish?: () => void) {\n\t\t//\u52A0\u8F7DcustomData.json\n\t\tlet _p = jsonPath + '?r=' + Date.now();\n\t\tlet _toload = () => {\n\t\t\tLaya.loader.load(_p, Laya.Handler.create(this, (info) => {\n\t\t\t\tif (info) {\n\t\t\t\t\tthis.parseJson(info);\n\t\t\t\t\t_finish && _finish();\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t_toload();\n\t\t\t\t\t}, 200);\n\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\t_toload();\n\t}\n\tparseJson(_json: any[]) {\n\t\t//\u89E3\u6790customData.json\n\t\tfor (const pageInfo of _json) {//\u6BCF\u9875\u4FE1\u606F\n\t\t\tlet _custom = pageInfo['custom'];//\u83B7\u53D6\u6570\u636E\u6570\u7EC4\u4FE1\u606F\n\t\t\tif (!_custom) {\n\t\t\t\tconsole.error('\u672A\u53D1\u73B0\u6570\u636E\u4FE1\u606F', pageInfo.key, pageInfo.name);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconsole.log(`--------------\u6570\u636E\u9875[${pageInfo.key}:${pageInfo.name}]----------------`);\n\n\t\t\tfor (const itemInfo of _custom) {//\u5177\u4F53\u4FE1\u606F\n\t\t\t\tif (itemInfo.type != 'uploadImage') {//\u4E0D\u5173\u5FC3\u975E\u66F4\u6539\u7C7B\u56FE\u7247\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet _imageinfo = itemInfo['uploadImage_name'];//\u83B7\u53D6\u56FE\u7247\u4FE1\u606F\n\t\t\t\tif (!_imageinfo) {\n\t\t\t\t\tconsole.error('\u6CA1\u6709\u56FE\u7247\u4FE1\u606F', itemInfo.uuid, itemInfo.title);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!SkinsConfig[itemInfo.uuid]) {\n\t\t\t\t\tconsole.error('\u4EE3\u7801\u4E2D\u6CA1\u6709\u54CD\u5E94\u6B64\u56FE\u7247', itemInfo.uuid, itemInfo.title);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconsole.log('\u83B7\u5F97\u76AE\u80A4: ', itemInfo.title);\n\t\t\t\tSkinsConfig[itemInfo.uuid].url = _imageinfo.value;\n\t\t\t}\n\t\t\tconsole.log(`--------------\u6570\u636E\u9875(\u7ED3\u675F)----------------`);\n\n\t\t}\n\t}\n\t//\u9884\u52A0\u8F7D\u76AE\u80A4\u8D44\u6E90\n\tpreloadAllSkin(_finish?: () => void) {\n\t\tconsole.log('preloadAllSkin', SkinsConfig);\n\n\t\tlet _resarr: string[] = [];\n\t\tfor (const key in SkinsConfig) {\n\t\t\tif (SkinsConfig[key].url == '') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t_resarr.push(SkinsConfig[key].url);\n\t\t}\n\t\tconsole.log('preloadAllSkin _resarr', _resarr);\n\n\t\tlet _toload = () => {\n\t\t\tLaya.loader.load(_resarr, Laya.Handler.create(this, (isSuccess) => {\n\t\t\t\tif (isSuccess) {\n\t\t\t\t\tconsole.log('\u9884\u52A0\u8F7D\u76AE\u80A4[\u5B8C\u6210]');\n\n\t\t\t\t\t_finish && _finish();\n\t\t\t\t} else {\n\t\t\t\t\t_toload();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\t_toload();\n\t}\n\tgetUrl(_kind: SkinKind) {\n\t\tif (!(_kind in SkinsConfig)) {\n\t\t\treturn null;\n\t\t}\n\t\tlet _url = SkinsConfig[_kind].url;\n\t\tif (!_url) {\n\t\t\treturn null;\n\t\t}\n\t\treturn _url;\n\t}\n\t//-----------------------------------------------------------------------------------------//\n\n};\n\n\nexport let ModuleSkins = ModuleSkins_C.Instance();\n", "import ModulePackage from \"../ModulePackage\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_Main from \"./Rank/UI_Main\";\nimport UI_rankItem from \"./Rank/UI_rankItem\";\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\nimport { ModuleGlobal } from \"../ModuleGlobal\";\nimport { ModulePlatformAPI } from './../ModulePlatformAPI';\nimport { ModuleSkins } from \"../ModuleSkins\";\n\nexport default class uiRankMain extends UI_Main {\n\n\tprivate _winHandler: ModuleWindow;\n\n\t/**\n\t * \u6392\u884C\u699C\u6570\u636E\n\t */\n\tprivate _rankData: {\n\n\t\t\"code\": number,\n\t\t\"msg\": string,\n\t\t\"data\": {\n\t\t\t\"rankInfo\": {\n\t\t\t\t\"users\": number,\n\t\t\t\t\"lotteryEndTime\": number,\n\t\t\t\t\"lotteryUsers\": number\n\t\t\t},\n\t\t\t\"userRankList\": [\n\t\t\t\t{\n\t\t\t\t\t\"rankNo\": number,\n\t\t\t\t\t\"userOpenId\": string,\n\t\t\t\t\t\"nickName\": string,\n\t\t\t\t\t\"avatar\": string,\n\t\t\t\t\t\"score\": number,\n\t\t\t\t\t\"prizeInfo\": {\n\t\t\t\t\t\t\"prizeId\": string,\n\t\t\t\t\t\t\"prizeName\": string,\n\t\t\t\t\t\t\"prizePicture\": string,\n\t\t\t\t\t\t\"prizePrice\": string,\n\t\t\t\t\t\t\"prizeUrl\": string\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"userRankInfo\": {\n\t\t\t\t\"rankNo\": number,\n\t\t\t\t\"score\": number,\n\t\t\t\t\"prizePicture\": string,\n\t\t\t\t\"status\": number,\n\t\t\t\t\"prizeId\": string\n\t\t\t},\n\t\t\t\"rankStatus\": number\n\t\t}\n\t};\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_inviteBtn.onClick(this, () => {\n\n\t\t\tModuleAudio.PlayComonBtnAudio();\n\t\t\tModulePackage.Instance.SendMessage(\"rank\", \"task\", \"show\");\t//\u8C03\u7528\u4EFB\u52A1\u6A21\u5757\u7684\u663E\u793A\u65B9\u6CD5\n\t\t});\n\n\t\tthis.m_myPanel.m_ruleBtn.onClick(this, () => {\n\t\t\t//\u663E\u793A\u5956\u52B1\u8BE6\u60C5\n\t\t\tModulePackage.Instance.PopWindow(\"rank\", \"Awards\");\n\t\t\tModuleAudio.PlayComonBtnAudio();\n\t\t});\n\n\t\tthis.m_myPanel.m_lastRankBtn.onClick(this, () => {\n\t\t\t//\u663E\u793A\u4E0A\u671F\u6392\u884C\n\t\t\tModulePackage.Instance.PopWindow(\"rank\", \"LastRank\");\n\t\t\tModuleAudio.PlayComonBtnAudio();\n\t\t});\n\t\tthis.changeSkin();\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\n\t\t\tthis._LoadRankData();\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t}\n\t}\n\tchangeSkin() {\n\t\tModuleSkins.ChangeSkin(this.m_topLoader.m_topLoader, 'rankingBanner');\n\t\tModuleSkins.ChangeFguiICON(this.m_myPanel.m_ruleBtn, 'prizeIcon');\n\t}\n\n\n\tprivate _LoadRankData(): void {\n\n\n\t\tthis.m_curList.visible = false;\n\t\tthis.m_topLoader.m_timeTxt.visible = false;\n\t\tlet _getdata = (_data) => {\n\t\t\tconsole.log('_getdata', _data);\n\n\t\t\tthis._rankData = _data;\n\n\t\t\tthis.OnShow();\n\t\t}\n\t\t// console.error('_LoadRankData');\n\n\t\tif (ModulePackage.Instance.CanUseNetAPI()) {\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/list\", {\n\t\t\t\tactivityId: ModuleGlobal.ActivityID,\n\t\t\t\t// activityId: 2,\n\t\t\t\ttype: \"now\",\n\t\t\t\t// userOpenId: \"9872\"\n\t\t\t}, \"post\", this, (data) => {\n\n\t\t\t\t// console.log(\"data111111111111111111111111111111111111111111111111111\", data);\n\n\t\t\t\tLaya.timer.clear(this._winHandler, this._winHandler.showModalWait);\n\n\t\t\t\tthis._winHandler.closeModalWait();\n\t\t\t\t_getdata(data)\n\n\t\t\t});\n\n\t\t\tLaya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\n\t\t}\n\t\telse {\n\t\t\t_getdata({\n\n\t\t\t\t\"code\": 0,\n\t\t\t\t\"msg\": '',\n\t\t\t\t\"data\": {\n\t\t\t\t\t\"rankInfo\": {\n\t\t\t\t\t\t\"users\": 123,\n\t\t\t\t\t\t// \"lotteryEndTime\": 162233280000,\n\t\t\t\t\t\t\"lotteryUsers\": 30\n\t\t\t\t\t},\n\t\t\t\t\t\"userRankList\": [{\n\t\t\t\t\t\t\"rankNo\": 1,\n\t\t\t\t\t\t\"userOpenId\": 'string',\n\t\t\t\t\t\t\"nickName\": '\u7B2C\u4E00\u540D',\n\t\t\t\t\t\t\"avatar\": '',\n\t\t\t\t\t\t\"score\": 100,\n\t\t\t\t\t\t// \"prizeInfo\": {\n\t\t\t\t\t\t// \t\"prizeId\": string,\n\t\t\t\t\t\t// \t\"prizeName\": string,\n\t\t\t\t\t\t// \t\"prizePicture\": string,\n\t\t\t\t\t\t// \t\"prizePrice\": string,\n\t\t\t\t\t\t// \t\"prizeUrl\": string\n\t\t\t\t\t\t// }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"rankNo\": 2,\n\t\t\t\t\t\t\"userOpenId\": 'string',\n\t\t\t\t\t\t\"nickName\": '\u7B2C2\u540D',\n\t\t\t\t\t\t\"avatar\": '',\n\t\t\t\t\t\t\"score\": 90,\n\t\t\t\t\t\t// \"prizeInfo\": {\n\t\t\t\t\t\t// \t\"prizeId\": string,\n\t\t\t\t\t\t// \t\"prizeName\": string,\n\t\t\t\t\t\t// \t\"prizePicture\": string,\n\t\t\t\t\t\t// \t\"prizePrice\": string,\n\t\t\t\t\t\t// \t\"prizeUrl\": string\n\t\t\t\t\t\t// }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"rankNo\": 1,\n\t\t\t\t\t\t\"userOpenId\": 'string',\n\t\t\t\t\t\t\"nickName\": '\u7B2C3\u540D',\n\t\t\t\t\t\t\"avatar\": '',\n\t\t\t\t\t\t\"score\": 80,\n\t\t\t\t\t\t// \"prizeInfo\": {\n\t\t\t\t\t\t// \t\"prizeId\": string,\n\t\t\t\t\t\t// \t\"prizeName\": string,\n\t\t\t\t\t\t// \t\"prizePicture\": string,\n\t\t\t\t\t\t// \t\"prizePrice\": string,\n\t\t\t\t\t\t// \t\"prizeUrl\": string\n\t\t\t\t\t\t// }\n\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\t\"userRankInfo\": {\n\t\t\t\t\t\t\"rankNo\": 0,\n\t\t\t\t\t\t\"score\": 0,\n\t\t\t\t\t},\n\t\t\t\t\t// \"rankStatus\": number\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tprivate static curRenderID = 0;\n\t/**\n\t * \u5217\u8868\u9879\u6E32\u67D3\u51FD\u6570\n\t * \u6B63\u786E\u7528\u6CD5\uFF0Cbtn.onClick(this._OnClick); \n\t * \u9519\u8BEF\u7528\u6CD5\uFF0Cbtn.onClick(()=>{}); \u8FD9\u91CC\u4E0D\u5E94\u8BE5\u4F7F\u7528\u4E34\u65F6\u51FD\u6570\n\t * @param index\n\t * @param item\n\t */\n\tprivate _OnRenderItem(_id: number, index: number, item: fgui.GObject): void {\n\n\t\tconsole.log(\"------------_OnRenderItem-------:\" + index);\n\n\t\tif (item['isInited'] && item['isInited'] == index + 1) {\n\t\t\t//\u91CD\u590D\u7ED8\u5236\u4E0D\u518D\u66F4\u65B0\u4FE1\u606F\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"_OnRenderItem:---22\", index);\n\t\titem['isInited'] = index + 1;\n\n\t\tvar rankItem = item as UI_rankItem;\n\n\t\tlet itemData = this._rankData.data.userRankList[index];\n\n\t\tif (!!itemData) {\n\n\t\t\tif (index == 0) {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E00\");\n\n\t\t\t} else if (index == 1) {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E8C\");\n\n\t\t\t} else if (index == 2) {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u7B2C\u4E09\");\n\n\t\t\t} else {\n\n\t\t\t\trankItem.m_ctrlRank.setSelectedPage(\"\u5176\u4ED6\");\n\t\t\t}\n\n\n\t\t\trankItem.m_rankTxt.text = itemData.rankNo.toString();\n\n\t\t\trankItem.m_nameTxt.text = itemData.nickName;\n\n\t\t\trankItem.m_scoreTxt.text = itemData.score.toString();\n\n\t\t\tlet _avatar = 'ui://qkteqwfpctsq32'\n\t\t\tif (itemData.avatar && itemData.avatar.indexOf('http') >= 0) {\n\t\t\t\t_avatar = itemData.avatar;\n\t\t\t}\n\t\t\trankItem.m_avatarLoader.url = _avatar;\n\n\t\t\tif (itemData.prizeInfo != null) {\n\t\t\t\trankItem.m_ctrlHaveAward.setSelectedPage(\"\u6709\u5956\u52B1\");\n\t\t\t\trankItem.m_awardBtn.icon = itemData.prizeInfo.prizePicture;\n\t\t\t}\n\t\t\telse {\n\t\t\t\trankItem.m_ctrlHaveAward.setSelectedPage(\"\u6CA1\u6709\u5956\u52B1\");\n\t\t\t}\n\t\t}\n\n\n\t\t//\u6267\u884C\u8FDB\u5165\u52A8\u753B\n\t\tlet _action = uiRankMain.curRenderID == _id;\n\t\titem.visible = !_action;\n\t\tif (_action) {\n\t\t\tLaya.timer.once(index * 150, this, () => {\n\t\t\t\t// if(uiTaskMain.curRenderID != _id){\n\t\t\t\t//     return;\n\t\t\t\t// }\n\t\t\t\titem.visible = true;\n\t\t\t\titem.x = item.width;\n\t\t\t\tLaya.Tween.to(item, { x: 0 }, 200);\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic OnShow(): void {\n\t\tconsole.log(\"OnShow~~~\");\n\n\t\tif (!this._winHandler || this._winHandler.visible == false) return;\n\n\t\tconsole.log(\"_InitView~~~\");\n\n\t\tthis.m_curList.visible = true;\n\t\tthis.m_myPanel.m_ctrLastRankStatus.setSelectedPage('\u4E0D\u663E\u793A');\n\n\t\tif (this._rankData.data.rankInfo.lotteryEndTime && this._rankData.data.rankInfo.lotteryEndTime > 0) {\n\t\t\tthis.m_topLoader.m_timeTxt.visible = true;\n\t\t\t//\u6D3B\u52A8\u4FE1\u606F\n\t\t\tlet surviveTime = this._rankData.data.rankInfo.lotteryEndTime - new Date().getTime();\n\t\t\tif (surviveTime <= 0) {\n\t\t\t\tthis.m_topLoader.m_timeTxt.text = '\u5DF2\u7ECF\u5F00\u5956\u55BD~';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.m_topLoader.m_timeTxt.setVar(\"time\", ModuleTool.SurviveTimeToString(surviveTime / 1000)).flushVars();\n\t\t\t\tLaya.timer.loop(1000, this, this._UpdateSurviveTime);\n\t\t\t}\n\n\t\t}\n\n\t\t// console.log(\"----------------------------------------------------------------\");\n\t\t// console.log(ModuleTool.TimestampToString(new Date().getTime()));\n\t\t// console.log(ModuleTool.TimestampToString(this._rankData.data.rankInfo.lotteryEndTime));\n\t\t// console.log(\"----------------------------------------------------------------\");\n\n\n\t\tthis.m_topLoader.m_numTxt.setVar(\"num\", this._rankData.data.rankInfo.users.toString()).flushVars();\n\t\tthis.m_topLoader.m_txtMaxNum.setVar(\"num\", this._rankData.data.rankInfo.lotteryUsers.toString()).flushVars();\n\n\t\tuiRankMain.curRenderID++;\n\t\t//\u6392\u884C\u699C\u5217\u8868\n\t\tthis.m_curList.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, [uiRankMain.curRenderID], false);\n\n\t\tthis.m_curList.setVirtual();\n\n\t\tthis.m_curList.numItems = !!this._rankData.data.userRankList ? this._rankData.data.userRankList.length : 0;\n\n\t\tuiRankMain.curRenderID++;\n\t\tif (this._rankData.data.userRankInfo && this._rankData.data.userRankInfo.rankNo > 0\n\t\t\t&& this._rankData.data.userRankInfo.rankNo <= this._rankData.data.userRankList.length) {\n\t\t\tlet index = this._rankData.data.userRankInfo.rankNo - 1;\n\n\t\t\tlet selfData = this._rankData.data.userRankList[index];\n\n\t\t\tthis.m_myPanel.m_myItem.m_rankTxt.setScale(1, 1);\n\t\t\t//\u81EA\u5DF1\u7684\u6392\u884C\n\t\t\tthis.m_myPanel.m_myItem.m_rankTxt.text = selfData.rankNo.toString();\n\n\t\t\tif (selfData.nickName) {\n\t\t\t\tthis.m_myPanel.m_myItem.m_nameTxt.text = selfData.nickName;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tModulePlatformAPI.GetUserInfo((_info) => {\n\t\t\t\t\tthis.m_myPanel.m_myItem.m_nameTxt.text = _info.nickName;\n\n\t\t\t\t\tthis.m_myPanel.m_myItem.m_avatarLoader.url = _info.avatar;\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.m_myPanel.m_myItem.m_avatarLoader.url = 'ui://qkteqwfpctsq32';\n\t\t\t\t\tthis.m_myPanel.m_myItem.m_nameTxt.text = '\u81EA\u5DF1';\n\t\t\t\t})\n\t\t\t}\n\n\n\t\t\tthis.m_myPanel.m_myItem.m_scoreTxt.text = selfData.score.toString();\n\n\t\t\tlet _avatar = 'ui://qkteqwfpctsq32'\n\t\t\tif (selfData.avatar && selfData.avatar.indexOf('http') >= 0) {\n\t\t\t\t_avatar = selfData.avatar;\n\t\t\t}\n\t\t\tthis.m_myPanel.m_myItem.m_avatarLoader.url = _avatar;\n\t\t}\n\t\telse {\n\t\t\tthis.m_myPanel.m_myItem.m_rankTxt.setScale(0.7, 0.7);\n\t\t\tthis.m_myPanel.m_myItem.m_rankTxt.text = '\u672A\u4E0A\u699C';\n\n\n\t\t\tthis.m_myPanel.m_myItem.m_scoreTxt.text = '' + ModuleGlobal.MyCurrency.wmScore;\n\n\t\t\tModulePlatformAPI.GetUserInfo((_info) => {\n\t\t\t\tthis.m_myPanel.m_myItem.m_nameTxt.text = _info.nickName;\n\n\t\t\t\tthis.m_myPanel.m_myItem.m_avatarLoader.url = _info.avatar;\n\t\t\t}, () => {\n\t\t\t\tthis.m_myPanel.m_myItem.m_avatarLoader.url = 'ui://qkteqwfpctsq32';\n\t\t\t})\n\n\t\t}\n\n\n\n\t}\n\n\tprivate _UpdateSurviveTime() {\n\n\t\tlet surviveTime = this._rankData.data.rankInfo.lotteryEndTime - new Date().getTime();\n\n\t\tthis.m_topLoader.m_timeTxt.setVar(\"time\", ModuleTool.SurviveTimeToString(surviveTime / 1000)).flushVars();\n\t}\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\n\t\tLaya.stage.offAllCaller(this)\n\t\tLaya.timer.clearAll(this);\n\t\tLaya.Tween.clearAll(this);\n\n\t\t// Laya.timer.clear(this, this._UpdateSurviveTime);\n\n\t\t// ModulePackage.Instance.PopWindow(\"rank\", \"ResultRank\", 0, 0, {title: \"\u6E38\u620F\u7ED3\u675F\", score: 100, target: this, callBack: () => { \n\n\t\t// \tconsole.log(\"\u518D\u6765\u4E00\u5C40\");\n\t\t// } });\n\t}\n}", "import { ModuleGlobal } from './../ModuleGlobal';\nimport ModulePackage from \"../ModulePackage\";\nimport { ModulePlatformAPI } from \"../ModulePlatformAPI\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_rankItem2 from \"./Rank/UI_rankItem2\";\nimport UI_ResultRank from \"./Rank/UI_ResultRank\";\n\n\nexport default class uiResultRank extends UI_ResultRank {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate _winParamData: { title: string, score: number, target: any, callBack: Function };\n\n\tprivate _bDataIsReady = false;\n\n\tprivate _bIsShown = false;\n\n\tprivate _bIsReStart = false;\n\t/**\n\t * \u6700\u65B0\u6392\u884C\u699C\u6570\u636E\n\t */\n\tprivate _newRankData: {\n\n\t\t\"code\": number,\n\t\t\"msg\": string,\n\t\t\"data\": {\n\t\t\t\"rankNo\": number,\n\t\t\t\"score\": number\n\t\t}\n\t};\n\n\t/**\n\t * \u6392\u884C\u699C\u6570\u636E\n\t */\n\tprivate _rankData: {\n\n\t\t\"code\": number,\n\t\t\"msg\": string,\n\t\t\"data\": {\n\t\t\t\"rankInfo\": {\n\t\t\t\t\"users\": number,\n\t\t\t\t\"lotteryEndTime\": number,\n\t\t\t\t\"lotteryUsers\": number\n\t\t\t},\n\t\t\t\"userRankList\": [\n\t\t\t\t{\n\t\t\t\t\t\"rankNo\": number,\n\t\t\t\t\t\"userOpenId\": string,\n\t\t\t\t\t\"nickName\": string,\n\t\t\t\t\t\"avatar\": string,\n\t\t\t\t\t\"score\": number,\n\t\t\t\t\t\"prizeInfo\": {\n\t\t\t\t\t\t\"prizeId\": string,\n\t\t\t\t\t\t\"prizeName\": string,\n\t\t\t\t\t\t\"prizePicture\": string,\n\t\t\t\t\t\t\"prizePrice\": string,\n\t\t\t\t\t\t\"prizeUrl\": string\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"userRankInfo\": {\n\t\t\t\t\"rankNo\": number,\n\t\t\t\t\"score\": number,\n\t\t\t\t\"prizePicture\": string,\n\t\t\t\t\"status\": number,\n\t\t\t\t\"prizeId\": string\n\t\t\t},\n\t\t\t\"rankStatus\": number\n\t\t}\n\n\t};\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t\tthis.m_btnOk.onClick(this, () => {\n\n\t\t\tthis._bIsReStart = true;\n\n\t\t\tthis._winHandler.hide();\n\t\t});\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u83B7\u53D6\u5F39\u51FA\u7A97\u53E3\u662F\u4F20\u8FDB\u6765\u7684\u53C2\u6570,\u8FD9\u91CC\u662F\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570,\u7528\u6765\u5904\u7406\u518D\u6B21\u8FDB\u5165\u6E38\u620F\u7684\u903B\u8F91\n\t\t\tthis._winParamData = this._winHandler.GetParamData();\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u6253\u5F00\u65F6\u7684\u672C\u7C7B\u6570\u636E\u521D\u59CB\u5316\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\n\t\t\tthis.m_frame.title = this._winParamData.title;\n\n\t\t\tthis._CommitRankScore();\n\t\t}\n\t}\n\n\tprivate _CommitRankScore(): void {\n\n\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/commit\", {\n\n\t\t\t// actId: 2,\n\t\t\tscore: this._winParamData.score,\n\t\t\t// userOpenId: \"9872\"\n\n\t\t}, \"post\", this, (data) => {\n\n\t\t\tthis._newRankData = data;\n\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/list\", {\n\t\t\t\tactivityId: ModuleGlobal.ActivityID,\n\t\t\t\t// actId: 2,\n\t\t\t\ttype: \"now\",\n\t\t\t\t// userOpenId: \"9872\"\n\n\t\t\t}, \"post\", this, (data) => {\n\n\t\t\t\tLaya.timer.clear(this._winHandler, this._winHandler.showModalWait);\n\n\t\t\t\tthis._winHandler.closeModalWait();\n\n\t\t\t\tthis._rankData = data;\n\n\t\t\t\tthis._bDataIsReady = true;\n\n\t\t\t\tthis.OnShow();\n\t\t\t});\n\t\t});\n\n\t\tLaya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\n\t}\n\n\t/**\n\t * \u70B9\u51FB\u7269\u54C1\u8BE6\u60C5\u4E8B\u4EF6\n\t */\n\tprivate _OnItemInfoClick(evt: Event, itemUrl: string): void {\n\n\t\tconsole.log(evt, itemUrl);\n\n\t\tModulePlatformAPI.OpenShopItemDetail(\"641416140869\");\n\t}\n\n\t/**\n\t * \u5217\u8868\u9879\u6E32\u67D3\u51FD\u6570\n\t * \u6B63\u786E\u7528\u6CD5\uFF0Cbtn.onClick(this._OnClick); \n\t * \u9519\u8BEF\u7528\u6CD5\uFF0Cbtn.onClick(()=>{}); \u8FD9\u91CC\u4E0D\u5E94\u8BE5\u4F7F\u7528\u4E34\u65F6\u51FD\u6570\n\t * @param index\n\t * @param obj\n\t */\n\tprivate _OnRenderItem(index: number, obj: fgui.GObject): void {\n\n\t\tconsole.log(\"-------------------:\" + index);\n\n\t\tvar rankItem = obj as UI_rankItem2;\n\n\t\tlet itemData = this._rankData.data.userRankList[index];\n\n\t\tif (!!itemData) {\n\n\t\t\tif (index == 0) {\n\n\t\t\t\trankItem.m_rank.setSelectedPage(\"\u7B2C\u4E00\");\n\n\t\t\t} else if (index == 1) {\n\n\t\t\t\trankItem.m_rank.setSelectedPage(\"\u7B2C\u4E8C\");\n\n\t\t\t} else if (index == 2) {\n\n\t\t\t\trankItem.m_rank.setSelectedPage(\"\u7B2C\u4E09\");\n\n\t\t\t} else {\n\n\t\t\t\trankItem.m_rank.setSelectedPage(\"\u5176\u4ED6\");\n\t\t\t}\n\n\t\t\tlet currRankIndex = this._rankData.data.userRankInfo.rankNo - 1;\n\n\t\t\tif (currRankIndex == index) {\n\t\t\t\trankItem.m_isSelf.setSelectedPage(\"\u81EA\u5DF1\u6392\u884C\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\trankItem.m_isSelf.setSelectedPage(\"\u5176\u4ED6\u4EBA\");\n\t\t\t}\n\n\t\t\trankItem.m_rankTxt.text = itemData.rankNo.toString();\n\n\t\t\trankItem.m_nameTxt.text = itemData.nickName;\n\n\t\t\trankItem.m_scoreTxt.text = itemData.score.toString();\n\n\t\t\trankItem.m_avatarLoader.url = itemData.avatar;\n\t\t}\n\t}\n\n\t/**\n\t * \u8BA1\u7B97\u4E0B\u4E00\u4E2A\u5956\u52B1\u7684\u540D\u6B21\n\t */\n\tprivate _GetNextGiftNum(): number {\n\t\tlet currRankIndex = this._rankData.data.userRankInfo.rankNo - 1;\n\n\t\tlet nextRankIndex = 0;\n\t\t//\u67E5\u627E\u81EA\u5DF1\u6392\u540D\u7684\u524D\u65B9\u662F\u5426\u8FD8\u6709\u5956\u52B1\n\t\tfor (let i = currRankIndex - 1; i > 0; i--) {\n\t\t\tlet itemData = this._rankData.data.userRankList[i];\n\n\t\t\tif (itemData.prizeInfo != null) {\n\t\t\t\tnextRankIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn currRankIndex - nextRankIndex;\n\t}\n\n\tpublic OnShow(): void {\n\n\t\tif (this._winHandler.isShowing == false) return;\n\n\t\tif (this._bDataIsReady == false) return;\n\n\t\tif (this._bIsShown == true) return;\n\n\t\tconsole.log(\"OnShow~~~\");\n\n\t\tlet num = this._GetNextGiftNum();\n\n\t\tif (num == 0) {\n\t\t\tthis.m_ctrlFrontStatus.setSelectedPage(\"\u4FDD\u6301\");\n\t\t\tthis.m_txtFornt.setVar(\"num\", this._rankData.data.userRankInfo.rankNo.toString()).flushVars();\n\t\t}\n\t\telse {\n\t\t\tthis.m_ctrlFrontStatus.setSelectedPage(\"\u524D\u8FDB\");\n\t\t\tthis.m_txtFornt.setVar(\"num\", num.toString()).flushVars();\n\t\t}\n\n\t\tlet currRankIndex = this._rankData.data.userRankInfo.rankNo - 1;\n\n\t\tlet itemData = this._rankData.data.userRankList[currRankIndex - num];\n\n\t\tconsole.log(\"-----------------------------------------------1\", itemData);\n\n\t\ttry {\n\n\t\t\tthis.m_txtItemName.text = itemData.prizeInfo.prizeName;\n\t\t\tconsole.log(\"-----------------------------------------------2\");\n\t\t\tthis.m_txtPrice.setVar(\"money\", itemData.prizeInfo.prizePrice.toString()).flushVars();\n\t\t\tconsole.log(\"-----------------------------------------------3\");\n\t\t\tthis.m_itemHead.url = itemData.prizeInfo.prizePicture;\n\t\t\tconsole.log(\"-----------------------------------------------4\");\n\t\t\tthis.m_btnItemInfo.onClick(this, this._OnItemInfoClick, [itemData.prizeInfo.prizeUrl]);\n\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1\");\n\n\t\t\t//\u6392\u884C\u699C\u5217\u8868\n\t\t\tthis.m_listNewRank.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, null, false);\n\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~2\");\n\t\t\tthis.m_listNewRank.setVirtual();\n\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~3\");\n\t\t\tthis.m_listNewRank.numItems = this._rankData.data.userRankList.length;\n\n\t\t\tconsole.log(this.m_listNewRank.numItems, \"~~~~~~~~~~~~4\", this.m_listNewRank);\n\n\t\t\t// let index = this._rankData.data.userRankInfo.rankNo - 1;\n\n\t\t\t// let selfData = this._rankData.data.userRankList[index];\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.log(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~5\", e);\n\t\t}\n\n\t\tthis._bIsShown = true;\n\t}\n\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\n\t\tif (!!this._winParamData && !!this._winParamData.target && !!this._winParamData.callBack) {\n\t\t\tthis._winParamData.callBack.call(this._winParamData.target, this._bIsReStart);\n\t\t}\n\t}\n\n}", "import UI_awardItem from \"./Rank/UI_awardItem\";\nimport UI_banner from \"./Rank/UI_banner\";\nimport UI_GetReward from \"./Rank/UI_GetReward\";\nimport UI_LastRank from \"./Rank/UI_LastRank\";\nimport UI_lastRankBtn from \"./Rank/UI_lastRankBtn\";\nimport UI_rankItem from \"./Rank/UI_rankItem\";\nimport UI_rankItem2 from \"./Rank/UI_rankItem2\";\nimport UI_ResultRank from \"./Rank/UI_ResultRank\";\nimport UI_selfItem from \"./Rank/UI_selfItem\";\nimport uiAwards from \"./uiAwards\";\nimport uiGetReward from \"./uiGetReward\";\nimport uiLastRank from \"./uiLastRank\";\nimport uiRankMain from \"./uiRankMain\";\nimport uiResultRank from \"./uiResultRank\";\n\nexport default class RankBinder {\n\n\tpublic static bindAll():void {\n\n        //////////////////////////////////////////////////////////////////////////////////////\n        //\u624B\u52A8\u5BFC\u5165\n        //////////////////////////////////////////////////////////////////////////////////////\n\t\tfgui.UIObjectFactory.setExtension(uiRankMain.URL, uiRankMain);         \n\t\tfgui.UIObjectFactory.setExtension(uiAwards.URL, uiAwards);\n\t\tfgui.UIObjectFactory.setExtension(UI_ResultRank.URL, uiResultRank);\n\t\tfgui.UIObjectFactory.setExtension(UI_LastRank.URL, uiLastRank);\n\t\tfgui.UIObjectFactory.setExtension(UI_GetReward.URL, uiGetReward);\n\n        //////////////////////////////////////////////////////////////////////////////////////\n        //\u81EA\u52A8\u751F\u6210\u7684\u90E8\u5206\uFF0C\u9700\u624B\u52A8\u62F7\u8D1D\u8FC7\u6765\n        //////////////////////////////////////////////////////////////////////////////////////\n\t\tfgui.UIObjectFactory.setExtension(UI_rankItem.URL, UI_rankItem);\n\t\tfgui.UIObjectFactory.setExtension(UI_lastRankBtn.URL, UI_lastRankBtn);\n\t\tfgui.UIObjectFactory.setExtension(UI_awardItem.URL, UI_awardItem);\n\t\tfgui.UIObjectFactory.setExtension(UI_banner.URL, UI_banner);\n\t\tfgui.UIObjectFactory.setExtension(UI_selfItem.URL, UI_selfItem);\n\t\tfgui.UIObjectFactory.setExtension(UI_rankItem2.URL, UI_rankItem2);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_MyGiftButton extends fgui.GButton {\n\n\tpublic m_bubbleBG:fgui.GImage;\n\tpublic m_bagNText:fgui.GTextField;\n\tpublic static URL:string = \"ui://txopsw7as0olf\";\n\n\tpublic static createInstance():UI_MyGiftButton {\n\t\treturn <UI_MyGiftButton>(fgui.UIPackage.createObject(\"gift\", \"MyGiftButton\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_bubbleBG = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_bagNText = <fgui.GTextField>(this.getChildAt(2));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_scoreExchangeBtn extends fgui.GButton {\n\n\tpublic m_jifenText:fgui.GImage;\n\tpublic static URL:string = \"ui://txopsw7as0oli\";\n\n\tpublic static createInstance():UI_scoreExchangeBtn {\n\t\treturn <UI_scoreExchangeBtn>(fgui.UIPackage.createObject(\"gift\", \"scoreExchangeBtn\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_jifenText = <fgui.GImage>(this.getChildAt(7));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_exchangeFail extends fgui.GComponent {\n\n\tpublic m_bg:fgui.GGraph;\n\tpublic m_closeBtn:fgui.GButton;\n\tpublic m_okBtn:fgui.GButton;\n\tpublic m_failText:fgui.GTextField;\n\tpublic static URL:string = \"ui://txopsw7as0ol7\";\n\n\tpublic static createInstance():UI_exchangeFail {\n\t\treturn <UI_exchangeFail>(fgui.UIPackage.createObject(\"gift\", \"exchangeFail\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_bg = <fgui.GGraph>(this.getChildAt(0));\n\t\tthis.m_closeBtn = <fgui.GButton>(this.getChildAt(3));\n\t\tthis.m_okBtn = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_failText = <fgui.GTextField>(this.getChildAt(6));\n\t}\n}", "import UI_exchangeFail from \"./gift/UI_exchangeFail\";\r\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\r\n\r\n\r\n//\u5931\u8D25\u7684\u7C7B\u578B\r\nexport enum FailType {\r\n    unKnow,//\u672A\u77E5\u539F\u56E0\r\n    noData,//\u6570\u636E\u67E5\u8BE2\u5931\u8D25\r\n    noScore,//\u79EF\u5206\u4E0D\u8DB3\r\n    noRepertory,//\u5E93\u5B58\u4E0D\u8DB3\r\n    noTime,//\u5151\u6362\u5DF2\u8FBE\u4E0A\u9650\r\n    activityEnd,//\u6D3B\u52A8\u7ED3\u675F\r\n    activityUnstart,//\u6D3B\u52A8\u672A\u5F00\u59CB\r\n}\r\n//\u5931\u8D25\u7684\u6587\u5B57\u63CF\u8FF0\r\nconst failText = [\r\n    '\u5151\u6362\u5931\u8D25',//\u672A\u77E5\u539F\u56E0\r\n    '\u6570\u636E\u67E5\u8BE2\u5931\u8D25',\r\n    '\u79EF\u5206\u4E0D\u8DB3',\r\n    '\u5E93\u5B58\u4E0D\u8DB3',\r\n    '\u5151\u6362\u5DF2\u8FBE\u4E0A\u9650',\r\n    '\u6D3B\u52A8\u5DF2\u7ED3\u675F',\r\n    '\u6D3B\u52A8\u672A\u5F00\u59CB',\r\n];\r\nexport default class uiexchangeFail extends UI_exchangeFail {\r\n\r\n\r\n    onConstruct() {\r\n        super.onConstruct();\r\n        this.clickBtn();\r\n        this.listenText();\r\n    }\r\n    removeFromParent() {\r\n        this.onEnd();\r\n        super.removeFromParent();\r\n    }\r\n    Show() {\r\n        this.visible = true;\r\n        this.m_bg.visible = false;\r\n        ModuleTool.ActionPopIn(this, () => {\r\n            this.m_bg.visible = true;\r\n        });\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    Hide() {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.m_bg.visible = false;\r\n        ModuleTool.ActionPopOut(this, () => {\r\n            this.visible = false;\r\n\r\n        })\r\n    }\r\n    clickBtn() {\r\n        let _closeBtn = () => {\r\n            this.Hide();\r\n            ModuleAudio.PlayComonBtnAudio();\r\n        }\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.m_closeBtn.onClick(this, _closeBtn)\r\n        this.m_okBtn.onClick(this, _closeBtn)\r\n\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    SetInfo(_type: FailType) {\r\n\r\n        if (_type >= failText.length) {\r\n            console.error('[exchangeFail]\u6CA1\u6709\u6B64\u63D0\u793A\u6587\u672C', _type);\r\n            return;\r\n        }\r\n        console.log('exchangeFail SetInfo', _type, failText[_type]);\r\n\r\n        this.m_failText.text = failText[_type];\r\n        this.Show();\r\n    }\r\n\r\n\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_GiftInfo from \"./UI_GiftInfo\";\n\nexport default class UI_exchangeConfirm extends fgui.GComponent {\n\n\tpublic m_bg:fgui.GGraph;\n\tpublic m_closeBtn:fgui.GButton;\n\tpublic m_info:UI_GiftInfo;\n\tpublic m_exchangeBtn:fgui.GButton;\n\tpublic m_needScoreText:fgui.GTextField;\n\tpublic static URL:string = \"ui://txopsw7as0ol6\";\n\n\tpublic static createInstance():UI_exchangeConfirm {\n\t\treturn <UI_exchangeConfirm>(fgui.UIPackage.createObject(\"gift\", \"exchangeConfirm\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_bg = <fgui.GGraph>(this.getChildAt(0));\n\t\tthis.m_closeBtn = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_info = <UI_GiftInfo>(this.getChildAt(5));\n\t\tthis.m_exchangeBtn = <fgui.GButton>(this.getChildAt(7));\n\t\tthis.m_needScoreText = <fgui.GTextField>(this.getChildAt(6));\n\t}\n}", "\r\n\r\nimport { FailType } from './uiexchangeFail';\r\nimport uiGiftInfo from './uiGiftInfo';\r\nimport UI_exchangeConfirm from './gift/UI_exchangeConfirm';\r\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\r\nimport ModuleWindow from './../ModuleWindow';\r\nimport ModulePackage from '../ModulePackage';\r\nimport { GCurrencyType, ModuleGlobal } from '../ModuleGlobal';\r\n\r\nexport interface ExchangeConfirmInfo {\r\n    // type: number,\r\n    id: string,//\u5546\u54C1id\r\n    title: string,\r\n    url: string,\r\n    price: number,\r\n}\r\n\r\nexport default class exchangeConfirm extends UI_exchangeConfirm {\r\n\r\n\r\n    m_info: uiGiftInfo;\r\n\r\n    onConstruct() {\r\n        super.onConstruct();\r\n        this.onStart();\r\n    }\r\n    removeFromParent() {\r\n        this.onEnd();\r\n        super.removeFromParent();\r\n    }\r\n\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n\r\n\r\n    }\r\n    Show() {\r\n        this.visible = true;\r\n        this.m_bg.visible = false;\r\n        ModuleTool.ActionPopIn(this, () => {\r\n            this.m_bg.visible = true;\r\n        });\r\n    }\r\n    Hide() {\r\n        this.visible = false;\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.m_bg.visible = false;\r\n        ModuleTool.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n\r\n\r\n        })\r\n    }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.m_closeBtn.onClick(this, () => {\r\n            ModuleAudio.PlayComonBtnAudio();\r\n            this.close();\r\n\r\n        })\r\n        this.m_exchangeBtn.onClick(this, () => {\r\n\r\n            ModuleAudio.PlayComonBtnAudio();\r\n            // console.error('m_exchangeBtn \u672A\u5B8C\u6210\u5151\u6362\u6570\u636E\u63A5\u5165');\r\n            let _winHandler = (this.parent as any)._winHandler;\r\n            if (_winHandler) {\r\n                _winHandler.showModalWait();\r\n            }\r\n            // MyUtils.showLoading();\r\n            this.ExchangeAward((_code: number) => {\r\n                console.log('exchangeBtn', _code);\r\n                if (_winHandler) {\r\n                    _winHandler.closeModalWait();\r\n                }\r\n                // MyUtils.closeLoading();\r\n                this.close(() => {\r\n                    if (_code == 0) {\r\n                        console.log('exchangeSuccess myInfo', this.myInfo);\r\n\r\n                        Laya.stage.event('exchangeSuccess', this.myInfo);\r\n                        // //MainUtil.analysis('exchange', { goodsId: this.myInfo.id, goodsName: this.myInfo.title, price: this.myInfo.price });\r\n                    }\r\n                    else {\r\n                        //\u4F20\u5165\u7684\u5931\u8D25\u7801\u548C\u63D0\u793A\u5931\u8D25\u7C7B\u578B\u7684\u6620\u5C04\u5173\u7CFB\r\n                        const code2Type = [\r\n                            [[-1, -2], [FailType.noData]],\r\n                            [[-5], [FailType.noScore]],\r\n                            [[-6], [FailType.noRepertory]],\r\n                            [[-7], [FailType.noTime]],\r\n                            [[98], [FailType.activityUnstart]],\r\n                            [[99], [FailType.activityEnd]],\r\n                        ]\r\n\r\n                        let _failType = FailType.unKnow;\r\n                        //\u83B7\u53D6\u6620\u5C04\u5230\u7684\u5931\u8D25\u7C7B\u578B\r\n                        for (const info of code2Type) {\r\n                            for (const code of info[0]) {\r\n                                // console.log('\u67E5\u627E\u6620\u5C04', _code, code, info[1]);\r\n                                if (code == _code) {\r\n                                    _failType = info[1] as any;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (_failType != FailType.unKnow) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        Laya.stage.event('exchangeFail', _failType);\r\n                    }\r\n                });\r\n\r\n\r\n            })\r\n        })\r\n\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    private parentWinHandler?: ModuleWindow;\r\n    myInfo: ExchangeConfirmInfo\r\n    SetInfo(_info: ExchangeConfirmInfo, _parentWinHandler?: ModuleWindow) {\r\n        console.log('exchangeConfirm SetInfo', _info);\r\n        this.myInfo = _info;\r\n        this.m_needScoreText.setVar(\"const\",\"\"+_info.price).flushVars();\r\n        this.parentWinHandler = _parentWinHandler;\r\n        this.m_info.SetInfo(_info.title, _info.url);\r\n        this.Show();\r\n    }\r\n\r\n    /**\r\n     * \u79EF\u5206\u5151\u6362\u5956\u54C1\r\n     * @param _type \u5546\u54C1\u7C7B\u578B\r\n     * @param _callback  _code 0\uFF1A\u6210\u529F -5\uFF1A\u79EF\u5206\u4E0D\u8DB3 -6\uFF1A\u5E93\u5B58\u4E0D\u8DB3 -7\uFF1A\u5151\u6362\u6B21\u6570\u9650\u5236\r\n     */\r\n    ExchangeAward(_callback: (_code: number) => void) {\r\n\r\n\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            this.parentWinHandler.showModalWait();\r\n            let _closeModalWait = () => {\r\n                Laya.timer.clear(this, _closeModalWait);\r\n                this.parentWinHandler.closeModalWait();\r\n            }\r\n            Laya.timer.once(10000, this, _closeModalWait);\r\n            //\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\r\n            ModulePackage.Instance.SendNetMessage(\"\", \"/C/integral/swap\", {\r\n                Id: this.myInfo.id,\r\n                number: 1,\r\n                itemType: GCurrencyType.wmScore\r\n            }, \"post\", this,\r\n                (data) => {\r\n                    _closeModalWait();\r\n                    console.log(\"getTaskList\", data);\r\n                    if (data.code != 0) {\r\n                        let _code = -5;\r\n                        \r\n                        if(data.code == 98 && data.code == 99){\r\n                            _code = data.code;\r\n                            ModuleGlobal.ChangeActivityState(data.code == 98 ? 'unstart' : 'off', data.msg);\r\n                        }\r\n                        _callback && _callback(_code);\r\n                        return;\r\n                    }\r\n                    _callback && _callback(0);\r\n                    ModuleGlobal.UpdateCurrency(GCurrencyType.wmScore);\r\n\r\n                });\r\n            // let reqData = {\r\n            //     activeId: TB._activeId,\r\n            //     type: _type\r\n            // }\r\n            // let info = { \"id\": Global.MSG_SCORE_EXHANGE, \"data\": reqData };\r\n            // TB.sendMsg(info, (buf) => {\r\n            //     if (buf.code == 0) {\r\n            //         console.log('7002\u5151\u6362\u6210\u529F', buf.data);\r\n            //         PlayDataUtil.setData('point', buf.data.point);\r\n            //         Laya.stage.event(\"updateValue\");\r\n            //         // this.ChangeScore(0, buf.data.point);\r\n            //         // MainUtil.sendChangePoint();\r\n            //     } else {\r\n            //         console.error('7002\u5151\u6362\u5931\u8D25', buf.message);\r\n            //     }\r\n            //     _callback(buf.code);\r\n            // });\r\n        } else {\r\n            _callback(0);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_GiftInfo from \"./UI_GiftInfo\";\n\nexport default class UI_exchangeSuccess extends fgui.GComponent {\n\n\tpublic m_bg:fgui.GGraph;\n\tpublic m_closeBtn:fgui.GButton;\n\tpublic m_info:UI_GiftInfo;\n\tpublic m_goBtn:fgui.GButton;\n\tpublic static URL:string = \"ui://txopsw7as0ola\";\n\n\tpublic static createInstance():UI_exchangeSuccess {\n\t\treturn <UI_exchangeSuccess>(fgui.UIPackage.createObject(\"gift\", \"exchangeSuccess\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_bg = <fgui.GGraph>(this.getChildAt(0));\n\t\tthis.m_closeBtn = <fgui.GButton>(this.getChildAt(3));\n\t\tthis.m_info = <UI_GiftInfo>(this.getChildAt(4));\n\t\tthis.m_goBtn = <fgui.GButton>(this.getChildAt(5));\n\t}\n}", "\r\n\r\nimport GiftInfo from './uiGiftInfo';\r\nimport UI_exchangeSuccess from './gift/UI_exchangeSuccess';\r\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\r\nimport uiGiftInfo from './uiGiftInfo';\r\n\r\nexport interface ExchangeSuccessInfo {\r\n    // type: number,//\u7C7B\u578B\uFF08\u552F\u4E00\uFF09\r\n    id: string,//\u5546\u54C1id\r\n    title: string,\r\n    url: string,\r\n}\r\n\r\nexport default class uiexchangeSuccess extends UI_exchangeSuccess {\r\n\r\n\r\n\r\n    m_info: uiGiftInfo;\r\n\r\n\r\n    onConstruct() {\r\n        super.onConstruct();\r\n        this.clickBtn();\r\n    }\r\n    Show() {\r\n\r\n        this.listenText();\r\n        this.visible = true;\r\n        this.m_bg.visible = false;\r\n        ModuleTool.ActionPopIn(this, () => {\r\n            this.m_bg.visible = true;\r\n        });\r\n    }\r\n    Hide() {\r\n        this.visible = false;\r\n        this.onEnd();\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.m_bg.visible = false;\r\n        ModuleTool.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n        })\r\n    }\r\n    clickBtn() {\r\n        // //\u6A21\u5757\u663E\u793A\u8BBE\u7F6E\r\n        // {\r\n        //     this.m_goBtn.visible = ModuleControl.EnableBag;\r\n        // }\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.m_closeBtn.onClick(this, () => {\r\n            this.close();\r\n            ModuleAudio.PlayComonBtnAudio();\r\n\r\n        })\r\n        this.m_goBtn.onClick(this, () => {\r\n            this.close(() => {\r\n                Laya.stage.event('gotoBag');\r\n            });\r\n            ModuleAudio.PlayComonBtnAudio();\r\n\r\n\r\n        })\r\n\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    myInfo: ExchangeSuccessInfo\r\n    SetInfo(_info: ExchangeSuccessInfo) {\r\n        console.log('uiexchangeSuccess _info', _info);\r\n        console.log('uiexchangeSuccess m_info', this.m_info);\r\n        this.myInfo = _info;\r\n        this.m_info.SetInfo(_info.title, _info.url);\r\n        this.Show();\r\n\r\n    }\r\n\r\n\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_GiftInfo extends fgui.GComponent {\n\n\tpublic m_imageLoader:fgui.GLoader;\n\tpublic m_describText:fgui.GTextField;\n\tpublic static URL:string = \"ui://txopsw7as0olc\";\n\n\tpublic static createInstance():UI_GiftInfo {\n\t\treturn <UI_GiftInfo>(fgui.UIPackage.createObject(\"gift\", \"GiftInfo\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_imageLoader = <fgui.GLoader>(this.getChildAt(0));\n\t\tthis.m_describText = <fgui.GTextField>(this.getChildAt(1));\n\t}\n}", "\r\nimport UI_GiftInfo from './gift/UI_GiftInfo';\r\nimport { ModuleTool } from './../ModuleTool';\r\n\r\n\r\nexport default class uiGiftInfo extends UI_GiftInfo {\r\n\r\n    SetInfo(_title: string, _url: string) {\r\n        // this.element.describText.text = _title;\r\n        this.m_describText.text = ModuleTool.getCutString(_title, 18);\r\n        this.m_imageLoader.url = _url;\r\n        // this.Show();\r\n        this.visible = true;\r\n    }\r\n\r\n\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_GiftInfo from \"./UI_GiftInfo\";\nimport UI_scoreExchangeBtn from \"./UI_scoreExchangeBtn\";\n\nexport default class UI_GiftItem extends fgui.GComponent {\n\n\tpublic m_leftNText:fgui.GTextField;\n\tpublic m_info:UI_GiftInfo;\n\tpublic m_exchangeBtn:UI_scoreExchangeBtn;\n\tpublic m_exchangeHint1:fgui.GComponent;\n\tpublic m_exchangeHint2:fgui.GComponent;\n\tpublic static URL:string = \"ui://txopsw7as0old\";\n\n\tpublic static createInstance():UI_GiftItem {\n\t\treturn <UI_GiftItem>(fgui.UIPackage.createObject(\"gift\", \"GiftItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_leftNText = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_info = <UI_GiftInfo>(this.getChildAt(3));\n\t\tthis.m_exchangeBtn = <UI_scoreExchangeBtn>(this.getChildAt(4));\n\t\tthis.m_exchangeHint1 = <fgui.GComponent>(this.getChildAt(5));\n\t\tthis.m_exchangeHint2 = <fgui.GComponent>(this.getChildAt(6));\n\t}\n}", "\r\n\r\nimport uiAlert from '../GeneralInterface/uiAlert';\r\nimport { ModuleGlobal } from '../ModuleGlobal';\r\nimport { ModuleAudio } from '../ModuleTool';\r\nimport UI_GiftItem from './gift/UI_GiftItem';\r\nimport uiGiftInfo from './uiGiftInfo';\r\n\r\nexport interface GiftItemInfo {\r\n    // exchangeConfig: any,//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n    price: number,//\u5151\u6362\u4EF7\u683C\r\n    // total: number,//B\u7AEF\u6700\u65E9\u914D\u7F6E\u7684\u5E93\u5B58\u6570\r\n    leftN: number,//\u5269\u4F59\u5E93\u5B58\u6570\r\n    // name: \"goods\" | \"coupon\",//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n    // type: number,//\u5956\u54C1\u7EA7\u522B\uFF08\u552F\u4E00\uFF09\uFF08\u5BF9\u5E941\uFF0C2\uFF0C3\u7B49\u5956\u3002\u3002\u3002\uFF09\r\n    pic_url: string,//\u5546\u54C1url\u94FE\u63A5\r\n    title: string,//\u5546\u54C1\u540D\u5B57\r\n    num_iid: string,//\u5546\u54C1id\r\n    getN: number,//\u5DF2\u83B7\u5F97\u6570\u91CF\r\n    limitN: number,//\u53EF\u5151\u6362\u9650\u5236\u6570\u91CF\r\n}\r\n\r\nexport default class uiGiftItem extends UI_GiftItem {\r\n\r\n    myInfo: GiftItemInfo = null as any;\r\n\r\n\r\n    m_info: uiGiftInfo;\r\n\r\n    //\u7EC4\u4EF6\u58F0\u660E\u5468\u671F\u5F00\u59CB\r\n    onConstruct() {\r\n        super.onConstruct();\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n    }\r\n    //\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u7ED3\u675F\r\n    removeFromParent() {\r\n        this.onEnd();\r\n        super.removeFromParent();\r\n    }\r\n\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    SetInfo(_info: GiftItemInfo) {\r\n        this.myInfo = _info;\r\n        this.ChangeLeft(0, _info.leftN);\r\n        this.visible = true;\r\n        this.m_info.SetInfo(_info.title, _info.pic_url);\r\n        this.m_exchangeBtn.title = '' + _info.price;\r\n        // this.m_needScoreNText.text = '' + _info.price;\r\n        Laya.stage.on('GiftItemsubLeft' + _info.num_iid, this, () => {\r\n            this.ChangeLeft(-1);\r\n        })\r\n\r\n    }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.m_exchangeBtn.onClick(this, () => {\r\n            ModuleAudio.PlayComonBtnAudio();\r\n            console.log('exchangeBtn');\r\n            if(uiAlert.AutoShowActivityState()){\r\n                return;\r\n            }\r\n            // if(ModuleGlobal.ActivityState =='off'){\r\n            //     uiAlert.Show({content:\"\u6D3B\u52A8\u5DF2\u4E0B\u7EBF,\u4E0B\u6B21\u518D\u6765\u5427~\"});\r\n            //     return;\r\n            // }\r\n            let _itemData = {\r\n                id: this.myInfo.num_iid,\r\n                // type: this.myInfo.type,\r\n                title: this.myInfo.title,\r\n                url: this.myInfo.pic_url,\r\n                price: this.myInfo.price,\r\n            };\r\n\r\n            Laya.stage.event('exchangePopup', _itemData)\r\n        })\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    //\u4FEE\u6539\u5269\u4F59\u6570\u91CF\r\n    ChangeLeft(_add: number, _set?: number) {\r\n        if (!this.myInfo) {\r\n            console.error('\u672A\u521D\u59CB\u5316\u6570\u636E\u4FE1\u606F-myInfo');\r\n            return;\r\n        }\r\n\r\n        if (_set != undefined) {\r\n            this.myInfo.leftN = _set;\r\n        }\r\n        else {\r\n            this.myInfo.leftN += _add;\r\n            this.myInfo.getN -= _add;\r\n        }\r\n        this.m_leftNText.setVar('count', '' + this.myInfo.leftN).flushVars();\r\n        // this.m_leftNText.text = '' + this.myInfo.leftN;\r\n        let _haveLeft = this.myInfo.leftN > 0;\r\n        let _canget = this.myInfo.limitN <= 0 || this.myInfo.getN < this.myInfo.limitN;\r\n        this.m_exchangeHint2.visible = !_haveLeft;\r\n        this.m_exchangeHint1.visible = _haveLeft && !_canget;\r\n        this.m_exchangeBtn.enabled = _haveLeft && _canget;\r\n\r\n    }\r\n\r\n\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_MyGiftButton from \"./UI_MyGiftButton\";\nimport UI_exchangeConfirm from \"./UI_exchangeConfirm\";\nimport UI_exchangeSuccess from \"./UI_exchangeSuccess\";\nimport UI_exchangeFail from \"./UI_exchangeFail\";\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_bg:fgui.GGraph;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_updateTimeTitle:fgui.GTextField;\n\tpublic m_updateTime:fgui.GTextField;\n\tpublic m_giftList:fgui.GTree;\n\tpublic m_btnMyGift:UI_MyGiftButton;\n\tpublic m_exchangeConfirm:UI_exchangeConfirm;\n\tpublic m_exchangeSuccess:UI_exchangeSuccess;\n\tpublic m_exchangeFail:UI_exchangeFail;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://txopsw7as0olb\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"gift\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_bg = <fgui.GGraph>(this.getChildAt(0));\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(1));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(2));\n\t\tthis.m_updateTimeTitle = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_updateTime = <fgui.GTextField>(this.getChildAt(4));\n\t\tthis.m_giftList = <fgui.GTree>(this.getChildAt(5));\n\t\tthis.m_btnMyGift = <UI_MyGiftButton>(this.getChildAt(6));\n\t\tthis.m_exchangeConfirm = <UI_exchangeConfirm>(this.getChildAt(7));\n\t\tthis.m_exchangeSuccess = <UI_exchangeSuccess>(this.getChildAt(8));\n\t\tthis.m_exchangeFail = <UI_exchangeFail>(this.getChildAt(9));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "\r\nimport { FailType } from \"./uiexchangeFail\";\r\nimport GiftItem from './uiGiftItem';\r\nimport UI_Main from './gift/UI_Main';\r\nimport ModuleWindow from \"../ModuleWindow\";\r\nimport uiexchangeConfirm from \"./uiexchangeConfirm\";\r\nimport uiexchangeFail from \"./uiexchangeFail\";\r\nimport uiexchangeSuccess, { ExchangeSuccessInfo } from \"./uiexchangeSuccess\";\r\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\r\nimport ModulePackage from './../ModulePackage';\r\nimport { ModuleSkins } from \"../ModuleSkins\";\r\n\r\n\r\nexport default class uiGiftMain extends UI_Main {\r\n\r\n\r\n    private _winHandler: ModuleWindow;\r\n\r\n\r\n    m_exchangeConfirm: uiexchangeConfirm; //\u786E\u8BA4\u5151\u6362\r\n    m_exchangeSuccess: uiexchangeSuccess; //\u5151\u6362\u6210\u529F\r\n    m_exchangeFail: uiexchangeFail; //\u5151\u6362\u5931\u8D25\r\n\r\n    m_bubbleBG: fgui.GImage;\r\n    m_bagNText: fgui.GTextField;\r\n\r\n    private refreshTime = 0;\r\n\r\n\r\n    protected onConstruct(): void {\r\n\r\n        super.onConstruct();\r\n\r\n        console.log('onConstructonConstruct');\r\n\r\n\r\n        this.onStart();\r\n    }\r\n    /**\r\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\r\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\r\n     */\r\n    makeFullScreen(): void {\r\n\r\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\r\n        //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\r\n        let _anchorX = 0;\r\n        let _anchorY = 0;\r\n        if (this.pivotAsAnchor) {\r\n            _anchorX = this.pivotX;\r\n            _anchorY = this.pivotY;\r\n        }\r\n        this.setXY(_anchorX * this.width, _anchorY * this.height);\r\n\r\n\r\n        //\u521D\u59CB\u5316\r\n        this._winHandler = this.data as ModuleWindow;\r\n\r\n        this.data = null;\r\n\r\n        if (this._winHandler != null) {\r\n            // this.onStart();\r\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\r\n            this._winHandler.SetShowCallBack(this, this.onShow);\r\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\r\n            this._winHandler.SetHideCallBack(this, this.onHide);\r\n\r\n            this.SetInfo();\r\n            // this._LoadLastRankData();\r\n        }\r\n    }\r\n\r\n    // private _LoadLastRankData(): void {\r\n\r\n    //     ModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/list\", {\r\n\r\n    //         // actId: 2,\r\n    //         type: \"pre\",\r\n    //         // userOpenId: \"9872\"\r\n\r\n    //     }, \"post\", this, (data) => {\r\n\r\n    //         Laya.timer.clear(this._winHandler, this._winHandler.showModalWait);\r\n\r\n    //         this._winHandler.closeModalWait();\r\n\r\n    //         this._lastRankData = data;\r\n\r\n    //         this.OnShow();\r\n    //     });\r\n\r\n    //     Laya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\r\n    // }\r\n\r\n\r\n\r\n    onStart() {\r\n        console.log('onStartonStart');\r\n        this.changeSkin();\r\n        this.m_bubbleBG = this.m_btnMyGift.getChild('bubbleBG').asImage;\r\n        this.m_bagNText = this.m_btnMyGift.getChild('bagNText').asTextField;\r\n        \r\n        this.clickBtn();\r\n        this.listenText();\r\n        Laya.stage.on('exchangePopup', this, this.ShowExchangePopup);\r\n        Laya.stage.on('exchangeSuccess', this, this.ShowExchangeSuccess);\r\n        Laya.stage.on('exchangeFail', this, this.ShowExchangeFail);\r\n        Laya.stage.on('gotoBag', this, () => {\r\n            console.log('gotoBag');\r\n\r\n            ModulePackage.Instance.Show('baseBag', 0, 0, this);\r\n            // this.CloseSelf();\r\n            // MyUtils.showLoading();\r\n            // let demo: any = new Bag();\r\n        });\r\n\r\n    }\r\n    changeSkin() {\r\n\t\tModuleSkins.ChangeFguiICON(this.m_btnMyGift, 'myPrize');\r\n\t}\r\n    onShow() {\r\n        // //MainUtil.analysis('clickExchange');\r\n        // this.m_bg.visible = false;\r\n        // ModuleTool.ActionPopIn(this, () => {\r\n        //     this.m_bg.visible = true;\r\n        // });\r\n\r\n\r\n    }\r\n    Show() {\r\n        this.visible = true;\r\n        this.onShow();\r\n    }\r\n    Hide() {\r\n        this.onHide();\r\n        this._winHandler.hide();\r\n    }\r\n    onHide() {\r\n        this.onEnd();\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    SetInfo() {\r\n        this.refreshTime = 0;\r\n        Laya.timer.loop(500, this, this.timeUpdate);\r\n        this.refreshBubbleUI();\r\n        this.RefreshList();\r\n\r\n        Laya.stage.event('refreshBubble');\r\n    }\r\n    // CloseSelf() {\r\n    //     this.m_bg.visible = false;\r\n    //     ModuleTool.ActionPopOut(this, () => {\r\n    //         this.Hide();\r\n    //     })\r\n    // }\r\n    clickBtn() {\r\n        console.log('clickBtnclickBtn');\r\n\r\n        // //\u5F00\u59CB\u6309\u94AE\r\n        // this.m_closeBtn.onClick(this, () => {\r\n\r\n        //     console.log('closeBtn');\r\n        //     this.CloseSelf();\r\n        // })\r\n        //\u6211\u7684\u5956\u54C1\u6309\u94AE\r\n        this.m_btnMyGift.onClick(this, () => {\r\n\r\n            console.log('btnMyGift');\r\n            Laya.stage.event('gotoBag');\r\n            ModuleAudio.PlayComonBtnAudio();\r\n        })\r\n\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    RefreshList() {\r\n        Laya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\r\n        // this._winHandler.showModalWait();\r\n        this.m_giftList.removeChildrenToPool();\r\n        this.GetScoreShopList((_dataList) => {\r\n            // console.error('_dataList', _dataList);\r\n\r\n            Laya.timer.clear(this._winHandler, this._winHandler.showModalWait);\r\n            this._winHandler.closeModalWait();\r\n            this.m_updateTime.visible = _dataList && _dataList.resetConfig.state;\r\n            this.m_updateTimeTitle.visible = this.m_updateTime.visible;\r\n            if (!_dataList) {\r\n                return;\r\n            }\r\n            if (_dataList.resetConfig.state) {\r\n                let _date = new Date();\r\n                let _now = _date.getTime();//\u5F97\u5230\u5F53\u524D\u65F6\u95F4\u6233\r\n                var year = _date.getFullYear(); //\u5F97\u5230\u5E74\u4EFD\r\n                var month = _date.getMonth() + 1;//\u5F97\u5230\u6708\u4EFD\r\n                var date = _date.getDate();//\u5F97\u5230\u65E5\u671F\r\n                let _todayT = `${year}/${(month < 10 ? '0' : '') + month}/${(date < 10 ? '0' : '') + date} ${_dataList.resetConfig.time}`;\r\n                console.log('_todayT', _todayT);\r\n                let _refreshT = new Date(_todayT).getTime();\r\n                if (_refreshT <= _now) {\r\n                    //\u66F4\u65B0\u65F6\u95F4<\u5F53\u524D\u65F6\u95F4\u5219\u65E5\u671F+1\r\n                    _refreshT += 24 * 60 * 60 * 1000;\r\n                }\r\n                this.refreshTime = _refreshT;\r\n                console.log('refreshTime', this.refreshTime);\r\n            }\r\n            this.m_giftList.removeChildrenToPool();\r\n            for (let index = 0; index < _dataList.rewardList.length; index++) {\r\n                let _elemete = this.m_giftList.addItemFromPool() as GiftItem;\r\n                // let _elemete = this.m_giftList.getChildAt(index) as GiftItem;\r\n                // console.error('this.m_giftList',);\r\n                _elemete.SetInfo(_dataList.rewardList[index])\r\n            }\r\n        })\r\n    }\r\n    timeUpdate() {\r\n        if (this.refreshTime > 0) {\r\n            let _dif = this.refreshTime - Date.now();\r\n            // console.log('_dif', _dif);\r\n            if (_dif < 0) {\r\n                this.RefreshList();\r\n                return;\r\n            }\r\n            _dif = (_dif / 1000) | 0;\r\n            //\u83B7\u53D6s,m,h\r\n            let _strs = ['', '', ''];\r\n            for (let index = 0; index < 3; index++) {\r\n                let _s = _dif;\r\n                if (index < 2) {\r\n                    _s = _dif % 60;\r\n                }\r\n                _strs[index] = (_s < 10 ? '0' : '') + _s;\r\n                _dif = (_dif / 60) | 0;\r\n            }\r\n            // console.log('_strs', _strs);\r\n            this.m_updateTime.text = `${_strs[2]}:${_strs[1]}:${_strs[0]}`;\r\n        }\r\n\r\n    }\r\n    ShowExchangePopup(_data: any) {\r\n        // console.error('ShowExchangePopup', _data);\r\n\r\n        this.m_exchangeConfirm.SetInfo(_data, this._winHandler);\r\n    }\r\n    ShowExchangeSuccess(_data: ExchangeSuccessInfo) {\r\n        // console.log('m_exchangeSuccess', this.m_exchangeSuccess);\r\n\r\n        this.m_exchangeSuccess.SetInfo(_data);\r\n        Laya.stage.event('GiftItemsubLeft' + _data.id);\r\n        Laya.stage.event('refreshBubble');\r\n    }\r\n    ShowExchangeFail(_failType: FailType) {\r\n        console.log('ShowExchangeFail', _failType);\r\n\r\n        this.m_exchangeFail.SetInfo(_failType);\r\n    }\r\n\r\n    refreshBubbleUI() {\r\n        let _refresh = (_data) => {\r\n            // console.log('_refresh');\r\n            // this.countDownTask = [];\r\n            // this.taskPointN = 0;\r\n            //\u8FD4\u56DE\u6570\u636E data:{bag_num:1,task_num:2}\r\n            console.log('refreshBubbleUI _data', _data);\r\n            let _bagN = _data.bag_num;\r\n            // this.taskPointN = _data.task_num;\r\n            // let _bagN = _data.bag_num;\r\n            let _havebag = _bagN > 0;\r\n            this.m_bubbleBG.visible = _havebag;\r\n            this.m_bagNText.visible = _havebag;\r\n            if (_havebag) {\r\n                this.m_bagNText.text = '' + _bagN;\r\n            }\r\n        }\r\n        Laya.stage.on('refreshBubbleUI', this, _refresh);\r\n\r\n\r\n    }\r\n\r\n    //--------------------------\u5151\u6362\u5546\u54C1\u63A5\u53E3---------------------//\r\n    //\u83B7\u53D6\u5151\u6362\u5217\u8868\r\n    GetScoreShopList(_callBack: (_dataList: {\r\n        rewardList: [\r\n            {\r\n                // exchangeConfig: any,//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n                price: number,//\u5151\u6362\u4EF7\u683C\r\n                // total: number,//\u603B\u5E93\u5B58\u6570\r\n                leftN: number,//\u5269\u4F59\u5E93\u5B58\u6570\r\n                // name: \"goods\" | \"coupon\",//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n                // type: number,//\u5956\u54C1\u7EA7\u522B\uFF08\u552F\u4E00\uFF09\uFF08\u5BF9\u5E941\uFF0C2\uFF0C3\u7B49\u5956\u3002\u3002\u3002\uFF09\r\n                pic_url: string,//\u5546\u54C1url\u94FE\u63A5\r\n                title: string,//\u5546\u54C1\u540D\u5B57\r\n                num_iid: string,//\u5546\u54C1id\r\n                getN: number,//\u5DF2\u83B7\u5F97\u6570\u91CF\r\n                limitN: number,//\u53EF\u5151\u6362\u9650\u5236\u6570\u91CF\r\n            }\r\n        ], // B\u7AEF\u914D\u7F6E\u7684\u5956\u54C1\u5217\u8868\r\n        resetConfig: {\r\n            state: boolean,//(true: \u8BBE\u7F6E\u5F00\u542F\u91CD\u7F6E\u65F6\u95F4  false: \u672A\u8BBE\u7F6E)\r\n            time: string,//\u6BCF\u65E5\u91CD\u7F6E\u6216\u5237\u65B0\u5E93\u5B58\u7684\u65F6\u95F4\u70B9\r\n        }\r\n    }) => void) {\r\n        //\u6A21\u62DF\u6570\u636E\r\n        let _fakedata = [{\r\n            // prizeId: '111',//\u5546\u54C1id\r\n            Id: '111',//\u5546\u54C1id\r\n            prize: '\u5956\u54C1\u540D',\r\n            price: 1.01,//\u5546\u54C1\u4EF7\u683C\r\n            alreadyExchange: 0,//\u5DF2\u5151\u6362\u6B21\u6570\r\n            number: 10,//\u5269\u4F59\u5E93\u5B58\u6570\u91CF\r\n            integral: 10,//\u5151\u6362\u6240\u9700\u79EF\u5206\r\n            icon: '',//\u5546\u54C1\u56FE\u7247url\r\n            // remarks: '\u5546\u54C1\u63CF\u8FF0\u4FE1\u606F',\r\n            exchangeType: 5,//\u5151\u6362\u6B21\u6570\u9650\u5236\uFF0C-1\u8868\u793A\u4E0D\u9650\u5236\r\n            state: 'normal' as 'finish' | 'normal' | 'outOfStock',//\u5151\u6362\u72B6\u6001 finish\uFF1A\u5DF2\u5151\u6362 normal\uFF1A\u53EF\u5151\u6362 outOfStock\uFF1A\u5E93\u5B58\u4E0D\u8DB3\r\n        },\r\n        {\r\n            // prizeId: '123',//\u5546\u54C1id\r\n            Id: '123',//\u5546\u54C1id\r\n            prize: '\u5956\u54C1\u540D2',\r\n            price: 1.01,//\u5546\u54C1\u4EF7\u683C\r\n            alreadyExchange: 1,//\u5DF2\u5151\u6362\u6B21\u6570\r\n            number: 10,//\u5269\u4F59\u5E93\u5B58\u6570\u91CF\r\n            integral: 10,//\u5151\u6362\u6240\u9700\u79EF\u5206\r\n            icon: '',//\u5546\u54C1\u56FE\u7247url\r\n            // remarks: '\u5546\u54C1\u63CF\u8FF0\u4FE1\u606F2',\r\n            exchangeType: 5,//\u5151\u6362\u6B21\u6570\u9650\u5236\uFF0C-1\u8868\u793A\u4E0D\u9650\u5236\r\n            state: 'normal' as 'finish' | 'normal' | 'outOfStock',//\u5151\u6362\u72B6\u6001 finish\uFF1A\u5DF2\u5151\u6362 normal\uFF1A\u53EF\u5151\u6362 outOfStock\uFF1A\u5E93\u5B58\u4E0D\u8DB3\r\n        }];\r\n\r\n        let _getInfo = (_data: typeof _fakedata) => {\r\n            // console.error('_data', _data);\r\n\r\n            let _dataList = {\r\n                rewardList: [],\r\n                resetConfig: {\r\n                    state: false,//(true: \u8BBE\u7F6E\u5F00\u542F\u91CD\u7F6E\u65F6\u95F4  false: \u672A\u8BBE\u7F6E)\r\n                    time: '0',//\u6BCF\u65E5\u91CD\u7F6E\u6216\u5237\u65B0\u5E93\u5B58\u7684\u65F6\u95F4\u70B9\r\n                }\r\n            }\r\n            for (const reward of _data) {\r\n                let _dd = {\r\n                    // exchangeConfig: any,//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n                    price: this.ChangeToNumber(reward.integral),//\u5151\u6362\u9700\u8981\u79EF\u5206\r\n                    // total: number,//\u603B\u5E93\u5B58\u6570\r\n                    leftN: this.ChangeToNumber(reward.number),//\u5269\u4F59\u5E93\u5B58\u6570\r\n                    // name: \"goods\" | \"coupon\",//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n                    // type: this.ChangeToNumber(reward.price),//\u5956\u54C1\u7EA7\u522B\r\n                    pic_url: '' + reward.icon,//\u5546\u54C1url\u94FE\u63A5\r\n                    title: '' + reward.prize,//\u5546\u54C1\u540D\u5B57\r\n                    num_iid: '' + reward.Id,//\u5546\u54C1id\r\n                    getN: this.ChangeToNumber(reward.alreadyExchange),//\u5DF2\u83B7\u5F97\u6570\u91CF\r\n                    limitN: this.ChangeToNumber(reward.exchangeType),//\u53EF\u5151\u6362\u9650\u5236\u6570\u91CF\r\n                }\r\n                // if(){\r\n\r\n                // }\r\n                _dataList.rewardList.push(_dd);\r\n            }\r\n            console.log('_getInfo _dataList', _dataList);\r\n            _callBack(_dataList as any);\r\n        }\r\n        if (ModulePackage.Instance.CanUseNetAPI()) {\r\n\r\n            //\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\r\n            ModulePackage.Instance.SendNetMessage(\"\", \"/C/integral/integralList\", { pageNumber: 1, pageSize: 999 }, \"post\", this,\r\n                (data) => {\r\n\r\n                    console.log(\"integralList\", data);\r\n                    if (data.code != 0) {\r\n                        return;\r\n                    }\r\n                    //\u68C0\u6D4B\u6570\u636E\u662F\u5426\u543B\u5408\r\n                    ModuleTool.DetectType('integralList', data.data.pageData, _fakedata);\r\n\r\n                    //\u83B7\u5F97\u6570\u636E\r\n                    _getInfo(data.data.pageData);\r\n\r\n                });\r\n\r\n        }\r\n        // if (Laya.Browser.onTBMiniGame) {\r\n        //     // console.error('\u3010GetScoreShopList\u3011\u6DD8\u5B9D\u6570\u636E\u63A5\u53E3\u672A\u63A5\u5165');\r\n\r\n\r\n        //     // let reqData = {\r\n        //     //     activeId: TB._activeId,\r\n        //     // }\r\n        //     // let info = { \"id\": Global.MSG_GET_SCORESHOP_LIST, \"data\": reqData };\r\n        //     // TB.sendMsg(info, (buf) => {\r\n        //     //     if (buf.code == 0) {\r\n        //     //         console.log('\u83B7\u53D6\u5151\u6362\u5217\u8868\u6210\u529F', buf.data)\r\n        //     //         _getInfo(buf.data);\r\n\r\n        //     //     } else {\r\n        //     //         console.error('\u83B7\u53D6\u5151\u6362\u5217\u8868\u5931\u8D25', buf.message)\r\n        //     //         _callBack(null);\r\n        //     //     }\r\n        //     // });\r\n        // }\r\n        else {\r\n\r\n            _getInfo(_fakedata)\r\n\r\n        }\r\n    }\r\n    ChangeToNumber(_v: any) {\r\n        if (typeof _v == 'number') {\r\n            return _v;\r\n        } else if (typeof _v == 'string') {\r\n            return Number(_v);\r\n        }\r\n        console.error('ChangeToNumber\u9519\u8BEF\u7C7B\u578B\uFF1A', _v);\r\n        return 0;\r\n    }\r\n\r\n\r\n\r\n}", "import UI_MyGiftButton from \"./gift/UI_MyGiftButton\";\nimport UI_scoreExchangeBtn from \"./gift/UI_scoreExchangeBtn\";\nimport uiexchangeConfirm from \"./uiexchangeConfirm\";\nimport uiexchangeFail from \"./uiexchangeFail\";\nimport uiexchangeSuccess from \"./uiexchangeSuccess\";\nimport uiGiftInfo from \"./uiGiftInfo\";\nimport uiGiftItem from \"./uiGiftItem\";\nimport uiGiftMain from \"./uiGiftMain\";\n\n\n\nexport default class giftBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiexchangeConfirm.URL, uiexchangeConfirm);\n\t\tfgui.UIObjectFactory.setExtension(uiexchangeFail.URL, uiexchangeFail);\n\t\tfgui.UIObjectFactory.setExtension(uiexchangeSuccess.URL, uiexchangeSuccess);\n\t\tfgui.UIObjectFactory.setExtension(uiGiftMain.URL, uiGiftMain);\n\t\tfgui.UIObjectFactory.setExtension(uiGiftInfo.URL, uiGiftInfo);\n\t\tfgui.UIObjectFactory.setExtension(uiGiftItem.URL, uiGiftItem);\n\t\tfgui.UIObjectFactory.setExtension(UI_MyGiftButton.URL, UI_MyGiftButton);\n\t\tfgui.UIObjectFactory.setExtension(UI_scoreExchangeBtn.URL, UI_scoreExchangeBtn);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_ActivityAward extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_list:fgui.GList;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://onlm4vwpsbnb11\";\n\n\tpublic static createInstance():UI_ActivityAward {\n\t\treturn <UI_ActivityAward>(fgui.UIPackage.createObject(\"activity\", \"ActivityAward\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_list = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "import UI_ActivityAward from \"./activity/UI_ActivityAward\";\r\nimport ModuleWindow from \"../ModuleWindow\";\r\nimport { ModuleAudio } from \"../ModuleTool\";\r\n\r\n\r\n\r\n\r\nexport default class uiActivityAward extends UI_ActivityAward {\r\n\r\n    // //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    // element = {\r\n    //     bg: null as fgui.GImage,\r\n    //     closeBtn: null as fgui.GButton,\r\n    //     list: null as fgui.GList,\r\n    // }\r\n\r\n\r\n    private _winHandler: ModuleWindow;\r\n    protected onConstruct(): void {\r\n\r\n        super.onConstruct();\r\n\r\n\r\n    }\r\n    /**\r\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\r\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\r\n     */\r\n    makeFullScreen(): void {\r\n\r\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\r\n\r\n        // //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\r\n        // let _anchorX = 0;\r\n        // let _anchorY = 0;\r\n        // if (this.pivotAsAnchor) {\r\n        //     _anchorX = this.pivotX;\r\n        //     _anchorY = this.pivotY;\r\n        // }\r\n        // this.setXY(_anchorX * this.width, _anchorY * this.height);\r\n\r\n\r\n\r\n        // console.log('wh', this.width, this.height);\r\n        // console.log('xy', this.x, this.y);\r\n\r\n\r\n        //\u521D\u59CB\u5316\r\n        this._winHandler = this.data as ModuleWindow;\r\n\r\n        this.data = null;\r\n\r\n        if (this._winHandler != null) {\r\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\r\n            // this._winHandler.SetShowCallBack(this, this.OnShow);\r\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\r\n            this._winHandler.SetHideCallBack(this, this.onHide);\r\n            this.onStart();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onStart() {\r\n        this.visible = true;\r\n        this.clickBtn();\r\n        this.listenText();\r\n        this.onShow();\r\n        \r\n\r\n    }\r\n    onShow() {\r\n        // for (let index = 0; index < 3; index++) {\r\n        //     // this.m_giftList.addItem();\r\n        //     console.error('giftList');\r\n        //     this.m_giftList.addChild(new GiftItem());\r\n\r\n        // }\r\n        // this.m_bg.visible = false;\r\n        // ModuleTool.ActionPopIn(this, () => {\r\n        //     this.m_bg.visible = true;\r\n        // })\r\n        this.RefreshList();\r\n    }\r\n    onHide() {\r\n        // _callBacK && _callBacK();\r\n        this.onEnd();\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    // Hide() {\r\n    //     this.onHide();\r\n    //     this._winHandler.hide();\r\n    // }\r\n    clickBtn() {\r\n        // //\u5F00\u59CB\u6309\u94AE\r\n        // this.m_closeBtn.onClick(this, () => {\r\n        //     console.log('closeBtn');\r\n        //     this.Close();\r\n        // })\r\n\r\n    }\r\n\r\n    // Close(_callBacK?: Function) {\r\n    //     if (!this.visible) {\r\n    //         return;\r\n    //     }\r\n    //     this.Hide();\r\n    //     _callBacK && _callBacK();\r\n    // }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    RefreshList() {\r\n\r\n        this.m_list.removeChildrenToPool();\r\n        // let delay = 150;\r\n        // this._winHandler.showModalWait();\r\n        console.error('[uiActivityAward] \u672A\u52A0\u8F7D\u6570\u636E');\r\n\r\n        // ServerAPI.Cloud.Connect('GetRankAllReward', {\r\n        //     callBack: async (succcess: boolean, _getData) => {\r\n        //         this._winHandler.closeModalWait();\r\n        //         if (succcess) {\r\n        //             for (var i: number = 0; i < _getData.length; i++) {\r\n        //                 let _curD = _getData[i];\r\n        //                 let item: ActivityAwardItem = <ActivityAwardItem>this.m_list.addItemFromPool();\r\n        //                 // console.error('item', item);\r\n\r\n        //                 item.SetInfo(_curD as any);\r\n        //                 item.Show();\r\n        //                 // item.RunMoveinAction(delay * 2);\r\n        //                 // await TimeUtil.wait(delay);\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // })\r\n\r\n        console.error('this._winHandler', this._winHandler);\r\n\r\n        Laya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\r\n    }\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_ActivityAwardItem extends fgui.GComponent {\n\n\tpublic m_rankText:fgui.GTextField;\n\tpublic m_imageLoader:fgui.GLoader;\n\tpublic m_infoText:fgui.GTextField;\n\tpublic m_priceText:fgui.GTextField;\n\tpublic static URL:string = \"ui://onlm4vwpsbnb13\";\n\n\tpublic static createInstance():UI_ActivityAwardItem {\n\t\treturn <UI_ActivityAwardItem>(fgui.UIPackage.createObject(\"activity\", \"ActivityAwardItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_rankText = <fgui.GTextField>(this.getChildAt(1));\n\t\tthis.m_imageLoader = <fgui.GLoader>(this.getChildAt(2));\n\t\tthis.m_infoText = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_priceText = <fgui.GTextField>(this.getChildAt(4));\n\t}\n}", "\r\nimport UI_ActivityAwardItem from './activity/UI_ActivityAwardItem';\r\n\r\n\r\nexport interface ActivityAwardItemInfo {\r\n    price: number,//\u4EF7\u683C\r\n    rankNums: number[],//\u6392\u540D\u8303\u56F4\r\n    pic_url: string,\r\n    title: string\r\n    // delay: number//\u5EF6\u8FDF\u663E\u793A\u65F6\u95F4\r\n}\r\n\r\nexport default class uiActivityAwardItem extends UI_ActivityAwardItem {\r\n\r\n    myInfo: ActivityAwardItemInfo = null as any;\r\n\r\n    onStart() {\r\n        this.clickBtn();\r\n        this.listenText();\r\n    }\r\n\r\n    onShow() {\r\n        this.onStart();\r\n    }\r\n    onHide() {\r\n        this.onEnd();\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    Show() {\r\n        this.visible = true;\r\n        this.onShow();\r\n    }\r\n    Hide() {\r\n        this.visible = false;\r\n        this.onHide();\r\n    }\r\n    SetInfo(_info: ActivityAwardItemInfo) {\r\n        this.myInfo = _info;\r\n        //\u540D\u6B21\r\n        let _rankt = '';\r\n        if (_info.rankNums.length > 0) {\r\n            if (_info.rankNums.length == 2) {\r\n\r\n                _rankt = `${_info.rankNums[0]}-${_info.rankNums[1]}`;\r\n\r\n            }\r\n            else {\r\n                _rankt = '' + _info.rankNums[0];\r\n            }\r\n        }\r\n\r\n        this.m_rankText.setVar('count', _rankt).flushVars();\r\n        //\u4FE1\u606F\r\n        if (_info.title) {\r\n            this.m_infoText.text = _info.title;\r\n        }\r\n        // console.error('_info.price', _info.price);\r\n\r\n        //\u4EF7\u683C\r\n        if (typeof _info.price == 'number') {\r\n            this.m_priceText.text = `\u4EF7\u503C\uFF1A${_info.price}\u5143`;\r\n        }\r\n        else {\r\n            this.m_priceText.text = '' + _info.price;\r\n        }\r\n\r\n\r\n\r\n        //\u56FE\u7247\r\n        if (!_info.pic_url || _info.pic_url == '' || _info.pic_url.indexOf('http') < 0) {\r\n            this.m_imageLoader.url = 'ui://vzezwp8fpraz11';\r\n        }\r\n        else {\r\n            this.m_imageLoader.url = '' + _info.pic_url;\r\n        }\r\n\r\n        // this.Show();\r\n\r\n    }\r\n    RunMoveinAction(_t: number) {\r\n        this.x = this.width;\r\n        this.Show();\r\n        Laya.Tween.to(this, { x: 0 }, _t);\r\n    }\r\n    clickBtn() {\r\n        // //\u5F00\u59CB\u6309\u94AE\r\n        // this.m_exchangeBtn.onClick(this, () => {\r\n        //     HHAudio.PlayEffect('btn');\r\n        // })\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n\r\n\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_ActivityEndPopup extends fgui.GComponent {\n\n\tpublic m_infoCtr:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_goStoreBtn:fgui.GButton;\n\tpublic m_noAward:fgui.GGroup;\n\tpublic m_awardRank:fgui.GTextField;\n\tpublic m_awardInfo:fgui.GTextField;\n\tpublic m_goAwardBtn:fgui.GButton;\n\tpublic m_haveAward:fgui.GGroup;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://onlm4vwpsbnb10\";\n\n\tpublic static createInstance():UI_ActivityEndPopup {\n\t\treturn <UI_ActivityEndPopup>(fgui.UIPackage.createObject(\"activity\", \"ActivityEndPopup\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_infoCtr = this.getControllerAt(0);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_goStoreBtn = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_noAward = <fgui.GGroup>(this.getChildAt(5));\n\t\tthis.m_awardRank = <fgui.GTextField>(this.getChildAt(11));\n\t\tthis.m_awardInfo = <fgui.GTextField>(this.getChildAt(13));\n\t\tthis.m_goAwardBtn = <fgui.GButton>(this.getChildAt(14));\n\t\tthis.m_haveAward = <fgui.GGroup>(this.getChildAt(15));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "import { ModuleGlobal } from './../ModuleGlobal';\r\n\r\nimport UI_ActivityEndPopup from './activity/UI_ActivityEndPopup';\r\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\r\nimport ModuleWindow from '../ModuleWindow';\r\nimport ModulePackage from '../ModulePackage';\r\nimport { ModulePlatformAPI } from './../ModulePlatformAPI';\r\n\r\n\r\nexport interface ActivityEndPopupInfo {\r\n    haveAward: number,//0\u6709\u5956\u54C1\uFF0C1\u672A\u83B7\u5F97\u5956\u52B1\uFF0C2\u4EBA\u6570\u4E0D\u8DB3\r\n    awardData?: {\r\n        curRank: number,//\u5F53\u524D\u6392\u540D\r\n        // rewardType: number,//\u5956\u54C1\u7EA7\u522B\r\n        title: string, //\u5956\u54C1\u540D\u79F0\r\n        // pic_url: string,\r\n        // price: number,\r\n    }\r\n    // delay: number//\u5EF6\u8FDF\u663E\u793A\u65F6\u95F4\r\n}\r\nexport default class uiActivityEndPopup extends UI_ActivityEndPopup {\r\n\r\n\r\n    // //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    // element = {\r\n    //     bg: null as fgui.GImage,\r\n    //     closeBtn: null as fgui.GButton,\r\n    //     goStoreBtn: null as fgui.GButton,//\u8FDB\u5165\u5E97\u94FA\r\n    //     goAwardBtn: null as fgui.GButton,//\u8FDB\u5165\u5956\u54C1\u5305\r\n    //     awardRank: null as fgui.GTextField,\r\n    //     awardInfo: null as fgui.GTextField,\r\n    //     // title: null as fgui.GTextField,\r\n    // }\r\n\r\n    // private refreshTime = 0;\r\n    // private ctrl: fgui.Controller = null as any;\r\n    myinfo: ActivityEndPopupInfo = null as any;\r\n\r\n    private _winHandler: ModuleWindow;\r\n\r\n    private static closeCallback?: Function;\r\n\r\n    static AutoShowActivityEnd(_showResultCallback?: (_show: boolean) => void, _closeCallback?: () => void) {\r\n\r\n        // let _endShowed = false;\r\n        // // const showkey = 'ActivityEndShowed_' + ModulePackage.SERVER_NAME;\r\n        // // _endShowed = ModuleTool.GetLocalItem(showkey); \u672C\u5730\u4E0D\u518D\u8FDB\u884C\u5224\u65AD\r\n        // if (_endShowed) {\r\n        //     _showResultCallback && _showResultCallback(false);\r\n        //     return;\r\n        // }\r\n        if (!ModulePackage.Instance.CanUseNetAPI()) {\r\n            _showResultCallback && _showResultCallback(true);\r\n            ModulePackage.Instance.PopWindow(\"activity\", \"ActivityEndPopup\", {\r\n                px: 0, py: 0, winParamData: {\r\n                    haveAward: 0,\r\n                    awardData: {\r\n                        curRank: 0,//\u5F53\u524D\u6392\u540D\r\n                        title: '\u5956\u54C1\u540D', //\u5956\u54C1\u540D\r\n                    },\r\n                }\r\n            });\r\n            return;\r\n        }\r\n        // let _showActivity = false;\r\n        //\u903B\u8F91\u5224\u65AD\u662F\u5426\u83B7\u5F97\u4F18\u60E0\u5238\r\n        ModulePackage.Instance.SendNetMessage(\"\", \"/C/rank/lastResult\", {\r\n            uid: ModuleGlobal.uid\r\n        }, \"post\", this, (data) => {\r\n\r\n            console.log('/C/rank/lastResult', data);\r\n            let _show = data.code == 0 || data.code == 7007 || data.code == 7008;\r\n            _showResultCallback && _showResultCallback(_show);\r\n            if (_show) {\r\n                this.closeCallback = _closeCallback;\r\n                let _haveAward = 2;\r\n                let _awardData = null as any;\r\n                if (data.code == 0) {\r\n                    _haveAward = 0;\r\n                    if (data.data) {\r\n                        _awardData = {\r\n                            curRank: data.data.rankNo,//\u5F53\u524D\u6392\u540D\r\n                            title: data.data.prizeName, //\u5956\u54C1\u540D\r\n                        }\r\n                    }\r\n\r\n                }\r\n                else if (data.code == 7008) {//\u672A\u83B7\u5956\r\n                    _haveAward = 1;\r\n\r\n                }\r\n                else if (data.code == 7007) {//\u4EBA\u6570\u4E0D\u8DB3\r\n                    _haveAward = 2;\r\n\r\n                }\r\n                ModulePackage.Instance.PopWindow(\"activity\", \"ActivityEndPopup\", {\r\n                    px: 0, py: 0, winParamData: {\r\n                        haveAward: _haveAward,\r\n                        awardData: _awardData,\r\n                    }\r\n                });\r\n                // ModuleTool.SetLocalItem(showkey, true);\r\n                // ModulePackage.Instance.PopWindow(\"autotriggerAward\", \"AutotriggerAward\", 0, 0, {\r\n                // \ttitle: '\u8D85\u7EA7\u4F18\u60E0\u5238',\r\n                // \tprice: 199.99,\r\n                // \tlinkId: 0\r\n                // });\r\n            }\r\n\r\n\r\n        });\r\n\r\n    }\r\n\r\n    protected onConstruct(): void {\r\n\r\n        super.onConstruct();\r\n        this.clickBtn();\r\n\r\n    }\r\n    /**\r\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\r\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\r\n     */\r\n    makeFullScreen(): void {\r\n\r\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\r\n\r\n        // //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\r\n        // let _anchorX = 0;\r\n        // let _anchorY = 0;\r\n        // if (this.pivotAsAnchor) {\r\n        //     _anchorX = this.pivotX;\r\n        //     _anchorY = this.pivotY;\r\n        // }\r\n        // this.setXY(_anchorX * this.width, _anchorY * this.height);\r\n\r\n\r\n\r\n        // console.log('wh', this.width, this.height);\r\n        // console.log('xy', this.x, this.y);\r\n\r\n\r\n        //\u521D\u59CB\u5316\r\n        this._winHandler = this.data as ModuleWindow;\r\n\r\n        this.data = null;\r\n\r\n        if (this._winHandler != null) {\r\n\r\n            this._winHandler.SetHideCallBack(this, this.onHide);\r\n            this.onStart();\r\n            this.SetInfo(this._winHandler.GetParamData());\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    onStart() {\r\n\r\n\r\n        this.listenText();\r\n        this.onShow();\r\n\r\n    }\r\n    onShow() {\r\n        // for (let index = 0; index < 3; index++) {\r\n        //     // this.m_giftList.addItem();\r\n        //     console.error('giftList');\r\n        //     this.m_giftList.addChild(new GiftItem());\r\n\r\n        // }\r\n        // this.m_bg.visible = false;\r\n        // ModuleTool.ActionPopIn(this, () => {\r\n        //     this.m_bg.visible = true;\r\n        // })\r\n    }\r\n    onHide() {\r\n        Laya.stage.event('refreshBubble');\r\n        this.onEnd();\r\n        uiActivityEndPopup.closeCallback && uiActivityEndPopup.closeCallback();\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    Hide() {\r\n        this.onHide();\r\n        // this._winHandler.hide();\r\n    }\r\n    clickBtn() {\r\n        // //\u5F00\u59CB\u6309\u94AE\r\n        // this.m_closeBtn.onClick(this, () => {\r\n        //     console.log('closeBtn');\r\n        //     this.Close();\r\n        // })\r\n        this.m_goAwardBtn.onClick(this, () => {\r\n            console.log('goAwardBtn');\r\n            // console.error('\u6A21\u5757\u95F4\u8DF3\u8F6C\u672A\u5B8C\u6210');\r\n            ModulePackage.Instance.Show('baseBag', 0, 0, this);\r\n\r\n            ModuleAudio.PlayComonBtnAudio();\r\n            // MyUtils.showLoading();\r\n            // let demo: any = new Bag();\r\n        })\r\n        let _go = false;\r\n        this.m_goStoreBtn.onClick(this, () => {\r\n            if (_go) {\r\n                return;\r\n            }\r\n            ModuleAudio.PlayComonBtnAudio();\r\n            console.log('goStoreBtn');\r\n            ModulePlatformAPI.NavigateToTaobaoPage(() => {\r\n                _go = false;\r\n            })\r\n            // console.error('goStoreBtn \u672A\u6DFB\u52A0\u8DF3\u8F6C');\r\n            // ModulePackage.Instance.NavigateToTaobaoPage(TB._storeId, () => {\r\n            //     _go = false;\r\n            // }, () => {\r\n            //     _go = false;\r\n            // });\r\n        })\r\n\r\n    }\r\n\r\n    Close(_callBacK?: Function) {\r\n        // if (!this.visible) {\r\n        //     return;\r\n        // }\r\n        // this.m_bg.visible = false;\r\n        // ModuleTool.ActionPopOut(this, () => {\r\n        //     this.Hide();\r\n        //     _callBacK && _callBacK();\r\n\r\n        // })\r\n    }\r\n    listenText() {\r\n        // this.m_updateTime.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    SetInfo(_info: ActivityEndPopupInfo) {\r\n        this.myinfo = _info;\r\n        // console.error('main',this.main);\r\n\r\n        // this.ctrl = this.getController('infoCtr');\r\n        this.m_infoCtr.selectedIndex = _info.haveAward;\r\n        if (_info.haveAward == 0 && _info.awardData) {\r\n            this.m_awardRank.setVar('count', '' + _info.awardData.curRank).flushVars();\r\n            this.m_awardInfo.text = _info.awardData.title;\r\n        }\r\n    }\r\n\r\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_showAwardBtn:fgui.GButton;\n\tpublic m_showOverBtn:fgui.GButton;\n\tpublic m_closeBtn:fgui.GButton;\n\tpublic static URL:string = \"ui://onlm4vwpiyoco2u\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"activity\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_showAwardBtn = <fgui.GButton>(this.getChildAt(0));\n\t\tthis.m_showOverBtn = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_closeBtn = <fgui.GButton>(this.getChildAt(2));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport ModulePackage from \"../ModulePackage\";\nimport ModuleWindow from \"../ModuleWindow\";\nimport UI_Main from './activity/UI_Main';\n\n\n\nexport default class uiActivityMain extends UI_Main {\n\n\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t// //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\n\t\t// let _anchorX = 0;\n\t\t// let _anchorY = 0;\n\t\t// if (this.pivotAsAnchor) {\n\t\t// \t_anchorX = this.pivotX;\n\t\t// \t_anchorY = this.pivotY;\n\t\t// }\n\t\t// this.setXY(_anchorX * this.width, _anchorY * this.height);\n\n\n\n\t\t// console.log('wh', this.width, this.height);\n\t\t// console.log('xy', this.x, this.y);\n\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\tthis.m_closeBtn.onClick(this, () => {\n\t\t\t\tthis._winHandler.hide();\n\t\t\t})\n\t\t\tthis.m_showAwardBtn.onClick(this, () => {\n\t\t\t\tModulePackage.Instance.PopWindow(\"activity\", \"ActivityAward\");\n\t\t\t})\n\t\t\tthis.m_showOverBtn.onClick(this, () => {\n\t\t\t\tModulePackage.Instance.PopWindow(\"activity\", \"ActivityEndPopup\");\n\t\t\t})\n\n\t\t}\n\n\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport uiActivityAward from './uiActivityAward';\nimport uiActivityAwardItem from './uiActivityAwardItem';\nimport uiActivityEndPopup from './uiActivityEndPopup';\nimport uiActivityMain from './uiActivityMain';\n\n\n\nexport default class activityBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiActivityMain.URL, uiActivityMain);\n\t\tfgui.UIObjectFactory.setExtension(uiActivityEndPopup.URL, uiActivityEndPopup);\n\t\tfgui.UIObjectFactory.setExtension(uiActivityAward.URL, uiActivityAward);\n\t\tfgui.UIObjectFactory.setExtension(uiActivityAwardItem.URL, uiActivityAwardItem);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_showAwardBtn:fgui.GButton;\n\tpublic m_closeBtn:fgui.GButton;\n\tpublic static URL:string = \"ui://hmoqxzvjkv200\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"autotriggerAward\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_showAwardBtn = <fgui.GButton>(this.getChildAt(0));\n\t\tthis.m_closeBtn = <fgui.GButton>(this.getChildAt(1));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport ModuleWindow from '../ModuleWindow';\nimport UI_Main from './autotriggerAward/UI_Main';\nimport uiAutotriggerAward from './uiAutotriggerAward';\n\nexport default class uiAutotriggerAwardMain extends UI_Main {\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t// //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\n\t\t// let _anchorX = 0;\n\t\t// let _anchorY = 0;\n\t\t// if (this.pivotAsAnchor) {\n\t\t// \t_anchorX = this.pivotX;\n\t\t// \t_anchorY = this.pivotY;\n\t\t// }\n\t\t// this.setXY(_anchorX * this.width, _anchorY * this.height);\n\n\t\t// console.log('wh', this.width, this.height);\n\t\t// console.log('xy', this.x, this.y);\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\tthis.m_closeBtn.onClick(this, () => {\n\t\t\t\tthis._winHandler.hide();\n\t\t\t})\n\t\t\tthis.m_showAwardBtn.onClick(this, () => {\n\t\t\t\tuiAutotriggerAward.AutoShow(8,0);\n\t\t\t})\n\n\t\t}\n\n\n\t}\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport uiAutotriggerAward from \"./uiAutotriggerAward\";\nimport uiAutotriggerAwardMain from './uiAutotriggerAwardMain';\n\nexport default class autotriggerAwardBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiAutotriggerAwardMain.URL, uiAutotriggerAwardMain);\n\t\tfgui.UIObjectFactory.setExtension(uiAutotriggerAward.URL, uiAutotriggerAward);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_award extends fgui.GComponent {\n\n\tpublic m_awardImg:fgui.GImage;\n\tpublic m_coinIcon:fgui.GImage;\n\tpublic m_scoreIcon:fgui.GImage;\n\tpublic m_awardCount:fgui.GTextField;\n\tpublic m_scoreawardCount:fgui.GTextField;\n\tpublic m_coinText:fgui.GTextField;\n\tpublic m_scoreText:fgui.GTextField;\n\tpublic static URL:string = \"ui://czp63sgg9se0o\";\n\n\tpublic static createInstance():UI_award {\n\t\treturn <UI_award>(fgui.UIPackage.createObject(\"Task\", \"award\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_awardImg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_coinIcon = <fgui.GImage>(this.getChildAt(2));\n\t\tthis.m_scoreIcon = <fgui.GImage>(this.getChildAt(3));\n\t\tthis.m_awardCount = <fgui.GTextField>(this.getChildAt(4));\n\t\tthis.m_scoreawardCount = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_coinText = <fgui.GTextField>(this.getChildAt(6));\n\t\tthis.m_scoreText = <fgui.GTextField>(this.getChildAt(7));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport UI_award from './Task/UI_award';\n\ninterface buyAwardInfoType {\n    coinN: number,\n    scoreN: number\n}\n\nexport default class uiaward extends UI_award {\n\n    // myInfo: buyAwardInfoType;\n    // private selectCallBack?: (_goodsId: string) => void;\n    SetInfo(_info: buyAwardInfoType) {\n\n        this.m_awardCount.text = '' + _info.coinN;\n        this.m_scoreawardCount.text = '' + _info.scoreN;\n    }\n}", "/**\n * \u5168\u5C40\u4F7F\u7528\u7684\u57FA\u7840\u6570\u636E\u7C7B\n */\n\nimport ModulePackage from \"./ModulePackage\";\nimport { ModulePlatformAPI, PlatformListenKey } from './ModulePlatformAPI';\n\n\nexport type GameStateType = 'beforeGame' | 'game' | 'afterGame';\nexport type ExposureType = 'browse' | 'collect' | 'buy';\n\n\n/**\n * \u652F\u6301\u83B7\u53D6\u7684\u6E38\u620F\u63A5\u53E3\n * \u586B\u5165\u81EA\u5DF1\u6E38\u620F\u5BF9\u5E94\u7684GameInfo \u5B57\u6BB5\u5373\u53EF\u652F\u6301\n */\nconst StatisticsSend = {\n\t/**\u6253\u5F00App*/\n\topenApp: //\n\t{\n\t\t// type: 'taobao',\n\t\tfromUserId: '',//\u6765\u6E90\n\t},\n\t/**\u5F00\u59CB\u52A0\u8F7D\u8D44\u6E90*/\n\tloadingRes:\n\t\t{},\n\t// /**\u767B\u5F55\u6210\u529F*/\n\t// enterHall:\n\t// \t{},\n\t/**\u9000\u51FA\u6E38\u620F*/\n\texit:\n\t{\n\t\ttype: 'default' as 'default',\n\t\tplayTime: 1\n\t},\n\t/**\u5728\u7EBF\u65F6\u957F*/\n\tactiveTime:\n\t{\n\t\tplayTime: 1\n\t},\n\t/**\u70B9\u51FB\u5206\u4EAB\u6309\u94AE*/\n\tclickShare:\n\t{\n\t\ttype: 'beforeGame' as GameStateType\n\t},\n\t/**\u70B9\u51FB\u5206\u4EAB\u6210\u529F*/\n\tshareSuccess:\n\t{\n\t\ttype: 'default' as 'default',\n\t},\n\t// /**\u5B8C\u6210\u4EFB\u52A1*/\n\t// task:\n\t// {\n\t// \tfrom: 'beforeGame' as GameStateType,\n\t// \ttype: '1'\n\t// },\n\t/**\u6253\u5F00\u4EFB\u52A1\u754C\u9762*/\n\ttask:\n\t{\n\t\tfrom: 'beforeGame' as GameStateType,\n\t\ttype: '',\n\t},\n\t/**\u70B9\u51FB\u5F00\u59CB\u6E38\u620F\u6309\u94AE*/\n\tclickGame:\n\t\t{},\n\t/**\u66DD\u5149*/\n\texposure:\n\t{\n\t\ttype: 'browse' as ExposureType,\n\t\tgoodsId: '',\n\t\tgoodsName: '',\n\t\tprice: '',\n\t},\n\t/**\u6D88\u8D39\u8BB0\u5F55(\u5F53\u524D\u53EA\u662F\u505A\u4EFB\u52A1\u6D88\u8D39\u8BB0\u5F55)*/\n\tpay:\n\t{\n\t\ttype: 'default' as 'default',\n\t\trecord: {},//\u6D88\u8D39\u8BE6\u60C5\n\t\tnickName: '',//\u7528\u6237\u540D\uFF08\u7528\u6237\u7684\u6DD8\u5B9D\u540D\uFF09\n\t\tpayNum: '',//\u6D88\u8D39\u91D1\u989D,\u4F1A\u5411\u4E0A\u53D6\u6574\n\t\trewardNum: '',//\u83B7\u5F97\u91D1\u5E01\u6570\n\t\ttimesNum: '',//\u83B7\u5F97\u6B21\u6570\n\t},\n\n}\n//\u73B0\u5728\u652F\u6301\u7684\u6E38\u620F\u79CD\u7C7B\nexport type StatisticActionType = keyof typeof StatisticsSend;\n\n/**\n * \u6570\u636E\u4E0A\u62A5\u53D1\u9001\u63A5\u53E3\n */\ninterface StatisticsNetPort {\n\tclientVersion: string,//\u5E94\u7528\u7248\u672C\u53F7\n\taction: StatisticActionType,//\u4E8B\u4EF6\u540D\u79F0\n\tfrom?: GameStateType,//\u6765\u6E90\uFF0C\u5982\u5B8C\u6210\u4EFB\u52A1\u7684\u6765\u6E90\uFF1AbeforeGame,game,afterGame\n\ttype?: string,//\u6765\u6E90\n\tfromUserOpenId?: string,//\u5206\u4EAB\u8FDB\u5165\u6765\u6E90\n\tgoodsId?: string,//\u5546\u54C1id\n\tgoodsName?: string,//\u5546\u54C1\u540D\u79F0\n\tprice?: string,//\u4EF7\u683C\n\trecord?: Object,//\u8BA2\u5355\u8BB0\u5F55\n\tnickName?: string,//\u5E94\u7528\u7248\u672C\u53F7\n\tpayNum?: string,\n\trewardNum?: string,\n\tplayTime?: number,//\u5E94\u7528\u7248\u672C\u53F7\n\tgetTime?: string,//\u5E94\u7528\u7248\u672C\u53F7\n\torderNum?: string//\u5E94\u7528\u7248\u672C\u53F7\n}\nclass ModuleStatistics_C {\n\n\tprivate version: string = '0';//\u7248\u672C\u53F7\n\n\t// private readonly clockName = 'StatisticsClock';\n\t//\u5207\u82B1\u5230\u524D\u53F0\u65F6\u95F4\n\tprivate showTime = 0;\n\t//\u4E0A\u6B21 activeTime\n\tprivate lastActiveTime = 0;\n\n\tprivate curGameState: GameStateType = 'beforeGame';\n\n\t//-------------------------------------------------------//\n\n\tprivate static myInstance: ModuleStatistics_C = null as any;\n\tstatic Instance() {\n\t\tif (!this.myInstance) {\n\t\t\tthis.myInstance = new ModuleStatistics_C();\n\t\t}\n\t\treturn this.myInstance;\n\t}\n\n\tprivate isInit = false;\n\t/**\n\t * \u6253\u70B9\u63A5\u53E3\u521D\u59CB\u5316\n\t * \u521D\u59CB\u5316\u540E\u624D\u5F00\u59CB\u8BB0\u5F55\u5728\u7EBF\u65F6\u957F\uFF0C\u6240\u4EE5\u6B64\u65B9\u6CD5\u9700\u5C3D\u65E9\u8C03\u7528\n\t */\n\tInit(_version: string, _callBack?: () => void) {\n\t\tif (this.isInit) {\n\t\t\treturn;\n\t\t}\n\t\tthis.version = _version;\n\n\t\tthis.showTime = Date.now();\n\t\tthis.lastActiveTime = this.showTime;\n\t\t//\u6253\u5F00App\n\t\tthis.Dot('openApp', { fromUserId: ModulePlatformAPI.GetFromID() });\n\n\t\t//\u53D1\u9001\u5207\u6362\u524D\u53F0\u4E8B\u4EF6\n\t\tLaya.stage.on(PlatformListenKey.onShow, this, this.onShow);\n\t\tLaya.stage.on(PlatformListenKey.onHide, this, this.onHide);\n\n\t\t//\u5728\u7EBF\u65F6\u957F\u66F4\u65B0\n\t\tthis.activeTimeUpdate();\n\t\tthis.isInit = true;\n\n\n\t}\n\t/**\n\t * \u66F4\u6539\u6E38\u620F\u72B6\u6001\n\t * @param _state \n\t * @returns \n\t */\n\tChangeCurGameState(_state: GameStateType) {\n\t\tif (this.curGameState == _state) {\n\t\t\treturn;\n\t\t}\n\t\tthis.curGameState = _state;\n\t}\n\t//\u5207\u524D\u53F0 \u8C03\u7528\n\tprivate onShow() {\n\t\tconsole.log(\"ModuleStatistics onshow\");\n\t\tthis.showTime = Date.now();\n\t\tthis.lastActiveTime = this.showTime;\n\t\tthis.activeTimeUpdate();\n\n\t}\n\n\t//\u5207\u540E\u53F0 \u8C03\u7528\n\tprivate onHide() {\n\t\tconsole.log(\"ModuleStatistics onHide\");\n\t\tthis.exitGame();\n\t\tthis.reportActiveTime();\n\t}\n\n\t//--------------------------------------\u5916\u90E8\u8C03\u7528\u63A5\u53E3-------------------------------------------------//\n\t/**\n\t * \u5F00\u59CB\u52A0\u8F7D\u8D44\u6E90\n\t */\n\tStartLoadRes() {\n\t\tthis.Dot('loadingRes');\n\t}\n\t// /**\n\t//  * \u767B\u5F55\u6210\u529F\u8FC7\n\t//  */\n\t// LoginSuccess() {\n\t// \tthis.Dot('loadingRes');\n\t// }\n\t/**\n\t * \u70B9\u51FB\u5206\u4EAB\u6309\u94AE\n\t */\n\tClickShare() {\n\t\tthis.Dot('clickShare', { type: this.curGameState });\n\t}\n\t/**\n\t * \u5206\u4EAB\u6210\u529F\n\t */\n\tShareSuccess() {\n\t\tthis.Dot('shareSuccess', { type: 'default' });\n\t}\n\t/**\n\t * \u70B9\u51FB\u5206\u4EAB\u6309\u94AE\n\t */\n\tClickGameBtn() {\n\t\tthis.Dot('clickGame');\n\t}\n\t// /**\n\t//  * \u5206\u4EAB\u6210\u529F\n\t//  */\n\t// CompleteTask(_taskType: string) {\n\t// \tthis.Dot('task', { from: this.curGameState, type: _taskType });\n\t// }\n\t/**\n\t * \u5B8C\u6210\u4EFB\u52A1\n\t */\n\tCompleteTask(_taskType: string) {\n\t\tthis.Dot('task', { from: this.curGameState, type: _taskType });\n\t}\n\t/**\n\t * \u5B8C\u6210\u4EFB\u52A1\n\t */\n\tTaskExposure(_taskType: ExposureType, _goodsId: string, _goodsName: string, _price: string,) {\n\t\tthis.Dot('exposure', { type: _taskType, goodsId: _goodsId, goodsName: _goodsName, price: _price });\n\t}\n\t/**\n\t * \u4EFB\u52A1\u652F\u4ED8\n\t */\n\tTaskPay(_record: Object, _payNum: string, _rewardNum: string, _timesNum: string) {\n\t\tModulePlatformAPI.GetUserInfo((_info) => {\n\t\t\tthis.Dot('pay', { type: 'default', nickName: _info.nickName, record: _record, payNum: _payNum, rewardNum: _rewardNum, timesNum: _timesNum });\n\t\t})\n\n\t}\n\t//--------------------------------------\u5185\u90E8\u8C03\u7528\u63A5\u53E3(\u5185\u90E8\u81EA\u5DF1\u5B9E\u73B0\u903B\u8F91\u8C03\u7528)-------------------------------------------------//\n\t/**\n\t * \u9000\u51FA\u6E38\u620F\n\t */\n\tprivate exitGame() {\n\t\tlet _time = ((Date.now() - this.showTime) / 1000) | 0;\n\t\tthis.Dot('exit', { type: 'default', playTime: _time });\n\t}\n\t/**\n\t * \u6301\u7EED\u4E0A\u62A5\u5728\u7EBF\u65F6\u957F\n\t */\n\tprivate reportActiveTime() {\n\t\tlet _ct = Date.now()\n\t\tlet _time = ((_ct - this.lastActiveTime) / 1000) | 0;\n\t\tthis.Dot('activeTime', { playTime: _time });\n\t\tthis.lastActiveTime = _ct;\n\t\tthis.activeTimeUpdate();\n\t}\n\tprivate activeTimeID = null as any;\n\tprivate activeTimeUpdate() {\n\t\tif (this.activeTimeID) {\n\t\t\tclearTimeout(this.activeTimeID);\n\t\t\tthis.activeTimeID = null;\n\t\t}\n\t\tthis.activeTimeID = setTimeout(() => {\n\t\t\tthis.activeTimeID = null;\n\t\t\tthis.reportActiveTime();\n\n\t\t}, 5 * 60 * 1000);//5\u5206\u949F\u4E0A\u62A5\u4E00\u6B21\u6253\u70B9\n\t}\n\n\t//--------------------------------------\u57FA\u7840\u63A5\u53E3-------------------------------------------------//\n\t/**\n\t * \u6253\u70B9\u7EDF\u8BA1\n\t * @param _action \u884C\u4E3A\n\t * @param _port \u9700\u8981\u7684\u53C2\u6570\n\t */\n\tprivate Dot<T extends StatisticActionType>(_action: T, _port?: typeof StatisticsSend[T]) {\n\t\t_port = _port ? _port : {} as any;\n\t\t_port['clientVersion'] = this.version;\n\t\t_port['action'] = _action;\n\t\tthis.reportNet(_port as any)\n\t}\n\n\t//\u6253\u70B9\u7EDF\u8BA1\u57FA\u7840\u7F51\u7EDC\u63A5\u53E3\n\tprivate reportNet(_port: StatisticsNetPort) {\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t// \treturn;\n\t\t// }\n\t\tconst _postName = '/C/data/userReport';\n\t\tlet tryTime = 3;\n\t\tconsole.log('\u4E0A\u4F20\u6253\u70B9\u4E8B\u4EF6\uFF1A', JSON.stringify(_port));\n\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", _postName, _port, \"post\", this,\n\t\t\t\t(data) => {\n\t\t\t\t\tif (data.code != 0) {\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t// _callBack && _callBack(false, null);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// ModuleTool.DetectType(_postName, data.data, GameInfo[_type]['getData']);\n\t\t\t\t\t// _callBack && _callBack(true, data.data);\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\t//-----------------------------------------------------------------------------------------//\n\n};\n\n\nexport let ModuleStatistics = ModuleStatistics_C.Instance();\n", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_browseItem extends fgui.GComponent {\n\n\tpublic m_isCan:fgui.Controller;\n\tpublic m_goodsImg:fgui.GLoader;\n\tpublic m_browseBtn:fgui.GButton;\n\tpublic m_priceTxt:fgui.GTextField;\n\tpublic m_content:fgui.GTextField;\n\tpublic m_slideIn:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggemqnn\";\n\n\tpublic static createInstance():UI_browseItem {\n\t\treturn <UI_browseItem>(fgui.UIPackage.createObject(\"Task\", \"browseItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_isCan = this.getControllerAt(0);\n\t\tthis.m_goodsImg = <fgui.GLoader>(this.getChildAt(0));\n\t\tthis.m_browseBtn = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_priceTxt = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_content = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_slideIn = this.getTransitionAt(0);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport { GoodsInfoType } from '../ModuleGlobal';\nimport { ModulePlatformAPI } from '../ModulePlatformAPI';\nimport { ModuleStatistics } from '../ModuleStatistics';\nimport { ModuleAudio } from '../ModuleTool';\nimport UI_browseItem from './Task/UI_browseItem';\n\nexport default class uibrowseItem extends UI_browseItem {\n\n\n\n    onConstruct() {\n        super.onConstruct();\n        this.m_browseBtn.onClick(this, () => {\n            this.selectCallBack && this.selectCallBack(this.myGoodInfo.goodsId);\n            ModuleAudio.PlayComonBtnAudio();\n            ModuleStatistics.TaskExposure('browse', '' + this.myGoodInfo.goodsId, '' + this.myGoodInfo.goodsName, '' + this.myGoodInfo.price);\n        })\n    }\n\n\n    myGoodInfo: GoodsInfoType;\n    private selectCallBack?: (_goodsId: number) => void;\n    SetInfo(_info: GoodsInfoType, _selectCallBack?: (_goodsId: number) => void) {\n        this.myGoodInfo = _info;\n        this.selectCallBack = _selectCallBack;\n        this.m_goodsImg.url = '' + _info.pic;\n        this.m_content.text = '' + _info.goodsName;\n        // this.m_priceTxt.text = '\u4EF7\u503C\uFF1A' + _info.price;\n        this.m_priceTxt.text = '\uFFE5' + _info.price;\n        // this.m_priceTxt.visible = false;\n\n    }\n    clearAll() {\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_award from \"./UI_award\";\n\nexport default class UI_buyItem extends fgui.GComponent {\n\n\tpublic m_isCan:fgui.Controller;\n\tpublic m_awardImg:UI_award;\n\tpublic m_goodsImg:fgui.GLoader;\n\tpublic m_buyBtn:fgui.GButton;\n\tpublic m_priceTxt:fgui.GTextField;\n\tpublic m_content:fgui.GTextField;\n\tpublic m_slideIn:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sgg9se0s\";\n\n\tpublic static createInstance():UI_buyItem {\n\t\treturn <UI_buyItem>(fgui.UIPackage.createObject(\"Task\", \"buyItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_isCan = this.getControllerAt(0);\n\t\tthis.m_awardImg = <UI_award>(this.getChildAt(0));\n\t\tthis.m_goodsImg = <fgui.GLoader>(this.getChildAt(1));\n\t\tthis.m_buyBtn = <fgui.GButton>(this.getChildAt(2));\n\t\tthis.m_priceTxt = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_content = <fgui.GTextField>(this.getChildAt(4));\n\t\tthis.m_slideIn = this.getTransitionAt(0);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_TaskPrecondition extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_okBtn:fgui.GButton;\n\tpublic m_icon:fgui.GImage;\n\tpublic m_descText:fgui.GTextField;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggw7oc1\";\n\n\tpublic static createInstance():UI_TaskPrecondition {\n\t\treturn <UI_TaskPrecondition>(fgui.UIPackage.createObject(\"Task\", \"TaskPrecondition\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_okBtn = <fgui.GButton>(this.getChildAt(2));\n\t\tthis.m_icon = <fgui.GImage>(this.getChildAt(3));\n\t\tthis.m_descText = <fgui.GTextField>(this.getChildAt(4));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport ModulePackage from '../ModulePackage';\nimport { ModuleAudio } from '../ModuleTool';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_TaskPrecondition from './Task/UI_TaskPrecondition';\n\n/**\n * \u4EFB\u52A1\u524D\u7F6E\u6761\u4EF6\n */\nexport default class uiTaskPrecondition extends UI_TaskPrecondition {\n\n    static Show(_award: {\n        info: { title: string },\n        callBack?: (_successCallback?: Function) => void\n    }) {\n        // this.awardInfo = _award;\n        ModulePackage.Instance.PopWindow(\"Task\", \"TaskPrecondition\", { winParamData: _award });\n    }\n\n    private _winHandler: ModuleWindow;\n\n\n    protected onConstruct(): void {\n\n        super.onConstruct();\n        this.m_okBtn.onClick(this, () => {\n            this.callback && this.callback(() => {\n                this._winHandler.hide();\n            });\n            ModuleAudio.PlayComonBtnAudio();\n\n\n        })\n    }\n    /**\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n     */\n    makeFullScreen(): void {\n\n        // console.error('makeFullScreenmakeFullScreen');\n\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n        //\u521D\u59CB\u5316\n        this._winHandler = this.data as ModuleWindow;\n\n        this.data = null;\n\n        if (this._winHandler != null) {\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetShowCallBack(this, this.OnShow);\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetHideCallBack(this, this.OnHide);\n            this.SetInfo(this._winHandler.GetParamData())\n\n        }\n        // this.OnShow();\n    }\n    private callback?: (_successCallback?: Function) => void\n    SetInfo(_info: {\n        info: { title: string },\n        callBack?: (_successCallback?: Function) => void\n    }) {\n        this.m_descText.text = _info.info.title + '\u624D\u53EF\u4EE5\u6253\u5F00\u793C\u5305\u54E6\uFF01';\n        this.m_okBtn.title = _info.info.title;\n        this.callback = _info.callBack;\n    }\n    public OnShow(): void {\n        console.log(\"OnShow~~~\");\n    }\n\n    public OnHide(): void {\n\n        console.log(\"OnHide~~~\");\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_TaskExtraPopup extends fgui.GComponent {\n\n\tpublic m_title:fgui.GImage;\n\tpublic m_closeButton:fgui.GButton;\n\tpublic m_hintText:fgui.GTextField;\n\tpublic m_icon:fgui.GLoader;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggdp9714\";\n\n\tpublic static createInstance():UI_TaskExtraPopup {\n\t\treturn <UI_TaskExtraPopup>(fgui.UIPackage.createObject(\"Task\", \"TaskExtraPopup\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_title = <fgui.GImage>(this.getChildAt(0));\n\t\tthis.m_closeButton = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_hintText = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_icon = <fgui.GLoader>(this.getChildAt(3));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport UI_TaskExtraPopup from './Task/UI_TaskExtraPopup';\nimport ModulePackage from '../ModulePackage';\nimport ModuleWindow from '../ModuleWindow';\nimport { TaskType } from './TaskLogic';\nimport { ModuleAudio } from '../ModuleTool';\n\nexport default class uiTaskExtraPopup extends UI_TaskExtraPopup {\n\n    static Show(_award: {\n        parent?: fgui.GComponent,\n        info: { type: TaskType },\n        callBack?: (_successCallback?: Function) => void\n    }) {\n        console.log('Show uiTaskExtraPopup', _award.info);\n\n        // this.awardInfo = _award;\n        ModulePackage.Instance.PopWindow(\"Task\", \"TaskExtraPopup\", { winParamData: _award });\n    }\n\n    private _winHandler: ModuleWindow;\n\n    private touchCloseBtn = false;\n\n    protected onConstruct(): void {\n\n        super.onConstruct();\n        this.m_closeButton.onClick(this, () => {\n            this.touchCloseBtn = true;\n            this._winHandler.hide();\n\n        });\n        this.onClick(this, () => {\n            if (this.touchCloseBtn) {\n                return;\n            }\n            this.callback && this.callback(() => {\n                this._winHandler.hide();\n            });\n            ModuleAudio.PlayComonBtnAudio();\n\n\n        })\n    }\n    /**\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n     */\n    makeFullScreen(): void {\n\n        // console.error('makeFullScreenmakeFullScreen');\n\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n        //\u521D\u59CB\u5316\n        this._winHandler = this.data as ModuleWindow;\n\n        this.data = null;\n\n        if (this._winHandler != null) {\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetShowCallBack(this, this.OnShow);\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetHideCallBack(this, this.OnHide);\n            this.SetInfo(this._winHandler.GetParamData())\n            this.touchCloseBtn = false;\n\n        }\n        // this.OnShow();\n    }\n    private callback?: (_successCallback?: Function) => void\n    SetInfo(_info: {\n        info: { type: TaskType },\n        callBack?: (_successCallback?: Function) => void\n    }) {\n        this.callback = _info.callBack;\n    }\n    public OnShow(): void {\n        console.log(\"OnShow~~~\");\n    }\n\n    public OnHide(): void {\n\n        console.log(\"OnHide~~~\");\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_rewardCom from \"./UI_rewardCom\";\n\nexport default class UI_GetReward extends fgui.GComponent {\n\n\tpublic m_count:fgui.Controller;\n\tpublic m_type:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_rewardCom1:UI_rewardCom;\n\tpublic m_rewardCom2:UI_rewardCom;\n\tpublic m_okBtn:fgui.GButton;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggrqvv9\";\n\n\tpublic static createInstance():UI_GetReward {\n\t\treturn <UI_GetReward>(fgui.UIPackage.createObject(\"Task\", \"GetReward\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_count = this.getControllerAt(0);\n\t\tthis.m_type = this.getControllerAt(1);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_rewardCom1 = <UI_rewardCom>(this.getChildAt(2));\n\t\tthis.m_rewardCom2 = <UI_rewardCom>(this.getChildAt(3));\n\t\tthis.m_okBtn = <fgui.GButton>(this.getChildAt(4));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_GetReward from './Task/UI_GetReward';\nimport ModuleWindow from \"../ModuleWindow\";\nimport { TaskAwardInfo } from './TaskLogic';\nimport ModulePackage from '../ModulePackage';\nimport { ModuleAudio } from '../ModuleTool';\n\nexport default class uiGetReward extends UI_GetReward {\n\n    private static awardInfo: TaskAwardInfo[] = [];\n    static Show(_award: TaskAwardInfo[]) {\n        this.awardInfo = _award;\n        ModulePackage.Instance.PopWindow(\"Task\", \"GetReward\");\n    }\n\n    private _winHandler: ModuleWindow;\n\n\n    protected onConstruct(): void {\n\n        super.onConstruct();\n        this.m_okBtn.onClick(this, () => {\n            this._winHandler.hide();\n        })\n    }\n    /**\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n     */\n    makeFullScreen(): void {\n\n        // console.error('makeFullScreenmakeFullScreen');\n\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n        //\u521D\u59CB\u5316\n        this._winHandler = this.data as ModuleWindow;\n\n        this.data = null;\n\n        if (this._winHandler != null) {\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetShowCallBack(this, this.OnShow);\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetHideCallBack(this, this.OnHide);\n            this.SetInfo()\n\n        }\n        // this.OnShow();\n    }\n    SetInfo() {\n        this.m_count.selectedIndex = uiGetReward.awardInfo.length == 1 ? 1 : 0;\n        // console.error('uiGetReward selectedIndex', this.m_count.selectedIndex);\n        let _comArr = [this.m_rewardCom1, this.m_rewardCom2];\n        //icon\u7684\u8D44\u6E90\n        const iconUrl = {\n            times: 'ui://czp63sggqqee17',\n            wmScore: 'ui://czp63sggqqee16',\n        }\n        for (let index = 0; index < uiGetReward.awardInfo.length; index++) {\n            const element = uiGetReward.awardInfo[index];\n            _comArr[index].m_rewardTxt.text = 'x' + element.value;\n            let _url = iconUrl[element.type];\n            if (_url) {\n                _comArr[index].m_rewardLoader.url = _url;\n            }\n\n\n        }\n    }\n    public OnShow(): void {\n        console.log(\"OnShow~~~\");\n    }\n\n    public OnHide(): void {\n\n        console.log(\"OnHide~~~\");\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_TaskBrowse extends fgui.GComponent {\n\n\tpublic m_haveGoods:fgui.Controller;\n\tpublic m_type:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_list:fgui.GList;\n\tpublic m_buyList:fgui.GList;\n\tpublic m_collectList:fgui.GList;\n\tpublic m_tips:fgui.GTextField;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggcb3yg\";\n\n\tpublic static createInstance():UI_TaskBrowse {\n\t\treturn <UI_TaskBrowse>(fgui.UIPackage.createObject(\"Task\", \"TaskBrowse\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_haveGoods = this.getControllerAt(0);\n\t\tthis.m_type = this.getControllerAt(1);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_list = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_buyList = <fgui.GList>(this.getChildAt(3));\n\t\tthis.m_collectList = <fgui.GList>(this.getChildAt(4));\n\t\tthis.m_tips = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "\nimport { GoodsInfoType, ModuleGlobal } from '../ModuleGlobal';\nimport ModulePackage from '../ModulePackage';\nimport { ModulePlatformAPI } from '../ModulePlatformAPI';\nimport { ModuleAudio } from '../ModuleTool';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_TaskBrowse from './Task/UI_TaskBrowse';\n\nexport default class uiTaskBrowse extends UI_TaskBrowse {\n\n\tprivate static curBrowse?: uiTaskBrowse;\n\t//\u8FD4\u56DE\u9009\u62E9\u7684 _goodsId\n\tprivate static SelectCallBack?: (_goodsId: number) => void\n\tstatic curType?: 'browse' | 'buy' | 'collect';\n\tstatic Show(_type: 'browse' | 'buy' | 'collect', _selectcallBack?: (_goodsId: number) => void) {\n\t\tthis.curType = _type;\n\t\tthis.SelectCallBack = _selectcallBack;\n\t\tModulePackage.Instance.PopWindow(\"Task\", \"TaskBrowse\");\n\t}\n\tstatic Hide() {\n\t\tif (!this.curBrowse) {\n\t\t\treturn;\n\t\t}\n\t\tthis.curBrowse._winHandler.hide();\n\t}\n\n\n\tprivate _winHandler: ModuleWindow;\n\n\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\t\t// console.error('makeFullScreenmakeFullScreen');\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t\tthis.SetInfo();\n\n\t\t}\n\t\t// this.OnShow();\n\t}\n\tSetInfo() {\n\t\tLaya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\n\t\tModuleGlobal.GetGoodsList((_success, _list) => {\n\t\t\tLaya.timer.clear(this._winHandler, this._winHandler.showModalWait);\n\t\t\tthis._winHandler.closeModalWait();\n\t\t\tlet _text = '\u6709\u5546\u54C1'\n\t\t\tif (!_success || _list.length <= 0) {\n\t\t\t\t_text = '\u6CA1\u6709\u5546\u54C1';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet _showList = this.m_list;\n\t\t\t\tlet _typeText = '\u6D4F\u89C8';\n\t\t\t\tswitch (uiTaskBrowse.curType) {\n\t\t\t\t\tcase 'browse':\n\t\t\t\t\t\t_typeText = '\u6D4F\u89C8';\n\t\t\t\t\t\t_showList = this.m_list;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'buy':\n\t\t\t\t\t\t_typeText = '\u8D2D\u4E70';\n\t\t\t\t\t\t_showList = this.m_buyList;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'collect':\n\t\t\t\t\t\t_typeText = '\u6536\u85CF';\n\t\t\t\t\t\t_showList = this.m_collectList;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.curGoodsList = _list as any;\n\n\t\t\t\tthis.m_type.setSelectedPage(_typeText);\n\t\t\t\tlet _showp = () => {\n\t\t\t\t\t//\u663E\u793A\u6392\u884C\u699C\u5217\u8868\n\t\t\t\t\t_showList.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, null, false);\n\n\t\t\t\t\t_showList.setVirtual();\n\n\t\t\t\t\t_showList.numItems = this.curGoodsList.length;\n\t\t\t\t}\n\t\t\t\tif (uiTaskBrowse.curType == 'collect') {\n\t\t\t\t\t//\u6392\u5E8F\u6536\u85CF\u7684\u5546\u54C1\n\t\t\t\t\tif (this.curGoodsList.length > 0) {\n\t\t\t\t\t\tlet _sort = () => {\n\t\t\t\t\t\t\tthis.curGoodsList = this.curGoodsList.sort((a, b) => a.isCollected ? 1 : -1);\n\t\t\t\t\t\t\t_showp();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_sort();\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_showp();\n\t\t\t\t}\n\n\n\n\t\t\t}\n\t\t\tthis.m_haveGoods.setSelectedPage(_text);\n\t\t}, undefined, false)\n\t}\n\tpublic OnShow(): void {\n\t\tconsole.log(\"OnShow~~~\");\n\t\tuiTaskBrowse.curBrowse = this;\n\t}\n\n\tpublic OnHide(): void {\n\t\tuiTaskBrowse.curBrowse = undefined;\n\t\tuiTaskBrowse.curType = undefined;\n\t\tconsole.log(\"OnHide~~~\");\n\t\tfor (let index = 0; index < this.m_list._children.length; index++) {\n\t\t\tconst element = this.m_list.getChildAt(index) as any;\n\t\t\tif (element && element.clearAll) element.clearAll();\n\t\t}\n\t\tfor (let index = 0; index < this.m_buyList._children.length; index++) {\n\t\t\tconst element = this.m_buyList.getChildAt(index) as any;\n\t\t\tif (element && element.clearAll) element.clearAll();\n\t\t}\n\t\tfor (let index = 0; index < this.m_collectList._children.length; index++) {\n\t\t\tconst element = this.m_collectList.getChildAt(index) as any;\n\t\t\tif (element && element.clearAll) element.clearAll();\n\t\t}\n\t\tLaya.stage.offAllCaller(this);\n\t\tLaya.timer.clearAll(this);\n\t\t//\u9690\u85CF\u754C\u9762\u89E6\u53D1\u4E00\u6B21\u5217\u8868\u66F4\u65B0\n\t\tModuleGlobal.GetGoodsList(undefined, { pageSize: 30, sortType: 'random' });\n\t}\n\tprivate curGoodsList: (GoodsInfoType)[] = [];\n\t_OnRenderItem(index: number, item: any) {\n\t\t// console.log(\"_OnRenderItem:---\", uiTaskBrowse.curType, index);\n\t\titem.SetInfo(this.curGoodsList[index], uiTaskBrowse.SelectCallBack);\n\t}\n\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_coinCom from \"./UI_coinCom\";\n\nexport default class UI_TaskInvite extends fgui.GComponent {\n\n\tpublic m_isInvite:fgui.Controller;\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_confirmBtn:fgui.GButton;\n\tpublic m_avatar:fgui.GLoader;\n\tpublic m_tipsTxt:fgui.GTextField;\n\tpublic m_coinCom:UI_coinCom;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggmxaf3\";\n\n\tpublic static createInstance():UI_TaskInvite {\n\t\treturn <UI_TaskInvite>(fgui.UIPackage.createObject(\"Task\", \"TaskInvite\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_isInvite = this.getControllerAt(0);\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_confirmBtn = <fgui.GButton>(this.getChildAt(3));\n\t\tthis.m_avatar = <fgui.GLoader>(this.getChildAt(4));\n\t\tthis.m_tipsTxt = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_coinCom = <UI_coinCom>(this.getChildAt(6));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport ModulePackage from '../ModulePackage';\nimport { ModuleAudio } from '../ModuleTool';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_TaskInvite from './Task/UI_TaskInvite';\nimport uiGetReward from './uiGetReward';\n\nexport default class uiTaskInvite extends UI_TaskInvite {\n\n    static Show(_award: {\n        type: 'invit' | 'beInvit',\n        info: { avatar: string, nickName: string }[]\n        callBack?: Function\n    }) {\n        // this.awardInfo = _award;\n        ModulePackage.Instance.PopWindow(\"Task\", \"TaskInvite\", { winParamData: _award });\n    }\n\n    private _winHandler: ModuleWindow;\n\n\n    protected onConstruct(): void {\n\n        super.onConstruct();\n        this.m_confirmBtn.onClick(this, () => {\n            this._winHandler.hide();\n        })\n    }\n    /**\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n     */\n    makeFullScreen(): void {\n\n        // console.error('makeFullScreenmakeFullScreen');\n\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n        //\u521D\u59CB\u5316\n        this._winHandler = this.data as ModuleWindow;\n\n        this.data = null;\n\n        if (this._winHandler != null) {\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetShowCallBack(this, this.OnShow);\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetHideCallBack(this, this.OnHide);\n            this.SetInfo(this._winHandler.GetParamData())\n\n        }\n        // this.OnShow();\n    }\n    private callBackFun?: Function\n    SetInfo(_info: {\n        type: 'invit' | 'beInvit',\n        info: { avatar: string, nickName: string }[],\n        callBack?: Function\n    }) {\n        this.m_isInvite.selectedIndex = _info.type == 'invit' ? 1 : 0;\n        this.m_avatar.url = _info.info[0].avatar;\n        this.m_tipsTxt.setVar('name', _info.info[0].nickName).flushVars();\n        this.callBackFun = _info.callBack;\n    }\n    public OnShow(): void {\n        console.log(\"OnShow~~~\");\n    }\n\n    public OnHide(): void {\n\n        this.callBackFun && this.callBackFun();\n        console.log(\"OnHide~~~\");\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n}", "\r\n\r\n/**\r\n * \u4EFB\u52A1\u6570\u636E\u903B\u8F91\u7C7B\r\n * \r\n */\r\n\r\nimport ModulePackage from \"../ModulePackage\";\r\nimport { ModulePlatformAPI, PlatformListenKey } from \"../ModulePlatformAPI\";\r\nimport { ModuleTool } from './../ModuleTool';\r\nimport uiTaskPrecondition from './uiTaskPrecondition';\r\nimport uiTaskExtraPopup from './uiTaskExtraPopup';\r\nimport uiGetReward from './uiGetReward';\r\nimport uiTaskBrowse from './uiTaskBrowse';\r\nimport { GCurrencyType, ModuleGlobal } from \"../ModuleGlobal\";\r\nimport uiTaskInvite from './uiTaskInvite';\r\nimport { ModuleStatistics } from \"../ModuleStatistics\";\r\nimport uiAlert from \"../GeneralInterface/uiAlert\";\r\n\r\n/**\r\n * \u5F53\u524D\u652F\u6301\u7684\u4EFB\u52A1\r\n */\r\nexport enum TaskType {\r\n\r\n    /**\u6BCF\u65E5\u793C\u5305*/dayGift = 'dayGift',\r\n    /**\u6BCF\u65E5\u7B7E\u5230*/checkInDay = 'checkInDay',\r\n    /**\u4F1A\u5458\u798F\u5229*/memberAward = 'memberAward',\r\n    /**\u6536\u85CF\u5546\u54C1*/collectGoods = 'collectGoods',\r\n    /**\u6D4F\u89C8\u5E97\u94FA*/scanShop = 'scanShop',\r\n    /**\u9080\u8BF7\u597D\u53CB*/friendship = 'friendship',\r\n    /**\u8D2D\u4E70\u5546\u54C1*/spend = 'spend',\r\n    /**\u8BA2\u9605\u5E97\u94FA*/subscribeShop = 'subscribeShop',\r\n    /**\u52A0\u5165\u4F1A\u5458*/joinMember = 'joinMember',\r\n    /**\u6D4F\u89C8\u5546\u54C1*/scanGoods = 'scanGoods',\r\n\r\n    // /**\u6D4F\u89C8\u76F4\u64AD\u95F4*/scanLive='scanLive',\r\n    // /**\u52A0\u5165\u7FA4\u804A*/joinGroup=' joinGroup',\r\n}\r\n/**\r\n * \u4EFB\u52A1\u72B6\u6001\u7C7B\u578B\r\n */\r\nexport enum TaskStatusType {\r\n    /**\u672A\u5B8C\u6210*/waiting = 'waiting',\r\n    /**\u5B8C\u6210\u5F85\u9886\u53D6*/allow = 'allow',\r\n    /**\u5DF2\u7ECF\u9886\u53D6*/finish = 'finish',\r\n}\r\n/**\r\n * \u4EFB\u52A1\u5956\u52B1\u7C7B\u578B\r\n */\r\n// type TaskAwardType = 'blade' | 'score' | 'gold' | 'times';\r\n/**\r\n * \u4EFB\u52A1\u5956\u52B1\r\n */\r\nexport interface TaskAwardInfo {\r\n    type: GCurrencyType,//\u5956\u52B1\u7C7B\u578B\r\n    value: number,//\u5956\u52B1\u6570\u503C\r\n}\r\n/**\r\n * \u4EFB\u52A1\u4FE1\u606F\r\n * (\u7528\u5230\u7684\u4EFB\u52A1\u6570\u636E)\r\n */\r\nexport interface TaskInfo {\r\n\r\n    /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType,\r\n\r\n    /**\u6392\u5E8Fid*/sortIndex: number,\r\n\r\n    /**\u4EFB\u52A1\u540D*/title: string,\r\n\r\n    /**\u4EFB\u52A1\u5185\u5BB9*/content: string,\r\n\r\n    /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType,\r\n\r\n    /**\u7B49\u5F85\u65F6\u95F4*/period?: number,//\u65F6\u95F4\u95F4\u9694(\u6BEB\u79D2)\r\n\r\n    /**\u4EFB\u52A1\u6B21\u6570\u9650\u5236*/rewardTime?: number,// -1\u4E3A\u4E0D\u9650\r\n\r\n    /**\u4EFB\u52A1\u5956\u52B1*/reward: TaskAwardInfo[],\r\n\r\n    /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: string,//\u4F8B\u59820/3\r\n\r\n    /**\u4EFB\u52A1\u524D\u7F6E\u4EFB\u52A1*/giftParams?: TaskType,//\u5FC5\u987B\u5B8C\u6210\u524D\u7F6E\u4EFB\u52A1\u624D\u80FD\u5B8C\u6210\u6B64\u4EFB\u52A1\r\n\r\n\r\n}\r\n\r\nclass TaskLogic_c {\r\n    private static myInstance: TaskLogic_c = null as any;\r\n    static Instance() {\r\n        if (!this.myInstance) {\r\n            this.myInstance = new TaskLogic_c();\r\n        }\r\n        return this.myInstance;\r\n    }\r\n\r\n    //\u4EFB\u52A1\u66F4\u65B0\u89E6\u53D1key\r\n    readonly TaskUpdateKey = 'TaskUpdate_';\r\n\r\n    //\u5F53\u524D\u4EFB\u52A1\u4FE1\u606F\r\n    curTaskInfoArr: TaskInfo[] = [];\r\n    curTaskInfoObj: { [key: string]: TaskInfo } = {};\r\n\r\n\r\n\r\n    private isInit = false;\r\n\r\n    //\u4EFB\u52A1icon\u6240\u5728\u8DEF\u5F84\r\n    private taskIconPath = 'https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/normal/C_client/taskIcon/';\r\n    //\u6D4F\u89C8\u9700\u8981\u65F6\u95F4:ms\r\n    private readonly browseTime = 10000;\r\n\r\n\r\n    //------------------------------------------\u5177\u4F53\u4EFB\u52A1\u76F8\u5173\u4FE1\u606F--------------------------------//\r\n    //\u5012\u8BA1\u65F6\u4EFB\u52A1\u5012\u8BA1\u65F6\u5B8C\u6210\u76EE\u6807\u65F6\u95F4\r\n    private targetCountDownTime = {};\r\n\r\n\r\n    //\u53BB\u6D4F\u89C8\u7684\u65F6\u95F4\r\n    private goBrowseTime = {\r\n        scanShop: 0,\r\n        scanGoods: 0,\r\n    };\r\n    //\u8D2D\u4E70\u4EFB\u52A1\uFF0C\u5B58\u50A8key\r\n    private spendStoreKey = 'speedKey';\r\n    private spendStoreTime = 0;\r\n\r\n    // private inShare = 0;\r\n\r\n\r\n    //------------------------------------------\u521D\u59CB\u5316--------------------------------//\r\n    /**\r\n     *  \u4EFB\u52A1\u521D\u59CB\u5316\u64CD\u4F5C\r\n     * @param _successcallBack \u83B7\u53D6\u4EFB\u52A1\u5217\u8868\u6210\u529F\u624D\u4F1A\u8FD4\u56DE\r\n     * @param _waitTaskList \u662F\u5426\u4E00\u76F4\u7B49\u5F85\uFF0C\u76F4\u5230\u83B7\u53D6\u4EFB\u52A1\u6210\u529F\r\n     * @returns \r\n     */\r\n    Init(_successcallBack?: () => void, _waitTaskList = true) {\r\n        if (this.isInit) {\r\n            return;\r\n        }\r\n        this.getLocalStoreInfo();\r\n        //\u5F00\u542F\u4EFB\u52A1\u5012\u8BA1\u65F6\r\n        this.TaskCountDown();\r\n        //\u76D1\u542C\u8FD4\u56DE\u6E38\u620F\r\n        Laya.stage.on(PlatformListenKey.onShow, this, () => {\r\n\r\n            //\u6D4F\u89C8\u5546\u54C1\r\n            this.DetectWaitTaskResult(TaskType.scanGoods);\r\n            //\u6D4F\u89C8\u5546\u54C1\r\n            this.DetectWaitTaskResult(TaskType.scanShop);\r\n            //\u6D4F\u89C8\u8D2D\u4E70\r\n            this.DetectWaitTaskResult(TaskType.spend);\r\n            //\u5206\u4EAB\r\n            this.DetectWaitTaskResult(TaskType.friendship);\r\n\r\n        })\r\n        Laya.stage.on(PlatformListenKey.onHide, this, () => {\r\n            // if (this.inShare == 1) {\r\n            //     this.inShare = 2;\r\n            // }\r\n\r\n        })\r\n        let _getlist = () => {\r\n            this.UpdateTaskList((_success) => {\r\n                if (_success) {\r\n\r\n                    _successcallBack && _successcallBack();\r\n\r\n                }\r\n                else {\r\n                    if (_waitTaskList) {\r\n                        setTimeout(() => {\r\n                            _getlist();\r\n                        }, 100);\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        _getlist();\r\n        //\r\n        Laya.stage.on(PlatformListenKey.FavorChange, this, () => {\r\n            if (!ModuleGlobal.IsActivityOn()) {\r\n                console.error('\u6D3B\u52A8\u7ED3\u675F\u4E0D\u80FD\u518D\u505A\u4EFB\u52A1');\r\n                return;\r\n            }\r\n            if (ModulePlatformAPI.IsFavor) {\r\n                this.ReportTask(TaskType.subscribeShop);\r\n            }\r\n        })\r\n        Laya.stage.on(PlatformListenKey.MemberChange, this, () => {\r\n            if (!ModuleGlobal.IsActivityOn()) {\r\n                console.error('\u6D3B\u52A8\u7ED3\u675F\u4E0D\u80FD\u518D\u505A\u4EFB\u52A1');\r\n                return;\r\n            }\r\n            if (ModulePlatformAPI.IsMember) {\r\n                this.ReportTask(TaskType.joinMember);\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n    getLocalStoreInfo() {\r\n        this.spendStoreTime = ModuleTool.GetLocalItem(this.spendStoreKey) || 0;\r\n    }\r\n\r\n\r\n    //-----------------------------------------------\u4EFB\u52A1\u5217\u8868--------------------------------------//\r\n    /**\r\n     * \u83B7\u53D6\u4EFB\u52A1\u5217\u8868\r\n     * appointUpdate \u6307\u5B9A\u53EA\u66F4\u65B0\u67D0\u4E2A\u4EFB\u52A1\r\n     */\r\n    UpdateTaskList(_callBack?: (_success: boolean, _data?: TaskInfo[]) => void, appointUpdate?: TaskType | TaskType[]) {\r\n        //\u5047\u6570\u636E\r\n        let _fakeData: TaskInfo[] = [\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.checkInDay,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u6BCF\u65E5\u7B7E\u5230',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u6BCF\u65E5\u7B7E\u5230\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.allow,\r\n                /**\u4EFB\u52A1\u6B21\u6570\u9650\u5236*/rewardTime: 3,\r\n                // /**\u7B49\u5F85\u65F6\u95F4*/period: 100000,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    // {\r\n                    //     type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                    //     value: 1,//\u5956\u52B1\u6570\u503C\r\n                    // }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '1/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.dayGift,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u6BCF\u65E5\u793C\u5305',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u6BCF\u65E5\u793C\u5305\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u6B21\u6570\u9650\u5236*/rewardTime: 1,\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.allow,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 11235,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    // {\r\n                    //     type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                    //     value: 10,//\u5956\u52B1\u6570\u503C\r\n                    // },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/1',//\u4F8B\u59820/3\r\n\r\n                // /**\u524D\u7F6E\u4EFB\u52A1*/giftParams: TaskType.joinMember,//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.collectGoods,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u6536\u85CF\u5546\u54C1',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u6536\u85CF\u5546\u54C1\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u4EFB\u52A1\u6B21\u6570\u9650\u5236*/rewardTime: 1,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/1',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.scanGoods,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u6D4F\u89C8\u5546\u54C1',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u6D4F\u89C8\u5546\u54C1\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u4EFB\u52A1\u6B21\u6570\u9650\u5236*/rewardTime: 3,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.joinMember,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u52A0\u5165\u4F1A\u5458',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u52A0\u5165\u4F1A\u5458\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.joinMember,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u52A0\u5165\u4F1A\u5458',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u52A0\u5165\u4F1A\u5458\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.joinMember,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u52A0\u5165\u4F1A\u5458',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u52A0\u5165\u4F1A\u5458\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.joinMember,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u52A0\u5165\u4F1A\u5458',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u52A0\u5165\u4F1A\u5458\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n            {\r\n\r\n                /**\u4EFB\u52A1\u7C7B\u578B*/detailType: TaskType.joinMember,\r\n                /**\u6392\u5E8Fid*/sortIndex: 1,\r\n                /**\u4EFB\u52A1\u540D*/title: '\u52A0\u5165\u4F1A\u5458',\r\n                /**\u4EFB\u52A1\u5185\u5BB9*/content: '\u52A0\u5165\u4F1A\u5458\u5185\u5BB9',\r\n                /**\u4EFB\u52A1\u72B6\u6001*/status: TaskStatusType.waiting,\r\n                /**\u7B49\u5F85\u65F6\u95F4*/period: 0,\r\n                /**\u4EFB\u52A1\u5956\u52B1*/reward: [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 2,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ],\r\n                /**\u4EFB\u52A1\u8FDB\u5EA6\u663E\u793A*/competition: '0/3',//\u4F8B\u59820/3\r\n\r\n            },\r\n        ]\r\n        //\u83B7\u5F97\u6570\u636E\r\n        let getData = (_getData: TaskInfo[]) => {\r\n            if (!this.curTaskInfoArr) {\r\n                this.curTaskInfoArr = _getData;\r\n            }\r\n            else {\r\n                let _updateType: string | null = null;\r\n                let _typesArr: TaskType[] = [];\r\n                if (appointUpdate) {\r\n                    if (typeof appointUpdate == 'string') {\r\n                        _typesArr.push(appointUpdate);\r\n                    }\r\n                    else {\r\n                        _typesArr = JSON.parse(JSON.stringify(appointUpdate));\r\n                    }\r\n                }\r\n                while (_getData.length > 0) {\r\n                    let _newtask: TaskInfo = null as any;\r\n                    if (_typesArr.length > 0) {\r\n                        _updateType = _typesArr.pop();\r\n                    }\r\n                    else {\r\n                        _updateType = null;\r\n                    }\r\n                    if (_updateType) {\r\n                        _newtask = _getData.find(v => v.detailType == _updateType);\r\n                    }\r\n                    else {\r\n                        _newtask = _getData.pop();\r\n                    }\r\n                    if (!_newtask) {\r\n                        console.error('\u6CA1\u6709\u627E\u5230\u4EFB\u52A1', _updateType);\r\n                        continue;\r\n                    }\r\n\r\n                    let _task = this.GetTaskInfo(_newtask.detailType);\r\n                    let _triggerUpdate = false;\r\n                    if (_task) {\r\n                        for (const key in _task) {\r\n                            if (_task[key] == _newtask[key]) {\r\n                                continue;\r\n                            }\r\n                            _triggerUpdate = true;\r\n                            _task[key] = _newtask[key];\r\n                        }\r\n                    }\r\n                    else {\r\n                        _triggerUpdate = true;\r\n                        _task = _newtask;\r\n                        this.curTaskInfoArr.push(_task);\r\n                    }\r\n                    if (_triggerUpdate) {\r\n                        this.TriggerTaskUpdate(_newtask.detailType, _task);\r\n                    }\r\n                    if (_updateType && _typesArr.length <= 0) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (const task of this.curTaskInfoArr) {\r\n                //\u6EE1\u8DB3\u5012\u8BA1\u65F6\u6761\u4EF6\r\n                if (task.status == TaskStatusType.waiting\r\n                    && task.period > 0) {\r\n\r\n                    this.targetCountDownTime[task.detailType] = Date.now() + task.period;\r\n                    // console.error('targetCountDownTime ', task.detailType, this.targetCountDownTime[task.detailType]);\r\n                }\r\n                //\u6DFB\u52A0\u4E00\u4E2A\u4EFB\u52A1\u5BF9\u8C61\u65B9\u4FBF\u67E5\u627E\r\n                this.curTaskInfoObj[task.detailType] = task;\r\n            }\r\n\r\n\r\n            _callBack && _callBack(true, this.curTaskInfoArr);\r\n            Laya.stage.event('refreshBubble');\r\n        }\r\n\r\n        if (ModulePackage.Instance.CanUseNetAPI()) {\r\n\r\n            //\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\r\n            ModulePackage.Instance.SendNetMessage(\"\", \"/C/task/getTaskList\", {}, \"post\", this,\r\n                (data) => {\r\n\r\n                    console.log(\"getTaskList\", data);\r\n                    if (data.code != 0) {\r\n                        _callBack && _callBack(false);\r\n                        return;\r\n                    }\r\n                    //\u68C0\u6D4B\u6570\u636E\u662F\u5426\u543B\u5408\r\n                    ModuleTool.DetectType('getTaskList', data.data, _fakeData);\r\n\r\n                    //\u83B7\u5F97\u6570\u636E\r\n                    getData(JSON.parse(JSON.stringify(data.data)));\r\n\r\n                });\r\n\r\n        }\r\n        else {\r\n            getData(_fakeData);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //-----------------------------------------------\u505A\u4EFB\u52A1\u548C\u9886\u5956--------------------------------------//\r\n    /**\r\n     * \u53BB\u505A\u4EFB\u52A1\r\n     * @param _type \r\n     * @param _callback \u5176\u4E2D_awardata\u53EA\u6709\u5728_degree ==2\u65F6\u624D\u4F1A\u6709\u5185\u5BB9\r\n     * @param _degree \u505A\u4EFB\u52A1\u7684\u7A0B\u5EA6(\u6CE8\u610F\uFF1A\u8D2D\u4E70\u4EFB\u52A1\u4E0D\u80FD\u662F0,0\u4F1A\u9ED8\u8BA4\u6539\u4E3A2)\r\n     * 0\uFF1A\u53EA\u505A\u4EFB\u52A1\uFF0C\u5B8C\u6210\u5219\u8FD4\u56DE\u7ED3\u679C\r\n     * 1\uFF1A\u505A\u4EFB\u52A1\uFF0C\u5E76\u4E0A\u62A5\u4EFB\u8FDB\u5EA6\r\n     * 2\uFF1A\u53EA\u505A\u4EFB\u52A1\uFF0C\u4E0A\u62A5\u8FDB\u5EA6\uFF0C\u5E76\u4E14\u9886\u53D6\u5956\u52B1\r\n     * \r\n     *  * @param _showAwardPopup \u83B7\u5F97\u8D2D\u4E70\u5956\u52B1\u540E\u662F\u5426\u663E\u793A\u8D2D\u4E70\u5F39\u7A97(\u9ED8\u8BA4\u4E0D\u663E\u793A)\r\n     */\r\n    DoTask(_type: TaskType, _callback?: (_success: boolean, _awardata?: TaskAwardInfo[]) => void, _degree = 0, _showAwardPopup = false) {\r\n        console.log('\u53BB\u505A\u4EFB\u52A1:', _type);\r\n        // let _curTask = this.GetTaskInfo(_type);\r\n        //\u56DE\u8C03\u7ED3\u679C\r\n        let _doCallback = (_success: boolean) => {\r\n\r\n            console.log('\u505A\u4EFB\u52A1\u7ED3\u679C:', _type, _success);\r\n            if (!_success) {\r\n                _callback && _callback(_success);\r\n                return;\r\n            }\r\n\r\n            switch (_degree) {\r\n                case 0:\r\n                    _callback && _callback(_success);\r\n                    break;\r\n                case 1:\r\n                    this.ReportTask(_type, _callback);\r\n                    break;\r\n                case 2:\r\n                    this.ReportTask(_type, (_success: boolean) => {\r\n                        if (!_success) {\r\n                            _callback && _callback(_success);\r\n                            return;\r\n                        }\r\n                        this.ReceiveTaskAward(_type, _callback, _showAwardPopup);\r\n                    }, false);\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        //\u5B8C\u6210\u5F53\u524D\u4EFB\u52A1\r\n        let _toComplete = () => {\r\n            let _curTask = this.GetTaskInfo(_type);\r\n            if (_curTask && _curTask.status == TaskStatusType.finish && _degree > 0) {\r\n                _doCallback(false);\r\n                return;\r\n            }\r\n            if (_curTask && _curTask.status == TaskStatusType.allow && _degree > 0) {\r\n                _doCallback(true);\r\n                return;\r\n            }\r\n            //\u53BB\u505A\u4EFB\u52A1\r\n            switch (_type) {\r\n\r\n                case TaskType.joinMember://\u5165\u4F1A\r\n                    ModulePlatformAPI.OpenMember((_isFavor) => {\r\n                        _doCallback(_isFavor);\r\n                    })\r\n                    break;\r\n                case TaskType.subscribeShop://\u5173\u6CE8\u5E97\u94FA\r\n                    ModulePlatformAPI.FavorShop((_isFavor) => {\r\n                        _doCallback(_isFavor);\r\n                    })\r\n                    break;\r\n\r\n                case TaskType.dayGift:\r\n                    break;\r\n                case TaskType.checkInDay:\r\n                    break;\r\n                case TaskType.memberAward:\r\n                    break;\r\n                case TaskType.collectGoods:\r\n                    uiTaskBrowse.Show('collect', (_goodsid) => {\r\n                        console.log('uiTaskBrowse clickok', _type, _goodsid);\r\n                        ModulePlatformAPI.CollectGoods(_goodsid, (_success) => {\r\n                            if (_success) {\r\n                                uiTaskBrowse.Hide();\r\n                            }\r\n                            _doCallback(_success);\r\n                        })\r\n                    })\r\n                    break;\r\n                case TaskType.scanShop:\r\n\r\n                    this.goBrowseTime[_type] = 0;\r\n                    ModulePlatformAPI.NavigateToTaobaoPage((_navigateSuccess) => {\r\n                        ModulePlatformAPI.showToast('\u6D4F\u89C810\u79D2\u5373\u53EF\u83B7\u5F97\u5956\u52B1')\r\n                        //\u5173\u6CE8\u5E97\u94FA\r\n                        if (_navigateSuccess) {\r\n                            //bug,\u56E0\u4E3A\u5173\u6CE8\u5E97\u94FA\u4F1A\u6210\u529F\u4F1A\u81EA\u52A8\u8C03\u7528\u6DD8\u5B9D\u7684onshow\u65B9\u6CD5\uFF0C\u6682\u65F6\u5148\u5EF6\u65F6\u83B7\u53D6\u6210\u529F\u6765\u5904\u7406\r\n                            let _delayTime = 1000;\r\n                            setTimeout(() => {\r\n                                this.goBrowseTime[_type] = Date.now() - _delayTime;\r\n                                this.WaitTaskResult(_type, (_success) => {\r\n                                    _doCallback(_success);\r\n                                    if (_success) {\r\n                                        ModulePlatformAPI.showToast('\u6D4F\u89C8\u6210\u529F')\r\n                                    }\r\n                                    else {\r\n                                        ModulePlatformAPI.showToast('\u6D4F\u89C8\u65F6\u957F\u4E0D\u591F')\r\n                                    }\r\n                                })\r\n                            }, _delayTime);\r\n\r\n                        } else {\r\n                            _doCallback(_navigateSuccess);\r\n                        }\r\n\r\n                    })\r\n                    break;\r\n                case TaskType.scanGoods:\r\n                    this.goBrowseTime[_type] = 0;\r\n                    uiTaskBrowse.Show('browse', (_goodsid) => {\r\n                        console.log('uiTaskBrowse clickok', _type, _goodsid);\r\n\r\n                        ModulePlatformAPI.showToast('\u6D4F\u89C810\u79D2\u5373\u53EF\u83B7\u5F97\u5956\u52B1')\r\n                        ModulePlatformAPI.OpenShopItemDetail('' + _goodsid, (_opensuccess) => {\r\n                            if (_opensuccess) {\r\n                                this.goBrowseTime[_type] = Date.now();\r\n                                this.WaitTaskResult(_type, (_success) => {\r\n                                    _doCallback(_success);\r\n                                    if (_success) {\r\n                                        uiTaskBrowse.Hide();\r\n                                        ModulePlatformAPI.showToast('\u6D4F\u89C8\u6210\u529F')\r\n                                    }\r\n                                    else {\r\n                                        ModulePlatformAPI.showToast('\u6D4F\u89C8\u65F6\u957F\u4E0D\u591F')\r\n                                    }\r\n                                })\r\n\r\n                            }\r\n                            else {\r\n\r\n                                _doCallback(_opensuccess);\r\n                            }\r\n\r\n                        })\r\n                    })\r\n\r\n                    break;\r\n\r\n                case TaskType.spend:\r\n                    uiTaskBrowse.Show('buy', (_goodsid) => \r\n                    {\r\n                        console.log('uiTaskBrowse clickok', _type, _goodsid);\r\n                        this.ReportTask(_type, (_success1) => {\r\n                            if (!_success1) {\r\n\r\n                                return;\r\n                            }\r\n                            ModulePlatformAPI.showSku('' + _goodsid, (_success) => {\r\n                                if (_success) {\r\n                                    //\u8D2D\u4E70\u4EFB\u52A1\u53EA\u80FD\u662F2,\u56E0\u4E3A\u8D2D\u4E70\u884C\u4E3A\u9700\u8981\u5148\u6210\u529F\u9886\u53D6\u5956\u52B1\u624D\u80FD\u5224\u65AD\u6210\u529F\r\n                                    //\u8D2D\u4E70\u4EFB\u52A1\u5355\u72EC\u5904\u7406\r\n                                    this.spendStoreTime = Date.now();\r\n                                    ModuleTool.SetLocalItem(this.spendStoreKey, this.spendStoreTime);\r\n\r\n                                    this.WaitTaskResult(_type, (_success, _award) => {\r\n                                        if (_success) {\r\n                                            uiTaskBrowse.Hide();\r\n                                        }\r\n                                        _callback && _callback(_success, _award);\r\n                                        if (_showAwardPopup) {\r\n                                            uiGetReward.Show(_award);\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            })\r\n                            // _doCallback(_success);\r\n\r\n                        })\r\n                    })\r\n                    break;\r\n\r\n                case TaskType.friendship:\r\n                    ModuleStatistics.ClickShare();\r\n                    ModulePlatformAPI.Share(() => {\r\n                        ModuleStatistics.ShareSuccess();\r\n                        if (_degree == 0) {\r\n                            _callback && _callback(true);\r\n                        }\r\n                        else {\r\n                            this.WaitTaskResult(_type, (_success, _award) => {\r\n                                _callback && _callback(_success, _award);\r\n                                if (_showAwardPopup && _award) {\r\n                                    uiGetReward.Show(_award);\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }, () => {\r\n                        _callback && _callback(false);\r\n                    })\r\n                    break;\r\n                // case TaskType.scanLive:\r\n                // case TaskType.joinGroup:\r\n\r\n                // break;\r\n\r\n                default:\r\n                    console.error('[DoTask]\u672A\u77E5\u4EFB\u52A1\uFF01', _type);\r\n                    return;\r\n            }\r\n        }\r\n\r\n        //\u5148\u68C0\u6D4B\u5B8C\u6210\u524D\u7F6E\u4EFB\u52A1\r\n        this.DetectShowPreTask(_type, (_success) => {\r\n            if (!_success) {\r\n                return;\r\n            }\r\n            _toComplete();\r\n        })\r\n\r\n\r\n\r\n    }\r\n    /**\r\n     * \u5411\u670D\u52A1\u7AEF\u4E0A\u62A5\u4EFB\u52A1\u72B6\u6001\r\n     * @param _type \r\n     * @param _callback \r\n     * @returns \r\n     */\r\n    ReportTask(_type: TaskType, _callback?: (_success: boolean) => void, _refreshTaskState = true) {\r\n        console.log('\u4E0A\u62A5\u4EFB\u52A1', _type);\r\n        //\u6A21\u62DF\u4E0A\u62A5\r\n        if (!ModulePackage.Instance.CanUseNetAPI()) {\r\n            _callback && _callback(true);\r\n            return;\r\n        }\r\n\r\n        let _netPort = '';\r\n        let _sendData = undefined;\r\n        switch (_type) {\r\n            //\u5165\u4F1A\r\n            case TaskType.joinMember:\r\n            //\u5173\u6CE8\u5E97\u94FA\r\n            case TaskType.subscribeShop:\r\n                //\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\r\n                _netPort = \"/C/task/entranceMember\";\r\n                _sendData = { detailType: _type, outcome: 'success' };\r\n\r\n                break;\r\n            //\u8D2D\u4E70\u5956\u52B1\r\n            case TaskType.spend:\r\n                _netPort = \"/C/task/spendReport\";\r\n                // _sendData = { detailType: _type };\r\n                break;\r\n            case TaskType.scanShop:\r\n                _netPort = \"/C/task/taskReport\";\r\n                _sendData = { detailType: _type };\r\n\r\n                break;\r\n\r\n            default:\r\n                // console.error('[ReportTask]\u6CA1\u6709\u6B64\u4E0A\u62A5\u64CD\u4F5C\uFF01', _type);\r\n\r\n                _netPort = \"/C/task/taskReport\";\r\n                _sendData = { detailType: _type };\r\n                _callback && _callback(true);\r\n                return;\r\n        }\r\n        ModulePackage.Instance.SendNetMessage(\"\", _netPort, _sendData, \"post\", this,\r\n            (data) => {\r\n                if (data.code != 0) {\r\n                    //\u6D3B\u52A8\u5DF2\u7ED3\u675F\r\n                    if (data.code == 98 || data.code == 99) {\r\n                        ModuleGlobal.ChangeActivityState(data.code == 98 ? 'unstart' : 'off', data.msg);\r\n                        uiAlert.AutoShowActivityState();\r\n                        // uiAlert.Show({ content: _data.msg });\r\n                    }\r\n                    console.error('\u4E0A\u62A5\u5931\u8D25', _type, data.code, data.msg);\r\n                    _callback && _callback(false);\r\n                    return;\r\n                }\r\n                //\u5237\u65B0\u4EFB\u52A1\u5217\u8868\r\n                _refreshTaskState && this.ToUpdateTaskState(_type);\r\n                _callback && _callback(true);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * \u9886\u53D6\u4EFB\u52A1\u5956\u52B1\r\n     * @param _type \r\n     * @param _callback \r\n     * @param _showAwardPopup \u662F\u5426\u663E\u793A\u83B7\u5F97\u5956\u52B1\u5F39\u7A97\uFF0C\u9ED8\u8BA4\u663E\u793A\r\n     * @returns \r\n     */\r\n    ReceiveTaskAward(_type: TaskType, _callback?: (_success: boolean, _awardata?: TaskAwardInfo[], _otherInfo?: any) => void, _showAwardPopup = true) {\r\n        console.log('\u9886\u53D6\u4EFB\u52A1\u5956\u52B1', _type);\r\n        //\u53BB\u9886\u53D6\u5956\u52B1\r\n        let _toReceive = () => {\r\n\r\n            //\u663E\u793A\u5956\u52B1\u5F39\u7A97\r\n            let _showReward = (_reward, _userlist?: any) => {\r\n                if (TaskType.friendship == _type && _userlist && _userlist.length > 0) {\r\n                    uiTaskInvite.Show({\r\n                        type: 'invit',\r\n                        info: _userlist,\r\n                        callBack: () => {\r\n                            console.log('uiGetReward', _type, _reward);\r\n                            //\u663E\u793A\u83B7\u5F97\u5956\u52B1\u5F39\u7A97\r\n                            uiGetReward.Show(_reward);\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    // console.error('uiGetReward', _type, _reward);\r\n\r\n                    //\u663E\u793A\u83B7\u5F97\u5956\u52B1\u5F39\u7A97\r\n                    uiGetReward.Show(_reward);\r\n                }\r\n            }\r\n            //\u6A21\u62DF\r\n            if (!ModulePackage.Instance.CanUseNetAPI()) {\r\n                let _reward: TaskAwardInfo[] = [\r\n                    {\r\n                        type: GCurrencyType.wmScore,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 10,//\u5956\u52B1\u6570\u503C\r\n                    },\r\n                    {\r\n                        type: GCurrencyType.times,//\u5956\u52B1\u7C7B\u578B\r\n                        value: 1,//\u5956\u52B1\u6570\u503C\r\n                    }\r\n                ];\r\n                let _result = true;\r\n                _callback && _callback(_result, _reward);\r\n                if (_result && _showAwardPopup) {\r\n                    //\u663E\u793A\u83B7\u5F97\u5956\u52B1\u5F39\u7A97\r\n                    _showReward(_reward, _type == TaskType.friendship ? [{ avatar: '', nickName: '\u88AB\u9080\u8BF7\u4EBA' }] : undefined);\r\n                    // uiGetReward.Show(_reward);\r\n                }\r\n                return;\r\n            }\r\n            if (!this.GetTaskInfo(_type)) {\r\n                _callback && _callback(false);\r\n                return;\r\n            }\r\n\r\n            let _netPort = '';\r\n            let _sendData = undefined;\r\n            switch (_type) {\r\n\r\n                case TaskType.joinMember://\u5165\u4F1A\r\n                case TaskType.subscribeShop://\u5173\u6CE8\u5E97\u94FA\r\n                    _netPort = 'getMemberOrFollowPrize';\r\n                    _sendData = { detailType: _type };\r\n\r\n                    break;\r\n                case TaskType.dayGift://\u6BCF\u65E5\u793C\u5305\r\n                    _netPort = 'getDayGift';\r\n                    break;\r\n\r\n                case TaskType.checkInDay:\r\n                case TaskType.memberAward:\r\n                case TaskType.collectGoods:\r\n                case TaskType.scanShop:\r\n                case TaskType.scanGoods:\r\n                    // case TaskType.scanLive:\r\n                    // case TaskType.joinGroup:\r\n                    _netPort = 'getTaskPrize';\r\n                    _sendData = { detailType: _type };\r\n\r\n                    break;\r\n\r\n                case TaskType.spend:\r\n                    _netPort = 'getSpendPrize';\r\n                    break;\r\n\r\n                case TaskType.friendship:\r\n                    _netPort = 'getInvitePrize';\r\n                    break;\r\n\r\n                default:\r\n                    console.error('[ReceiveTaskAward]\u4E0D\u5408\u6CD5\u7684\u9886\u53D6\u64CD\u4F5C\uFF01', _type);\r\n                    return;\r\n            }\r\n\r\n            //\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\r\n            ModulePackage.Instance.SendNetMessage(\"\", \"/C/task/\" + _netPort, _sendData, \"post\", this,\r\n                (_data) => {\r\n                    if (_data.code != 0) {\r\n                        //\u6D3B\u52A8\u5DF2\u7ED3\u675F\r\n                        if (_data.code == 98 || _data.code == 99) {\r\n                            ModuleGlobal.ChangeActivityState(_data.code == 98 ? 'unstart' : 'off', _data.msg);\r\n                            uiAlert.AutoShowActivityState();\r\n                            // uiAlert.Show({ content: _data.msg });\r\n                        }\r\n                        console.error('\u9886\u53D6\u4EFB\u52A1\u5956\u52B1\u5931\u8D25', _data.code, _type, _data.msg);\r\n                        _callback && _callback(false);\r\n                        return;\r\n                    }\r\n                    //\u83B7\u53D6\u5956\u52B1\u5185\u5BB9\r\n                    let _reward: TaskAwardInfo[] = undefined;\r\n                    let _isArr = Array.isArray(_data.data);\r\n                    if (_isArr) {\r\n                        _reward = _data.data;\r\n                    }\r\n                    else {\r\n                        _reward = _data.data.reward;\r\n                    }\r\n                    //\u67E5\u627E\u5E76\u5220\u9664\u6570\u636E\u4E3A0\u7684\u5956\u52B1\r\n                    if (_reward && _reward.length > 0) {\r\n                        for (let index = _reward.length - 1; index >= 0; index--) {\r\n                            const element = _reward[index];\r\n                            if (!element.value) {\r\n                                _reward.splice(index, 1);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                    _callback && _callback(true, _reward);\r\n                    //\u4EFB\u52A1\u6253\u70B9\r\n                    ModuleStatistics.CompleteTask(_type);\r\n                    //\u4EFB\u52A1\u6D88\u8D39\u6253\u70B9\r\n                    if (_type == TaskType.spend) {\r\n                        let _record = _data.data.numIids || {};\r\n                        let _payN = '' + _data.data.totalFee;\r\n                        let _rewardN = '';\r\n                        let _timesN = '';\r\n                        if (_reward) {\r\n                            let _rn = _reward.find(v => v.type == GCurrencyType.wmScore);\r\n                            if (_rn) {\r\n                                _rewardN = '' + _rn.value;\r\n                            }\r\n                            let _tn = _reward.find(v => v.type == GCurrencyType.times);\r\n                            if (_tn) {\r\n                                _timesN = '' + _tn.value;\r\n                            }\r\n                        }\r\n                        ModuleStatistics.TaskPay(_record, _payN, _rewardN, _timesN);\r\n                    }\r\n                    if (_showAwardPopup) {\r\n                        _showReward(_reward, _data.data.userList);\r\n\r\n                    }\r\n                    if (_reward) {\r\n\r\n                        for (const iterator of _reward) {\r\n                            if (iterator.type) {\r\n                                //\u66F4\u65B0\u8D27\u5E01\r\n                                ModuleGlobal.UpdateCurrency(iterator.type);\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    //\u5237\u65B0\u4EFB\u52A1\u5217\u8868\r\n                    // this.UpdateTaskList(undefined, _type);\r\n                    this.ToUpdateTaskState(_type)\r\n                });\r\n        }\r\n        //\u9886\u53D6\u524D\u786E\u5B9A\u524D\u7F6E\u4EFB\u52A1\u5DF2\u5B8C\u6210\r\n        this.DetectShowPreTask(_type, (_success) => {\r\n            if (!_success) {\r\n                return;\r\n            }\r\n            _toReceive();\r\n\r\n\r\n        });\r\n\r\n    }\r\n    /**\r\n     * \u68C0\u6D4B\u6267\u884C\u524D\u7F6E\u4EFB\u52A1\r\n     * @param _taskT \r\n     * @param _completeCallback \r\n     */\r\n    DetectShowPreTask(_taskT: TaskType | TaskInfo, _completeCallback?: (_success: boolean) => void) {\r\n        let _curTask = null as TaskInfo\r\n        if (typeof _taskT == 'object') {\r\n            _curTask = _taskT;\r\n        }\r\n        else {\r\n            _curTask = this.GetTaskInfo(_taskT);\r\n        }\r\n        if (_curTask && _curTask.giftParams) {\r\n            let _preTask = this.GetTaskInfo(_curTask.giftParams);\r\n            if (!_preTask) {\r\n                ModulePlatformAPI.showToast(\"\u672A\u627E\u5230\u524D\u7F6E\u4EFB\u52A1:\" + _curTask.giftParams);\r\n            }\r\n            if (_preTask && _preTask.status == TaskStatusType.waiting) {\r\n                uiTaskPrecondition.Show({\r\n                    info: { title: _preTask.title }, callBack: (_successCallback?: Function) => {\r\n\r\n                        this.DoTask(_curTask.giftParams, (_success: boolean) => {\r\n                            if (_success) {\r\n                                //\u5B8C\u6210\u524D\u7F6E\u4EFB\u52A1\u5173\u95ED\u524D\u7F6E\u4EFB\u52A1\u754C\u9762\r\n                                _successCallback && _successCallback();\r\n                                this.ToUpdateTaskState(_curTask.detailType, () => {\r\n                                    _completeCallback && _completeCallback(_success);\r\n                                })\r\n                            }\r\n                            else {\r\n                                _completeCallback && _completeCallback(_success);\r\n                            }\r\n\r\n                        }, 1)\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                _completeCallback && _completeCallback(true);\r\n            }\r\n\r\n        }\r\n        else {\r\n            _completeCallback && _completeCallback(true);\r\n        }\r\n    }\r\n\r\n\r\n    //-----------------------------------------------\u9700\u8981\u7B49\u5F85\u5B8C\u6210\u7684\u4EFB\u52A1--------------------------------------//\r\n    private taskResultCallback: { [key: string]: (_success: boolean, _info?: any) => void } = {};\r\n    /**\r\n     * \u7B49\u5F85\u4EFB\u52A1\u6267\u884C\u7ED3\u679C\r\n     * @param _type \r\n     * @param _callback \r\n     */\r\n    WaitTaskResult(_type: TaskType, _callback?: (_success: boolean, _info?: any) => void) {\r\n        this.taskResultCallback[_type] = _callback;\r\n    }\r\n    /**\r\n     * \u83B7\u5F97\u7B49\u5F85\u4EFB\u52A1\u7684\u7ED3\u679C\r\n     * @param _type \r\n     * @param _success \r\n     */\r\n    DetectWaitTaskResult(_type: TaskType) {\r\n\r\n        if (!ModuleGlobal.IsActivityOn()) {\r\n            console.error('\u6D3B\u52A8\u7ED3\u675F\u4E0D\u80FD\u518D\u505A\u4EFB\u52A1');\r\n            return;\r\n        }\r\n        let fireWaitTaskResult = (_success: boolean, _info?: any) => {\r\n            this.taskResultCallback[_type] && this.taskResultCallback[_type](_success, _info);\r\n            this.taskResultCallback[_type] = null;\r\n        }\r\n        switch (_type) {\r\n            //\u6D4F\u89C8\u5E97\u94FA\r\n            case TaskType.scanGoods:\r\n            case TaskType.scanShop:\r\n                if (this.goBrowseTime[_type] > 0) {\r\n                    if (Date.now() - this.goBrowseTime[_type] >= this.browseTime) {\r\n                        fireWaitTaskResult(true);\r\n                    }\r\n                    else {\r\n                        fireWaitTaskResult(false);\r\n                    }\r\n                    this.goBrowseTime[_type] = 0;\r\n                }\r\n                break;\r\n            //\u8D2D\u4E70\u5546\u54C1\r\n            case TaskType.spend:\r\n                if (this.spendStoreTime > 0) {\r\n                    //\u68C0\u6D4B\u6B21\u6570\r\n                    let _tryTime = 1;\r\n                    //\u5982\u679C\u6709\u8D2D\u4E70\u884C\u4E3A\u5C1D\u8BD5\u83B7\u53D6\u5956\u52B1\r\n                    let _detect = () => {\r\n                        _tryTime--;\r\n                        this.ReceiveTaskAward(_type, (_success, _award) => {\r\n                            if (_success) {\r\n                                this.spendStoreTime = 0;\r\n                                ModuleTool.SetLocalItem(this.spendStoreKey, this.spendStoreTime);\r\n                                fireWaitTaskResult(true, _award);\r\n                            }\r\n                            else {\r\n                                //\u8D2D\u4E70\u6CA1\u6210\u529F5\u79D2\u540E\u518D\u68C0\u6D4B\r\n                                if (_tryTime > 0) {\r\n                                    setTimeout(() => {\r\n                                        _detect();\r\n                                    }, 5000);\r\n                                }\r\n                            }\r\n                        }, false);\r\n                    }\r\n                    _detect();\r\n\r\n                }\r\n                // if (uiTaskBrowse.curType == 'browse' && this.goBrowseTime > 0) {\r\n                //     if (Date.now() - this.goBrowseTime >= this.browseTime) {\r\n                //         fireWaitTaskResult(true);\r\n                //     }\r\n                //     this.goBrowseTime = 0;\r\n                // }\r\n                break;\r\n            //\u5206\u4EAB\u597D\u53CB\r\n            case TaskType.friendship:\r\n                //\u68C0\u6D4B\u6B21\u6570\r\n                let _tryTime = 1;\r\n                let _detect = () => {\r\n                    _tryTime--;\r\n                    this.ReceiveTaskAward(_type, (_success, _award) => {\r\n                        if (_success) {\r\n                            fireWaitTaskResult(true, _award);\r\n                        }\r\n                        else {\r\n                            //\u6CA1\u6210\u529F5\u79D2\u540E\u518D\u68C0\u6D4B\r\n                            if (_tryTime > 0) {\r\n                                setTimeout(() => {\r\n                                    _detect();\r\n                                }, 5000);\r\n                            }\r\n                        }\r\n                    }, false);\r\n                }\r\n                _detect();\r\n                break;\r\n\r\n            default:\r\n                return;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    //-----------------------------------------------\u5176\u4ED6--------------------------------------//\r\n\r\n    /**\r\n     * \u81EA\u52A8\u5224\u65AD\u663E\u793A\u4EFB\u52A1\u5916\u90E8\u5F39\u7A97\r\n     * @param _type \r\n     * @param _callback \r\n     */\r\n    AutoShowExtraPopup(_type: TaskType, _parent?: fgui.GComponent, _callback?: (_success: boolean) => void) {\r\n        let _task = this.GetTaskInfo(_type);\r\n        console.log('_task', _task)\r\n        if (_task.status == TaskStatusType.finish\r\n            || (_task.status == TaskStatusType.waiting && _task.period > 0)) {\r\n            _callback && _callback(false);\r\n            return;\r\n        }\r\n        console.log('AutoShowExtraPopup');\r\n\r\n        uiTaskExtraPopup.Show({\r\n            // parent:_parent\r\n            info: { type: _type }, callBack: (_successCallback?: Function) => {\r\n                this.DoTask(_type, (_success) => {\r\n                    if (_success) {\r\n                        _successCallback && _successCallback();\r\n                    }\r\n                    _callback && _callback(_success);\r\n                }, 2, true)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //\u4EFB\u52A1\u5012\u8BA1\u65F6\r\n    private TaskCountDown() {\r\n        //\u6BCF\u6B21\u5FAA\u73AF\u7528\u65F6ms\r\n        const perMS = 200;\r\n        setInterval(() => {\r\n            let _t = Date.now();\r\n\r\n\r\n            for (const key in this.targetCountDownTime) {\r\n                let _time = this.targetCountDownTime[key] - _t;\r\n\r\n                if (_time <= 0) {\r\n                    _time = 0;\r\n                    delete this.targetCountDownTime[key];\r\n                    //\u5237\u65B0\u5012\u8BA1\u65F6\u5B8C\u6210\u7684\u4EFB\u52A1\r\n                    this.ToUpdateTaskState(key as any);\r\n                }\r\n                if (_time % 1000 < perMS) {\r\n                    // console.log('TriggerTaskUpdate', _time / 1000);\r\n                    let _task = this.GetTaskInfo(key as any);\r\n                    if (_task) {\r\n                        _task.period = _time;\r\n                        this.TriggerTaskUpdate(key as any, _task);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }, perMS)\r\n    }\r\n    //\u53BB\u66F4\u65B0\u6B64\u4EFB\u52A1\u72B6\u6001\r\n    ToUpdateTaskState(_type: TaskType, _callBack?: (_success: boolean) => void) {\r\n        let _tasks: TaskType[] = [];\r\n        let _relationTasks = this.GetRelationTasks(_type);\r\n        if (_relationTasks.length > 0) {\r\n            for (const iterator of _relationTasks) {\r\n                _tasks.push(iterator)\r\n            }\r\n        }\r\n        _tasks.push(_type)\r\n        this.UpdateTaskList(_callBack, _tasks);\r\n    }\r\n    //\u4EFB\u52A1\u5DF2\u4EFB\u52A1\u66F4\u65B0\u89E6\u53D1\u4EFB\u52A1\u66F4\u65B0\u76D1\u542C\r\n    private TriggerTaskUpdate(_type: TaskType, _newInfo: TaskInfo) {\r\n        Laya.stage.event(this.TaskUpdateKey + _type, _newInfo);\r\n    }\r\n    /**\r\n     * \u76D1\u542C\u4EFB\u52A1\u66F4\u65B0\r\n     * @param _type \u76D1\u542C\u7684\u4EFB\u52A1\u7C7B\u578B\r\n     * @param _caller \u76D1\u542C\u6240\u5728\u5BF9\u8C61\r\n     * @param _callBack \u76D1\u542C\u56DE\u8C03\r\n     */\r\n    ListenTaskUpdate(_type: TaskType, _caller: any, _callBack: (_newInfo: TaskInfo) => void) {\r\n        Laya.stage.on(this.TaskUpdateKey + _type, _caller, _callBack);\r\n    }\r\n\r\n\r\n    //-----------------------------------------------\u83B7\u53D6\u4EFB\u52A1\u76F8\u5173\u4FE1\u606F--------------------------------------//\r\n    /**\r\n     * \u83B7\u53D6\u4EFB\u52A1\u4FE1\u606F\r\n     * @param _type \r\n     * @returns \r\n     */\r\n    GetTaskInfo(_type: TaskType) {\r\n        // let _task = this.curTaskInfoArr.find(v => v.detailType == _type);\r\n        let _task = this.curTaskInfoObj[_type];\r\n        return _task;\r\n    }\r\n    GetAllTaskInfo() {\r\n        return this.curTaskInfoArr;\r\n    }\r\n    private relationTasks: { [key: string]: TaskType[] } = {};\r\n    /**\r\n     * \u83B7\u53D6\u5173\u8054\u4EFB\u52A1\uFF08\u6B64\u4EFB\u52A1\u53D8\u66F4\uFF0C\u5176\u4ED6\u4EFB\u52A1\u4E5F\u53EF\u80FD\u53D8\u66F4\u7684\u4EFB\u52A1\u4E3A\u5173\u8054\u4EFB\u52A1\uFF09\r\n     * @param _type \r\n     * @returns \r\n     */\r\n    GetRelationTasks(_type: TaskType) {\r\n        if (this.relationTasks[_type]) {\r\n            return this.relationTasks[_type];\r\n        }\r\n        let _taskTypes: TaskType[] = [];\r\n        let _curtask = this.GetTaskInfo(_type);\r\n        if (!_curtask) {\r\n            this.relationTasks[_type] = _taskTypes;\r\n            return _taskTypes;\r\n        }\r\n        for (const iterator of this.GetAllTaskInfo()) {\r\n            if (iterator.giftParams && iterator.giftParams == _type) {\r\n                _taskTypes.push(iterator.detailType);\r\n            }\r\n        }\r\n        this.relationTasks[_type] = _taskTypes;\r\n        return _taskTypes;\r\n\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u6307\u5B9A\u4EFB\u52A1\u7684\u6307\u5B9A\u7C7B\u578B\u5956\u52B1\u6570\u91CF\r\n     * \u6CA1\u6709\u5219\u8FD4\u56DE0\r\n     */\r\n    GetTaskAwardValue(_taskT: TaskType | TaskInfo, _awardType: GCurrencyType) {\r\n        let _task = null as TaskInfo\r\n        if (typeof _taskT == 'object') {\r\n            _task = _taskT;\r\n        }\r\n        else {\r\n            _task = this.GetTaskInfo(_taskT);\r\n        }\r\n        let _award = _task.reward.find(v => v.type == _awardType);\r\n        if (!_award) {\r\n            return 0;\r\n        }\r\n        return _award.value;\r\n    }\r\n\r\n\r\n    /**\r\n     * \u66F4\u6539\u4EFB\u52A1\u56FE\u6807\u6240\u5728\u8DEF\u5F84\r\n     */\r\n    ChangeTaskIconPath(_path: string) {\r\n        this.taskIconPath = _path;\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u4EFB\u52A1\u56FE\u6807url\r\n     * \u56FE\u6807\u8DEF\u5F84\u4E3A\u57FA\u7840\u8DEF\u5F84+\u4EFB\u52A1\u7C7B\u578B+\".png\"\r\n     * @param _type \r\n     */\r\n    GetTaskIconUrl(_type: TaskType) {\r\n        return this.taskIconPath + _type + '.png';\r\n    }\r\n\r\n\r\n}\r\nexport let TaskLogic = TaskLogic_c.Instance();", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport { GCurrencyType, GoodsInfoType } from '../ModuleGlobal';\nimport UI_buyItem from './Task/UI_buyItem';\nimport uiaward from './uiaward';\nimport { TaskInfo, TaskLogic, TaskType } from './TaskLogic';\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\nimport { ModuleStatistics } from '../ModuleStatistics';\n\nexport default class uibuyItem extends UI_buyItem {\n\n    m_awardImg: uiaward;\n\n    onConstruct() {\n        super.onConstruct();\n        this.m_buyBtn.onClick(this, () => {\n\n            this.selectCallBack && this.selectCallBack(this.myGoodInfo.goodsId);\n            ModuleAudio.PlayComonBtnAudio();\n            ModuleStatistics.TaskExposure('buy', '' + this.myGoodInfo.goodsId, '' + this.myGoodInfo.goodsName, '' + this.myGoodInfo.price);\n        })\n    }\n    myGoodInfo: GoodsInfoType;\n    private selectCallBack?: (_goodsId: number) => void;\n    SetInfo(_info: GoodsInfoType, _selectCallBack?: (_goodsId: number) => void) {\n        this.myGoodInfo = _info;\n        this.selectCallBack = _selectCallBack;\n        this.m_goodsImg.url = '' + _info.pic;\n        this.m_content.text = '' + _info.goodsName;\n        // this.m_priceTxt.text = '\u4EF7\u503C\uFF1A' + _info.price;\n        this.m_priceTxt.text = '\uFFE5' + _info.price;\n        // this.m_priceTxt.visible = false;\n\n        let _countAward = (_mult: number) => {\n            //\u6839\u636E\u500D\u6570\u8BA1\u7B97\u771F\u5B9E\u5956\u52B1\u503C(\u5411\u4E0A\u53D6\u6574)\n            let _n = Math.ceil(_mult * ModuleTool.ChangeToNumber(_info.price));\n            // if (_n < 1) {\n            //     _n = 1;\n            // }\n            return _n;\n        }\n        let _award = {\n            coinN: _countAward(TaskLogic.GetTaskAwardValue(TaskType.spend, GCurrencyType.times)),\n            scoreN: _countAward(TaskLogic.GetTaskAwardValue(TaskType.spend, GCurrencyType.wmScore)),\n        }\n\n        this.m_awardImg.SetInfo(_award);\n    }\n    clearAll() {\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_coinCom extends fgui.GComponent {\n\n\tpublic m_countTxt:fgui.GTextField;\n\tpublic static URL:string = \"ui://czp63sggmxaf4\";\n\n\tpublic static createInstance():UI_coinCom {\n\t\treturn <UI_coinCom>(fgui.UIPackage.createObject(\"Task\", \"coinCom\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_countTxt = <fgui.GTextField>(this.getChildAt(1));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport UI_coinCom from './Task/UI_coinCom';\n\nexport default class uicoinCom extends UI_coinCom {\n\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_collectItem extends fgui.GComponent {\n\n\tpublic m_isCollected:fgui.Controller;\n\tpublic m_goodsImg:fgui.GLoader;\n\tpublic m_collectBtn:fgui.GButton;\n\tpublic m_priceTxt:fgui.GTextField;\n\tpublic m_content:fgui.GTextField;\n\tpublic m_slideIn:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sgghfek11\";\n\n\tpublic static createInstance():UI_collectItem {\n\t\treturn <UI_collectItem>(fgui.UIPackage.createObject(\"Task\", \"collectItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_isCollected = this.getControllerAt(0);\n\t\tthis.m_goodsImg = <fgui.GLoader>(this.getChildAt(0));\n\t\tthis.m_collectBtn = <fgui.GButton>(this.getChildAt(1));\n\t\tthis.m_priceTxt = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_content = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_slideIn = this.getTransitionAt(0);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport { GoodsInfoType } from '../ModuleGlobal';\nimport { ModulePlatformAPI } from '../ModulePlatformAPI';\nimport { ModuleStatistics } from '../ModuleStatistics';\nimport { ModuleAudio } from '../ModuleTool';\nimport UI_collectItem from './Task/UI_collectItem';\n\nexport default class uicollectItem extends UI_collectItem {\n\n    onConstruct() {\n        super.onConstruct();\n        this.m_collectBtn.onClick(this, () => {\n            console.error('m_collectBtn ', this.myGoodInfo.goodsId);\n\n            this.selectCallBack && this.selectCallBack(this.myGoodInfo.goodsId);\n            ModuleAudio.PlayComonBtnAudio();\n            ModuleStatistics.TaskExposure('collect', '' + this.myGoodInfo.goodsId, '' + this.myGoodInfo.goodsName, '' + this.myGoodInfo.price);\n        })\n    }\n    myGoodInfo: GoodsInfoType;\n    private selectCallBack?: (_goodsId: number) => void;\n    SetInfo(_info: GoodsInfoType, _selectCallBack?: (_goodsId: number) => void) {\n        this.myGoodInfo = _info;\n        this.selectCallBack = _selectCallBack;\n        this.m_goodsImg.url = '' + _info.pic;\n        this.m_content.text = '' + _info.goodsName;\n        // this.m_priceTxt.text = '\u4EF7\u503C\uFF1A' + _info.price;\n        // this.m_priceTxt.visible = false;\n        this.m_priceTxt.text = '\uFFE5' + _info.price;\n        this.m_isCollected.setSelectedPage(_info.isCollected ? '\u5DF2\u6536\u85CF' : '\u672A\u6536\u85CF');\n\n        //\u66F4\u6539\u6536\u85CF\u72B6\u6001\n        ModulePlatformAPI.CheckGoodsCollectedStatus(_info.goodsId, (_iscollect) => {\n            if (_iscollect != _info.isCollected) {\n                //\u6536\u85CF\u72B6\u6001\u4E0D\u4E00\u81F4(\u4E00\u822C\u4E0D\u4F1A\u6267\u884C\u8FD9\u91CC)\n                this.m_isCollected.setSelectedPage(_iscollect ? '\u5DF2\u6536\u85CF' : '\u672A\u6536\u85CF');\n                console.error('\u6536\u85CF\u72B6\u6001\u4E0D\u4E00\u81F4', _info.goodsId, _iscollect, _info.isCollected);\n            }\n\n        })\n    }\n    clearAll() {\n        Laya.stage.offAllCaller(this);\n        Laya.timer.clearAll(this);\n    }\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_rewardCom extends fgui.GComponent {\n\n\tpublic m_type:fgui.Controller;\n\tpublic m_rewardLoader:fgui.GLoader;\n\tpublic m_rewardTxt:fgui.GTextField;\n\tpublic static URL:string = \"ui://czp63sggmsmcz\";\n\n\tpublic static createInstance():UI_rewardCom {\n\t\treturn <UI_rewardCom>(fgui.UIPackage.createObject(\"Task\", \"rewardCom\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_type = this.getControllerAt(0);\n\t\tthis.m_rewardLoader = <fgui.GLoader>(this.getChildAt(0));\n\t\tthis.m_rewardTxt = <fgui.GTextField>(this.getChildAt(1));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport UI_rewardCom from './Task/UI_rewardCom';\n\nexport default class uirewardCom extends UI_rewardCom {\n\n\t\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_taskItem extends fgui.GComponent {\n\n\tpublic m_state:fgui.Controller;\n\tpublic m_iconCtrl:fgui.Controller;\n\tpublic m_isTimer:fgui.Controller;\n\tpublic m_styleCtrl:fgui.Controller;\n\tpublic m_progressState:fgui.Controller;\n\tpublic m_iconShowState:fgui.Controller;\n\tpublic m_titleTxt:fgui.GTextField;\n\tpublic m_taskTxt:fgui.GTextField;\n\tpublic m_iconLoader:fgui.GLoader;\n\tpublic m_timeTxt:fgui.GTextField;\n\tpublic m_yigaunzhu:fgui.GImage;\n\tpublic m_getBtn:fgui.GButton;\n\tpublic m_goBtn:fgui.GButton;\n\tpublic m_gotBtn:fgui.GButton;\n\tpublic m_followBtn:fgui.GButton;\n\tpublic m_coinIcon:fgui.GImage;\n\tpublic m_scoreIcon:fgui.GImage;\n\tpublic m_countTxt:fgui.GTextField;\n\tpublic m_scorecountTxt:fgui.GTextField;\n\tpublic m_slideIn:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sgghd9ye\";\n\n\tpublic static createInstance():UI_taskItem {\n\t\treturn <UI_taskItem>(fgui.UIPackage.createObject(\"Task\", \"taskItem\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_state = this.getControllerAt(0);\n\t\tthis.m_iconCtrl = this.getControllerAt(1);\n\t\tthis.m_isTimer = this.getControllerAt(2);\n\t\tthis.m_styleCtrl = this.getControllerAt(3);\n\t\tthis.m_progressState = this.getControllerAt(4);\n\t\tthis.m_iconShowState = this.getControllerAt(5);\n\t\tthis.m_titleTxt = <fgui.GTextField>(this.getChildAt(2));\n\t\tthis.m_taskTxt = <fgui.GTextField>(this.getChildAt(3));\n\t\tthis.m_iconLoader = <fgui.GLoader>(this.getChildAt(4));\n\t\tthis.m_timeTxt = <fgui.GTextField>(this.getChildAt(5));\n\t\tthis.m_yigaunzhu = <fgui.GImage>(this.getChildAt(7));\n\t\tthis.m_getBtn = <fgui.GButton>(this.getChildAt(8));\n\t\tthis.m_goBtn = <fgui.GButton>(this.getChildAt(9));\n\t\tthis.m_gotBtn = <fgui.GButton>(this.getChildAt(10));\n\t\tthis.m_followBtn = <fgui.GButton>(this.getChildAt(11));\n\t\tthis.m_coinIcon = <fgui.GImage>(this.getChildAt(12));\n\t\tthis.m_scoreIcon = <fgui.GImage>(this.getChildAt(13));\n\t\tthis.m_countTxt = <fgui.GTextField>(this.getChildAt(14));\n\t\tthis.m_scorecountTxt = <fgui.GTextField>(this.getChildAt(15));\n\t\tthis.m_slideIn = this.getTransitionAt(0);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport UI_taskItem from './Task/UI_taskItem';\nimport { TaskInfo, TaskLogic, TaskStatusType, TaskType } from './TaskLogic';\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\nimport { GCurrencyType, ModuleGlobal } from '../ModuleGlobal';\nimport ModuleWindow from '../ModuleWindow';\nimport uiAlert from '../GeneralInterface/uiAlert';\n\nexport default class uitaskItem extends UI_taskItem {\n\n    private myInfo: TaskInfo = null as any;\n    private lastIcon = '';\n    onConstruct() {\n        super.onConstruct();\n        this.clickBtn();\n    }\n\n    private parentWinHandler?: ModuleWindow\n    SetInfo(_info: TaskInfo, _parentwinHandler?: ModuleWindow) {\n        this.parentWinHandler = _parentwinHandler;\n        this.clearAll();\n        this.setShow(_info);\n        //\u76D1\u542C\u72B6\u6001\u53D8\u5316\n        Laya.stage.on(TaskLogic.TaskUpdateKey + this.myInfo.detailType, this, this.setShow);\n    }\n\n    //\u8BBE\u7F6E\u663E\u793A\u5185\u5BB9\n    private setShow(_info: TaskInfo) {\n        this.myInfo = _info;\n        this.ShowBaseInfo();\n        this.ShowProgress();\n        this.ChangeTaskState(this.myInfo.status);\n        this.SetAwardShow();\n\n        //\u6539\u53D8\u7C7B\u578B\u624D\u4F1A\u66F4\u65B0icon\n        if (this.lastIcon != _info.detailType) {\n            this.lastIcon = _info.detailType;\n            this.m_iconLoader.url = TaskLogic.GetTaskIconUrl(_info.detailType);\n        }\n    }\n\n\n    //\u663E\u793A\u8FDB\u5EA6\n    private ShowBaseInfo() {\n        this.m_titleTxt.text = this.myInfo.title;\n    }\n    //\u8BBE\u7F6E\u4EFB\u52A1\u72B6\u6001\n    private ChangeTaskState(_state: TaskStatusType) {\n        let _text = '\u524D\u5F80';\n        switch (_state) {\n            case TaskStatusType.waiting:\n                _text = '\u524D\u5F80';\n\n                break;\n            case TaskStatusType.allow:\n                _text = '\u53EF\u9886\u53D6';\n                break;\n            case TaskStatusType.finish:\n                _text = '\u5DF2\u9886\u53D6';\n                break;\n\n            default:\n                break;\n        }\n\n        this.m_state.setSelectedPage(_text);\n        this.ChangeTimerState();\n    }\n    //\u66F4\u6539\u65F6\u95F4\u72B6\u6001\n    private ChangeTimerState() {\n        if (this.myInfo.status != TaskStatusType.waiting) {\n            return;\n        }\n        this.m_isTimer.selectedIndex = this.myInfo.period > 0 ? 1 : 0;\n        //\u66F4\u65B0\u65F6\u95F4\n        if (this.m_isTimer.selectedIndex == 1) {\n            this.m_timeTxt.setVar('time', ModuleTool.GetTime(this.myInfo.period, 'hh:mm:ss')).flushVars();\n        }\n    }\n    //\u8BBE\u7F6E\u5956\u54C1\u663E\u793A\n    private SetAwardShow() {\n        let _awradTime = 0;\n        let _awradScore = 0;\n        if (this.myInfo.detailType != TaskType.spend) {\n            for (const awrad of this.myInfo.reward) {\n                switch (awrad.type) {\n                    case GCurrencyType.times:\n                        _awradTime = awrad.value;\n                        break;\n                    case GCurrencyType.wmScore:\n                        _awradScore = awrad.value;\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n\n        let _haveTime = _awradTime > 0;\n        let _haveScore = _awradScore > 0;\n        if (_haveTime && _haveScore) {\n            this.m_iconShowState.setSelectedPage('\u53CC\u5956\u52B1');\n        }\n        else if (_haveTime) {\n            this.m_iconShowState.setSelectedPage('\u5956\u52B11');\n        }\n        else if (_haveScore) {\n            this.m_iconShowState.setSelectedPage('\u5956\u52B12');\n        }\n        else {\n            this.m_iconShowState.setSelectedPage('\u65E0\u5956\u52B1');\n        }\n        // this.m_coinIcon.visible = _haveTime;\n        // this.m_countTxt.visible = _haveTime;\n        // this.m_scoreIcon.visible = _haveScore;\n        // this.m_scorecountTxt.visible = _haveScore;\n        if (_haveTime) {\n            this.m_countTxt.setVar('count', '' + _awradTime).flushVars();\n        }\n        if (_haveScore) {\n            this.m_scorecountTxt.setVar('scorecount', '' + _awradScore).flushVars();\n        }\n    }\n    //\u663E\u793A\u8FDB\u5EA6\n    private ShowProgress() {\n        let _show = true;\n        if (this.myInfo.rewardTime && this.myInfo.rewardTime == 1) {\n            _show = false;\n        }\n        // this.m_taskTxt.visible = _show;\n        this.m_progressState.setSelectedPage(_show ? '\u663E\u793A' : '\u4E0D\u663E\u793A');\n        if (_show) {\n            this.m_taskTxt.text = `(${this.myInfo.competition})`;\n        }\n\n    }\n\n    private clickBtn() {\n        this.m_goBtn.onClick(this, () => {\n            console.log('m_goBtn');\n\n            ModuleAudio.PlayComonBtnAudio();\n            \n            if(uiAlert.AutoShowActivityState()){\n                return;\n            }\n            // if (ModuleGlobal.ActivityState == 'off') {\n            //     uiAlert.Show({ content: \"\u6D3B\u52A8\u5DF2\u4E0B\u7EBF,\u4E0B\u6B21\u518D\u6765\u5427~\" });\n            //     return;\n            // }\n            this.doTask();\n\n        })\n        this.m_followBtn.onClick(this, () => {\n            console.log('m_followBtn');\n\n            ModuleAudio.PlayComonBtnAudio();\n            if(uiAlert.AutoShowActivityState()){\n                return;\n            }\n            // if (ModuleGlobal.ActivityState == 'off') {\n            //     uiAlert.Show({ content: \"\u6D3B\u52A8\u5DF2\u4E0B\u7EBF,\u4E0B\u6B21\u518D\u6765\u5427~\" });\n            //     return;\n            // }\n            this.doTask();\n\n        })\n        this.m_getBtn.onClick(this, () => {\n            console.log('m_getBtn');\n\n            ModuleAudio.PlayComonBtnAudio();\n            if(uiAlert.AutoShowActivityState()){\n                return;\n            }\n            // if (ModuleGlobal.ActivityState == 'off') {\n            //     uiAlert.Show({ content: \"\u6D3B\u52A8\u5DF2\u4E0B\u7EBF,\u4E0B\u6B21\u518D\u6765\u5427~\" });\n            //     return;\n            // }\n            this.getReward();\n        })\n    }\n    //\u53BB\u505A\u4EFB\u52A1\n    private doTask() {\n        console.log('\u53BB\u505A\u4EFB\u52A1');\n\n        TaskLogic.DoTask(this.myInfo.detailType, (_success) => {\n            // if (_success) {\n            //     this.getReward();\n            // }\n            console.log('doTask\u7ED3\u679C', _success);\n        }, 2, true);\n    }\n    //\u83B7\u5F97\u5956\u52B1\n    private getReward() {\n        console.log('\u9886\u53D6\u4EFB\u52A1\u5956\u52B1');\n        this.parentWinHandler.showModalWait();\n        let _closeModalWait = () => {\n            Laya.timer.clear(this, _closeModalWait);\n            this.parentWinHandler.closeModalWait();\n        }\n        Laya.timer.once(5000, this, _closeModalWait);\n        TaskLogic.ReceiveTaskAward(this.myInfo.detailType, (_success, _rewardData) => {\n            console.log('getReward\u7ED3\u679C', _success, _rewardData);\n            _closeModalWait();\n        })\n    }\n\n\n    clearAll() {\n        Laya.stage.offAllCaller(this)\n        Laya.timer.clearAll(this);\n        Laya.Tween.clearAll(this);\n    }\n\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_list:fgui.GList;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://czp63sggtpcm0\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"Task\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_list = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport { ModuleAudio } from '../ModuleTool';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_Main from './Task/UI_Main';\nimport { TaskInfo, TaskLogic, TaskStatusType } from './TaskLogic';\nimport uitaskItem from './uitaskItem';\n\nexport default class uiTaskMain extends UI_Main {\n\n    private _winHandler: ModuleWindow;\n\n    private curTaskList: TaskInfo[] = [];\n    protected onConstruct(): void {\n\n        super.onConstruct();\n        console.error('uiTaskMain onConstruct', fgui.GRoot.inst);\n\n        // console.log('onConstructonConstruct');\n\n\n        // this.onStart();\n    }\n    /**\n     * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n     * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n     */\n    makeFullScreen(): void {\n\n        super.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n        //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\n        let _anchorX = 0;\n        let _anchorY = 0;\n        if (this.pivotAsAnchor) {\n            _anchorX = this.pivotX;\n            _anchorY = this.pivotY;\n        }\n        this.setXY(_anchorX * this.width, _anchorY * this.height);\n\n\n        //\u521D\u59CB\u5316\n        this._winHandler = this.data as ModuleWindow;\n\n        this.data = null;\n\n        if (this._winHandler != null) {\n            this.onStart();\n            //\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetShowCallBack(this, this.onShow);\n            //\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n            this._winHandler.SetHideCallBack(this, this.onHide);\n\n            // this._LoadLastRankData();\n            this.SetInfo();\n        }\n\n    }\n    onStart() {\n        console.log('onStartonStart');\n\n    }\n    onShow() {\n\n        console.log('uiTaskMain onShow');\n\n        // //MainUtil.analysis('clickExchange');\n        // this.m_bg.visible = false;\n        // ModuleTool.ActionPopIn(this, () => {\n        //     this.m_bg.visible = true;\n        // });\n        // Laya.timer.once(1000, this._winHandler, this._winHandler.showModalWait);\n\n\n        // TaskLogic.UpdateTaskList((_success, _data) => {\n        //     Laya.timer.clear(this._winHandler, this._winHandler.showModalWait);\n        //     this._winHandler.closeModalWait();\n        //     if (!_success) {\n        //         return;\n        //     }\n        //     //\u6392\u5E8F\n        //     // this.curTaskList = JSON.parse(JSON.stringify(_data));\n        //     this.curTaskList = _data;\n        //     this.curTaskList = this.curTaskList.sort((a, b) => {\n        //         if (a.status != b.status) {\n        //             if (TaskStatusType.allow == a.status) {\n        //                 return -1;\n        //             }\n        //             if (TaskStatusType.allow == b.status) {\n        //                 return 1;\n        //             }\n        //             if (TaskStatusType.finish == a.status) {\n        //                 return 1;\n        //             }\n        //             if (TaskStatusType.finish == b.status) {\n        //                 return -1;\n        //             }\n        //         }\n        //         return a.sortIndex - b.sortIndex;\n        //     });\n\n        //     console.log('uiTaskMain curTaskList', this.curTaskList.length, this.curTaskList);\n\n        //     // this.m_list.numItems = this.curTaskList.length;\n\n        //     //\u663E\u793A\u6392\u884C\u699C\u5217\u8868\n        //     this.m_list.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, null, false);\n\n        //     this.m_list.setVirtual();\n\n        //     this.m_list.numItems = this.curTaskList.length;\n\n\n        // })\n\n        // Laya.stage.event('refreshBubble');\n\n    }\n\n    SetInfo() {\n\n        //\u663E\u793A\u6392\u884C\u699C\u5217\u8868\n\n\n\n        let _data = TaskLogic.GetAllTaskInfo();\n        this.curTaskList = _data;\n        this.curTaskList = this.curTaskList.sort((a, b) => {\n            if (a.status != b.status) {\n                if (TaskStatusType.allow == a.status) {\n                    return -1;\n                }\n                if (TaskStatusType.allow == b.status) {\n                    return 1;\n                }\n                if (TaskStatusType.finish == a.status) {\n                    return 1;\n                }\n                if (TaskStatusType.finish == b.status) {\n                    return -1;\n                }\n            }\n            return a.sortIndex - b.sortIndex;\n        });\n\n        // console.log('uiTaskMain curTaskList', this.curTaskList.length, this.curTaskList);\n        console.error('SetInfo', 1);\n\n        uiTaskMain.curRenderID++;\n\n        this.m_list.itemRenderer = Laya.Handler.create(this, this._OnRenderItem, [uiTaskMain.curRenderID], false);\n\n\n        this.m_list.setVirtual();\n        this.m_list.numItems = this.curTaskList.length;\n\n        uiTaskMain.curRenderID++;\n        if (uiTaskMain.curRenderID > 9999) {\n            uiTaskMain.curRenderID = 0;\n        }\n\n\n        console.error('SetInfo', 2);\n    }\n    Show() {\n        this.visible = true;\n        this.onShow();\n    }\n    Hide() {\n        this.onHide();\n        this._winHandler.hide();\n    }\n    onHide() {\n\n        this.onEnd();\n    }\n\n    onEnd() {\n        for (let index = 0; index < this.m_list._children.length; index++) {\n            const element = this.m_list.getChildAt(index) as uitaskItem;\n            if (element && element.clearAll)\n                element.clearAll();\n        }\n\n        Laya.stage.offAllCaller(this)\n        Laya.timer.clearAll(this);\n        Laya.Tween.clearAll(this);\n    }\n\n    private static curRenderID = 0;\n    _OnRenderItem(_id: number, index: number, item: uitaskItem, _other: any) {\n        // console.log(\"CreateListItem:---\" + index, _id, item.visible, _other);\n\n        if (item['isInited'] && item['isInited'] == index + 1) {\n            //\u91CD\u590D\u7ED8\u5236\u4E0D\u518D\u66F4\u65B0\u4FE1\u606F\n            return;\n        }\n        // console.log(\"CreateListItem:---22\", index);\n        item['isInited'] = index + 1;\n\n        item.SetInfo(this.curTaskList[index], this._winHandler);\n\n        //\u6267\u884C\u8FDB\u5165\u52A8\u753B\n        let _action = uiTaskMain.curRenderID == _id;\n        item.visible = !_action;\n        if (_action) {\n            Laya.timer.once(index * 150, this, () => {\n                // if(uiTaskMain.curRenderID != _id){\n                //     return;\n                // }\n                item.visible = true;\n                item.x = item.width;\n                Laya.Tween.to(item, { x: 0 }, 200);\n            })\n        }\n    }\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport uiaward from \"./uiaward\";\nimport uibrowseItem from \"./uibrowseItem\";\nimport uibuyItem from \"./uibuyItem\";\nimport uicoinCom from \"./uicoinCom\";\nimport uicollectItem from \"./uicollectItem\";\nimport uiGetReward from \"./uiGetReward\";\nimport uirewardCom from \"./uirewardCom\";\nimport uiTaskBrowse from \"./uiTaskBrowse\";\nimport uiTaskExtraPopup from \"./uiTaskExtraPopup\";\nimport uiTaskInvite from \"./uiTaskInvite\";\nimport uitaskItem from \"./uitaskItem\";\nimport uiTaskMain from \"./uiTaskMain\";\nimport uiTaskPrecondition from \"./uiTaskPrecondition\";\n\n\nexport default class TaskBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiaward.URL, uiaward);\n\t\tfgui.UIObjectFactory.setExtension(uibuyItem.URL, uibuyItem);\n\t\tfgui.UIObjectFactory.setExtension(uiTaskBrowse.URL, uiTaskBrowse);\n\t\tfgui.UIObjectFactory.setExtension(uiTaskExtraPopup.URL, uiTaskExtraPopup);\n\t\tfgui.UIObjectFactory.setExtension(uibrowseItem.URL, uibrowseItem);\n\t\tfgui.UIObjectFactory.setExtension(uitaskItem.URL, uitaskItem);\n\t\tfgui.UIObjectFactory.setExtension(uicollectItem.URL, uicollectItem);\n\t\tfgui.UIObjectFactory.setExtension(uirewardCom.URL, uirewardCom);\n\t\tfgui.UIObjectFactory.setExtension(uiTaskInvite.URL, uiTaskInvite);\n\t\tfgui.UIObjectFactory.setExtension(uicoinCom.URL, uicoinCom);\n\t\tfgui.UIObjectFactory.setExtension(uiGetReward.URL, uiGetReward);\n\t\tfgui.UIObjectFactory.setExtension(uiTaskMain.URL, uiTaskMain);\n\t\tfgui.UIObjectFactory.setExtension(uiTaskPrecondition.URL, uiTaskPrecondition);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_txtCom extends fgui.GComponent {\n\n\tpublic m_ruleTxt:fgui.GTextField;\n\tpublic static URL:string = \"ui://c5mx7a76n9oc4\";\n\n\tpublic static createInstance():UI_txtCom {\n\t\treturn <UI_txtCom>(fgui.UIPackage.createObject(\"Rule\", \"txtCom\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_ruleTxt = <fgui.GTextField>(this.getChildAt(0));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_framebg:fgui.GImage;\n\tpublic m_list:fgui.GList;\n\tpublic m_popUp:fgui.Transition;\n\tpublic m_packUp:fgui.Transition;\n\tpublic static URL:string = \"ui://c5mx7a76n9oc0\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"Rule\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_framebg = <fgui.GImage>(this.getChildAt(1));\n\t\tthis.m_list = <fgui.GList>(this.getChildAt(2));\n\t\tthis.m_popUp = this.getTransitionAt(0);\n\t\tthis.m_packUp = this.getTransitionAt(1);\n\t}\n}", "\n\nimport { ModuleGlobal } from '../ModuleGlobal';\nimport { ModuleAudio } from '../ModuleTool';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_Main from './Rule/UI_Main';\n\nexport default class uiRuleMain extends UI_Main {\n\n\n\tprivate _winHandler: ModuleWindow;\n\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\n\t}\n\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\t\t// console.error('makeFullScreen');\n\n\t\tif (this._winHandler != null) {\n\t\t\t// console.error('makeFullScreen', 2);\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t\tthis.SetInfo()\n\n\t\t}\n\t\t// this.OnShow();\n\t}\n\tSetInfo() {\n\t\t// console.error('SetInfo');\n\t\tlet ruleTxt = this.m_list.getChildAt(0).asCom.getChild('ruleTxt').asTextField;\n\t\t// console.error('ruleTxt', ruleTxt);\n\n\t\truleTxt.text = ModuleGlobal.RuleInfo;\n\t}\n\tpublic OnShow(): void {\n\t\tconsole.log(\"OnShow~~~\");\n\t}\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\t\t// Laya.stage.offAllCaller(this);\n\t\t// Laya.timer.clearAll(this);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport UI_txtCom from \"./Rule/UI_txtCom\";\nimport uiRuleMain from \"./uiRuleMain\";\n\nexport default class RuleBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiRuleMain.URL, uiRuleMain);\n\t\tfgui.UIObjectFactory.setExtension(UI_txtCom.URL, UI_txtCom);\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nexport default class UI_Main extends fgui.GComponent {\n\n\tpublic m_frame:fgui.GLabel;\n\tpublic m_normalBtn2:fgui.GButton;\n\tpublic static URL:string = \"ui://c66xycirfn9co3q\";\n\n\tpublic static createInstance():UI_Main {\n\t\treturn <UI_Main>(fgui.UIPackage.createObject(\"GeneralInterface\", \"Main\"));\n\t}\n\n\tprotected onConstruct():void {\n\t\tthis.m_frame = <fgui.GLabel>(this.getChildAt(0));\n\t\tthis.m_normalBtn2 = <fgui.GButton>(this.getChildAt(1));\n\t}\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport { ModuleGlobal } from '../ModuleGlobal';\nimport ModuleWindow from '../ModuleWindow';\nimport UI_Main from './GeneralInterface/UI_Main';\nimport uiAlert from './uiAlert';\n\nexport default class uiGeneralInterfaceMain extends UI_Main {\n\n\tprivate _winHandler: ModuleWindow;\n\n\n\tprotected onConstruct(): void {\n\n\t\tsuper.onConstruct();\n\t}\n\t/**\n\t * \u521D\u59CB\u5316\u65B9\u6CD5\uFF0C\u7531\u4E8E\u4E0D\u80FD\u591A\u7EE7\u627F\uFF0C\u91CD\u8F7D\u57FA\u7C7B\u7684\u8FD9\u4E2A\u65B9\u6CD5\u6765\u5B8C\u6210Init\uFF0C\u548CInit\u4E00\u6837\u6B63\u5E38\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u662F\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\u3002\n\t * \u53E6\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u80FD\u4F20\u53C2\uFF0C\u6682\u65F6\u7531data\u6765\u4F20\u9012\u7A97\u53E3\u7684handler\n\t */\n\tmakeFullScreen(): void {\n\n\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\t\t// console.error('makeFullScreen');\n\n\t\tif (this._winHandler != null) {\n\t\t\t// console.error('makeFullScreen', 2);\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.OnHide);\n\t\t\tthis.SetInfo()\n\n\t\t}\n\t\t// this.OnShow();\n\t}\n\tSetInfo() {\n\t\tthis.m_normalBtn2.onClick(this, () => {\n\t\t\tuiAlert.Show({\n\t\t\t\tcontent: '\u6D4B\u8BD5\u5F39\u7A97', clickYes: () => {\n\t\t\t\t\tconsole.log('clickYes');\n\n\t\t\t\t}\n\t\t\t\t// , clickNo: () => {\n\t\t\t\t// \tconsole.log('clickNo');\n\n\t\t\t\t// }\n\t\t\t})\n\t\t})\n\t}\n\tpublic OnShow(): void {\n\t\tconsole.log(\"OnShow~~~\");\n\t}\n\n\tpublic OnHide(): void {\n\n\t\tconsole.log(\"OnHide~~~\");\n\t\t// Laya.stage.offAllCaller(this);\n\t\t// Laya.timer.clearAll(this);\n\t}\n\n}", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\n\nimport uiAlert from \"./uiAlert\";\nimport uiGeneralInterfaceMain from './uiGeneralInterfaceMain';\n\nexport default class GeneralInterfaceBinder {\n\tpublic static bindAll(): void {\n\t\tfgui.UIObjectFactory.setExtension(uiAlert.URL, uiAlert);\n\t\tfgui.UIObjectFactory.setExtension(uiGeneralInterfaceMain.URL, uiGeneralInterfaceMain);\n\t}\n}", "/**\n * \u7531\u670D\u52A1\u5668\u751F\u6210\uFF0C\u7981\u6B62\u624B\u52A8\u4FEE\u6539\n */\nimport AtmosphereBinder from \"./atmosphere/AtmosphereBinder\";\nimport baseBagBinder from \"./baseBag/baseBagBinder\";\nimport ModuleWindow from \"./ModuleWindow\";\nimport rankBinder from \"./rank/rankBinder\";\nimport giftBinder from './gift/giftBinder';\nimport activityBinder from './activity/activityBinder';\nimport autotriggerAwardBinder from './autotriggerAward/autotriggerAwardBinder';\nimport TaskBinder from './Task/TaskBinder';\nimport RuleBinder from './Rule/RuleBinder';\nimport GeneralInterfaceBinder from './GeneralInterface/GeneralInterfaceBinder';\nimport { ModuleGlobal } from \"./ModuleGlobal\";\n\ndeclare var my;\n\nexport default class ModulePackage extends Laya.EventDispatcher {\n\n\tpublic static readonly MODULE_INIT_COMPLETE = \"module_init_complete\";\n\t/**\n\t * \u670D\u52A1\u5668\u6240\u5728\u57DF\u540D\uFF0CH5\u65F6\u4F7F\u7528\n\t */\n\tpublic static readonly SERVER_HOST = \"https://jd.eroswift.com\";//test-service.eroswift.com\"\n\t// public static readonly SERVER_HOST = \"http://localhost:3000\";//test-service.eroswift.com\"\n\t/**\n\t * \u670D\u52A1\u5668\u4E91\u51FD\u6570\u540D\u79F0\uFF0C\u6DD8\u5B9D\u65F6\u4F7F\u7528\n\t */\n\tpublic static readonly SERVER_NAME = \"WaterMelonServer\"; //ServerBo\n\n\n\tprivate readonly normalCDNPath = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/BigWatermelon/normal/C_client/v16/res/module/\";\n\n\tprivate static _inst: ModulePackage;\n\n\n\tprivate _listView: fgui.GComponent;\n\n\tprivate _bIsInited: boolean;\n\n\tprivate _mapNonModules = {};\n\tprivate _configData = {\n\n\t\tmaxNum: 3,\n\n\t\tmodules: [\n\t\t\t{\n\t\t\t\tname: \"common\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u57FA\u7840\u8D44\u6E90\u5305\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/common/\", \n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/common-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"rank\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u51B2\u699C\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/rank/\",\n\t\t\t\tresource: this.normalCDNPath,\n\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/rank-0.0.1.tgz\",\n\t\t\t\tdependencies: [\"baseBag\"]\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"baseBag\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u5956\u54C1\u5305\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/baseBag/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Atmosphere\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u6C1B\u56F4\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/Atmosphere/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"gift\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u5151\u6362\u597D\u793C\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/gift/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"activity\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u6D3B\u52A8\u7ED3\u675F\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/activity/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"autotriggerAward\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u81EA\u52A8\u89E6\u53D1\u5956\u52B1\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/autotriggerAward/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Task\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u4EFB\u52A1\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/autotriggerAward/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Rule\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u89C4\u5219\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/autotriggerAward/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"GeneralInterface\",\n\t\t\t\tversion: \"0.0.1\",\n\t\t\t\tdescription: \"\u901A\u7528ui\u6A21\u5757\",\n\t\t\t\t// resource: \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/taobao/autotriggerAward/\",\n\t\t\t\tresource: this.normalCDNPath,\n\t\t\t\tnotView: false,\n\t\t\t\tcodePackage: \"https://xxxx/baseBag-0.0.1.tgz\",\n\t\t\t\tdependencies: []\n\t\t\t},\n\t\t]\n\t};\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\trankBinder.bindAll();\n\n\t\tbaseBagBinder.bindAll();\n\n\t\tAtmosphereBinder.bindAll();\n\n\t\tgiftBinder.bindAll();\n\n\t\tactivityBinder.bindAll();\n\n\t\tautotriggerAwardBinder.bindAll();\n\n\t\tTaskBinder.bindAll();\n\n\t\tRuleBinder.bindAll();\n\n\t\tGeneralInterfaceBinder.bindAll();\n\n\t\t//\u8BBE\u7F6Ewindow\u80CC\u666F\u8272\n\t\tfgui.UIConfig.modalLayerColor = \"rgba(00,00,00,0.7)\";\n\t\t//\u8BBE\u7F6E\u7B49\u5F85\u65CB\u8F6C\u56FE\n\t\tfgui.UIConfig.windowModalWaiting = \"ui://qwv197ctu2823i\";\n\t\tfgui.UIConfig.globalModalWaiting = \"ui://qwv197ctu2823i\";\n\t}\n\n\tpublic static get Instance(): ModulePackage {\n\n\t\tif (this._inst == null) {\n\t\t\tthis._inst = new ModulePackage();\n\n\t\t}\n\n\t\treturn this._inst;\n\t}\n\n\tpublic PreloadResources() {\n\n\t\tlet resList: { url: string, type: string }[] = [];\n\n\t\tthis._configData.modules.forEach(resModel => {\n\n\t\t\tif (Laya.Browser.onTBMiniGame) {\n\n\t\t\t\tif (resModel.notView) {\n\t\t\t\t\treturn; //\u8FC7\u6EE4\u6389\u6CA1\u6709\u754C\u9762\u8D44\u6E90\u7684\u7EAF\u4EE3\u7801\u6A21\u5757\n\t\t\t\t}\n\n\t\t\t\tresList.push({ url: resModel.resource + resModel.name + \".txt\", type: Laya.Loader.BUFFER });\n\t\t\t\tresList.push({ url: resModel.resource + resModel.name + \"_atlas0.png\", type: Laya.Loader.IMAGE });\n\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tif (resModel.notView) {\n\t\t\t\t\treturn; //\u8FC7\u6EE4\u6389\u6CA1\u6709\u754C\u9762\u8D44\u6E90\u7684\u7EAF\u4EE3\u7801\u6A21\u5757\n\t\t\t\t}\n\n\t\t\t\tresList.push({ url: \"res/module/\" + resModel.name + \".txt\", type: Laya.Loader.BUFFER });\n\t\t\t\tresList.push({ url: \"res/module/\" + resModel.name + \"_atlas0.png\", type: Laya.Loader.IMAGE });\n\n\t\t\t}\n\n\t\t});\n\n\n\t\tif (resList.length > 0) //\u52A0\u8F7D\u6A21\u5757\u8D44\u6E90\n\t\t{\n\t\t\tLaya.loader.load(resList,\n\n\t\t\t\tLaya.Handler.create(this, (param) => {     //\u52A0\u8F7D\u5B8C\u6210\n\n\t\t\t\t\tconsole.log(\"\u5B8C\u6210\uFF1A\", param);\n\n\t\t\t\t\tif (param == true) {\n\n\t\t\t\t\t\tconsole.log(\"\u5F00\u59CB\u521D\u59CB\u5316:\", resList);\n\n\t\t\t\t\t\t//\u52A0\u8F7DFGUI\u8D44\u6E90\n\t\t\t\t\t\tresList.forEach(element => {\n\n\t\t\t\t\t\t\tlet extLength = element.url.length - 4;\n\n\t\t\t\t\t\t\tif (element.url.substring(extLength) == \".txt\") {\n\n\t\t\t\t\t\t\t\tlet resPath = element.url.substring(0, extLength);\n\n\t\t\t\t\t\t\t\t// console.log(\"UIPackage.addPackage:\", resPath, fgui);\n\n\t\t\t\t\t\t\t\tfgui.UIPackage.addPackage(resPath);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t//\u521D\u59CB\u5316\u6A21\u5757\n\t\t\t\t\t\tthis.Init();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error(\"\u6A21\u5757\u8D44\u6E90\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\uFF01\")\n\t\t\t\t\t}\n\n\t\t\t\t}),\n\n\t\t\t\tLaya.Handler.create(this, (param) => {     //\u52A0\u8F7D\u8FDB\u5EA6\n\n\t\t\t\t\tconsole.log(\"\u8FDB\u5EA6\" + param);\n\t\t\t\t}, undefined, false)\n\t\t\t);\n\t\t}\n\n\t}\n\n\tpublic Init(): void {\n\n\t\tconsole.log(\"_configData:\", this._configData);\n\n\t\t//\u518D\u5FAA\u73AF\u628A\u6A21\u5757\u7684\u3010\u63CF\u8FF0\u548CIcon\u3011\u653E\u5230list\u91CC\u9762.\n\t\tthis._configData.modules.forEach(element => {\n\n\t\t\tconsole.log(\"element\", element);\n\n\t\t\tif (element.name == \"common\") {\n\t\t\t\t//\u5148\u521D\u59CB\u5316\u4E00\u4E2Alist\u3002\n\t\t\t\tthis._listView = fgui.UIPackage.createObject(\"common\", \"BaseList\") as fgui.GComponent;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet listModule = this._listView.getChild(\"listModule\") as fgui.GList;\n\n\t\t\tlet labItem = fgui.UIPackage.createObject(\"common\", \"BaseListItem\") as fgui.GLabel;\n\t\t\tlabItem.title = element.description;\n\t\t\tlabItem.icon = fgui.UIPackage.getItemURL(element.name, \"Icon\");\n\t\t\tlabItem.onClick(this, this._OnClick, [element.name]);\n\t\t\tlistModule.addChild(labItem);\n\t\t});\n\n\t\tthis._bIsInited = true;\n\n\t\tthis.event(ModulePackage.MODULE_INIT_COMPLETE);\n\t}\n\n\tprivate _OnClick(moduleName: string) {\n\t\tconsole.log(moduleName);\n\n\t\tthis.Show(moduleName);\n\t}\n\n\tpublic IsInitComplete() {\n\t\treturn this._bIsInited;\n\t}\n\n\t/**\n\t * \u6A21\u5757\u95F4\u6D88\u606F\u4E92\u901A\u7684\u65B9\u6CD5\n\t * @param srcModuleName \u4ECE\u54EA\u4E2A\u6A21\u5757\u53D1\u6765\u7684\u6D88\u606F\n\t * @param callModuleName \u8981\u53D1\u7ED9\u54EA\u4E2A\u6A21\u5757\n\t * @param functionName \u8981\u53D1\u7ED9\u54EA\u4E2A\u6A21\u5757\u7684\u54EA\u4E2A\u65B9\u6CD5\n\t * @param functionParams \u53D1\u7ED9\u8FD9\u4E2A\u65B9\u6CD5\u7684\u53C2\u6570\u5217\u8868\n\t */\n\tpublic SendMessage(srcModuleName: string, callModuleName: string, functionName: string = \"show\", functionParams: any[] = null): void {\n\t\tlet bFlag = false;\n\n\t\tif (srcModuleName == \"client\") //C\u7AEF\u76F4\u63A5\u8C03\u7528\u6A21\u5757\u7684\u60C5\u51B5\n\t\t{\n\t\t\tbFlag = true;\n\t\t}\n\t\telse //\u6A21\u5757\u8C03\u7528\u6A21\u5757\u7684\u60C5\u51B5\n\t\t{\n\t\t\tthis._configData.modules.forEach(element => {\n\n\t\t\t\tif (element.name == srcModuleName) {\n\n\t\t\t\t\telement.dependencies.forEach(element2 => {\n\n\t\t\t\t\t\tif (element2 == callModuleName) {\n\n\t\t\t\t\t\t\tbFlag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (bFlag) {\n\t\t\tif (functionName == \"show\") {\n\t\t\t\tthis.Show(callModuleName);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!!this._mapNonModules[callModuleName]) {\n\t\t\t\t\tthis._mapNonModules[callModuleName][functionName](...functionParams);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(callModuleName + \"\u6A21\u5757\u6CA1\u6709\u627E\u5230\uFF0C\u4E0D\u5141\u8BB8\u8C03\u7528\u3002\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthrow new Error(srcModuleName + \"\u6A21\u5757\u6CA1\u6709\u4F9D\u8D56\" + callModuleName + \"\u6A21\u5757\uFF0C\u4E0D\u5141\u8BB8\u8C03\u7528\u3002\");\n\t\t}\n\t}\n\n\tpublic Show(moduleName: string = \"base\", positionX: number = 0, positionY: number = 0, parent: fgui.GComponent = null): void {\n\n\t\tif (moduleName == \"base\") //\u57FA\u7840\u6A21\u5757\n\t\t{\n\t\t\tif (this._listView != null) {\n\n\t\t\t\tthis._listView.setXY(positionX, positionY);\n\n\t\t\t\tthis._listView.makeFullScreen();\n\n\t\t\t\tif (parent != null) {\n\n\t\t\t\t\tparent.addChild(this._listView);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfgui.GRoot.inst.addChild(this._listView);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.PopWindow(moduleName, \"Main\", { px: positionX, py: positionY });\n\t\t}\n\t}\n\n\t/**\n\t * \u5F39\u51FA\u4E00\u4E2Amodal\u7A97\u53E3\n\t * @param moduleName \u5F39\u7A97\u6240\u5728\u6A21\u5757\u7684\n\t * @param windowName \u5F39\u7A97\u540D\u5B57\n\t * @param positionX \u5F39\u7A97x\u4F4D\u7F6E\n\t * @param positionY \u5F39\u7A97y\u4F4D\u7F6E\n\t * @param isModal \u662F\u5426\u662F\u6A21\u6001\u6846(\u6A21\u6001\u6846\u4F1A\u906E\u6321\u70B9\u51FB\u4E8B\u4EF6)\n\t * @returns void\n\t */\n\tpublic PopWindow(moduleName: string, windowName: string,\n\t\t_config?: {\n\t\t\tpx?: number,\n\t\t\tpy?: number,\n\t\t\twinParamData?: any,\n\t\t\tisModal?: boolean,\n\t\t\tparent?: fgui.GComponent,\n\t\t}\n\t): void {\n\n\t\tlet component = fgui.UIPackage.createObject(moduleName, windowName) as fgui.GComponent;\n\n\t\tif (component == null) return;\n\t\tif (!_config) {\n\t\t\t_config = {};\n\t\t}\n\n\t\tlet winPanel = new ModuleWindow(_config.winParamData);\n\n\n\t\twinPanel.makeFullScreen(); \t\t//\u7A97\u53E3\u5BF9\u8C61\u5168\u5C4F\n\n\t\twinPanel.contentPane = component;\n\n\n\t\tcomponent.data = winPanel;\t\t\t//\u7528\u8FD9\u4E2A\u65B9\u6CD5\u4F20\u9012\u7A97\u53E3\u6307\u9488\u7ED9component\n\n\n\t\tcomponent.makeFullScreen();\t\t//\u5B50\u7EC4\u4EF6\u5168\u5C4F\n\n\n\n\t\tcomponent.setXY(_config.px || 0, _config.py || 0);\n\n\n\t\twinPanel.modal = _config.isModal === false ? false : true;\n\n\n\t\tif (_config.parent) {\n\t\t\t_config.parent.addChild(winPanel);\n\n\t\t}\n\t\telse {\n\t\t\twinPanel.show();\n\t\t}\n\n\n\t}\n\t/**\n\t * \u662F\u5426\u53EF\u4F7F\u7528\u7F51\u7EDC\u63A5\u53E3\n\t * @returns \n\t */\n\tpublic CanUseNetAPI() {\n\t\tif (Laya.Browser.onTBMiniGame) {\n\t\t\treturn true;\n\t\t}\n\t\treturn true;\n\t}\n\t/**\n\t * \u7F51\u7EDC\u6D88\u606F\u53D1\u9001\u7684\u65B9\u6CD5\n\t * @param hostName \u8981\u53D1\u7ED9\u54EA\u4E2A\u670D\u52A1\u5668\u3010\u6DD8\u5B9D\u65F6\u9700\u586B\u4E91\u51FD\u6570\u540D\u79F0\u3011\n\t * @param routeName \u8981\u53D1\u7ED9\u4E91\u51FD\u6570\u7684\u54EA\u4E2A\u8DEF\u7531\u3010\u6DD8\u5B9D\u65F6\u4F1A\u81EA\u52A8\u8F6C\u6362\u4E3A\u4E91\u51FD\u6570handler\u540D\u5B57\u3011\n\t * @param functionParams (default = null)\u53D1\u7ED9\u8FD9\u4E2A\u4E91\u51FD\u6570\u7684\u53C2\u6570\u5217\u8868\n\t * @param method (default = \"get\")\u7528\u4E8E\u8BF7\u6C42\u7684 HTTP \u65B9\u6CD5\u3002\u503C\u5305\u62EC \"get\"\u3001\"post\"\u3002\n\t * @param thisObj  (default = null) \u56DE\u8C03\u51FD\u6570\u7684this\u5BF9\u8C61\n\t * @param callback (default = null) \u56DE\u8C03\u51FD\u6570\n\t */\n\tpublic SendNetMessage(hostName: string, routeName: string, functionParams: any = null, method: string = \"get\", thisObj: any = null, callback: Function = null): void {\n\n\t\t// if (!!callback) callback('');\n\t\t// return;\n\t\tif (Laya.Browser.onTBMiniGame)//\u6DD8\u5B9D\u5C0F\u6E38\u620F\u65F6\u8C03\u7528\u6DD8\u5B9D\u4E91\u51FD\u6570\n\t\t{\n\t\t\t// console.log(\"1111111111111111111111111111111111111111111111\");\n\n\t\t\tlet app = getApp();\n\n\t\t\tconsole.log(1, app);\n\n\t\t\tlet sendServer = app[\"sendServer\"] as Function;\n\n\t\t\tif (!!sendServer) {\n\t\t\t\tconsole.log(2, sendServer);\n\n\t\t\t\tlet handulerName = routeName.replace(/\\//g, '_');\n\n\t\t\t\tif (handulerName[0] == '_') {\n\t\t\t\t\thandulerName = handulerName.substring(1);\n\t\t\t\t}\n\n\t\t\t\tconsole.log(3, handulerName);\n\n\t\t\t\tsendServer.call(app, ModulePackage.SERVER_NAME, handulerName, functionParams, thisObj, callback);\n\t\t\t}\n\n\t\t\t// console.log(\"22222222222222222222222222222222222222222222222222\");\n\t\t\treturn;\n\t\t}\n\t\tconsole.log('routeName', routeName)\n\t\tfunctionParams = functionParams || {}\n\t\tfunctionParams.activityId=ModuleGlobal.ActivityID;\n\t\tconsole.log(\"---Request:\u3010\" + routeName + \"\u3011\", functionParams);\n\n\t\tlet url = ModulePackage.SERVER_HOST + routeName;\n\n\t\tif (!!hostName && hostName.length > 0)//hostName\u5B58\u5728\u8BF4\u660E\u9700\u8981\u52A0\u4E00\u6BB5\n\t\t{\n\t\t\turl = ModulePackage.SERVER_HOST + hostName + \"/\" + routeName;\n\t\t}\n\n\t\tif (method == \"get\") {\n\t\t\turl += \"?\";\n\n\t\t\tfor (const key in functionParams) {\n\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(functionParams, key)) {\n\t\t\t\t\turl += key + \"=\" + functionParams[key] + \"&\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet xhr = new Laya.HttpRequest();\n\n\t\txhr.http.timeout = 10000;//\u8BBE\u7F6E\u8D85\u65F6\u65F6\u95F4\uFF1B\n\n\t\txhr.once(Laya.Event.COMPLETE, this, (data: any) => {\n\n\t\t\tconsole.log(\"---Response:\u3010\" + routeName + \"\u3011\", data);\n\n\t\t\tif (!!callback) callback.call(thisObj, JSON.parse(data))\n\t\t});\n\n\t\txhr.once(Laya.Event.ERROR, this, (data: any) => { console.log(data); });\n\n\t\txhr.on(Laya.Event.PROGRESS, this, (data: any) => { console.log(data); });\n\n\t\txhr.send(url, method == \"get\" ? null : functionParams, method, \"text/json\", null);\n\t}\n\n};\n", "/** This is an automatically generated class by FairyGUI. Please do not modify it. **/\nimport UI_AutotriggerAward from './autotriggerAward/UI_AutotriggerAward';\nimport { ModuleAudio, ModuleTool } from './../ModuleTool';\nimport ModulePackage from '../ModulePackage';\nimport ModuleWindow from '../ModuleWindow';\nimport { ModulePlatformAPI } from './../ModulePlatformAPI';\n\nexport interface GameAwardInfo {\n\ttitle: string,\n\tprice: string,\n\tlinkId: number,\n\n}\nexport default class uiAutotriggerAward extends UI_AutotriggerAward {\n\n\tmyInfo: GameAwardInfo = null as any;\n\n\tprivate _winHandler: ModuleWindow;\n\n\tprivate static closeCallback?: Function;\n\tstatic AutoShow(_type: number, _uid: number, _showResultCallback?: (_show: boolean) => void, _closeCallback?: () => void) {\n\t\tlet _get = true;\n\t\tif (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t\t_showResultCallback && _showResultCallback(_get);\n\t\t\tif (_get) {\n\t\t\t\tthis.closeCallback = _closeCallback;\n\t\t\t\tModulePackage.Instance.PopWindow(\"autotriggerAward\", \"AutotriggerAward\", {\n\t\t\t\t\twinParamData: {\n\t\t\t\t\t\ttitle: '\u8D85\u7EA7\u4F18\u60E0\u5238',\n\t\t\t\t\t\tprice: 19900,\n\t\t\t\t\t\tlinkId: 0\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// ModulePackage.Instance.PopWindow(\"autotriggerAward\", \"AutotriggerAward\", 0, 0, {\n\t\t\t\t// \ttitle: '\u8D85\u7EA7\u4F18\u60E0\u5238',\n\t\t\t\t// \tprice: 199.99,\n\t\t\t\t// \tlinkId: 0\n\t\t\t\t// });\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t//\u903B\u8F91\u5224\u65AD\u662F\u5426\u83B7\u5F97\u4F18\u60E0\u5238\n\t\tModulePackage.Instance.SendNetMessage(\"\", \"/C/playRewards/luckDraw\", {\n\t\t\tlevel: _type,\n\t\t\tluckDrawId: '' + _uid,\n\n\t\t}, \"post\", this, (data) => {\n\n\t\t\tconsole.log('/C/playRewards/luckDraw', data);\n\t\t\t_get = data.code == 0;\n\t\t\t_showResultCallback && _showResultCallback(_get);\n\t\t\tif (_get) {\n\t\t\t\tthis.closeCallback = _closeCallback;\n\t\t\t\tModulePackage.Instance.PopWindow(\"autotriggerAward\", \"AutotriggerAward\", { px: 0, py: 0, winParamData: data.data });\n\t\t\t\t// ModulePackage.Instance.PopWindow(\"autotriggerAward\", \"AutotriggerAward\", 0, 0, {\n\t\t\t\t// \ttitle: '\u8D85\u7EA7\u4F18\u60E0\u5238',\n\t\t\t\t// \tprice: 199.99,\n\t\t\t\t// \tlinkId: 0\n\t\t\t\t// });\n\t\t\t}\n\n\n\t\t});\n\n\n\n\t}\n\tmakeFullScreen() {\n\t\tsuper.makeFullScreen();\t//\u5148\u5904\u7406\u5168\u5C4F\n\n\t\t// //\u5BF9\u9F50\u5168\u5C4F\u4E0B\u7684\u4F4D\u7F6E\n\t\t// let _anchorX = 0;\n\t\t// let _anchorY = 0;\n\t\t// if (this.pivotAsAnchor) {\n\t\t// \t_anchorX = this.pivotX;\n\t\t// \t_anchorY = this.pivotY;\n\t\t// }\n\t\t// this.setXY(_anchorX * this.width, _anchorY * this.height);\n\n\t\t//\u521D\u59CB\u5316\n\t\tthis._winHandler = this.data as ModuleWindow;\n\n\t\tthis.data = null;\n\n\t\tif (this._winHandler != null) {\n\t\t\t//\u8BBE\u7F6E\u663E\u793A\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\t// this._winHandler.SetShowCallBack(this, this.OnShow);\n\t\t\t//\u8BBE\u7F6E\u9690\u85CF\u76D1\u542C\uFF0C\u7528\u4E8E\u7A97\u53E3\u5173\u95ED\u65F6\u7684\u672C\u7C7B\u6570\u636E\u6E05\u7406\u3002\n\t\t\tthis._winHandler.SetHideCallBack(this, this.onEnd);\n\t\t\tthis.Show();\n\t\t\tthis.SetInfo(this._winHandler.GetParamData())\n\t\t}\n\n\t}\n\tonStart() {\n\n\t\tthis.clickBtn();\n\t\tthis.listenText();\n\t}\n\tonShow() {\n\t\tthis.visible = true;\n\t\t// this.m_reviveText.text = '';\n\t\t// this.m_iconLoader.url = '';\n\t\t// this.m_btntitle.text = '';\n\t\tLaya.stage.offAllCaller(this);\n\t\t// ModuleTool.ActionPopIn(this);\n\t\tconsole.log('GameAward', 'onShow');\n\t}\n\tShow() {\n\t\t// this.SetInfo({\n\t\t// \ttitle: '\u6EE199\u4F7F\u7528',\n\t\t// \tprice: '20',\n\t\t// \tlinkId: 0,\n\n\t\t// });\n\t\tthis.onStart();\n\t\tthis.onShow();\n\n\t}\n\tHide() {\n\t\tthis.onEnd();\n\n\t\t// this._winHandler.hide();\n\t}\n\n\tonEnd() {\n\t\tLaya.stage.offAllCaller(this);\n\t\tLaya.timer.clearAll(this);\n\t\tuiAutotriggerAward.closeCallback && uiAutotriggerAward.closeCallback();\n\t}\n\tclickBtn() {\n\t\t// //\u5F00\u59CB\u6309\u94AE\n\t\t// this.m_closeBtn.onClick(this, () => {\n\t\t// \tconsole.log('closeBtn');\n\t\t// \tthis.closeself();\n\n\t\t// })\n\t\tthis.m_attentionBtn.onClick(this, () => {\n\t\t\tconsole.log('attentionBtn', this.myInfo.linkId);\n\t\t\tthis.GotoUse(this.myInfo.linkId);\n\t\t\tModuleAudio.PlayComonBtnAudio();\n\t\t})\n\n\t}\n\tlistenText() {\n\n\t}\n\tcloseself() {\n\t\tLaya.stage.offAllCaller(this);\n\t\t// if (!this.visible) {\n\t\t// \treturn;\n\t\t// }\n\t\t// ModuleTool.ActionPopOut(this, () => {\n\t\t// \tthis.Hide();\n\t\t// });\n\t}\n\tSetInfo(_info: GameAwardInfo) {\n\t\tthis.myInfo = _info;\n\t\tthis.m_describeText.text = _info.title;\n\t\tlet _n = ModuleTool.ChangeToNumber(_info.price) / 100;\n\n\t\tModuleTool.SetTextAndFitSize(this.m_priceText, '' + _n);\n\t\t// this.m_priceText.text = _info.price;\n\t\t// if (Laya.Browser.onIOS && _info.linkId == 0) {\n\t\t// \tthis.m_attentionBtn.visible = false;\n\t\t// }\n\t\tconsole.log('SetInfo', _info);\n\n\t}\n\tGotoUse(_linkId: number) {\n\t\tif (!Laya.Browser.onTBMiniGame) {\n\t\t\treturn;\n\t\t}\n\t\tif (!_linkId || _linkId == 0) {  //\u6CA1\u6709\u8DF3\u8F6C\u8FDE\u63A5\uFF0C\u5C31\u8DF3\u8F6C\u5230\u5E97\u94FA\u9996\u9875\n\t\t\t// let _shopid = '';\n\t\t\t// if (_shopid == '') {\n\t\t\t// \tconsole.error('\u9700\u8981\u83B7\u53D6\u5546\u54C1id');\n\t\t\t// }\n\t\t\tModulePlatformAPI.NavigateToTaobaoPage((_success) => {\n\t\t\t\t_success && this.closeself();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tModulePlatformAPI.OpenShopItemDetail('' + _linkId, () => {\n\t\t\t}, () => {\n\t\t\t\tthis.closeself();\n\t\t\t});\n\t\t}\n\t}\n}", "/**\n * \u5168\u5C40\u4F7F\u7528\u7684\u57FA\u7840\u6570\u636E\u7C7B\n */\n\nimport ModulePackage from \"./ModulePackage\";\nimport { ModuleTool } from './ModuleTool';\n\n/**\n * \u652F\u6301\u83B7\u53D6\u7684\u6E38\u620F\u63A5\u53E3\n * \u586B\u5165\u81EA\u5DF1\u6E38\u620F\u5BF9\u5E94\u7684 GameInfo \u5B57\u6BB5\u5373\u53EF\u652F\u6301\n */\nconst GameInfo = {\n\twatermelong: //\u6E38\u620F\u540D\uFF08\u81EA\u5B9A\u4E49\uFF09\n\t{\n\t\tpost: '/C/watermelon/info',//\u53D1\u9001\u8BF7\u6C42\u7684\u5730\u5740\n\t\tgetData://\u83B7\u53D6\u7684\u6570\u636E\n\t\t{\n\t\t\tdemoUrl: \"xxxxxx\",//url\u5730\u5740\n\t\t\tgameName: \"\u6E38\u620F\u540D\u79F0\",//\u6E38\u620F\u540D\n\t\t\ticonList: [\n\t\t\t\t// [\n\t\t\t\t// \t{\n\t\t\t\t// \t\t\"opt\": true,\n\t\t\t\t// \t\t\"name\": \"xxx\u56FE\u7247\u540D\u79F0\",\n\t\t\t\t// \t\t\"url\": \"xxx\u56FE\u7247\u5730\u5740\",\n\t\t\t\t// \t\t\"custom\": false,\n\t\t\t\t// \t}\n\t\t\t\t// ]\n\t\t\t]\n\t\t}\n\t}\n}\n//\u73B0\u5728\u652F\u6301\u7684\u6E38\u620F\u79CD\u7C7B\nexport type GameKind = keyof typeof GameInfo;\n\n\nclass ModuleGameInfo_C {\n\n\t//-------------------------------------------------------//\n\n\tprivate static myInstance: ModuleGameInfo_C = null as any;\n\tstatic Instance() {\n\t\tif (!this.myInstance) {\n\t\t\tthis.myInstance = new ModuleGameInfo_C();\n\t\t}\n\t\treturn this.myInstance;\n\t}\n\n\tprivate isInit = false;\n\t/**\n\t * \u5E73\u53F0\u63A5\u53E3\u521D\u59CB\u5316\n\t * \u8FDB\u5165\u6E38\u620F\u8C03\u7528\u4E00\u6B21\n\t * \u4F1A\u6267\u884C\u4EE5\u4E0B\u64CD\u4F5C\n\t * 1.\u767B\u5F55\n\t * 2.\u83B7\u53D6\u6D3B\u52A8\u4FE1\u606F\n\t * 3.\u7ED9\u5E73\u53F0\u7C7B\u9700\u8981\u53C2\u6570\u8D4B\u503C\n\t */\n\tInit(_callBack?: () => void) {\n\t\tif (this.isInit) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t}\n\t//--------------------------------------------\u6E38\u620F\u4E13\u5C5E\u6570\u636E---------------------------------------------//\n\tGetGameInfo<T extends GameKind>(_type: T, _callBack?: (_success: boolean, _info?: typeof GameInfo[T]['getData']) => void) {\n\t\t// if (!ModulePackage.Instance.CanUseNetAPI()) {\n\t\t// \t_callBack && _callBack(true, GameInfo[_type]['getData']);\n\t\t// \treturn;\n\t\t// }\n\t\tlet _postName = GameInfo[_type].post;\n\t\tlet tryTime = 3;\n\t\tlet _send = () => {\n\t\t\t//\u4ECE\u670D\u52A1\u7AEF\u83B7\u53D6\u771F\u5B9E\u6570\u636E\n\t\t\tModulePackage.Instance.SendNetMessage(\"\", _postName, {}, \"post\", this,\n\t\t\t\t(data) => {\n\t\t\t\t\tif (data.code != 0) {\n\t\t\t\t\t\ttryTime--;\n\t\t\t\t\t\tif (tryTime <= 0) {\n\t\t\t\t\t\t\t_callBack && _callBack(false, null);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_send();\n\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tModuleTool.DetectType(_postName, data.data, GameInfo[_type]['getData']);\n\t\t\t\t\t_callBack && _callBack(true, data.data);\n\t\t\t\t});\n\n\t\t}\n\t\t_send();\n\t}\n\t//-----------------------------------------------------------------------------------------//\n\n};\n\n\nexport let ModuleGameInfo = ModuleGameInfo_C.Instance();\n", "\r\nimport PlayDataUtil from '../data/PlayDataUtil';\r\nimport TB from '../platform/TB';\r\nimport MainUtil from './../utils/MainUitl';\r\nimport { Global } from './../config/Global';\r\nimport GetScore, { GetScoreInfo } from './FGUIPrefab/GetScore';\r\nimport { GameAwardInfo } from './GameAward';\r\nimport ComboEffect, { ComboEffectInfo } from './FGUIPrefab/ComboEffect';\r\n// import { TaskID } from '../utils/TaskUtil';\r\nimport ServerAPI from '../Global/modules/Server/ServerAPI';\r\nimport Invite from '../fgui/Invite';\r\nimport { ClockUtil } from '../Global/modules/tools/TimeUtil';\r\nimport uiAutotriggerAward from '../module/autotriggerAward/uiAutotriggerAward';\r\nimport { TaskLogic, TaskStatusType, TaskType } from './../module/Task/TaskLogic';\r\nimport { ModulePlatformAPI } from './../module/ModulePlatformAPI';\r\nimport { GCurrencyType, ModuleGlobal } from '../module/ModuleGlobal';\r\nimport { ModuleGameInfo } from '../module/ModuleGameInfo';\r\nimport HHAudio from '../Global/modules/Audio/HHAudio';\r\nimport { ModuleStatistics } from '../module/ModuleStatistics';\r\nimport ModulePackage from '../module/ModulePackage';\r\nexport enum ActivityState {\r\n    unStart = 0,\r\n    open = 1,\r\n    end = 2,\r\n}\r\n\r\n//\u6E38\u620F\u5185\u53EF\u505A\u4EFB\u52A1\u540D\r\nexport const GameTasksName = {\r\n    joinMember: '\u52A0\u5165\u4F1A\u5458',\r\n    attention: '\u5173\u6CE8\u5E97\u94FA',\r\n    browse: '\u6D4F\u89C8\u5546\u54C1',\r\n    collect: '\u6536\u85CF\u5546\u54C1',\r\n    buy: '\u8D2D\u4E70\u5546\u54C1',\r\n    share: '\u5206\u4EAB\u6E38\u620F',\r\n    browseStore: '\u6D4F\u89C8\u5E97\u94FA',\r\n}\r\n//\u6E38\u620F\u5185\u53EF\u505A\u4EFB\u52A1\u7C7B\u578B\r\nexport type GameTaskType = keyof typeof GameTasksName;\r\n\r\n//\u98DE\u5165\u7684\u4EFB\u52A1\u4FE1\u606F\r\nexport const GameFlyTaskAwardInfo = {\r\n    clearFruit: {\r\n        title: '\u6C34\u679C\u6D88\u9664',\r\n        iconPic: 'GameTask_Icon1',\r\n        titlePic: 'GameTask_Title1',\r\n        desc: '\u6D88\u9664\u5F53\u524D\u5C4F\u5E551/3\u6C34\u679C',\r\n        data: 0.3,\r\n    },\r\n    removeFruit: {\r\n        title: '\u6C34\u679C\u6E05\u9664',\r\n        iconPic: 'GameTask_Icon2',\r\n        titlePic: 'GameTask_Title2',\r\n        desc: '\u6E05\u9664\u5F53\u524D\u5C4F\u5E55\u7B49\u7EA74\u4EE5\u4E0B\u7684\u6C34\u679C',\r\n        data: 4,\r\n\r\n    },\r\n    supperFruit: {\r\n        title: '\u4E07\u80FD\u6C34\u679C',\r\n        iconPic: 'GameTask_Icon3',\r\n        titlePic: 'GameTask_Title3',\r\n        desc: '\u53EF\u5408\u5E76\u4EFB\u610F\u4E00\u4E2A\u6C34\u679C',\r\n        data: 1,\r\n    },\r\n    addScore: {\r\n        title: '\u79EF\u5206\u5956\u52B1',\r\n        iconPic: 'GameTask_Icon4',\r\n        titlePic: 'GameTask_Title4',\r\n        desc: '\u79EF\u5206+50',\r\n        data: 50,\r\n    },\r\n}\r\n//\u98DE\u5165\u7684\u4EFB\u52A1\u7C7B\u578B\r\nexport type GameFlyTaskAwardType = keyof typeof GameFlyTaskAwardInfo;\r\n\r\nclass GameLogic_c {\r\n    //\u603B\u4EBA\u6570\r\n    //----------------------------\u6E38\u620F\u72B6\u6001\u4FE1\u606F----------------------------//\r\n    isInGame = false;\r\n    //\u6E38\u620F\u5185ui\u573A\u666F\u7C7B\r\n    gameScene: any = null;\r\n    //\u6E38\u620F\u5185\u7269\u7406\u573A\u666F\u7C7B\r\n    myGameScene: any = null;\r\n    //----------------------------\u6E38\u620F\u6570\u636E\u4FE1\u606F----------------------------//\r\n    //\u6C34\u679C\u4FE1\u606F\r\n    readonly fruitConfig = [\r\n        // {//\u8461\u8404\r\n        //     image: 'fruit_1.png',//\u672C\u5730\u56FE\u7247\u540D\r\n        //     imagesW: 70,\r\n        //     score: 0,\r\n\r\n        // },\r\n        {//\u6A31\u6843\r\n            image: 'fruit_2.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 145,\r\n            score: 0\r\n        },\r\n        {//\u6A58\u5B50\r\n            image: 'fruit_3.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 170,\r\n            score: 1\r\n        },\r\n        {//\u67E0\u6AAC\r\n            image: 'fruit_4.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 200,\r\n            score: 2\r\n        },\r\n        {//\u7315\u7334\u6843\r\n            image: 'fruit_5.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 230,\r\n            score: 3\r\n        },\r\n        {//\u756A\u8304\r\n            image: 'fruit_6.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 260,\r\n            score: 4\r\n        },\r\n        // {//\u6843\u5B50\r\n        //     image: 'fruit_7.png',//\u672C\u5730\u56FE\u7247\u540D\r\n        //     imagesW: 280,\r\n        //     score: 6\r\n        // },\r\n        {//\u83E0\u841D\r\n            image: 'fruit_8.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 290,\r\n            score: 5\r\n        },\r\n        {//\u6930\u5B50\r\n            image: 'fruit_9.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 330,\r\n            score: 6\r\n        },\r\n        {//\u6843\u5B50\r\n            image: 'fruit_10.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 380,\r\n            score: 7\r\n        },\r\n        {//\u83E0\u841D\r\n            image: 'fruit_11.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 430,\r\n            score: 8\r\n        },\r\n    ]\r\n    //\u9053\u5177\u6C34\u679C\r\n    readonly propFruitConfig = {\r\n        //\u8D85\u7EA7\u6C34\u679C\r\n        supper: {\r\n            image: 'fruit_supper.png',//\u672C\u5730\u56FE\u7247\u540D\r\n            imagesW: 170,\r\n            score: 0,\r\n        },\r\n    }\r\n    //\u5408\u6210\u6C34\u679C\u5F97\u5206\r\n    // readonly fruitScore = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n    //\u5408\u6210\u6700\u9AD8\u9636\u989D\u5916\u5F97\u5206\r\n    readonly maxExtScore = 100;\r\n    gameExpendCoin = 1;\r\n    //\u672C\u5C40\u5206\u6570\r\n    curScore = 0;\r\n    //\u6211\u7684\u91D1\u5E01\r\n    myCoin = 1;\r\n    //\u6211\u7684\u79EF\u5206\r\n    myScore = 2;\r\n\r\n    //\u5956\u54C1\u5305\u91CC\u7269\u54C1\u6570\u91CF\r\n    newInBag = 3;\r\n    //\u9886\u91D1\u5E01\u91CC\u7269\u54C1\u6570\u91CF\r\n    newInCoin = 4;\r\n    //\u5408\u6210\u7684\u6700\u9AD8\u6C34\u679C\u79CD\u7C7B\r\n    curTopKind = 0;\r\n    //\u53EF\u4EE5\u5408\u6210\u7684\u6700\u9AD8\u6C34\u679C\u79CD\u7C7B\r\n    maxFruitKind = 11;\r\n\r\n    //\u6C34\u679C\u6700\u9AD8\u4F4D\u7F6E\r\n    fruitTopY = 2000;\r\n    //\u8FDE\u6D88\u6B21\u6570\r\n    comboTime = 0;\r\n    //\u4E0A\u6B21\u8FDE\u6D88\u6C34\u679Cid\r\n    lastComboId = -1;\r\n    // //\u73A9\u6E38\u620F\u65F6\u95F4\r\n    // playGameTime = 0;\r\n\r\n    //\u6C34\u679C\u6709\u6548\u9AD8\u5EA6\r\n    gameFruitValidY = { bottom: 0, top: 0 };\r\n\r\n\r\n\r\n    //\u6E38\u620F\u72B6\u6001\uFF080\u672A\u5F00\u59CB\uFF0C1\u5F00\u59CB\uFF0C2\u6E38\u620F\u4E2D\uFF0C3\u7ED3\u675F\uFF09\r\n    gameState = 0;\r\n\r\n    isGameFail = false;\r\n    reviveLeftTime = 1;\r\n    //\u7ED3\u7B97\u5956\u52B1\u500D\u6570\r\n    awardMult = 1;\r\n    //\u662F\u5426\u5DF2\u7ECF\u83B7\u53D6\u8FC7\u6E38\u620F\u5185\u4F18\u60E0\u5238\u5956\u52B1\r\n    isGotGameAward = false;\r\n\r\n    isPause = false;\r\n\r\n    private gameClockName = 'GameClock';\r\n\r\n    //\u6E38\u620F\u6BCF\u5C40uid,\u4FDD\u8BC1\u6BCF\u5C40\u552F\u4E00\r\n    private gameuid = 0;\r\n\r\n    //-------------------------------------------------------------------//\r\n\r\n    private static instance: GameLogic_c = null as any;\r\n    static INS() {\r\n        if (!this.instance) {\r\n            this.instance = new GameLogic_c();\r\n        }\r\n        return this.instance;\r\n    }\r\n    Init() {\r\n        this.gameState = 0;\r\n        //\u53EF\u5408\u6210\u7684\u6700\u9AD8\u6C34\u679C\r\n        this.maxFruitKind = this.fruitConfig.length;\r\n        this.InitCoin();\r\n        this.InitScore();\r\n\r\n        ModuleGameInfo.GetGameInfo('watermelong', (_success, _info) => {\r\n            console.log('GetGameInfo', _info);\r\n            if (_success) {\r\n                let _fs: { id: number, url: string, custom: boolean }[] = [];\r\n                for (let index = 0; index < _info.iconList.length; index++) {\r\n                    const element = _info.iconList[index][0];\r\n                    let _fruit: { id: number, url: string, custom: boolean } = {\r\n                        id: index + 1,\r\n                        url: element.url,\r\n                        custom: element.custom || false,\r\n                    }\r\n                    _fs.push(_fruit);\r\n                    this.SetAndPreLoadFruit(_fs);\r\n\r\n                };\r\n\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n    //----------------------------------------\u6E38\u620F\u751F\u547D\u5468\u671F---------------------------------//\r\n    private restartTimeID = null as any;\r\n    Restart() {\r\n        ModuleStatistics.ChangeCurGameState('game');\r\n        this.isGameFail = false;\r\n        this.gameState = 1;\r\n        if (this.restartTimeID) {\r\n            clearTimeout(this.restartTimeID);\r\n            this.restartTimeID = 0;\r\n        }\r\n        //\u9632\u6B62\u573A\u666F\u672A\u52A0\u8F7D\u5B8C\u6210\r\n        if (!this.gameScene || !this.myGameScene) {\r\n            this.restartTimeID = setTimeout(() => {\r\n                this.Restart();\r\n            }, 100);\r\n            return;\r\n        }\r\n        //\u5F00\u542F\u6E38\u620F\u8BA1\u65F6\u5668\r\n        ClockUtil.Start(this.gameClockName);\r\n        ClockUtil.insertEvent(this.gameClockName, {\r\n            interval: 1, //\u95F4\u9694\u65F6\u95F4(\u6700\u5C0F0.001s)\r\n            callBack: (clockTag: string, tag: string, _n: number) => {\r\n                // console.log('insertEvent \u89E6\u53D1', clockTag, tag, _n);\r\n\r\n                this.AutoTriggerGameFlyTask();\r\n            }\r\n        })\r\n\r\n        this.gameuid = ((Date.now() + Math.random()) * 10000) | 0;\r\n        // this.playGameTime = 0;\r\n        this.fruitTopY = 2000;\r\n        this.comboTime = 0;\r\n        this.ResetCurScore();\r\n        this.gameScene && this.gameScene.GameStart();\r\n        this.myGameScene && this.myGameScene.GameStart();\r\n        this.gameState = 2;\r\n        this.reviveLeftTime = 1;\r\n        this.awardMult = 1;\r\n\r\n        this.isGotGameAward = false;\r\n        this.ResetGameFlyTask();\r\n        this.ResetGameoverTask();\r\n\r\n        //\u66F4\u65B0\u4E00\u6B21\u798F\u888B\u8D2D\u4E70\u72B6\u6001\r\n        this.CheckLuckyBagState();\r\n        this.PauseGame(false)\r\n\r\n\r\n\r\n    }\r\n    Revive() {\r\n        this.comboTime = 0;\r\n        this.isGameFail = false;\r\n        this.gameState = 1;\r\n        this.fruitTopY = 2000;\r\n        this.gameScene && this.gameScene.GameRevive();\r\n        this.myGameScene && this.myGameScene.GameRevive();\r\n        this.gameState = 2;\r\n        this.awardMult = 1;\r\n        this.reviveLeftTime--;\r\n        this.PauseGame(false);\r\n        HHAudio.PlayEffect('revive');\r\n    }\r\n    GameOver(_fail = true) {\r\n        this.isGameFail = _fail;\r\n        this.gameState = 3;\r\n        this.PauseGame(true);\r\n        // console.log('gamelogic GameOver', this.gameScene, this.myGameScene);\r\n\r\n        if (!_fail) {\r\n            this.curScore = 0;\r\n        }\r\n        this.gameScene && this.gameScene.GameOver();\r\n        this.myGameScene && this.myGameScene.GameOver();\r\n        if (_fail) {\r\n            HHAudio.PlayEffect('gameOver');\r\n        }\r\n    }\r\n    ShowGameOverPopup(awrdN = 1) {\r\n        this.awardMult = awrdN;\r\n        this.gameScene && this.gameScene.showGameOver(true);\r\n        if (awrdN == 2) {\r\n            HHAudio.PlayEffect('getDoubleScore');\r\n        }\r\n        ModuleStatistics.ChangeCurGameState('afterGame');\r\n    }\r\n    ShowDoubleAward() {\r\n        this.gameScene && this.gameScene.showDoubleAward(true);\r\n    }\r\n    PauseGame(_pause: boolean) {\r\n        if (!this.isInGame) {\r\n            return;\r\n        }\r\n        this.isPause = _pause;\r\n        // this.GameClock(!_pause);\r\n        if (_pause) {\r\n            ClockUtil.Pause(this.gameClockName);\r\n        }\r\n        else {\r\n            ClockUtil.Resume(this.gameClockName);\r\n        }\r\n        this.gameScene && this.gameScene.GamePause(_pause);\r\n    }\r\n    InGame() {\r\n        this.isInGame = true;\r\n\r\n    }\r\n    OutGame() {\r\n        this.isInGame = false;\r\n        if (this.restartTimeID) {\r\n            clearTimeout(this.restartTimeID);\r\n            this.restartTimeID = 0;\r\n        }\r\n        ClockUtil.Stop(this.gameClockName);\r\n    }\r\n    //\u963B\u6B62\u6E38\u620F\u5185\u70B9\u51FB\u4E8B\u4EF6\r\n    private gameTouchEnabled = true;\r\n    PreventGameTouch() {\r\n        this.gameTouchEnabled = false;\r\n        Laya.timer.frameOnce(2, this, this.restoreGameTouchState);\r\n    }\r\n    restoreGameTouchState() {\r\n        this.gameTouchEnabled = true;\r\n    }\r\n    IsGameTouchEnable() {\r\n        return this.gameTouchEnabled;\r\n    }\r\n    // private clockIntervalId = null as any;\r\n    // //\u6E38\u620F\u8BA1\u65F6\u5668\r\n    // GameClock(_resume = true) {\r\n\r\n\r\n    //     let _curstate = !!this.clockIntervalId;\r\n\r\n    //     console.error('GameClock', _resume, _curstate);\r\n    //     if (_resume == _curstate) {\r\n    //         return;\r\n    //     }\r\n    //     if (this.clockIntervalId) {\r\n    //         clearInterval(this.clockIntervalId);\r\n    //         this.clockIntervalId = null;\r\n    //     }\r\n    //     if (_resume) {\r\n\r\n    //         //\u66F4\u65B0\u95F4\u9694s\r\n    //         const _add = 0.1;\r\n    //         this.clockIntervalId = setInterval(() => {\r\n\r\n    //             //\u4FDD\u7559\u5C0F\u6570\u70B9\u540E\u4E09\u4F4D\r\n    //             this.playGameTime = Number((this.playGameTime + _add).toFixed(3));\r\n    //             //\u6BCFn\u79D2\u89E6\u53D1\u4E00\u6B21\r\n    //             const n = 1;\r\n    //             if (((this.playGameTime * 10) | 0) % (n * 10) == 0) {\r\n    //                 this.AutoTriggerGameFlyTask();\r\n    //             }\r\n    //         }, _add * 1000);\r\n    //     }\r\n\r\n    // }\r\n    //----------------------------------------\u6E38\u620F\u6570\u636E\u903B\u8F91---------------------------------//\r\n    //\u5408\u6210\u6C34\u679C\r\n    NewFruit(_kind: number) {\r\n        if (_kind > this.curTopKind) {\r\n            this.curTopKind = _kind;\r\n        }\r\n    }\r\n    //\u7ED3\u7B97\u6E38\u620F\u79EF\u5206\r\n    SettleGameScore() {\r\n        let _addscore = ((this.curScore / 1) * this.awardMult + 0.5) | 0;\r\n        // MainUtil.sendChangePoint(_addscore);\r\n        this.ChangeScore(_addscore);\r\n        //this.ResetCurScore();\r\n        Laya.stage.event('curScore');\r\n    }\r\n    //-----------------------------------\u754C\u9762\u663E\u793A\u63A7\u5236--------------------------------//\r\n    //\u663E\u793A\u83B7\u5F97\u5206\u6570\u6548\u679C\r\n    ShowGetScoreEffect(_info: GetScoreInfo) {\r\n        if (!this.gameScene) {\r\n            return;\r\n        }\r\n        GetScore.Create(_info);\r\n    }\r\n\r\n    //\u663E\u793A\u8FDE\u51FB\u6548\u679C\r\n    ShowComboEffect(_comboN: number) {\r\n        if (!this.gameScene) {\r\n            return;\r\n        }\r\n        ComboEffect.Create({ comboN: _comboN, pos: [375, Laya.stage.height / 2] });\r\n    }\r\n    //\u663E\u793A\u5408\u6210\u5956\u52B1\u5F39\u7A97\r\n    ShowMergeAward(_data: GameAwardInfo) {\r\n        console.log('gameScene.ShowGameAward');\r\n        this.gameScene && this.gameScene.ShowGameAward(_data);\r\n    }\r\n    //\u663E\u793A\u5F00\u573A\u63D0\u793A\r\n    ShowStartHint(_show: boolean) {\r\n        this.gameScene && this.gameScene.ShowStartHint(_show);\r\n    }\r\n\r\n\r\n    //--------------------------\u6C34\u679C\u76AE\u80A4---------------------//\r\n    private fruitUrlObj = {};\r\n    //\u83B7\u53D6\u6C34\u679Curl\u5217\u8868\uFF0C\u5E76\u9884\u52A0\u8F7D\u6C34\u679C\r\n    SetAndPreLoadFruit(_fruitinfo: { id: number, url: string, custom: boolean }[]) {\r\n        let _urls = [];\r\n        for (let index = 0; index < _fruitinfo.length; index++) {\r\n            const fruit = _fruitinfo[index];\r\n            _urls.push(fruit.url);\r\n            this.fruitUrlObj['id' + fruit.id] = { url: fruit.url, custom: fruit.custom };\r\n        }\r\n        console.log('SetAndPreLoadFruit fruitUrlObj', this.fruitUrlObj);\r\n        console.log('_urls', _urls);\r\n\r\n        Laya.loader.load(_urls, Laya.Handler.create(this, (isSuccess) => {\r\n            console.log('\u6C34\u679C\u76AE\u80A4\u52A0\u8F7D\u5B8C\u6BD5\uFF1A', isSuccess);\r\n        }));\r\n    }\r\n    GetFruitUrlInfo(_id: number | string): { url: string, custom: boolean } {\r\n        if (typeof _id == 'number') {\r\n            let _info = this.fruitUrlObj['id' + _id];\r\n            if (_info) {\r\n                return _info;\r\n            }\r\n            return { url: `img/fruits/` + this.fruitConfig[_id - 1].image, custom: false };\r\n        }\r\n        else {\r\n            return { url: `img/fruits/` + this.propFruitConfig[_id].image, custom: false };\r\n        }\r\n\r\n    }\r\n    GetFruitConfig(_id: number | string) {\r\n        if (typeof _id == 'number') {\r\n            return this.fruitConfig[_id - 1];\r\n        }\r\n        return this.propFruitConfig[_id];\r\n\r\n    }\r\n    //--------------------------\u91D1\u5E01\u4FE1\u606F---------------------//\r\n    SetGameExpendCoin(_coin: number) {\r\n        console.error('\u4E0D\u4ECE\u670D\u52A1\u7AEF\u8BBE\u7F6E\u82B1\u8D39\u6B21\u6570\u6570\u91CF', _coin);\r\n\r\n        // this.gameExpendCoin = _coin;\r\n    }\r\n    InitCoin() {\r\n\r\n        // this.myCoin = _coin;\r\n        // Laya.stage.event('coin');\r\n        // // PlayDataUtil.listen('coin', (newValue: number) => {\r\n        // //     this.myCoin = newValue;\r\n        // //     Laya.stage.event('coin');\r\n        // // })\r\n        ModuleGlobal.ListenCurrencyChange(GCurrencyType.times, this, (_n) => {\r\n            this.myCoin = _n;\r\n            Laya.stage.event('coin');\r\n            // this.UpdateCoin(_n)\r\n        })\r\n        this.myCoin = ModuleGlobal.MyCurrency.times;\r\n        ModuleGlobal.UpdateCurrency(GCurrencyType.times);\r\n\r\n    }\r\n    ChangeCoin(_add: number, cbSuccess?: Function, cbFail?: Function, taskId?: string) {\r\n        if (ModulePackage.Instance.CanUseNetAPI()) {\r\n            if (_add == 0) {\r\n                return;\r\n            }\r\n            if (_add > 0) {\r\n                console.error('ChangeCoin', '\u6CA1\u6709add');\r\n\r\n                // MainUtil.sendCoin(_add, taskId, (_coin: number) => {\r\n                //     this.myCoin = _coin;\r\n                //     Laya.stage.event('coin');\r\n                //     console.log('ChangeCoin _add', _coin);\r\n                //     cbSuccess && cbSuccess();\r\n                // });\r\n            }\r\n            else {\r\n                ModuleGlobal.ConsumeCurrency(GCurrencyType.times, -_add, (_success) => {\r\n                    if (_success) {\r\n                        cbSuccess && cbSuccess();\r\n                    }\r\n                    else {\r\n                        cbFail && cbFail();\r\n                    }\r\n                });\r\n                // MainUtil.costCoin(-_add, (_coin: number) => {\r\n                //     this.myCoin = _coin;\r\n                //     console.log('ChangeCoin sub', _coin);\r\n\r\n                //     Laya.stage.event('coin');\r\n                //     cbSuccess && cbSuccess();\r\n\r\n                // }, cbFail);\r\n            }\r\n        }\r\n        else {\r\n            this.myCoin += _add;\r\n            Laya.stage.event('coin');\r\n            cbSuccess && cbSuccess();\r\n\r\n            // cbFail && cbFail(-11);\r\n        }\r\n\r\n\r\n    }\r\n    // UpdateCoin(_coin: number) {\r\n    //     this.myCoin = _coin;\r\n    //     Laya.stage.event('coin');\r\n    // }\r\n    GetCoin() {\r\n        return this.myCoin;\r\n    }\r\n\r\n\r\n    //--------------------------\u79EF\u5206\u4FE1\u606F---------------------//\r\n    InitScore(_score = 0) {\r\n        ModuleGlobal.ListenCurrencyChange(GCurrencyType.wmScore, this, (_n) => {\r\n            this.myScore = _n;\r\n            Laya.stage.event('score');\r\n        })\r\n\r\n        this.myScore = ModuleGlobal.MyCurrency.wmScore;\r\n        ModuleGlobal.UpdateCurrency(GCurrencyType.wmScore);\r\n    }\r\n    ChangeScore(_add: number) {\r\n        // if (_set != undefined) {\r\n        //     this.myScore = _set;\r\n        // }\r\n        // else {\r\n        //     this.myScore += _add;\r\n        // }\r\n        // console.log('ChangeScore', this.myScore);\r\n        // Laya.stage.event('score');\r\n        // ModuleGlobal.AddCurrency(GCurrencyType.wmScore, _add);\r\n        ModuleGlobal.AddRankScore(_add);\r\n    }\r\n    GetScore() {\r\n        return this.myScore;\r\n    }\r\n    //--------------------------\u80CC\u5305\u5185\u6570\u91CF\u4FE1\u606F---------------------//\r\n    InitNewInBag(_n = 0) {\r\n        this.newInBag = _n;\r\n        Laya.stage.event('newInBag');\r\n    }\r\n    ChangeNewInBag(_add: number) {\r\n        this.newInBag += _add;\r\n        Laya.stage.event('newInBag');\r\n    }\r\n    GetNewInBag() {\r\n        return this.newInBag;\r\n    }\r\n    //--------------------------\u9886\u91D1\u5E01\u5185\u6570\u91CF\u4FE1\u606F---------------------//\r\n    InitNewInCoin(_n = 0) {\r\n        this.newInCoin = _n;\r\n        Laya.stage.event('newInCoin');\r\n    }\r\n    ChangeNewInCoin(_add: number) {\r\n        this.newInCoin += _add;\r\n        Laya.stage.event('newInCoin');\r\n    }\r\n    GetNewInCoin() {\r\n        return this.newInCoin;\r\n    }\r\n    //--------------------------\u672C\u5C40\u5206\u6570\u4FE1\u606F---------------------//\r\n    ResetCurScore() {\r\n        this.curScore = 0;\r\n        Laya.stage.event('curScore');\r\n    }\r\n    AddScoreByKind(_kind: number) {\r\n        // console.error('AddCurScore _kind', _kind);\r\n\r\n        let _addscore = this.fruitConfig[_kind - 1].score;\r\n        if (this.maxFruitKind == _kind) {\r\n            // _addscore += this.maxExtScore;\r\n            this.gameScene && this.gameScene.ShowMergeExternAward(this.maxExtScore);\r\n            HHAudio.PlayEffect('mergeTop');\r\n        }\r\n        // this.gameScene && this.gameScene.ShowMergeExternAward(_addscore);\r\n        this.AddCurScore(_addscore);\r\n        return _addscore;\r\n    }\r\n    AddCurScore(_addscore) {\r\n        this.curScore += _addscore;\r\n        Laya.stage.event('curScore');\r\n        return this.curScore;\r\n    }\r\n    GetCurScore() {\r\n        return this.curScore;\r\n    }\r\n    //--------------------------\u798F\u888B\u4FE1\u606F---------------------//\r\n    private luckyBagConfig = { price: '0.01', num_iid: '637552722895', title: '\u798F\u888B' };\r\n    InitLuckyBagConfig(_config: {\r\n        price: string,\r\n        approve_status: \"onsale\",\r\n        num: number,\r\n        name: string,\r\n        num_iid: string,\r\n        pic_url: string,\r\n        title: string,\r\n        seller_cids: string\r\n    }) {\r\n        for (const key in this.luckyBagConfig) {\r\n            if (!Object.prototype.hasOwnProperty.call(_config, key)) {\r\n                console.error('[\u798F\u888B\u521D\u59CB\u5316]\u7F3A\u5C11\u5B57\u6BB5:', key);\r\n                continue;\r\n            }\r\n            this.luckyBagConfig[key] = _config[key];\r\n        }\r\n\r\n    }\r\n    GetLuckyBagConfig() {\r\n        return this.luckyBagConfig;\r\n    }\r\n\r\n\r\n    //--------------------------\u5916\u90E8\u4E0A\u4F20\u63A5\u53E3---------------------//\r\n    //\u83B7\u53D6\u73A9\u5BB6\u4FE1\u606F\u4E0A\u62A5\r\n    checkLogin(cb?) {\r\n        // this.updateUser(PlayDataUtil.data.name, PlayDataUtil.data.avatar);\r\n        if (PlayDataUtil.data.name == \"\u73A9\u5BB68573\" || PlayDataUtil.data.name == \"\") {\r\n            TB.authorize((data) => {\r\n                console.log(\"data: \", data);\r\n                // this.updateUser(data.nickName, data.avatar);\r\n                PlayDataUtil.setData('name', data.nickName);\r\n                PlayDataUtil.setData('avatar', data.avatar);\r\n                //\u4E0A\u62A5\u5934\u50CF/\u6635\u79F0\u4FE1\u606F\r\n                MainUtil.reqUserInfo(data.avatar, data.nickName, () => {\r\n                    cb && cb();\r\n                    this.updateState();\r\n                });\r\n            });\r\n        } else {\r\n            cb && cb();\r\n            this.updateState();\r\n        }\r\n    }\r\n    checkVIP() {\r\n        // //\u67E5\u8BE2VIP\u72B6\u6001\uFF08\u5173\u6CE8\u5E97\u94FA\uFF09\r\n        // TB.checkShopFavoredStatus((res) => {\r\n        //     PlayDataUtil.setData(\"isVip\", res.isFavor ? 1 : 0);\r\n        //     console.error('checkShopFavoredStatus isVip', res.isFavor ? 1 : 0);\r\n\r\n        //     // let vipImg = this._view.getChild(\"avatarCom\").asCom.getChild('vip').asImage;\r\n        //     // vipImg.visible = (PlayDataUtil.data.isVip == 1);\r\n\r\n        //     //\u4E0A\u62A5vip\u72B6\u6001\r\n        //     MainUtil.sendVip((res.isFavor ? 1 : 0), () => {\r\n        //     }, () => {\r\n        //     });\r\n        // });\r\n    }\r\n\r\n    checkMember() {\r\n        // //\u67E5\u8BE2\u4F1A\u5458\u72B6\u6001\uFF08\u52A0\u5165\u4F1A\u5458\uFF09\r\n        // if (Laya.Browser.onTBMiniGame) {\r\n        //     TB.checkMember((res) => {\r\n        //         let curState = PlayDataUtil.data.isMember;\r\n        //         console.log('Gamelogic checkMember res', res);\r\n        //         //\u4F1A\u5458\u72B6\u6001\u6709\u53D8\u5316\uFF0C\u4E0A\u62A5\u670D\u52A1\u5668    \u6CA1\u6709\u53D8\u5316\uFF0C\u8DF3\u8FC7\r\n        //         if (res != curState) {\r\n        //             MainUtil.sendMember(res, () => {\r\n\r\n        //             }, () => {\r\n\r\n        //             });\r\n        //         }\r\n        //     })\r\n        // }\r\n    }\r\n    updateState() {\r\n        console.log('====== \u66F4\u65B0\u9875\u9762\u72B6\u6001 ======')\r\n        //\u8BF7\u6C42\u5206\u4EAB\u4FE1\u606F\r\n        MainUtil.reqShare((res) => {\r\n            if (res.code == 0) {\r\n                if (res.data.invitationInfo.nickName != \"\") {\r\n                    //\u9080\u8BF7\u6210\u529F\r\n                    new Invite(res.data.invitationInfo);\r\n                } else if (res.data.fromInfo.nickName != \"\") {\r\n                    //\u88AB\u9080\u8BF7\u8FDB\u6765\r\n                    new Invite(res.data.fromInfo);\r\n                }\r\n            }\r\n        })\r\n    }\r\n    //--------------------------\u83B7\u53D6\u4EFB\u52A1icon---------------------//\r\n    GetGameTaskIconUrl(_type: GameTaskType) {\r\n        const baseUrl = 'https://oss.ixald.com/' + 'BigWatermelon/C_client/taskIcon/'\r\n        let _ext = '.png';\r\n        let _iconstr = 'meiri';\r\n        switch (_type) {\r\n            case 'attention':\r\n                _iconstr = 'guanzhu';\r\n                break;\r\n            case 'joinMember':\r\n                _iconstr = 'jiaru';\r\n                break;\r\n            case 'browse':\r\n                _iconstr = 'liulan';\r\n                break;\r\n            case 'browseStore':\r\n                _iconstr = 'liulanshouye';\r\n                break;\r\n            case 'share':\r\n                _iconstr = 'yaoqing';\r\n                break;\r\n            case 'collect':\r\n                _iconstr = 'shoucang';\r\n                break;\r\n            case 'buy':\r\n                _iconstr = 'shangpinfuli';\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        return baseUrl + _iconstr + _ext;\r\n    }\r\n    // GetTaskIconUrl(_id: TaskID) {\r\n    //     const baseUrl = 'https://oss.ixald.com/' + 'BigWatermelon/vivo/C_client/taskIcon/'\r\n    //     let _ext = '.png';\r\n    //     let _iconstr = 'meiri';\r\n    //     switch (_id) {\r\n    //         case TaskID.SingIn:\r\n    //             _iconstr = 'meiri';\r\n    //             break;\r\n    //         case TaskID.Attention:\r\n    //             _iconstr = 'guanzhu';\r\n    //             break;\r\n    //         case TaskID.JoinMember:\r\n    //             _iconstr = 'jiaru';\r\n    //             break;\r\n    //         case TaskID.LuckyBag:\r\n    //             _iconstr = 'fudai';\r\n    //             break;\r\n    //         case TaskID.Browse:\r\n    //             _iconstr = 'liulan';\r\n    //             break;\r\n    //         case TaskID.BrowseHomePage:\r\n    //             _iconstr = 'liulanshouye';\r\n    //             break;\r\n    //         // case 7:\r\n    //         //     _iconstr = 'shangpinfuli';\r\n    //         //     break;\r\n    //         case TaskID.Invite:\r\n    //             _iconstr = 'yaoqing';\r\n    //             break;\r\n\r\n    //         default:\r\n    //             break;\r\n    //     }\r\n    //     return baseUrl + _iconstr + _ext;\r\n    // }\r\n    //--------------------------\u5151\u6362\u5546\u54C1\u63A5\u53E3---------------------//\r\n    //\u83B7\u53D6\u5151\u6362\u5217\u8868\r\n    // GetScoreShopList(_callBack: (_dataList: {\r\n    //     rewardList: [\r\n    //         {\r\n    //             exchangeConfig: any,//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n    //             price: number,//\u5151\u6362\u4EF7\u683C\r\n    //             total: number,//B\u7AEF\u6700\u65E9\u914D\u7F6E\u7684\u5E93\u5B58\u6570\r\n    //             leftN: number,//\u5269\u4F59\u5E93\u5B58\u6570\r\n    //             name: \"goods\" | \"coupon\",//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n    //             type: number,//\u5956\u54C1\u7EA7\u522B\uFF08\u552F\u4E00\uFF09\uFF08\u5BF9\u5E941\uFF0C2\uFF0C3\u7B49\u5956\u3002\u3002\u3002\uFF09\r\n    //             pic_url: string,//\u5546\u54C1url\u94FE\u63A5\r\n    //             title: string,//\u5546\u54C1\u540D\u5B57\r\n    //             num_iid: string,//\u5546\u54C1id\r\n    //             getN: number,//\u5DF2\u83B7\u5F97\u6570\u91CF\r\n    //             limitN: number,//\u53EF\u5151\u6362\u9650\u5236\u6570\u91CF\r\n    //         }\r\n    //     ], // B\u7AEF\u914D\u7F6E\u7684\u5956\u54C1\u5217\u8868\r\n    //     resetConfig: {\r\n    //         state: boolean,//(true: \u8BBE\u7F6E\u5F00\u542F\u91CD\u7F6E\u65F6\u95F4  false: \u672A\u8BBE\u7F6E)\r\n    //         time: string,//\u6BCF\u65E5\u91CD\u7F6E\u6216\u5237\u65B0\u5E93\u5B58\u7684\u65F6\u95F4\u70B9\r\n    //     }\r\n    // }) => void) {\r\n\r\n    //     let _getInfo = (_data) => {\r\n    //         // console.error('_data', _data);\r\n\r\n    //         let _dataList = {\r\n    //             rewardList: [],\r\n    //             resetConfig: _data.integralRewardConfig.resetConfig\r\n    //         }\r\n    //         for (const reward of _data.integralRewardConfig.rewardList) {\r\n    //             let _dd = {\r\n    //                 exchangeConfig: reward.exchangeConfig,//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n\r\n    //                 price: this.ChangeToNumber(reward.integral),//\u5151\u6362\u4EF7\u683C\r\n    //                 name: reward.name,//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n    //                 type: this.ChangeToNumber(reward.type),//\u5956\u54C1\u7EA7\u522B\uFF08\u5BF9\u5E941\uFF0C2\uFF0C3\u7B49\u5956\u3002\u3002\u3002\uFF09\r\n    //                 pic_url: reward.pic_url,//\u5546\u54C1url\u94FE\u63A5\r\n    //                 title: reward.title,//\u5546\u54C1\u540D\u5B57\r\n    //                 num_iid: reward.num_iid,//\u5546\u54C1id\r\n    //                 total: this.ChangeToNumber(reward.num),//B\u7AEF\u6700\u65E9\u914D\u7F6E\u7684\u5E93\u5B58\u6570\r\n    //                 leftN: 0,//\u5269\u4F59\u5E93\u5B58\u6570\r\n    //                 getN: 0,//\u5DF2\u83B7\u5F97\u6570\u91CF\r\n    //                 limitN: -1,//\u53EF\u5151\u6362\u9650\u5236\u6570\u91CF<=0\u6CA1\u6709\u9650\u5236\r\n\r\n    //             }\r\n\r\n    //             let _findstock = _data.stockConfig.find(v => v.type == _dd.type);\r\n    //             if (_findstock) {\r\n    //                 _dd.leftN = this.ChangeToNumber(_findstock.nums);\r\n    //             }\r\n    //             else {\r\n    //                 console.error('\u672A\u627E\u5230\u6B64\u5546\u54C1\u5E93\u5B58:', _dd.type, _dd.title);\r\n    //             }\r\n    //             if (_data.exchangeData && _data.exchangeData != []) {\r\n    //                 let _findgetN = _data.exchangeData.find(v => v.type == _dd.type);\r\n    //                 if (_findgetN) {\r\n    //                     _dd.getN = this.ChangeToNumber(_findgetN.nums);\r\n    //                 }\r\n    //                 else {\r\n    //                     console.error('\u672A\u627E\u5230\u6B64\u5546\u54C1\u5DF2\u83B7\u5F97\u6570\u91CF:', _dd.type, _dd.title);\r\n    //                 }\r\n    //             }\r\n\r\n    //             if (_data.exchangeConfig && _data.exchangeConfig != []) {\r\n    //                 let _findlimitN = _data.exchangeConfig.find(v => v.type == _dd.type);\r\n    //                 if (_findlimitN) {\r\n    //                     if (!_findlimitN.state) {\r\n    //                         _dd.limitN = -1;\r\n    //                     }\r\n    //                     else {\r\n    //                         _dd.limitN = this.ChangeToNumber(_findlimitN.nums);\r\n    //                     }\r\n\r\n    //                 }\r\n    //                 else {\r\n    //                     console.error('\u672A\u627E\u5230\u6B64\u5546\u54C1\u5151\u6362\u9650\u5236\u6570\u91CF:', _dd.type, _dd.title);\r\n    //                 }\r\n    //             }\r\n    //             _dataList.rewardList.push(_dd);\r\n    //         }\r\n    //         console.log('_getInfo _dataList', _dataList);\r\n    //         _callBack(_dataList as any);\r\n    //     }\r\n    //     if (Laya.Browser.onTBMiniGame) {\r\n    //         let reqData = {\r\n    //             activeId: TB._activeId,\r\n    //         }\r\n    //         let info = { \"id\": Global.MSG_GET_SCORESHOP_LIST, \"data\": reqData };\r\n    //         TB.sendMsg(info, (buf) => {\r\n    //             if (buf.code == 0) {\r\n    //                 console.log('\u83B7\u53D6\u5151\u6362\u5217\u8868\u6210\u529F', buf.data)\r\n    //                 _getInfo(buf.data);\r\n\r\n    //             } else {\r\n    //                 console.error('\u83B7\u53D6\u5151\u6362\u5217\u8868\u5931\u8D25', buf.message)\r\n    //                 _callBack(null);\r\n    //             }\r\n    //         });\r\n    //     } else {\r\n    //         let data = {\r\n    //             integralRewardConfig: {\r\n    //                 rewardList: [\r\n    //                     {\r\n    //                         exchangeConfig: [],//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n    //                         price: 100,//\u5546\u54C1\u4EF7\u683C\r\n    //                         integral: 100,//\u5151\u6362\u6240\u9700\u79EF\u5206\r\n    //                         num: 20,//B\u7AEF\u6700\u65E9\u914D\u7F6E\u7684\u5E93\u5B58\u6570\r\n    //                         name: \"goods\",//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n    //                         type: 1,//\u5956\u54C1\u7EA7\u522B\uFF08\u5BF9\u5E941\uFF0C2\uFF0C3\u7B49\u5956\u3002\u3002\u3002\uFF09\r\n    //                         pic_url: '',//\u5546\u54C1url\u94FE\u63A5\r\n    //                         title: '\u6D4B\u8BD5\u5546\u54C1hfdshsfdhadhadhahaehearh',//\u5546\u54C1\u540D\u5B57\r\n    //                         num_iid: '',//\u5546\u54C1id\r\n    //                     },\r\n    //                     {\r\n    //                         exchangeConfig: [],//\u5546\u54C1\u5151\u6362\u9650\u5236 \u914D\u7F6E\r\n    //                         price: 120,//\u5546\u54C1\u4EF7\u683C\r\n    //                         integral: 10,//\u5151\u6362\u6240\u9700\u79EF\u5206\r\n    //                         num: 20,//B\u7AEF\u6700\u65E9\u914D\u7F6E\u7684\u5E93\u5B58\u6570\r\n    //                         name: \"\u201Ccoupon\u201D\",//\u5956\u54C1\u79CD\u7C7B\uFF08\"goods\": \u771F\u5B9E\u5546\u54C1  \u201Ccoupon\u201D: \u4F18\u60E0\u5238\uFF09\r\n    //                         type: 2,//\u5956\u54C1\u7EA7\u522B\uFF08\u5BF9\u5E941\uFF0C2\uFF0C3\u7B49\u5956\u3002\u3002\u3002\uFF09\r\n    //                         pic_url: '',//\u5546\u54C1url\u94FE\u63A5\r\n    //                         title: '\u6D4B\u8BD5\u5546\u54C1\u6D4B\u8BD5\u5546\u54C1\u6D4B\u8BD5\u5546\u54C1\u6D4B\u8BD5\u5546\u54C1\u6D4B\u8BD5\u5546\u54C1\u6D4B\u8BD5\u5546\u54C1\u6D4B\u8BD5\u5546\u54C1',//\u5546\u54C1\u540D\u5B57\r\n    //                         num_iid: '',//\u5546\u54C1id\r\n    //                     }\r\n    //                 ], // B\u7AEF\u914D\u7F6E\u7684\u5956\u54C1\u5217\u8868\r\n    //                 resetConfig: {\r\n    //                     state: true,//(true: \u8BBE\u7F6E\u5F00\u542F\u91CD\u7F6E\u65F6\u95F4  false: \u672A\u8BBE\u7F6E)\r\n    //                     time: \"08:00:00\",//\u6BCF\u65E5\u91CD\u7F6E\u6216\u5237\u65B0\u5E93\u5B58\u7684\u65F6\u95F4\u70B9\r\n    //                 }\r\n    //             },\r\n    //             stockConfig: [\r\n    //                 {\r\n    //                     type: 1,//\u5956\u54C1\u7C7B\u578B\r\n    //                     total: 20,//\u5E93\u5B58\u603B\u6570\r\n    //                     nums: 10,//\u5F53\u524D\u5E93\u5B58\u5269\u4F59\u6570\u91CF\r\n    //                 },\r\n    //                 {\r\n    //                     type: 2,//\u5956\u54C1\u7C7B\u578B\r\n    //                     total: 20,//\u5E93\u5B58\u603B\u6570\r\n    //                     nums: 8,//\u5F53\u524D\u5E93\u5B58\u5269\u4F59\u6570\u91CF\r\n    //                 }\r\n    //             ]//\u5E93\u5B58\u6570\u636E\r\n    //             ,\r\n    //             exchangeConfig: [\r\n    //                 {\r\n    //                     type: 1,//\u5956\u54C1\u7C7B\u578B\r\n    //                     state: true,//\u662F\u5426\u53D7\u9650\r\n    //                     nums: 10,//\u603B\u5171\u53EF\u5151\u6362\u7684\u6B21\u6570\r\n    //                 },\r\n    //                 {\r\n    //                     type: 2,//\u5956\u54C1\u7C7B\u578B\r\n    //                     state: true,//\u662F\u5426\u53D7\u9650\r\n    //                     nums: 8,//\u603B\u5171\u53EF\u5151\u6362\u7684\u6B21\u6570\r\n    //                 }\r\n    //             ],//\u5E93\u5B58\u6570\u636E\r\n    //             exchangeData: [{\r\n    //                 type: 1,//\u5956\u54C1\u7C7B\u578B\r\n    //                 state: true,//\r\n    //                 nums: 1,//\u5F53\u524D\u5DF2\u5151\u6362\u6570\u91CF\r\n    //             }]\r\n    //         }\r\n    //         _getInfo(data)\r\n\r\n    //     }\r\n    // }\r\n    ChangeToNumber(_v: any) {\r\n        if (typeof _v == 'number') {\r\n            return _v;\r\n        } else if (typeof _v == 'string') {\r\n            return Number(_v);\r\n        }\r\n        console.error('ChangeToNumber\u9519\u8BEF\u7C7B\u578B\uFF1A', _v);\r\n        return 0;\r\n    }\r\n    /**\r\n     * \u79EF\u5206\u5151\u6362\u5956\u54C1\r\n     * @param _type \u5546\u54C1\u7C7B\u578B\r\n     * @param _callback  _code 0\uFF1A\u6210\u529F -5\uFF1A\u79EF\u5206\u4E0D\u8DB3 -6\uFF1A\u5E93\u5B58\u4E0D\u8DB3 -7\uFF1A\u5151\u6362\u6B21\u6570\u9650\u5236\r\n     */\r\n    ExchangeAward(_type: number, _callback: (_code: number) => void) {\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            let reqData = {\r\n                activeId: TB._activeId,\r\n                type: _type\r\n            }\r\n            let info = { \"id\": Global.MSG_SCORE_EXHANGE, \"data\": reqData };\r\n            TB.sendMsg(info, (buf) => {\r\n                if (buf.code == 0) {\r\n                    console.log('7002\u5151\u6362\u6210\u529F', buf.data);\r\n                    PlayDataUtil.setData('point', buf.data.point);\r\n                    Laya.stage.event(\"updateValue\");\r\n                    // this.ChangeScore(0, buf.data.point);\r\n                    // MainUtil.sendChangePoint();\r\n                } else {\r\n                    console.error('7002\u5151\u6362\u5931\u8D25', buf.message);\r\n                }\r\n                _callback(buf.code);\r\n            });\r\n        } else {\r\n            _callback(-10);\r\n        }\r\n\r\n    }\r\n    //--------------------------\u83B7\u5F97\u5408\u6210\u5956\u52B1---------------------//\r\n    //\u5151\u5956\u5238\r\n    GetGameAward(_kind: number, _callback?: (_data: { get: boolean, title: string, price: string, linkId: number }) => void) {\r\n        console.log('GetGameAward', _kind);\r\n        //\u53EA\u6709\u534A\u4E2A\u548C\u6574\u4E2A\u897F\u74DC\u624D\u6709\u51E0\u7387\u83B7\u5F97\u5956\u52B1\r\n        if (this.isGotGameAward || _kind < this.maxFruitKind - 1) {\r\n            return;\r\n        }\r\n        let _type: 8 | 9 = 8;\r\n        if (_kind == this.maxFruitKind) {\r\n            _type = 9;\r\n        }\r\n\r\n        // let _getData = { get: false, title: '', price: '', linkId: 0 }\r\n        // let _getcallBack = (_data: any) => {\r\n        //     if (_data.get) {\r\n        //         this.isGotGameAward = true;\r\n        //     }\r\n        //     console.log('_getcallBack', _data);\r\n\r\n        //     _callback && _callback(_data);\r\n        // }\r\n        // if (Laya.Browser.onTBMiniGame) {\r\n        //     let reqData = {\r\n        //         activeId: TB._activeId,\r\n        //         type: _type\r\n        //     }\r\n        //     let info = { \"id\": Global.MSG_GAME_MERGEAWARD, \"data\": reqData };\r\n\r\n        //     TB.sendMsg(info, (buf) => {\r\n        //         if (!buf.data || buf.code != 0) {\r\n        //             console.error('7003\u4F18\u60E0\u5238\u83B7\u53D6\u5931\u8D25', buf);\r\n        //             return;\r\n        //         }\r\n\r\n        //         console.log('7003\u4F18\u60E0\u5238\u83B7\u53D6\u6210\u529F', buf.data);\r\n        //         if (buf.data.type != -1) {\r\n\r\n\r\n        //             _getData.get = true;\r\n        //             _getData.title = buf.data.title;\r\n        //             _getData.price = '' + buf.data.price;\r\n        //             _getData.linkId = buf.data.linkId;\r\n        //             // this.ChangeScore(0, buf.data.point);\r\n        //             // MainUtil.sendChangePoint();\r\n        //         } else {\r\n        //             _getData.get = false;\r\n        //             console.log('7003\u4F18\u60E0\u5238\u83B7\u53D6\u6210\u529F', '\u6CA1\u6709\u83B7\u5F97\u5151\u6362\u5956\u52B1', buf.data.type);\r\n        //         }\r\n        //         _getcallBack(_getData);\r\n        //     });\r\n        // } else \r\n        {\r\n            uiAutotriggerAward.AutoShow(_type, this.gameuid, (_show) => {\r\n                if (_show) {\r\n                    this.isGotGameAward = true;\r\n                    this.PauseGame(true);\r\n                    HHAudio.PlayEffect('getCoupon');\r\n                }\r\n\r\n            }, () => {\r\n                this.PauseGame(false);\r\n            })\r\n            // _getData = { get: true, title: '\u6D4B\u8BD5\u5238', price: '55', linkId: 0 };\r\n            // _getcallBack(_getData);\r\n        }\r\n    }\r\n    //--------------------------\u8D2D\u4E70\u798F\u888B---------------------//\r\n    // private lastBuyType = 0;\r\n    canBuyluckybag = true;\r\n    InitLuckyBagState(_isBuy: boolean) {\r\n        // this.canBuyluckybag = !_isBuy;\r\n\r\n    }\r\n    //\u8D2D\u4E70\u798F\u888B\r\n    BuyLuckyBag(_callbackFunc?: (_success?: boolean, _price?: string) => void, sceneType: number = 3) {\r\n        // let _info = this.GetLuckyBagConfig();\r\n        // //\u53BB\u8D2D\u4E70\r\n        // let time = new Date().getTime();\r\n        // PlayDataUtil.setData('buyLuckyTime', time);\r\n        // if (Laya.Browser.onTBMiniGame) {\r\n        //     //MainUtil.analysis('buyLuckyTime', { time: time })\r\n        //     TB.showSku('' + _info.num_iid, (_success: boolean) => {\r\n        //         if (_callbackFunc) {\r\n        //             // this.lastBuyType = sceneType;\r\n        //             //\u66DD\u5149\u57CB\u70B9\r\n        //             //MainUtil.analysis('exposure', { type: sceneType, goodsId: _info.num_iid, goodsName: _info.title, price: _info.price });\r\n        //             _callbackFunc(_success, _info.price);\r\n        //         }\r\n        //     });\r\n        // }\r\n        // else {\r\n        //     if (_callbackFunc) {\r\n\r\n        //         _callbackFunc(true, _info.price);\r\n        //         console.log('send  CheckLuckyBagState');\r\n\r\n        //         this.CheckLuckyBagState();\r\n        //     }\r\n        // }\r\n    }\r\n    //\u68C0\u6D4B\u8BA2\u5355\u72B6\u6001\r\n    readonly LuckyBagEventKey = 'checkLuckyOrder';\r\n    CheckLuckyBagState() {\r\n        // if (PlayDataUtil.data.buyLuckyTime == 0) {\r\n        //     return;\r\n        // }\r\n        // //\u76D1\u542C\u6210\u529F\u56DE\u8C03\r\n        // let _successCallback = (_getData: {\r\n        //     price: number,//\u4EF7\u683C\r\n        //     time: number,//\u8BA2\u5355\u65F6\u95F4\r\n        //     record: any, //\u8BA2\u5355\u4FE1\u606F\r\n        // }) => {\r\n        //     MainUtil.uploadOrder(_getData.price);\r\n\r\n        //     this.canBuyluckybag = false;\r\n        //     console.log('CheckLuckyBagOrder _successCallback', _getData);\r\n\r\n        //     Laya.stage.event(this.LuckyBagEventKey, _getData);\r\n\r\n        //     Laya.stage.offAll(this.LuckyBagEventKey);\r\n        // }\r\n\r\n        // //\u68C0\u6D4B\u8BA2\u5355\r\n        // let _retry = {\r\n        //     time: 1,//\u91CD\u8BD5\u6B21\u6570\r\n        //     delay: 10000//\u91CD\u8BD5\u95F4\u9694\r\n        // }\r\n        // let _check = () => {\r\n        //     ServerAPI.Cloud.Connect('CheckLuckyBagOrder', {\r\n        //         callBack: (_success: boolean, _getData) => {\r\n        //             if (_success) {\r\n        //                 _retry.time = 0;\r\n        //                 console.error('CheckLuckyBagOrder _getData', _getData);\r\n        //                 _successCallback(_getData);\r\n        //             }\r\n        //             else {\r\n        //                 if (_retry.time > 0) {\r\n        //                     Laya.timer.once(_retry.delay, this, _check);\r\n        //                     _retry.time--;\r\n        //                 }\r\n\r\n        //             }\r\n        //         }\r\n        //     })\r\n        // }\r\n        // _check();\r\n\r\n    }\r\n    //\u76D1\u542C\u8BA2\u5355\u72B6\u6001\r\n    ListenLuckyBagState(caller: any, listener: (_data: {\r\n        price: number,//\u4EF7\u683C\r\n        time: string,//\u8BA2\u5355\u65F6\u95F4\r\n        record: any, //\u8BA2\u5355\u4FE1\u606F\r\n        taskData?: any//\u4EFB\u52A1\u72B6\u6001\u4FE1\u606F\r\n    }) => void) {\r\n        Laya.stage.on(this.LuckyBagEventKey, caller, listener);\r\n    }\r\n    //-------------------------\u5237\u65B0\u6C14\u6CE1\u6570\u636E\uFF08\u4EFB\u52A1\u548C\u5956\u54C1\u5305\uFF09--------------------//\r\n    private refreshNewNumber = -1;\r\n    listenRefreshNewNumber() {\r\n        if (this.refreshNewNumber >= 0) {\r\n            return this.refreshNewNumber;\r\n        }\r\n        let _refresh = () => {\r\n\r\n            let _n = 0;\r\n            let _tasks = TaskLogic.GetAllTaskInfo();\r\n            console.log('_refresh');\r\n            for (const task of _tasks) {\r\n                if (task.status == TaskStatusType.allow) {\r\n                    _n++;\r\n                }\r\n            }\r\n            this.refreshNewNumber = _n;\r\n            // // this.countDownTask = [];\r\n            // // this.taskPointN = 0;\r\n            // MainUtil.reqStateChange((_data: any) => {\r\n            //     //\u8FD4\u56DE\u6570\u636E data:{bag_num:1,task_num:2}\r\n            //     console.log('refreshNewNumber _data', _data);\r\n            //     // this.taskPointN = _data.task_num;\r\n            //     // let _bagN = _data.bag_num;\r\n            //     // let _taskN = this.taskPointN = _data.task_num;\r\n            //     // this.element.bagBubble.visible = _bagN > 0;\r\n            //     // this.element.bagNText.visible = _bagN > 0;\r\n            //     // if (this.element.bagNText.visible) {\r\n            //     //     this.element.bagNText.text = '' + _bagN;\r\n            //     // }\r\n\r\n            //     Laya.stage.event('refreshBubbleUI', _data);\r\n\r\n            // })\r\n            Laya.stage.event('refreshBubbleUI', _n);\r\n        }\r\n        Laya.stage.on('refreshBubble', this, _refresh)\r\n        _refresh();\r\n        return this.refreshNewNumber;\r\n\r\n\r\n    }\r\n    //-------------------------\u83B7\u53D6\u6D4F\u89C8\u65B0\u54C1\u4FE1\u606F--------------------//\r\n    //\u662F\u5426\u6709\u6D4F\u89C8\u65B0\u5546\u54C1\u4EFB\u52A1\r\n    haveBrowseNewTask = false;\r\n    private curBrowseNewInfo = null as any;\r\n    GetBrowseNewInfo(_successCallback?: (_data: {\r\n        time: string,//\u6D3B\u52A8\u5F00\u59CB\u65F6\u95F4\r\n        num_iid: string,//\u5546\u54C1id\r\n        title: string,//\u5546\u54C1\u540D\r\n        price: string,//\u5546\u54C1\u4EF7\u683C\r\n    }) => void, forceUpdate = false) {\r\n        if (this.curBrowseNewInfo && !forceUpdate) {\r\n            _successCallback && _successCallback(this.curBrowseNewInfo);\r\n            return;\r\n        }\r\n        ServerAPI.Cloud.Connect('BrowseNewInfo', {\r\n            callBack: (_sccess, _data, _code) => {\r\n                if (_sccess) {\r\n                    this.curBrowseNewInfo = _data;\r\n                    _successCallback && _successCallback(this.curBrowseNewInfo);\r\n                }\r\n\r\n            }\r\n        })\r\n    }\r\n    //-------------------------\u83B7\u53D6\u6D3B\u52A8\u72B6\u6001--------------------//\r\n    //\u6D3B\u52A8\u72B6\u6001\r\n    CurActivityState: ActivityState = ActivityState.unStart;\r\n    GetActivityState(_callBacK?: Function) {\r\n\r\n\r\n        // ServerAPI.Cloud.Connect('GetActivityState', {\r\n        //     callBack: (_sccess, _data, _code) => {\r\n        //         if (_sccess) {\r\n        //             this.CurActivityState = _data.state;\r\n        //         }\r\n        //         _callBacK && _callBacK(this.CurActivityState);\r\n        //     }\r\n        // })\r\n    }\r\n    //----------------------\u6E38\u620F\u5185\u4EFB\u52A1---------------------//\r\n\r\n    //\u662F\u5426\u53EF\u505A\u6B64\u4EFB\u52A1\r\n    WhetherHaveTask(_type: GameTaskType) {\r\n        switch (_type) {\r\n            case 'joinMember':\r\n                // return false;\r\n                if (ModulePlatformAPI.IsMember) {\r\n                    return false;\r\n                }\r\n                return !!TaskLogic.GetTaskInfo(TaskType.joinMember);\r\n                break;\r\n            case 'attention':\r\n                return !ModulePlatformAPI.IsFavor;\r\n                break;\r\n            case 'browse':\r\n                return true;\r\n                break;\r\n            case 'collect':\r\n                let _have = !ModuleGlobal.IsAllGoodsColelcted;\r\n                ModuleGlobal.GetGoodsList(undefined, { pageSize: 30, sortType: 'random' });\r\n                return _have;\r\n                break;\r\n            case 'buy':\r\n                return false;\r\n                break;\r\n            case 'share':\r\n                return true;\r\n            case 'browseStore':\r\n                return true;\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n    //\u53BB\u6267\u884C\u6E38\u620F\u5185\u4EFB\u52A1\r\n    DoGameTask(_type: GameTaskType, _callback?: (_success: boolean, data?: any) => void) {\r\n        let _taskCallback = (_success: boolean, data?: any) => {\r\n\r\n            _callback && _callback(_success, data);\r\n\r\n            //\u505A\u5B8C\u4E00\u6B21\u4EFB\u52A1\u5C31\u5237\u65B0\u8BB0\u5F55\r\n            if (_success) {\r\n\r\n                this.ResetGameoverTask();\r\n                this.ClearFlyTaskLastInfo();\r\n            }\r\n        }\r\n        if (Laya.Browser.onTBMiniGame) {\r\n            // _taskCallback(true);\r\n            let _task: TaskType = TaskType.scanGoods;\r\n            switch (_type) {\r\n                case 'attention':\r\n                    _task = TaskType.subscribeShop;\r\n                    break;\r\n                case 'browse':\r\n                    _task = TaskType.scanGoods;\r\n                    break;\r\n                case 'browseStore':\r\n                    _task = TaskType.scanShop;\r\n                    break;\r\n                case 'buy':\r\n                    _task = TaskType.spend;\r\n                    break;\r\n                case 'collect':\r\n                    _task = TaskType.collectGoods;\r\n                    break;\r\n                case 'joinMember':\r\n                    _task = TaskType.joinMember;\r\n                    break;\r\n                case 'share':\r\n                    _task = TaskType.friendship;\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n            TaskLogic.DoTask(_task, (_success) => {\r\n                _taskCallback(_success);\r\n                if (_success) {\r\n                    ModuleStatistics.CompleteTask(_type);\r\n                }\r\n            }, 0, false);\r\n        }\r\n        else {\r\n            _taskCallback(true);\r\n        }\r\n    }\r\n    ResetGameoverTask() {\r\n        this.preDoGameOverTask = null;\r\n    }\r\n    private preDoGameOverTask: GameTaskType | null = null;\r\n    //\u83B7\u53D6\u6E38\u620F\u7ED3\u675F\u540E\u4EFB\u52A1\r\n    GetGameOverTask() {\r\n        if (this.preDoGameOverTask !== null) {\r\n            return this.preDoGameOverTask;\r\n        }\r\n        //\u53EF\u6267\u884C\u7684\u4EFB\u52A1\r\n        const taskList = ['joinMember', 'attention', ['browse', 'collect']]\r\n\r\n        //0\u4E3A\u68C0\u6D4B\u8FC7\u6240\u6709\u4EFB\u52A1\u6CA1\u6709\u53EF\u505A\u7684\r\n        let _gettask: any = 0;\r\n\r\n        for (const task of taskList) {\r\n            //\u987A\u5E8F\u68C0\u6D4B\u5916\u6D4B\u4EFB\u52A1\u662F\u5426\u53EF\u4EE5\u505A\uFF08\u987A\u5E8F\uFF09\r\n            if (typeof task == 'string') {\r\n                if (this.WhetherHaveTask(task as any)) {\r\n                    _gettask = task as any;\r\n                    break;\r\n                }\r\n            }\r\n            else {\r\n                //\u6253\u4E71\u987A\u5E8F\u68C0\u6D4B\u6570\u7EC4\u5185\u4EFB\u52A1\u662F\u5426\u53EF\u4EE5\u505A\uFF08\u968F\u673A\uFF09\r\n                let _arr = task.sort(v => Math.random() - 0.5);\r\n                while (_arr.length > 0) {\r\n                    let _ctask = _arr.pop() as any;\r\n                    if (this.WhetherHaveTask(_ctask)) {\r\n                        _gettask = _ctask as any;\r\n                        break;\r\n                    }\r\n                }\r\n                if (_gettask) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.preDoGameOverTask = _gettask;\r\n        return _gettask;\r\n    }\r\n    //\u6709\u4EFB\u52A1\u4ECE1\u5F00\u59CB\uFF0C0\u4E3A\u6CA1\u6709\u89E6\u53D1\u8FC7\u4EFB\u4F55\u4EFB\u52A1\r\n    private curFlyTaskLevel = 0;\r\n    //\u89E6\u53D1\u6E38\u620F\u5185\u4EFB\u52A1\r\n    AutoTriggerGameFlyTask() {\r\n        //\u4EFB\u52A1\u89E6\u53D1\u6761\u4EF6\r\n        const teiggerCondition = [\r\n            // { time: 1, score: 2 },\r\n            { time: 30, score: 90 },\r\n            { time: 120, score: 160 },\r\n            { time: 200, score: 200 },\r\n            { time: 300, score: 300 },\r\n        ];\r\n\r\n        // console.log('AutoTriggerGameFlyTask', ClockUtil.GetTime(this.gameClockName), this.curScore);\r\n\r\n        //\u662F\u5426\u89E6\u53D1\u4EFB\u52A1\r\n        let _trigger = false;\r\n\r\n        for (let index = this.curFlyTaskLevel; index < teiggerCondition.length; index++) {\r\n\r\n            const _condition = teiggerCondition[index];\r\n\r\n            if (ClockUtil.GetTime(this.gameClockName) <= _condition.time || this.curScore <= _condition.score) {\r\n                break;\r\n            }\r\n\r\n            this.curFlyTaskLevel = index + 1;\r\n            _trigger = true;\r\n        }\r\n\r\n        if (_trigger) {\r\n            //\u9884\u83B7\u53D6\u4EFB\u52A1\r\n            let _awardType = this.GetCurGameFlyTaskAwardType();\r\n            let _taskType = this.GetGameFlyTaskType(_awardType);\r\n\r\n            //\u663E\u793A\u98DE\u5165\u4EFB\u52A1\u6309\u94AE\r\n            this.ShowGameFlyTask();\r\n\r\n\r\n        }\r\n\r\n    }\r\n    //\u663E\u793A\u6E38\u620F\u98DE\u5165\u4EFB\u52A1\r\n    ShowGameFlyTask() {\r\n        console.log('ShowGameFlyTask');\r\n\r\n        this.gameScene && this.gameScene.ShowFlyTask();\r\n    }\r\n    HideGameFlyTask() {\r\n\r\n        console.log('HideGameFlyTask');\r\n        this.gameScene && this.gameScene.HideFlyTask();\r\n    }\r\n    //\u4E0A\u6B21\u83B7\u53D6\u7684\u4EFB\u52A1\u4FE1\u606F\uFF08\u9632\u6B62\u591A\u6B21\u83B7\u53D6\uFF09\r\n    private lastgetFlyTaskInfo = {\r\n        id: 0,\r\n        awardType: null as GameFlyTaskAwardType,\r\n        taskType: null as GameTaskType,\r\n    }\r\n    //\u91CD\u7F6E\u6E38\u620F\u5185\u98DE\u5165\u4EFB\u52A1\r\n    ResetGameFlyTask() {\r\n        this.curFlyTaskLevel = 0;\r\n        this.ClearFlyTaskLastInfo();\r\n    }\r\n    ClearFlyTaskLastInfo() {\r\n        this.lastgetFlyTaskInfo = {\r\n            id: 0,\r\n            awardType: null,\r\n            taskType: null,\r\n        }\r\n    }\r\n    //\u83B7\u53D6\u5F53\u524D\u98DE\u5165\u4EFB\u52A1\u5956\u52B1\u7C7B\u578B\r\n    GetCurGameFlyTaskAwardType() {\r\n        if (this.curFlyTaskLevel < 1) {\r\n            return null;\r\n        }\r\n        //\u5982\u679C\u5DF2\u7ECF\u83B7\u53D6\u8FC7\u76F4\u63A5\u8FD4\u56DE\u4EFB\u52A1\u503C\r\n        if (this.lastgetFlyTaskInfo.id == this.curFlyTaskLevel && this.lastgetFlyTaskInfo.awardType) {\r\n            return this.lastgetFlyTaskInfo.awardType;\r\n        }\r\n        //\u9053\u5177\u51FA\u73B0\u6982\u7387\u9009\u62E9\r\n        let _curprob = { clearFruit: 50, removeFruit: 40, supperFruit: 10, addScore: 0 };\r\n        //\u5F53\u524D\u6C34\u679C\u6700\u9AD8\u9AD8\u5EA6\u5360\u6BD4\r\n        let _hp = (this.fruitTopY - this.gameFruitValidY.bottom) / (this.gameFruitValidY.top - this.gameFruitValidY.bottom) * 100;\r\n        console.log('\u5F53\u524D\u6C34\u679C\u6700\u9AD8\u9AD8\u5EA6\u5360\u6BD4', _hp);\r\n\r\n        if (this.curFlyTaskLevel < 2 || _hp < 70) {\r\n            const _allprob = [\r\n                { clearFruit: 20, removeFruit: 20, supperFruit: 50, addScore: 10 },\r\n\r\n                { clearFruit: 10, removeFruit: 40, supperFruit: 30, addScore: 20 },\r\n\r\n                { clearFruit: 40, removeFruit: 20, supperFruit: 30, addScore: 10 },\r\n\r\n                { clearFruit: 10, removeFruit: 20, supperFruit: 20, addScore: 10 },\r\n            ];\r\n            _curprob = _allprob[this.curFlyTaskLevel - 1];\r\n        }\r\n\r\n        //\u6309\u6982\u7387\u968F\u673A\u4EFB\u52A1\r\n        let _totalprob = 0;\r\n        for (const key in _curprob) {\r\n            _totalprob += _curprob[key];\r\n        }\r\n        let _key = '';\r\n        let _randp = Math.random() * _totalprob;\r\n        for (const key in _curprob) {\r\n            if (_randp < _curprob[key]) {\r\n                _key = key;\r\n                break;\r\n            }\r\n            _randp -= _curprob[key];\r\n        }\r\n\r\n        //\u8FD4\u56DE\u4EFB\u52A1\r\n        if (_key == '') {\r\n            console.error('[GetCurGameFlyTaskAwardType] \u6570\u636E\u9519\u8BEF', this.curFlyTaskLevel, _hp);\r\n            return null;\r\n        }\r\n        this.lastgetFlyTaskInfo.id = this.curFlyTaskLevel;\r\n        this.lastgetFlyTaskInfo.awardType = _key as any;\r\n\r\n        return _key as GameFlyTaskAwardType;\r\n    }\r\n\r\n    //\u83B7\u53D6\u98DE\u5165\u4EFB\u52A1\u9700\u8981\u505A\u7684\u4EFB\u52A1\u7C7B\u578B\r\n    GetGameFlyTaskType(_awardType: GameFlyTaskAwardType) {\r\n        //\u5982\u679C\u5DF2\u7ECF\u83B7\u53D6\u8FC7\u76F4\u63A5\u8FD4\u56DE\u4EFB\u52A1\u503C\r\n        if (this.lastgetFlyTaskInfo.id == this.curFlyTaskLevel && this.lastgetFlyTaskInfo.taskType) {\r\n            return this.lastgetFlyTaskInfo.taskType;\r\n        }\r\n        //\u4EFB\u52A1\u5956\u52B1\u548C\u9700\u8981\u505A\u7684\u4EFB\u52A1\u5BF9\u5E94\u6982\u7387\r\n        const taskProb = {\r\n            clearFruit: { browse: 10, buy: 40, collect: 10, share: 20, browseStore: 20 },\r\n            removeFruit: { browse: 20, buy: 30, collect: 10, share: 30, browseStore: 10 },\r\n            supperFruit: { browse: 30, buy: 10, collect: 20, share: 30, browseStore: 10 },\r\n            addScore: { browse: 20, buy: 10, collect: 20, share: 30, browseStore: 20 }\r\n        }\r\n        let _curprob = taskProb[_awardType];\r\n\r\n        //\u6309\u6982\u7387\u968F\u673A\u4EFB\u52A1\r\n        let _totalprob = 0;\r\n        for (const key in _curprob) {\r\n            if (_curprob[key] > 0) {\r\n\r\n                if (!this.WhetherHaveTask(key as any)) {\r\n                    //\u4E0D\u80FD\u5B8C\u6210\u7684\u4EFB\u52A1\u6982\u7387\u6539\u4E3A0\r\n                    _curprob[key] = 0;\r\n                    continue;\r\n                }\r\n            }\r\n            console.log(\"\u6309\u6982\u7387\u968F\u673A\u4EFB\u52A1:\",key,_curprob[key])\r\n            _totalprob += _curprob[key];\r\n        }\r\n        let _key = '';\r\n        let _randp = Math.random() * _totalprob;\r\n        for (const key in _curprob) {\r\n            if (_randp < _curprob[key]) {\r\n                _key = key;\r\n                break;\r\n            }\r\n            _randp -= _curprob[key];\r\n        }\r\n        if (_key == '') {\r\n            console.error('[GetGameFlyTaskType] \u6570\u636E\u9519\u8BEF', _awardType);\r\n            return null;\r\n        }\r\n        this.lastgetFlyTaskInfo.id = this.curFlyTaskLevel;\r\n        this.lastgetFlyTaskInfo.taskType = _key as any;\r\n        return _key as keyof typeof _curprob;\r\n    }\r\n\r\n    //\u6267\u884C\u98DE\u5165\u4EFB\u52A1\r\n    DoGameFlyTask(_taskType: GameTaskType, _awardType: GameFlyTaskAwardType, callBack?: (_success: boolean) => void) {\r\n        this.DoGameTask(_taskType, (_success) => {\r\n            if (_success) {\r\n                console.log('DoGameFlyTask', _awardType, GameFlyTaskAwardInfo[_awardType]);\r\n\r\n                let _awardData = GameFlyTaskAwardInfo[_awardType].data;\r\n                switch (_awardType) {\r\n                    case 'clearFruit'://\u6D88\u9664\u5F53\u524D\u5C4F\u5E551/3\u6C34\u679C\r\n                        let _h = Math.abs(this.gameFruitValidY.top - this.gameFruitValidY.bottom) * _awardData;\r\n                        this.myGameScene.clearFruitYExceed(this.gameFruitValidY.bottom - _h);\r\n                        HHAudio.PlayEffect('propClear');\r\n                        break;\r\n                    case 'removeFruit'://\u6E05\u9664\u5F53\u524D\u5C4F\u5E55\u7B49\u7EA74\u4EE5\u4E0B\u7684\u6C34\u679C\r\n                        this.myGameScene.removeFruitBelowLevel(_awardData);\r\n                        HHAudio.PlayEffect('propClear');\r\n                        break;\r\n                    case 'supperFruit'://\u4E07\u80FD\u6C34\u679C\r\n                        this.myGameScene.GetASupperFruit();\r\n                        HHAudio.PlayEffect('propSupperFruit');\r\n                        break;\r\n                    case 'addScore'://\u5956\u52B1\u79EF\u5206\r\n                        this.AddCurScore(_awardData);\r\n                        this.ShowGetScoreEffect({ score: _awardData, pos: [375, 500] });\r\n                        HHAudio.PlayEffect('propScore');\r\n                        break;\r\n\r\n                    default:\r\n                        break;\r\n                }\r\n                this.HideGameFlyTask();\r\n            }\r\n            callBack && callBack(_success);\r\n        })\r\n    }\r\n    //\u6D4B\u8BD5\u98DE\u5165\u4EFB\u52A1\r\n    flyTaskTest(_level: number, _task: GameTaskType, _awardTask: GameFlyTaskAwardType) {\r\n        this.curFlyTaskLevel = _level;\r\n        this.lastgetFlyTaskInfo = {\r\n            id: _level,\r\n            awardType: _awardTask,\r\n            taskType: _task,\r\n        }\r\n        this.ShowGameFlyTask();\r\n    }\r\n\r\n\r\n    //------------------------------------------------------//\r\n}\r\nexport let GameLogic = GameLogic_c.INS();\r\n", "//\u5185\u5B58\u6C60\u7C7B\r\ninterface NodeInfo {\r\n    key: string;\r\n    node: any;\r\n}\r\nexport default class MemPool {\r\n\r\n    //\u6CE8\u610F\uFF0CSingleton\u662F\u8981\u66FF\u6362\u6210\u4F60\u81EA\u5DF1\u5B9E\u73B0\u7684\u5B50\u7C7B \u8FD9\u91CC\u6CA1\u6709\u5B9E\u9645\u7684\u4F5C\u7528\r\n    private static instance: MemPool | null = null;\r\n\r\n\r\n    private ObjectPoolMap: { [key: string]: any } = {};\r\n    private PoolPreMap: { [key: string]: any } = {};\r\n\r\n    //\u5185\u5B58\u6C60\u751F\u6210\u7684obj\u6839\u636Etag\u5206\u7EC4\uFF0C\u4FBF\u4E8E\u56DE\u6536\r\n    private ObjSavebyTag: { [tag: string]: NodeInfo[] } = {};\r\n    // update (dt) {}\r\n\r\n    public static getInstance(): MemPool {\r\n        if (!this.instance) {\r\n            this.instance = new MemPool();\r\n        }\r\n        return this.instance;\r\n    }\r\n    //********************************************\u81EA\u52A8\u56DE\u6536\u6C60****************************************************/\r\n    HavePool(_name: string) {\r\n        return this.ObjectPoolMap.hasOwnProperty(_name);\r\n    }\r\n    //_name\u521B\u5EFA\u7684\u5BF9\u8C61\u6C60\u540D\uFF0C_pre\u9884\u5236\u4F53\u6216Node\u8282\u70B9\u5BF9\u8C61,initSize\u521D\u59CB\u5927\u5C0F(\u4E0EDestroyObjPool\u8981\u5BF9\u5E94\u8C03\u7528)\r\n    CreateObjPool(_name: string, _pre: any, initSize = 0): boolean {\r\n        // if (this.ObjectPoolMap.hasOwnProperty(_name)) {\r\n        //     //\u5982\u679C\u5185\u5B58\u6C60\u4E2D\u6709\u6B64\u7C7B\u5BF9\u8C61\u5219\u4E0D\u518D\u8FDB\u884C\u521B\u5EFA\r\n        //     // console.log(`Already have ${_name} in Pool!`);\r\n        //     return false;\r\n\r\n        // }\r\n        // let objPool:any[] = [];\r\n        // for (let i = 0; i < initSize; ++i) {\r\n        //     // let obj =  cc.instantiate(_pre); // \u521B\u5EFA\u8282\u70B9\r\n        //     let obj = Laya.Pool.getItemByClass(_name,_pre) as any ; // \u521B\u5EFA\u8282\u70B9\r\n        //     objPool.push(obj); // \u901A\u8FC7 putInPool \u63A5\u53E3\u653E\u5165\u5BF9\u8C61\u6C60\r\n        // }\r\n        // this.ObjectPoolMap[_name] = objPool;\r\n        // this.PoolPreMap[_name] = _pre;\r\n        // console.log(`-------------------InitObjectPool(${_name})-------------------`);\r\n        return true;\r\n\r\n    }\r\n    //\u4ECE\u5185\u5B58\u6C60\u4E2D\u83B7\u53D6\u5BF9\u8C61\r\n    GetObjByPool(_name: string, type: Laya.Prefab, tag = ''): any | null {\r\n        // if (!(_name in this.ObjectPoolMap)) {\r\n        //     //\u5982\u679C\u5185\u5B58\u6C60\u4E2D\u4E0D\u5B58\u5728\u6B64\u7C7B\u5BF9\u8C61\u5219\u8FDB\u884C\u521B\u5EFA\r\n        //     let _log = `Error: Can not Get ${_name} in Pool!`\r\n        //     console.error(_log);\r\n        //     // throw new Error(_log);\r\n        //     return null;\r\n        // }\r\n        // let _objPoll = this.ObjectPoolMap[_name];\r\n        // if (!_objPoll) {\r\n        //     console.error(\"Error: The _objPoll \" + _name + \" is NULL!\");\r\n        //     return null;\r\n        // }\r\n        // let _obj = null;\r\n        // if (_objPoll.length > 0) { // \u901A\u8FC7 size \u63A5\u53E3\u5224\u65AD\u5BF9\u8C61\u6C60\u4E2D\u662F\u5426\u6709\u7A7A\u95F2\u7684\u5BF9\u8C61\r\n        //     // console.log(\"this.ObjPool.size() ppppis --- \"+this.ObjPool.size());\r\n        //     _obj = _objPoll.pop();\r\n        //     // console.log(\"this.ObjPool.size() is --- \"+this.ObjPool.size());\r\n        // }\r\n        // else { // \u5982\u679C\u6CA1\u6709\u7A7A\u95F2\u5BF9\u8C61\uFF0C\u4E5F\u5C31\u662F\u5BF9\u8C61\u6C60\u4E2D\u5907\u7528\u5BF9\u8C61\u4E0D\u591F\u65F6\uFF0C\u6211\u4EEC\u5C31\u7528 cc.instantiate \u91CD\u65B0\u521B\u5EFA\r\n        //     _obj = cc.instantiate(this.PoolPreMap[_name]);\r\n        // }\r\n        // if ('' != tag) {\r\n        //     if (!(tag in this.ObjSavebyTag)) {\r\n        //         this.ObjSavebyTag[tag] = new Array<NodeInfo>();\r\n\r\n        //     }\r\n        //     this.ObjSavebyTag[tag].push({ key: _name, node: _obj });\r\n        // }\r\n        // let _obj: Laya.Node = Laya.Pool.getItemByClass(_name, type);\r\n        let _obj: Laya.Node = Laya.Pool.getItemByCreateFun(_name, type.create, type);\r\n        return _obj;\r\n    }\r\n    RecycleObjByTag(tag: string) {\r\n        // if (tag in this.ObjSavebyTag)\r\n        //     while (this.ObjSavebyTag[tag].length > 0) {\r\n        //         const element = this.ObjSavebyTag[tag].pop();\r\n        //         if (!element || element.node.children == null) {\r\n        //             continue;\r\n        //         }\r\n        //         this.ObjectPoolMap[element.key].put(element.node);\r\n        //     }\r\n    }\r\n    //\u628A\u5BF9\u8C61\u56DE\u6536\u5230\u5185\u5B58\u6C60\r\n    PoolRecycleObj(_name: string, obj: any, tag = '') {\r\n        Laya.Pool.recover(_name, obj);\r\n        // if (!this.ObjectPoolMap.hasOwnProperty(_name)) {\r\n        //     //\u5982\u679C\u5185\u5B58\u6C60\u4E2D\u4E0D\u5B58\u5728\u6B64\u7C7B\u5BF9\u8C61\u5219\u8FDB\u884C\u521B\u5EFA\r\n        //     let _log = `warming: Can not find ${_name} in Pool!`\r\n        //     console.log(_log);\r\n        //     return;\r\n        // }\r\n        // if ('' != tag) {\r\n        //     let _index = this.ObjSavebyTag[tag].findIndex(v => v.node.uuid == obj.uuid);\r\n        //     if (_index >= 0) {\r\n        //         this.ObjSavebyTag[tag].splice(_index, 1);\r\n        //     }\r\n        // }\r\n        // //\u5B50\u8282\u70B9\u4E0D\u662F\u7A7A\u624D\u662F\u6B63\u5E38\u7684\u53EF\u56DE\u6536\u8282\u70B9\r\n        // if (obj.children)\r\n        //     this.ObjectPoolMap[_name].put(obj); // \u901A\u8FC7 putInPool \u63A5\u53E3\u653E\u5165\u5BF9\u8C61\u6C60\r\n    }\r\n    //\u9500\u6BC1\u5185\u5B58\u6C60\r\n    DestroyObjPool(_name: string) {\r\n        // if (_name in this.ObjectPoolMap) {\r\n        //     this.ObjectPoolMap[_name].clear();\r\n        //     delete this.ObjectPoolMap[_name];\r\n        // }\r\n        // if (_name in this.PoolPreMap) {\r\n        //     delete this.PoolPreMap[_name];\r\n        // }\r\n    }\r\n    //********************************************************************************************************/\r\n}\r\n", "import { GameLogic } from \"../FGUIClass/GameLogic\";\r\nimport HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport MemPool from \"../Global/modules/tools/MemPool\";\r\n\r\n//\u56FE\u7247\u5927\u5C0F\r\n// const imagesW = [50, 78, 106, 117, 150, 180, 185, 256, 300, 306, 400];\r\n//\u603B\u517111\u4E2A\u7EA7\u522B\r\n\r\n// const imagesW = [70, 98, 126, 137, 170, 200, 210, 280, 310, 360, 410];\r\n// //\u76EE\u524D\u6D4B\u8BD5\u8D85\u8FC78\u4E2A\u70B9\u4F1A\u62A5\u9519\r\n// const colliderInfo = [\r\n//     { scale: 1.4, w: 64, h: 161, points: [41, 2, 61, 27, 60, 134, 38, 157, 12, 152, 3, 128, 4, 23, 21, 4] },\r\n//     { scale: 1.5, w: 133, h: 161, points: [9, 2, 119, 1, 128, 11, 129, 147, 117, 158, 11, 158, 1, 147, 2, 14] },\r\n//     { scale: 1.4, w: 160, h: 155, points: [65, 1, 20, 34, 0, 108, 28, 142, 80, 155, 147, 134, 159, 81, 121, 12] },\r\n//     { scale: 1.3, w: 158, h: 231, points: [4, 14, 2, 11, 78, 0, 150, 0, 152, 228, 88, 223, 70, 232, 1, 217] },\r\n//     { scale: 1.5, w: 158, h: 232, points: [45, 5, 2, 112, 46, 225, 112, 226, 155, 118, 110, 9] },\r\n//     { scale: 1.4, w: 161, h: 256, points: [5, 26, 5, 24, 85, 5, 91, 35, 153, 58, 151, 254, 73, 226, 5, 220] },\r\n//     { scale: 1.4, w: 199, h: 235, points: [10, 0, 185, -1, 200, 18, 200, 223, 186, 234, 8, 234, 0, 220, 0, 9] },\r\n//     { scale: 1.4, w: 224, h: 276, points: [14, 3, 207, 0, 221, 15, 222, 259, 205, 273, 17, 274, 3, 256, 3, 16] },\r\n//     { scale: 1.4, w: 294, h: 330, points: [47, 60, 145, -3, 243, 59, 294, 71, 282, 326, 5, 325, -2, 142, 1, 66] }\r\n// ]\r\n\r\n//\r\nexport interface FruitInfo {\r\n    kind: number | string\r\n    x: number,\r\n    y: number,\r\n}\r\nexport default class Fruit extends Laya.Script {\r\n    static ImageBaseUrl = '';\r\n    myInfo: FruitInfo\r\n    node: Laya.Box;\r\n    myid: number = -1;\r\n\r\n    //\u662F\u5426\u548C\u5176\u4ED6\u6C34\u679C\u6709\u8FC7\u78B0\u649E\r\n    isContacted = false;\r\n\r\n\r\n    // mask: Laya.Sprite = null as any;\r\n    private lastPos: [number, number] = [-2000, -2000];\r\n\r\n    private myCollider: Laya.CircleCollider;\r\n    // private myCollider: Laya.PolygonCollider;\r\n    private myRigidBody: Laya.RigidBody;\r\n    static showingID = 0;\r\n    private static poolName = 'FruitPool';\r\n\r\n    static allItems: Fruit[] = [];\r\n    private static myPrefab?: Laya.Prefab;\r\n    private static parent?: Laya.Node;\r\n    static SetPrefab(_prefab: Laya.Prefab, _parent: Laya.Node) {\r\n        this.myPrefab = _prefab;\r\n        this.parent = _parent;\r\n    }\r\n    static Create(_info: FruitInfo) {\r\n        // console.log('Create', this.poolName, this.myPrefab);\r\n\r\n        let _node = MemPool.getInstance().GetObjByPool(this.poolName, this.myPrefab);\r\n        if (!_node) {\r\n            return null;\r\n        }\r\n        // _node.active = false;\r\n        // _node.getComponent(Laya.RigidBody).enabled = false;\r\n        let _item: Fruit = _node.getComponent(Fruit);\r\n\r\n        if (!_item) {\r\n            return null;\r\n        }\r\n        Fruit.parent.addChild(_node);\r\n        Fruit.allItems.push(_item);\r\n        _item.init(_info);\r\n        return _item;\r\n    }\r\n    //\u9500\u6BC1\u6240\u6709\u8282\u70B9\r\n    static DestoryAll(_destoryPool = false) {\r\n        // MemPool.getInstance().RecycleObjByTag(this.poolName);\r\n        // if (_destoryPool) {\r\n        //     MemPool.getInstance().DestroyObjPool(this.poolName);\r\n        // }\r\n        // console.error('DestoryAllDestoryAll', Fruit.allItems.length);\r\n\r\n        while (Fruit.allItems.length > 0) {\r\n            // console.log('allItems', Fruit.allItems.length);\r\n\r\n            Fruit.allItems[0].RemoveSelf();\r\n        }\r\n    }\r\n    RemoveSelf() {\r\n        if (this.node.mask) {\r\n            this.node.mask.graphics.clear();\r\n            this.node.mask = null;\r\n        }\r\n\r\n        this.EnableCollision(false);\r\n        this.node.pos(-500, -500);\r\n        this.node.visible = false;\r\n        this.node.removeSelf();\r\n        MemPool.getInstance().PoolRecycleObj(Fruit.poolName, this.node, Fruit.poolName);\r\n        let _idx = Fruit.allItems.findIndex(v => v.myid == this.myid);\r\n        if (_idx >= 0) {\r\n            Fruit.allItems.splice(_idx, 1);\r\n        }\r\n    }\r\n\r\n    constructor() { super(); }\r\n\r\n    private init(_info: FruitInfo) {\r\n        Fruit.showingID++;\r\n\r\n        this.isContacted = false;\r\n        this.myid = Fruit.showingID;\r\n        // console.error('init myid', this.myid);\r\n        this.contactIDS = [];\r\n        this.node = this.owner as any;\r\n\r\n        this.myInfo = _info;\r\n\r\n\r\n        this.myRigidBody = this.owner.getComponent(Laya.RigidBody);\r\n        this.ResetFruitKind(_info.kind);\r\n\r\n        this.EnableCollision(false);\r\n        this.node.visible = true;\r\n        Laya.timer.frameOnce(1, this, () => {\r\n            this.node.pos(_info.x, _info.y);\r\n            this.lastPos[0] = _info.x;\r\n            this.lastPos[1] = _info.y;\r\n        });\r\n        this.startDownCallBack = undefined;\r\n\r\n\r\n\r\n        this.inMoving = false;\r\n\r\n\r\n        //console.log('init', 6);\r\n\r\n    }\r\n    //\u91CD\u7F6E\u6C34\u679C\u79CD\u7C7B\r\n    ResetFruitKind(_kind: string | number) {\r\n        this.myInfo.kind = _kind;\r\n        let _image = this.owner as Laya.Image;\r\n        // _image.skin = Fruit.ImageBaseUrl + `img/fruits/fruit_${_info.kind}.png`;\r\n        let _finfo = GameLogic.GetFruitUrlInfo(_kind);\r\n        let _fConfig = GameLogic.GetFruitConfig(_kind);\r\n\r\n\r\n        //console.log('init', 1, _info.kind);\r\n\r\n        // this.myCollider = this.owner.getComponent(Laya.PolygonCollider);\r\n        this.myCollider = this.owner.getComponent(Laya.CircleCollider);\r\n\r\n\r\n\r\n        this.node.rotation = 0;\r\n        this.targetX = 0;\r\n\r\n        let _w = _fConfig.imagesW;\r\n        let _r = _w / 2;\r\n\r\n        //\u56FE\u7247\u989D\u5916\u589E\u52A0\u5927\u5C0F\r\n        const _exterW = 0;\r\n\r\n        _image.size(_w + _exterW, _w + _exterW)\r\n        let _circle = this.node.getChildByName('circle') as Laya.Image;\r\n        _circle.visible = _finfo.custom;\r\n        if (_circle.visible) {\r\n            _circle.skin = `img/fruits/q${_kind}.png`;\r\n        }\r\n        if (this.node.mask) {\r\n            this.node.mask.graphics.clear();\r\n            if (!_finfo.custom) {\r\n                this.node.mask = null;\r\n            }\r\n            // this.node.mask.visible = _finfo.custom;\r\n        }\r\n        if (_finfo.custom) {\r\n            if (!this.node.mask) {\r\n                this.node.mask = new Laya.Sprite();\r\n            }\r\n            let _cr = _r + _exterW / 2\r\n            this.node.mask.graphics.drawCircle(_cr, _cr, _cr, \"#ff0000\");\r\n            _circle.size(_cr * 2, _cr * 2);\r\n        }\r\n        _image.skin = _finfo.url;\r\n        console.log('_finfo.url', _finfo.url);\r\n\r\n\r\n        // let _cInfo = colliderInfo[_info.kind - 1];\r\n        // let _w = _cInfo.w * _cInfo.scale;\r\n        // let _h = _cInfo.h * _cInfo.scale;\r\n        // _image.size(_w, _h);\r\n\r\n        // let _ps = '';\r\n        // for (let i = 0; i < _cInfo.points.length; i++) {\r\n        //     if (i != 0) {\r\n        //         _ps += ',';\r\n        //     }\r\n        //     const _p = _cInfo.points[i];\r\n        //     _ps += (_p * _cInfo.scale);\r\n        // }\r\n        // //console.log('init', 3);\r\n        // this.myCollider.points = _ps;\r\n\r\n        //console.log('init', 4);\r\n\r\n        // this.node.rotation = (Math.random() * 360) | 0\r\n\r\n        // \u5706\u5F62\u6240\u5728\u7684\u4F4D\u7F6E\u5750\u6807\r\n\r\n        this.myCollider.radius = _r;\r\n        this.myCollider.y = this.myCollider.x = _exterW / 2;\r\n        this.myCollider.refresh();\r\n\r\n        this.node.active = true;\r\n        this.node.scale(1, 1);\r\n        //console.log('init', 5);\r\n    }\r\n    targetX = 0;\r\n    private inMoving = false;\r\n    private startDownCallBack?: Function\r\n    StartDown(_x: number, _finish?: Function) {\r\n        if (this.inMoving == true) {\r\n            return;\r\n        }\r\n        this.inMoving = true;\r\n        this.startDownCallBack = _finish;\r\n        this.SetMoveTarget(_x);\r\n\r\n        // let _minX = this.node.width / 2;\r\n        // let _maxX = (this.owner.parent as Laya.Box).width - this.node.width / 2;\r\n        // if (_x < _minX) {\r\n        //     _x = _minX\r\n        // }\r\n        // else if (_x > _maxX) {\r\n        //     _x = _maxX\r\n        // }\r\n        // this.targetX = _x;\r\n\r\n        // if (!_time) {\r\n        //     _time = Math.abs(_x - this.node.x);\r\n        //     if (_time > 500) {\r\n        //         _time = 500;\r\n        //     }\r\n        //     else if (_time < 100) {\r\n        //         _time = 100;\r\n        //     }\r\n        // }\r\n        // Laya.timer.frameOnce(2, this, () => {\r\n        //     if (_y == undefined) {\r\n        //         _y = this.node.y;\r\n        //     }\r\n        //     Laya.Tween.to(this.node, { x: _x, y: _y }, _time, undefined, Laya.Handler.create(this, () => {\r\n        //         _finish && _finish()\r\n        //         this.inMoving = false;\r\n        //     }));\r\n        // })\r\n\r\n    }\r\n    SetMoveTarget(_x: number) {\r\n        // console.error('SetMoveTarget node', this.node);\r\n        // console.error('SetMoveTarget parent', this.owner.parent);\r\n\r\n        if (!this.node || !this.owner.parent) {\r\n            return;\r\n        }\r\n        let _minX = this.node.width / 2;\r\n        let _maxX = (this.owner.parent as Laya.Box).width - this.node.width / 2;\r\n        if (_x < _minX) {\r\n            _x = _minX\r\n        }\r\n        else if (_x > _maxX) {\r\n            _x = _maxX;\r\n        }\r\n        // if (this.targetX == 0) {\r\n        //     Laya.timer.frameLoop(1, this, this.moveXUpdate);\r\n        // }\r\n        this.targetX = _x;\r\n        this.moveXUpdate();\r\n        // this.node.pos(_x, this.node.y);\r\n    }\r\n    moveXUpdate() {\r\n        // console.log('moveXUpdate');\r\n        if (this.collisionState || this.targetX <= 0) {\r\n            return;\r\n        }\r\n        // const moveL = 500;\r\n        // let _dif = this.targetX - this.node.x;\r\n        // if (Math.abs(_dif) <= moveL) \r\n        {\r\n            this.node.pos(this.targetX, this.node.y);\r\n            // this.node.x = this.targetX;\r\n            if (this.inMoving && this.startDownCallBack) {\r\n                this.inMoving = false;\r\n\r\n                // Laya.timer.clear(this, this.moveXUpdate);\r\n                this.startDownCallBack();\r\n            }\r\n            return;\r\n        }\r\n        // this.node.pos(this.node.x + (_dif < 0 ? -moveL : moveL), this.node.y);\r\n\r\n    }\r\n    private EnablePhysic(_enable: boolean) {\r\n        // Laya.timer.clear(this, this.moveXUpdate);\r\n        if (!this.myCollider.enabled && _enable) {\r\n            //\u542F\u52A8\u7269\u7406\u540E\u8BB0\u5F55\u666E\u901A\u6C34\u679C\r\n            if (typeof this.myInfo.kind == 'number') {\r\n                GameLogic.NewFruit(this.myInfo.kind);\r\n            }\r\n        }\r\n        this.myRigidBody.enabled = _enable;\r\n        this.myCollider.enabled = _enable;\r\n\r\n    }\r\n    collisionState = true;\r\n    EnableCollision(_enable: boolean) {\r\n        this.collisionState = _enable;\r\n        this.EnablePhysic(_enable);\r\n    }\r\n    scaleAction() {\r\n        this.EnablePhysic(false);\r\n        this.node.scale(0.2, 0.2);\r\n        Laya.Tween.clearAll(this.node);\r\n        Laya.Tween.to(this.node, { scaleX: 1, scaleY: 1 }, 300, Laya.Ease.sineIn, Laya.Handler.create(this, function () {\r\n            this.EnablePhysic(true);\r\n        }));\r\n    }\r\n    GetTopY() {\r\n        return this.node.y - this.node.width / 2;\r\n    }\r\n\r\n    onEnable(): void {\r\n        // Laya.timer.loop(700, this, () => {\r\n        //     if (!this.collisionState || !this.myRigidBody.enabled) {\r\n        //         return;\r\n        //     }\r\n        //     let _equal = (_n1: number, _n2: number) => {\r\n        //         if (Math.abs(_n1 - _n2) < 1) {\r\n        //             return true;\r\n        //         }\r\n        //         return false;\r\n        //     }\r\n        //     //0.5\u79D2\u4F4D\u7F6E\u6CA1\u6709\u53D8\u52A8\u5219\u66F4\u65B0\u6700\u9AD8\u4F4D\u7F6E\r\n        //     if (_equal(this.node.x, this.lastPos[0]) && _equal(this.node.y, this.lastPos[1])) {\r\n        //         this.stableY = this.node.y - this.node.width / 2;\r\n        //         console.log('stableY', this.stableY, GameLogic.fruitTopY);\r\n        //         if (GameLogic.fruitTopY - this.stableY > 0.5) {\r\n        //             GameLogic.fruitTopY = this.stableY;\r\n        //             console.log('fruitTopY', GameLogic.fruitTopY);\r\n\r\n        //         }\r\n        //     }\r\n        //     else {\r\n        //         this.lastPos[0] = this.node.x;\r\n        //         this.lastPos[1] = this.node.y;\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    onDisable(): void {\r\n        // console.error('onDisable');\r\n\r\n        this.node.scale(1, 1);\r\n        Laya.timer.clearAll(this);\r\n        Laya.Tween.clearAll(this.node);\r\n    }\r\n    private contactIDS: number[] = [];\r\n    onTriggerEnter(other: any, self: any, contact: any): void {\r\n        if (!this.collisionState || !this.myRigidBody.enabled) {\r\n            return;\r\n        }\r\n        // console.log('onTriggerEnter', self);\r\n\r\n        // console.error('contact', contact);\r\n\r\n        let _selfFruit: Fruit = self.owner.getComponent(Fruit);\r\n        let _otherFruit: Fruit = other.owner.getComponent(Fruit);\r\n\r\n        if (!_selfFruit || !_otherFruit) {\r\n            return;\r\n        }\r\n        // if (this.contactIDS.indexOf(other.id) < 0) {\r\n        //     this.contactIDS.push(other.id);\r\n        //     let _audio: any = Math.random() > 0.5 ? 'meet' : 'meet2';\r\n        //     HHAudio.PlayEffect(_audio, false, 100);\r\n        // }\r\n\r\n        let _merge = false;\r\n        do {//\u5224\u65AD\u662F\u5426\u5408\u5E76\r\n            if (_selfFruit.myInfo.kind === _otherFruit.myInfo.kind) {\r\n                if (typeof _selfFruit.myInfo.kind == 'number') {\r\n                    _merge = true;\r\n                    break;\r\n\r\n                }\r\n            }\r\n            else {\r\n                if ((_selfFruit.myInfo.kind == 'supper') || (_otherFruit.myInfo.kind == 'supper')) {\r\n                    _merge = true;\r\n                    break;\r\n                }\r\n            }\r\n        } while (0);\r\n\r\n        if (_merge) {\r\n            Laya.stage.event(\"sameContact\", { self: _selfFruit, other: _otherFruit });\r\n        }\r\n        else {\r\n            this.isContacted = true;\r\n        }\r\n        // else {\r\n        //     let _y = this.node.y - this.node.width / 2;\r\n        //     if (_y < GameLogic.fruitTopY) {\r\n        //         GameLogic.fruitTopY = _y;\r\n        //     }\r\n\r\n        // }\r\n\r\n\r\n    }\r\n\r\n}", "import MemPool from \"../Global/modules/tools/MemPool\";\r\n\r\nexport interface JuiceInfo {\r\n    kind: number\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n}\r\nexport default class Juice extends Laya.Script {\r\n    myInfo: JuiceInfo\r\n    node: Laya.Box;\r\n    myid: number = -1;\r\n    static showingID = 0;\r\n    private static poolName = 'JuicePool';\r\n\r\n    private static allItems: Juice[] = [];\r\n    private static myPrefab?: Laya.Prefab;\r\n    private static parent?: Laya.Node;\r\n    static SetPrefab(_prefab: Laya.Prefab, _parent: Laya.Node) {\r\n        this.myPrefab = _prefab;\r\n        this.parent = _parent;\r\n    }\r\n    static Create(_info: JuiceInfo) {\r\n        console.log('Create', this.poolName, this.myPrefab);\r\n\r\n        let _node = MemPool.getInstance().GetObjByPool(this.poolName, this.myPrefab);\r\n        if (!_node) {\r\n            return null;\r\n        }\r\n        Juice.parent.addChild(_node);\r\n        let _item: Juice = _node.getComponent(Juice);\r\n        if (!_item) {\r\n            return null;\r\n        }\r\n        Juice.allItems.push(_item);\r\n        _item.init(_info);\r\n        return _item;\r\n    }\r\n    //\u9500\u6BC1\u6240\u6709\u8282\u70B9\r\n    static DestoryAll(_destoryPool = false) {\r\n        // MemPool.getInstance().RecycleObjByTag(this.poolName);\r\n        // if (_destoryPool) {\r\n        //     MemPool.getInstance().DestroyObjPool(this.poolName);\r\n        // }\r\n        // console.error('DestoryAllDestoryAll', Juice.allItems.length);\r\n\r\n        while (Juice.allItems.length > 0) {\r\n            // console.log('allItems', Juice.allItems.length);\r\n\r\n            Juice.allItems[0].RemoveSelf();\r\n        }\r\n    }\r\n    RemoveSelf() {\r\n        this.node.visible = false;\r\n        this.node.removeSelf();\r\n        MemPool.getInstance().PoolRecycleObj(Juice.poolName, this.node, Juice.poolName);\r\n        let _idx = Juice.allItems.findIndex(v => v.myid == this.myid);\r\n        if (_idx >= 0) {\r\n            Juice.allItems.splice(_idx, 1);\r\n        }\r\n    }\r\n\r\n    constructor() { super(); }\r\n\r\n    private init(_info: JuiceInfo) {\r\n        //\u56E0\u4E3A\u66F4\u6539\u6C34\u679C kind \u53D8\u5316\u8C03\u6574\r\n\r\n        if (_info.kind >= 1) {\r\n            _info.kind++;\r\n        }\r\n        if (_info.kind >= 7) {\r\n            _info.kind++;\r\n        }\r\n\r\n\r\n        Juice.showingID++;\r\n        this.myid = Juice.showingID;\r\n        this.node = this.owner as any;\r\n        this.myInfo = _info;\r\n        this.node.pos(_info.x, _info.y);\r\n        this.node.visible = true;\r\n        this.showJuice();\r\n\r\n    }\r\n    // \u5408\u5E76\u65F6\u7684\u52A8\u753B\u6548\u679C\r\n    showJuice() {\r\n        // console.log('showJuiceshowJuice');\r\n\r\n        let _image1 = `img/juices/juice_l_${this.myInfo.kind}.png`;\r\n        let _image2 = `img/juices/juice_o_${this.myInfo.kind}.png`;\r\n        let _image3 = `img/juices/juice_q_${this.myInfo.kind}.png`;\r\n        const RandomInteger = function (e, t) {\r\n            return Math.floor(Math.random() * (t - e) + e)\r\n        }\r\n        // console.log('showJuiceshowJuice', 1);\r\n        // \u679C\u7C92\r\n        for (let i = 0; i < 10; ++i) {\r\n            const node = new Laya.Image(_image1);\r\n            this.node.addChild(node);\r\n\r\n            const a = 359 * Math.random(),\r\n                i = 30 * Math.random() + this.myInfo.width / 2,\r\n                x = Math.sin(a * Math.PI / 180) * i,\r\n                y = Math.cos(a * Math.PI / 180) * i,\r\n                scale = .5 * Math.random() + this.myInfo.width / 100;\r\n            node.scale(scale, scale)\r\n            const p = .3 * Math.random();\r\n            node.pos(0, 0);\r\n            node.anchorX = 0.5;\r\n            node.anchorY = 0.5;\r\n            Laya.Tween.to(node, { x: node.x + x, y: node.y + y }, p * 1000)\r\n            Laya.Tween.to(node, { scaleX: 0.3, scaleY: 0.3, rotation: RandomInteger(-360, 360) }, (p + 0.5) * 1000,\r\n                undefined, Laya.Handler.create(this, function () {\r\n                    // console.log('showJuiceshowJuice-----', 1);\r\n                    node.removeSelf();\r\n                    // console.log('showJuiceshowJuice-----', 2);\r\n                }));\r\n        }\r\n\r\n        // console.log('showJuiceshowJuice', 2);\r\n        // \u6C34\u73E0\r\n        for (let f = 0; f < 20; f++) {\r\n            const node = new Laya.Image(_image2);\r\n            this.node.addChild(node);\r\n\r\n            let a = 359 * Math.random(), i = 30 * Math.random() + this.myInfo.width / 2,\r\n                x = Math.sin(a * Math.PI / 180) * i,\r\n                y = Math.cos(a * Math.PI / 180) * i,\r\n                scale = .5 * Math.random() + this.myInfo.width / 100;\r\n            node.scale(scale, scale)\r\n            let p = .3 * Math.random();\r\n            node.anchorX = 0.5;\r\n            node.anchorY = 0.5;\r\n            // node.pos(this.myInfo.x, this.myInfo.y);\r\n            node.pos(0, 0);\r\n            Laya.Tween.to(node, { x: node.x + x, y: node.y + y }, p * 1000)\r\n            Laya.Tween.to(node, { scaleX: 0.3, scaleY: 0.3, rotation: RandomInteger(-360, 360) }, (p + 0.5) * 1000,\r\n                undefined, Laya.Handler.create(this, function () {\r\n                    // console.log('showJuiceshowJuice-----', 3);\r\n                    node.removeSelf();\r\n                    // console.log('showJuiceshowJuice-----', 4);\r\n                }));\r\n        }\r\n        // console.log('showJuiceshowJuice', 3);\r\n        // \u679C\u6C41\r\n        const node = new Laya.Image(_image3);\r\n        this.node.addChild(node);\r\n\r\n        // node.pos(this.myInfo.x, this.myInfo.y);\r\n        node.pos(0, 0);\r\n        node.scale(0, 0);\r\n        node.anchorX = 0.5;\r\n        node.anchorY = 0.5;\r\n        node.rotation = -RandomInteger(0, 360);\r\n        node.alpha = 1;\r\n        const scale = this.myInfo.width / 150;\r\n        // console.log('showJuiceshowJuice', 4);\r\n        Laya.Tween.to(node, { scaleX: scale, scaleY: scale }, 200,\r\n            undefined, Laya.Handler.create(this, function () {\r\n                // console.log('showJuiceshowJuice-----', 5);\r\n                Laya.Tween.to(node, { alpha: 0 }, 1000,\r\n                    undefined, Laya.Handler.create(this, function () {\r\n                        // console.log('showJuiceshowJuice-----', 7);\r\n                        node.removeSelf();\r\n                        this.RemoveSelf();\r\n                        // console.log('showJuiceshowJuice-----', 8);\r\n                    }));\r\n                // console.log('showJuiceshowJuice-----', 6);\r\n            }));\r\n        // console.log('showJuiceshowJuice', 5);\r\n    }\r\n\r\n    onEnable(): void {\r\n    }\r\n\r\n    onDisable(): void {\r\n        this.node.removeChildren();\r\n        Laya.Tween.clearAll(this.node);\r\n    }\r\n\r\n}", "import { PkgNameType } from \"../../FGUIConfig\";\r\nimport FGUIBase, { FGUIClassType } from \"./FGUIBase\";\r\nimport FGUIMount from \"./FGUIMount\";\r\nimport FGUIUtil from \"./FGUIUtil\";\r\n\r\n/**\r\n * FGUI\u573A\u666F\u57FA\u7C7B\r\n * \u7EE7\u627F\u6B64\u57FA\u7C7B \u6784\u5EFA\u7C7B\u540E\u53EF\u4EE5\u6784\u5EFA\u573A\u666F\u7C7B\r\n * \u573A\u666F\u7C7B\u540C\u65F6\u53EA\u80FD\u5B58\u5728\u4E00\u4E2A\r\n */\r\nexport default abstract class FGUIScene extends FGUIBase {\r\n\r\n    fguiType: FGUIClassType = FGUIClassType.scene;\r\n    /**\r\n     * \u5305\u540D\r\n     * \u586B\u5199\u4E4B\u540E\u624D\u53EF\u4EE5\u663E\u793A\u5BF9\u5E94\u5305\u4E3B\u754C\u9762\r\n     */\r\n    abstract pkgName: PkgNameType;\r\n    /*\r\n        \u6B64\u573A\u666F\u5185 \u5305 \u6302\u8F7D\u7684\u811A\u672C\r\n        \u58F0\u660E\u7528\u6CD5\uFF1A\r\n        mountPath = {\r\n            rankItem: {\r\n                classType: RankItem,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n                compName: \"rankItem\"//(\u7EC4\u4EF6\u540D)\r\n            }\r\n        }\r\n        */\r\n    mountPath: {\r\n        [key: string]: {\r\n            classType: new () => FGUIMount,\r\n            compName: string\r\n        }\r\n    } = {} as any;\r\n    //\u4E3B\u7EC4\u4EF6\u540D\r\n    // protected mainName = \"Main\";\r\n    //\u4E3B\u7EC4\u4EF6\u540D\r\n    mainName = \"Main\";\r\n    mySceneName = '';\r\n    AddScene(_callBack?: Function) {\r\n        if (!this.pkgName) {\r\n            console.error('\u573A\u666F\u7C7B\u9700\u8981\u586B\u5199 pkgName !');\r\n            return false;\r\n        }\r\n        let _parent = fgui.GRoot.inst;\r\n        // console.error('_parent', _parent.width, _parent.height);\r\n        //\u62FC\u63A5\u83B7\u5F97\u552F\u4E00\u7EC4\u4EF6\u540D\r\n        let _myName = `${this.pkgName}_${this.mainName}`;\r\n\r\n\r\n\r\n        // this.curFGUI = _fgui;\r\n\r\n        //\u83B7\u53D6\u81EA\u5B9A\u4E49key\u7684\u503C\r\n        const sceneKeyName = 'sceneName';\r\n        let _main = null as any;\r\n        for (const iterator of _parent._children) {\r\n            if (sceneKeyName in iterator && iterator[sceneKeyName] == _myName) {\r\n                _main = iterator;\r\n                break;\r\n            }\r\n        }\r\n        // let _main = _parent.getChild(_myName);\r\n        // console.error('AddScene', _myName, _main);\r\n        //\u83B7\u53D6Main\u7EC4\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u5230\u5F53\u524D\u754C\u9762\r\n        if (!_main) {//\u672A\u627E\u5230\u6B64\u8282\u70B9\u5219\u521B\u5EFA\r\n            FGUIUtil.loadPackage(this.pkgName, this, () => {\r\n                //\u7ED9\u5305\u6302\u8F7D\u811A\u672C\r\n                //\u6302\u8F7D\u811A\u672C\u4F1A\u88AB\u9690\u85CF\uFF0C\u539F\u56E0\u672A\u77E5\r\n                for (const key in this.mountPath) {\r\n                    fgui.UIObjectFactory.setExtension(fgui.UIPackage.getItemURL(this.pkgName, this.mountPath[key].compName), this.mountPath[key].classType);\r\n                }\r\n                //\u521B\u5EFA\u6B64\u7EC4\u4EF6\r\n                _main = fgui.UIPackage.createObject(this.pkgName, this.mainName).asCom;\r\n                //\u7EC4\u4EF6\u81EA\u5B9A\u4E49\u573A\u666F\u540D\r\n                _main[sceneKeyName] = _myName;\r\n                //\u8FDB\u884C\u9002\u914D\u5173\u8054\r\n                _main.makeFullScreen();\r\n                _main.addRelation(_parent, fgui.RelationType.Size);\r\n\r\n                //\u5BF9\u4E0D\u540C\u951A\u70B9\u8FDB\u884C\u9002\u914D\r\n                _main.x = _main.pivotX * Laya.stage.width;\r\n                _main.y = _main.pivotY * Laya.stage.height;\r\n\r\n                // console.error('_main', _main);\r\n\r\n                //\u6DFB\u52A0\u5230\u7236\u8282\u70B9\r\n                _parent.addChild(_main);\r\n                //\u8C03\u7528\u521D\u59CB\u5316\u5E76\u663E\u793A\r\n                this.Init(_main);\r\n                _callBack && _callBack();\r\n                // console.error('_main', _main.y);\r\n            });\r\n        }\r\n        else {//\u5DF2\u627E\u5230\u6B64\u8282\u70B9\u76F4\u63A5\u663E\u793A\r\n            // console.error('\u627E\u5230\u53EF\u7528\u573A\u666F\uFF1A', _myName, _main);\r\n            // console.error('_parent', _parent);\r\n            //\u66F4\u65B0\u5728\u7236\u8282\u70B9\u4E2D\u7684\u987A\u5E8F\uFF0C\u6E32\u67D3\u5230\u540C\u7EA7\u9876\u5C42\r\n            _parent.addChild(_main);\r\n            //\u663E\u793A\u754C\u9762\r\n            this.Show();\r\n            _callBack && _callBack();\r\n        }\r\n        return true;\r\n    }\r\n    // CloseSelf() {\r\n    //     this.Hide();\r\n    //     // FGUIUtil.CloseScene(this)\r\n    // }\r\n\r\n}", "/**\n * \u5E73\u53F0\u533A\u5206\u65B9\u6CD5\n * \u57FA\u7C7B\uFF1A\u53EA\u505A\u529F\u80FD\u58F0\u660E\uFF0C\u4F9B\u5B50\u7C7B\u5B9E\u73B0\n * \n */\n//\u5E7F\u544A\u8FD4\u56DE\u7ED3\u679C\nexport interface PlatformAdsResult {\n    isOpened: boolean,\n    isEnd: boolean\n}\n//\u6388\u6743\u5217\u8868\nexport type AuthorizeScope =\n    'scope.userInfo' | 'scope.userLocation' | 'scope.address' | 'scope.record' |\n    'scope.album' | 'scope.camera' | 'scope.screenRecord';\nexport default class PlatformBase {\n    protected isBannerLoaded = false;\n    protected isInterstitialAdLoaded = false;\n    protected isVideoAdLoaded = false;\n    protected isInitComplete = false;\n    protected isBannerShow = false;\n    protected isGameloadCompleted = false;\n\n    static curPlatform: any = undefined;\n\n    constructor() {\n        this.isInitComplete = false;\n        this.isGameloadCompleted = false;\n    }\n    //\u5EF6\u65F6\u521D\u59CB\u5316\u5185\u5BB9\uFF08\u6E38\u620F\u52A0\u8F7D\u5B8C\u6210\u540E\u624D\u5F00\u59CB\u6267\u884C\u6B64\u4E2D\u5185\u5BB9\uFF09\n    protected async delayInit() {\n        this.isInitComplete = true;\n    }\n    //--------------------------------------\u6E38\u620F\u6570\u636E\u52A0\u8F7D\u5B8C\u6210-------------------------------//\n    //\u6E38\u620F\u521D\u59CB\u5316\u5B8C\u6210\u8C03\u7528\u6B64\u65B9\u6CD5\n    async SetGameloadCompleted() {\n        console.log('\u6E38\u620F\u6570\u636E\u52A0\u8F7D\u5B8C\u6210');\n        this.isGameloadCompleted = true;\n        await this.delayInit();\n    }\n    //\u8BBE\u7F6E\u52A0\u8F7D\u8FDB\u5EA6\n    setLoadingProgress(_pro: number) {\n        console.log('[PlatformBase]', 'loading', _pro);\n    }\n    //------------------------------------------\u5B58\u50A8\u548C\u8BFB\u53D6---------------------------------//\n    //\u6E05\u9664\u5B58\u50A8\n    // LocalStorageClear() {\n    //     console.log('[PlatformBase]', 'StorageClear');\n\n    //     localStorage.clear()\n    // }\n    //\u5220\u9664\u952E\n    LocalStorageRemoveItem(_str: string) {\n        console.log('[PlatformBase]', 'StorageRemoveItem');\n        Laya.LocalStorage.removeItem(_str)\n    }\n    //\u8BFB\u53D6key\n    LocalStorageGetItem(_str: string) {\n        console.log('[PlatformBase]', 'StorageGetItem', _str);\n        let userData = Laya.LocalStorage.getItem(_str) as any\n        if (userData) {\n            userData = JSON.parse(userData);\n        }\n        return userData;\n    }\n    //\u5B58\u50A8key\n    LocalStorageSetItem(_str: string, _data: any) {\n        console.log('[PlatformBase]', 'StorageSetItem', _str);\n        Laya.LocalStorage.setItem(_str, JSON.stringify(_data));\n    }\n\n\n    //------------------------------------------\u6253\u70B9\u4E8B\u4EF6---------------------------------//\n    SubmitAction(action: string, data: object = {}) {\n        console.log('[PlatformBase]', 'SubmitAction', action);\n    }\n    //\u8FDB\u5EA6\u6253\u70B9\u4E8B\u4EF6\n    IsExistStage() {\n        console.log('[PlatformBase]', 'IsExistStage');\n        return false;\n    }\n    Stage_onStart(_info: any) {\n        console.log('[PlatformBase]', 'Stage_onStart');\n    }\n    Stage_onEnd(_info: any) {\n        console.log('[PlatformBase]', 'Stage_onEnd');\n    }\n    //------------------------------------------\u8BBE\u5907\u4FE1\u606F---------------------------------//\n    IsExistGetSystemInfoSync() {\n        console.log('[PlatformBase]', 'IsExistGetSystemInfoSync');\n        return false;\n    }\n    GetSystemInfoSync() {\n        console.log('[PlatformBase]', 'GetSystemInfoSync');\n        return undefined as any;\n    }\n    /**\n     * \u83B7\u53D6\u83DC\u5355\u6309\u94AE\u4F4D\u7F6E\n     * @param _dynamic \u662F\u5426\u91CD\u65B0\u83B7\u53D6\n     */\n    GetMenuButtonRect(_dynamic = false) {\n        return undefined as {\n            top: number,\n            bottom: number,\n            left: number,\n            right: number,\n            width: number,\n            height: number\n        } | undefined;\n    }\n    /**\n     * \u662F\u5426\u6709\u6E38\u620F\u5708\u529F\u80FD\n     */\n    IsExistGameClub() {\n        return false;\n    }\n    /**\n     * \u521B\u5EFA\u6E38\u620F\u5708\u6309\u94AE\n     * @param _option \n     */\n    CreateGameClubButton(_option: {\n        iconType: 'text' | 'image',\n        text?: string,\n        image?: string,\n        icon?: string,\n        style: {\n            left: number,\n            top: number,\n            width: number,\n            height: number\n        }\n    }) {\n        return null;\n    }\n    //---------------------------------------\u76D1\u542C\u5C0F\u6E38\u620F\u524D\u540E\u53F0\u5207\u6362---------------------------------//\n    //\u9000\u51FA\u6E38\u620F\n    ExitGame() {\n        console.log('[PlatformBase]', 'ExitGame');\n    }\n    OnShow(callback: Function, _enable = false) {\n        console.log('[PlatformBase]', 'OnShow');\n    }\n    OnHide(callback: Function, _enable = false) {\n        console.log('[PlatformBase]', 'OnHide');\n    }\n    //---------------------------------------\u6E05\u9664\u65E7\u7F13\u5B58---------------------------------//\n    CleanOldAssets() {\n        console.log('[PlatformBase]', 'CleanOldAssets');\n    }\n    //------------------------------------------\u7CFB\u7EDF\u5F39\u7A97---------------------------------//\n    ShowLoading(_data: { title: string, mask?: boolean }) {\n        console.log('[PlatformBase]', 'ShowLoading', _data);\n    }\n    HideLoading() {\n        console.log('[PlatformBase]', 'HideLoading');\n    }\n    /**\n     * \u6700\u591A\u663E\u793A 7 \u4E2A\u6C49\u5B57\u957F\u5EA6\n     * @param _data \n     */\n    ShowToast(_data: { title: string, icon?: 'success' | 'loading' | 'none', duration?: number }) {\n        console.log('[PlatformBase]', 'ShowToast', _data);\n        return alert(_data.title);\n    }\n    async ShowModal(_data: { title: string, content: string, confirmText?: string, cancelText?: string }) {\n        console.log('[PlatformBase]', 'ShowConfirm', _data);\n        return confirm(`${_data.title}\\n${_data.content}`)\n        // true;\n    }\n    //-----------------------------------------app\u767B\u5F55----------------------------------//\n    async APPLogin(_isForce = true) {\n        console.log('[PlatformBase]', 'APPLogin', _isForce);\n        return true;\n    }\n    //---------------------------------------\u7F51\u7EDC\u8FDE\u63A5-----------------------------------//\n    /**\n     * \u7F51\u7EDC\u53D8\u66F4\u76D1\u542C\n     */\n    OnListenNetChange(_listener: (_isConnected: boolean) => void) {\n        console.log('[PlatformBase]', 'OnListenNetChange');\n    }\n    /**\n     * \u662F\u5426\u6709\u7F51\u7EDC\u8FDE\u63A5\n     */\n    IsNetConnected() {\n        console.log('[PlatformBase]', 'IsNetConnected');\n        return true;\n    }\n    //-----------------------------------------\u68C0\u6D4B\u66F4\u65B0---------------------------------//\n    CheckForUpdate() {\n        console.log('[PlatformBase]', 'OnCheckForUpdate');\n    }\n    //-----------------------------------------\u542F\u52A8\u53C2\u6570---------------------------------//\n    IsExistGetLaunchOptions() {\n        console.log('[PlatformBase]', 'IsExistGetLaunchOptions');\n        return false;\n    }\n    GetLaunchOptions() {\n        console.log('[PlatformBase]', 'GetLaunchOptions');\n        return undefined as any;\n    }\n    //----------------------------------------\u9707\u52A8-------------------------------------//\n    VibrateShort() {\n        console.log('[PlatformBase]', 'VibrateShort');\n    }\n\n    VibrateLong() {\n        console.log('[PlatformBase]', 'VibrateLong');\n    }\n    //------------------------------------\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u6E38\u620F-----------------------------------//\n    //\u6B64\u65B9\u6CD5\u662F\u5426\u5B58\u5728\n    IsExistNavigateToMiniProgram() {\n        return false;\n    }\n    NavigateToMiniProgram(_info: {\n        appId: string,\n        path?: string,\n        extraData?: Object,\n        success?: Function,\n        fail?: Function,\n        complete?: Function,\n    }) {\n        console.log('[PlatformBase]', 'VibrateLong');\n    }\n    //----------------------------------------\u7528\u6237\u6388\u6743-----------------------------------//\n    async UserAuthorize(_scope: AuthorizeScope) {\n        console.log('[PlatformBase]', 'UserAuthorize');\n        return true;\n    }\n    //\u6253\u5F00\u6743\u9650\u8BBE\u7F6E\n    OpenSetting() {\n        console.log('[PlatformBase]', 'OpenSetting');\n    }\n    //\u83B7\u53D6\u6743\u9650\u4FE1\u606F\n    async GetSetting(_scope: AuthorizeScope) {\n        console.log('[PlatformBase]', 'GetSetting');\n        return false;\n    }\n    //----------------------------------------\u9884\u89C8\u56FE\u7247-----------------------------------//\n    IsExistPreviewImage() {\n        return false;\n    }\n    async PreviewImage(urls: string[]) {\n        console.log('[PlatformBase]', 'PreviewImage');\n        return false;\n    }\n    //----------------------------------------\u521B\u5EFA\u56FE\u7247-----------------------------------//\n    IsExistCreateImage() {\n        return false;\n    }\n    CreateImage() {\n        console.log('[PlatformBase]', 'CreateImage');\n    }\n    //------------------------------------------\u5206\u4EAB\u8F6C\u53D1--------------------------------------//\n    //\u662F\u5426\u5B58\u5728\u5206\u4EAB\u529F\u80FD\n    IsExistShare() {\n        return false;\n    }\n    //\u5206\u4EAB\u8BBE\u7F6E\n    UpdateShareMenu(_data: {\n        withShareTicket: boolean\n    }) {\n        console.log('[PlatformBase]', 'UpdateShareMenu');\n    }\n    //\u663E\u793A\u548C\u9690\u85CF\u5206\u4EAB\u83DC\u5355\n    ShowShareMenu() {\n        console.log('[PlatformBase]', 'ShowShareMenu');\n    }\n    HideShareMenu() {\n        console.log('[PlatformBase]', 'HideShareMenu');\n    }\n    //\u83DC\u5355\u8F6C\u53D1\u4FE1\u606F\n    OnShareAppMessage(callFun: () => { title?: string, imageUrl?: string, query?: string }) {\n        console.log('[PlatformBase]', 'onShareAppMessage');\n    }\n    //\u8C03\u8D77\u5206\u4EAB\n    async ShareAppMessage(title?: string, imageUrl?: string, query?: string) {\n        console.log('[PlatformBase]', 'ShareAppMessage');\n        return true;\n    }\n    //--------------------------------------------\u5F00\u653E\u57DF-----------------------------------//\n    //\u662F\u5426\u5B58\u5728\u5F00\u653E\u57DF\u529F\u80FD\n    IsExistOpenContext() {\n        console.log('[PlatformBase]', 'IsExistOpenContext');\n        return false;\n    }\n    SetUserCloudStorage(_data: { key: string, value: any }[], success?: (args: any) => void, fail?: (args: any) => void) {\n        console.error('[PlatformBase]', 'SetUserCloudStorage', '\u4E0D\u5B58\u5728\u5F00\u653E\u57DF\u529F\u80FD');\n    }\n    GetOpenDataContext() {\n        console.error('[PlatformBase]', 'GetOpenDataContext', '\u4E0D\u5B58\u5728\u5F00\u653E\u57DF\u529F\u80FD');\n        return null as any;\n    }\n    //-----------------------------------------\u83B7\u53D6\u5E7F\u544Aid---------------------------------//\n    GetAdsID(_ads: any) {\n        // console.log('[PlatformBase]', 'GetAdsID');  \n        return null;\n    }\n    //-----------------------------------------\u521B\u5EFA\u5E7F\u544A---------------------------------//\n    async CreateADs(_adsID: { banner?: any, video?: any, interstitial?: any }) {\n        console.log('[PlatformBase]', 'CreateADs');\n    }\n    //--------------------------------------------Banner---------------------------------//\n    //\u521B\u5EFAbanner\n    async CreateBanner(_bannerid: string) {\n        console.log('[PlatformBase]', 'CreateBanner');\n    }\n    ShowBanner() {\n        this.isBannerShow = true;\n        console.log('[PlatformBase]', 'ShowBanner');\n    }\n    HideBanner() {\n        this.isBannerShow = false;\n        console.log('[PlatformBase]', 'HideBanner');\n    }\n    //--------------------------------------------\u63D2\u5C4F\u5E7F\u544A---------------------------------//\n    async CreateInterstitialAd(_interstitialid: string) {\n        console.log('[PlatformBase]', 'CreateScreen');\n    }\n    async ShowInterstitialAd(): Promise<PlatformAdsResult> {\n        let result: PlatformAdsResult = {\n            isOpened: false,\n            isEnd: false\n        }\n        console.log('[PlatformBase]', 'ShowScreen');\n        return result;\n    }\n    HideInterstitialAd() {\n        console.log('[PlatformBase]', 'HideScreen');\n    }\n    //--------------------------------------------\u89C6\u9891\u5E7F\u544A---------------------------------//\n    async CreateVideoAd(_videoid: string) {\n        console.log('[PlatformBase]', 'CreateVideoAd');\n    }\n    async ShowVideoAd(): Promise<PlatformAdsResult> {\n        let result: PlatformAdsResult = {\n            isOpened: true,\n            isEnd: true\n        }\n        console.log('[PlatformBase]', 'ShowVideoAd');\n        return result;\n    }\n    //--------------------------------------------\u83B7\u53D6\u5E7F\u544A\u52A0\u8F7D\u72B6\u6001---------------------------------//\n    //\u83B7\u53D6\u63D2\u5C4F\u5E7F\u544A\u4FE1\u606F\u662F\u5426\u52A0\u8F7D\n    getInterstitialAdState(): boolean {\n        return this.isInterstitialAdLoaded;\n    }\n    //\u83B7\u53D6\u89C6\u9891\u5E7F\u544A\u4FE1\u606F\u662F\u5426\u52A0\u8F7D\n    getVideoAdState(): boolean {\n        return this.isVideoAdLoaded;\n    }\n    //--------------------------------------------\u5F55\u5C4F-----------------------------------------//\n    //\u662F\u5426\u5B58\u5728\u5F55\u5C4F\u529F\u80FD\n    IsExistRecoder() {\n        return false;\n    }\n    /**\n     * \u5F00\u59CB\u5F55\u5C4F\n     */\n    RecoderStart() {\n    }\n    /**\n     * \u7ED3\u675F\u5F55\u5C4F\n     */\n    async RecoderEnd(_shareIt = false) {\n        return false;\n    }\n    /**\n     * \u5206\u4EAB\u5F55\u5C4F\n     */\n    async ShareRecoder(): Promise<boolean> {\n        return false;\n    }\n    /**\n     * \u76D1\u542C\u5F55\u5C4F\u7ED3\u675F\n     * @param _listen \n     */\n    ListenRecorder(_listen: (_state: string, _timeEnough?: boolean) => void) { }\n    UnListenRecorder() { }\n    /**\n     * \u6B64\u89C6\u9891\u662F\u5426\u5206\u4EAB\u8FC7\n     */\n    IsRecoderShared() {\n        return true;\n    }\n    /**\n     * \u662F\u5426\u6B63\u5728\u5F55\u5236\u89C6\u9891\n     */\n    InRecording() {\n        return false;\n    }\n    /**\n     * \u662F\u5426\u6709\u53EF\u5206\u4EAB\u7684\u5F55\u5C4F\n     */\n    HaveRecoderVideo() {\n        return false;\n    }\n}\n", "/**\nimport { type } from './DataConfig';\n * \u5206\u4EAB\u914D\u7F6E\u6587\u4EF6\n */\nexport const ShareBathPath = 'https://oss.ixald.com/Cattle/share/';\n// export const testShareImage = ['share_normal.png', 'share_challenge.png', 'share_exceed.png', 'share_help.png', 'share_taunt.png']\nexport const ShareConfig = {\n    Image: {\n        normal: [\n            // { title: '\u8FD9\u4E2A\u65F6\u4EE3\u62FC\u4EC0\u4E48\uFF1F\u62FC\u4E2A\u52A8\u7269\u56ED\uFF01', image: 'share_normal.png' },\n            // { title: '\u8FD9\u4E2A\u65F6\u4EE3\u62FC\u4EC0\u4E48\uFF1F\u62FC\u4E2A\u52A8\u7269\u56ED\uFF01', image: 'share_normal2.png' },\n            // { title: '\u5E72\u5B8C\u996D\u6211\u5C31\u53BB\uFF01\uFF01\u62FC\u4E2A\u52A8\u7269\u56ED\uFF01', image: 'share_normal3.png' }\n            { title: '\u5954\u8DD1\u5427~\u91D1\u725B\u98DE\u5954\u8D3A\u65B0\u6625\uFF01', image: 'share_normal1.png' }\n        ],\n        // flaunt: [{ title: '\u6765\u8BD5\u8BD5\u4F60\u914D\u505A\u6211\u7684\u5BF9\u624B\u5417\uFF1F', image: 'share_exceed2.png' }],\n        // help: [\n        //     // { title: '\u9700\u8981\u4F60\u7684\u65F6\u5019\u5230\u4E86\uFF01', image: 'share_help.png' },\n        //     // { title: '\u8BE5\u653E\u54EA\u91CC\uFF1F\u5FEB\u544A\u8BC9\u6211\uFF01', image: 'share_help2.png' },\n        //     // { title: '\u8FD9\u5173\u592A\u96BE\u4E86\uFF0C\u8BF7\u6C42\u706B\u529B\u652F\u63F4\uFF01', image: 'share_help3.png' }\n        //     { title: '\u8FD9\u5173\u592A\u96BE\u4E86\uFF0C\u80FD\u5E2E\u5E2E\u6211\u4E48\uFF1F', image: 'share_helpNY.png' }\n        // ],\n        // prophelp: [\n        //     { title: '\u62FC\u4E2A\u52A8\u7269\u56ED\uFF0C\u6D88\u706D\u4F60\u7684\u788E\u7247\u65F6\u95F4\uFF01', image: 'share_helpProp.png' },\n        //     { title: '\u7206\u70B8\u4E4B\u540E~\u5230\u5E95\u4F1A\u51FA\u73B0\u4EC0\u4E48\uFF1F', image: 'share_helpProp2.png' },\n        //     { title: '\u5C0F\u52A8\u7269\u4EEC\uFF0C\u7B49\u4F60\u6765\u62FC\u54E6\uFF01\uFF01', image: 'share_helpProp3.png' }\n        //     // { title: '\u53EE\u549A~~\u4F60\u7684\u5723\u8BDE\u5C0F\u840C\u5BA0\u5DF2\u9001\u8FBE', image: 'share_helpPropXmas.png' }\n        // ],\n        // unlockhelp: [\n        //     { title: '\u5927\u4F6C\u6765\u73A9\u554A\uFF0C\u4E00\u5C40\u62FC\u4E00\u4E2A\u52A8\u7269\u56ED\uFF01', image: 'share_unlock.png' },\n        //     { title: '\u6781\u5EA6\u8212\u9002\u7684\u89E3\u538B\u5C0F\u6E38\u620F', image: 'share_unlock2.png' },\n        //     { title: '\u4E0D\u70E7\u8111\u723D\u5FEB\u8FC7\u5173\uFF01', image: 'share_unlock3.png' }\n        //     // { title: '\u91CC\u9762\u7A76\u7ADF\u6697\u85CF\u7740\u4EC0\u4E48\u79D8\u5BC6??', image: 'share_unlockXmas.png' }\n        // ],\n    },\n    Video: {\n        normal: { title: '\u6211\u5E38\u6765\u8FD9\u91CC\u6D88\u89E3\u538B\u529B', topics: ['\u62FC\u4E2A\u52A8\u7269\u56ED'], query: `from=videoShare` },\n    },\n};\nexport type ShareImageType = keyof typeof ShareConfig.Image;\n", "import { ShareConfig } from \"../../../ShareConfig\";\nimport PlatformBase, { AuthorizeScope, PlatformAdsResult } from \"../PlatformBase\";\n// import TimeMonitor from \"../../Debug/TimeMonitor\";\n//\u5DF2\u652F\u6301\u5C0F\u6E38\u620F\u5E73\u53F0\nexport enum MiniPlatformE {\n    unknow,//\u672A\u77E5\n    wx,//\u5FAE\u4FE1\n    qq,//qq\n    tt,//\u5934\u6761\n};\n/**\n * \u5B50\u7C7B-\u5C0F\u6E38\u620F\n * \u7531\u4E8E\u5C0F\u6E38\u620F\u63A5\u53E3\u7C7B\u4F3C\uFF0C\u8FD9\u91CC\u505A\u7EDF\u4E00\u5B9E\u73B0\uFF0C\u5185\u90E8\u533A\u5206\n */\nexport default class Platform_mini extends PlatformBase {\n\n    constructor() {\n        super();\n        // console.log('this is ', this.);\n        this.init();\n\n    }\n    protected init() {\n        //\u628A\u811A\u672C\u52A0\u5165html\u5934\u4E2D\n        if (this.isInitComplete) {\n            return;\n        }\n\n    }\n\n    //\u5EF6\u65F6\u521D\u59CB\u5316\u5185\u5BB9\uFF08\u6E38\u620F\u52A0\u8F7D\u5B8C\u6210\u540E\u624D\u5F00\u59CB\u6267\u884C\u6B64\u4E2D\u5185\u5BB9\uFF09\n    protected async delayInit() {\n        this.initListenNet();\n        if (this.IsExistRecoder()) {\n            //\u521D\u59CB\u5316\u5F55\u5C4F\u63A5\u53E3\n            this.initRecoder();\n        }\n        super.delayInit();\n    }\n    //------------------------------------------\u6253\u70B9\u4E8B\u4EF6---------------------------------//\n    SubmitAction(action: string, data: object = {}) {\n        if (!mini || !mini.aldSendEvent) {\n            console.error('\u672A\u627E\u5230\u963F\u62C9\u4E01');\n            return;\n        }\n        mini.aldSendEvent(action, data);\n        console.log('[Platform_mini]', 'SubmitAction', action);\n    }\n\n    //\u8FDB\u5EA6\u6253\u70B9\u4E8B\u4EF6\n    IsExistStage() {\n        if (PlatformBase.curPlatform && mini[\"aldStage\"]) return true;\n        return false;\n    }\n    Stage_onStart(_info: any) {\n        if (!this.IsExistStage()) {\n            console.error('IsExistStage', '\u4E0D\u5B58\u5728\uFF01');\n            return;\n        }\n        mini.aldStage.onStart(_info);\n    }\n    Stage_onEnd(_info: any) {\n        if (!this.IsExistStage()) {\n            console.error('IsExistStage', '\u4E0D\u5B58\u5728\uFF01');\n            return;\n        }\n        mini.aldStage.onEnd(_info);\n    }\n    //------------------------------------------\u8BBE\u5907\u4FE1\u606F---------------------------------//\n    IsExistGetSystemInfoSync() {\n        if (PlatformBase.curPlatform && mini.getSystemInfoSync) {\n            return true;\n        }\n        return false;\n    }\n    GetSystemInfoSync() {\n        return mini.getSystemInfoSync();\n    }\n    //\u80F6\u56CA\u6309\u94AE\n    private menuRect = undefined as any;\n\n    GetMenuButtonRect(_dynamic = false) {\n        if (!_dynamic && this.menuRect) {\n            return this.menuRect;\n        }\n        let _menuRect = null;\n        let _info = this.GetSystemInfoSync();\n        // let _scale = cc.view.getVisibleSize().width / _info.screenWidth;\n        let _scale = Laya.stage.width / _info.screenWidth;\n        // console.log('GetMenuButtonRect pixelRatio', this.GetSystemInfoSync().pixelRatio, cc.winSize.width);\n        let _rect = null as any;\n        try {\n            if (MiniPlatformE.tt == PlatformBase.curPlatform) {\n                _rect = mini.getMenuButtonLayout();\n            }\n            else {\n                _rect = mini.getMenuButtonBoundingClientRect();\n            }\n        } catch (e) {\n            console.error('GetMenuButtonRect\u83B7\u53D6\u5931\u8D25' + e);\n        }\n        if (_rect) {\n            console.log('GetMenuButtonRect _rect', _scale, _rect);\n            _menuRect = {\n                top: (_info.screenHeight - _rect.top) * _scale,\n                bottom: (_info.screenHeight - _rect.bottom) * _scale,\n                left: (_rect.left) * _scale,\n                right: (_rect.right) * _scale,\n                width: _rect.width * _scale,\n                height: _rect.height * _scale\n            }\n        }\n        if (!_dynamic) {\n            this.menuRect = _dynamic;\n        }\n        // console.log('GetMenuButtonRect menuRect', this.menuRect);\n        return _menuRect;\n    }\n    IsExistGameClub() {\n        if (!mini.createGameClubButton) {\n            return false;\n        }\n        return true;\n    }\n    CreateGameClubButton(_option: {\n        iconType: 'text' | 'image',\n        text?: string,\n        image?: string,\n        icon?: string,\n        style: {\n            left: number,\n            top: number,\n            width: number,\n            height: number\n        }\n    }) {\n        if (!this.IsExistGameClub()) {\n            return null;\n        }\n        return mini.createGameClubButton({\n            type: _option.iconType,\n            text: _option.text,\n            image: _option.image,\n            icon: _option.icon,\n            style: _option.style\n        })\n    }\n    /**\u83B7\u53D6\u5934\u6761\u7684\u5BBF\u4E3B\n     * 1 Toutiao -- \u4ECA\u65E5\u5934\u6761\n     *2 tt_lite -- \u4ECA\u65E5\u5934\u6761\u6781\u901F\u7248\n     * 3 Douyin -- \u6296\u97F3\n    * 4 xigua -- \u897F\u74DC\u89C6\u9891\n    * 5 huoshan -- \u6296\u97F3\u706B\u5C71\u7248\n     */\n    //\n    private getTTHost() {\n        if (MiniPlatformE.tt != PlatformBase.curPlatform) {\n            return null;\n        }\n        return this.GetSystemInfoSync().appName;\n    }\n    //---------------------------------------\u76D1\u542C\u5C0F\u6E38\u620F\u524D\u540E\u53F0\u5207\u6362---------------------------------//\n    //\u9000\u51FA\u6E38\u620F\n    ExitGame() {\n        mini.exitMiniProgram && mini.exitMiniProgram();\n        console.log('[Platform_mini]', 'ExitGame');\n    }\n    OnShow(callback: Function, _enable = true) {\n        if (_enable) {\n            mini.onShow(callback);\n        }\n        else {\n            mini.offShow(callback);\n        }\n\n        console.log('[Platform_mini]', 'OnShow', _enable);\n    }\n    OnHide(callback: Function, _enable = true) {\n        if (_enable) {\n            mini.onHide(callback);\n        } else {\n            mini.offHide(callback);\n        }\n        console.log('[Platform_mini]', 'OnHide', _enable);\n    }\n    //---------------------------------------\u6E05\u9664\u65E7\u7F13\u5B58---------------------------------//\n    CleanOldAssets() {\n        if (PlatformBase.curPlatform == MiniPlatformE.wx) {\n            wxDownloader.cleanOldAssets();\n        }\n    }\n    //------------------------------------------\u7CFB\u7EDF\u5F39\u7A97---------------------------------//\n    ShowLoading(_data: { title: string, mask?: boolean }) {\n        mini.showLoading(_data);\n    }\n    HideLoading() {\n        mini.hideLoading();\n    }\n    ShowToast(_data: { title: string, icon?: 'success' | 'loading' | 'none', duration?: number }) {\n        mini.showToast(_data);\n    }\n    async ShowModal(_data: { title: string, content: string, confirmText?: string, cancelText?: string }): Promise<boolean> {\n\n        return new Promise(rs => {\n            (_data as any).showCancel = !!_data.cancelText;\n            (_data as any).success = (res: any) => {\n                if (res.confirm) {\n                    rs(true)\n                } else {\n                    rs(false)\n                }\n            }\n            mini.showModal(_data);\n        });\n    }\n    //-----------------------------------------app\u767B\u5F55----------------------------------//\n    async APPLogin(_isForce = false) {\n        if (PlatformBase.curPlatform != MiniPlatformE.tt) {\n            return true;\n        }\n        return new Promise<boolean>((rs) => {\n            mini.login({\n                force: _isForce,//\u5934\u6761\u672A\u767B\u5F55\u72B6\u6001\u4E0B\u4E0D\u80FD\u4E3B\u52A8\u63D0\u793A\u767B\u5F55\u5426\u5219\u4F1A\u88AB\u6253\u56DE\n                success(res: any) {\n                    console.error('Login-success-res = ' + JSON.stringify(res));\n                    rs(res.isLogin);\n                },\n                fail(res: any) {\n                    console.error('Login-fail-res =' + JSON.stringify(res));\n                    rs(false);\n                }\n            });\n        })\n    }\n    //---------------------------------------\u7F51\u7EDC\u8FDE\u63A5-----------------------------------//\n    private initListenNet() {\n        if (!mini.getNetworkType) {\n            console.error('\u76D1\u542C\u7F51\u7EDC\u72B6\u6001\u5931\u8D25\uFF01');\n            return false;\n        }\n        mini.getNetworkType({\n            success: (_res: any) => {\n                console.log('\u7F51\u7EDC\u53D8\u66F4', _res);\n                let _connect = (_res != 'none');\n                if (_connect != this.isConnected) {\n                    this.isConnected = _connect;\n                    this.netChangelistener && this.netChangelistener(this.isConnected)\n                }\n            }\n        })\n        mini.onNetworkStatusChange((res: any) => {\n            console.log('\u7F51\u7EDC\u53D8\u66F4\u76D1\u542C', res.networkType);\n            if (res.isConnected != this.isConnected) {\n                this.isConnected = res.isConnected;\n                this.netChangelistener && this.netChangelistener(this.isConnected)\n            }\n        })\n        return true;\n    }\n    private netChangelistener?: (_isConnected: boolean) => void;\n    /**\n     * \u7F51\u7EDC\u53D8\u66F4\u76D1\u542C\n     */\n    OnListenNetChange(_listener: (_isConnected: boolean) => void) {\n        this.netChangelistener = _listener;\n    }\n    private isConnected = true;\n    /**\n     * \u662F\u5426\u6709\u7F51\u7EDC\u8FDE\u63A5\n     */\n    IsNetConnected() {\n        return this.isConnected;\n    }\n    //-----------------------------------------\u68C0\u6D4B\u66F4\u65B0---------------------------------//\n    CheckForUpdate() {\n        if (!PlatformBase.curPlatform || !mini.getUpdateManager) {\n            // console.log('CheckForUpdate', '\u4E0D\u5B58\u5728');\n            return;\n        }\n        //\u542F\u52A8\u66F4\u65B0\u673A\u5236\n        const updateManager = mini.getUpdateManager();\n        updateManager.onUpdateReady(async () => {\n            let _r = await this.ShowModal({\n                title: '\u7248\u672C\u5347\u7EA7',\n                content: '\u65B0\u7248\u672C\u5DF2\u7ECF\u51C6\u5907\u597D\uFF0C\u5373\u5C06\u5207\u6362\u5230\u65B0\u7248~'\n            });\n            updateManager.applyUpdate();\n            // if (_r) {\n            //     // \u65B0\u7684\u7248\u672C\u5DF2\u7ECF\u4E0B\u8F7D\u597D\uFF0C\u8C03\u7528 applyUpdate \u5E94\u7528\u65B0\u7248\u672C\u5E76\u91CD\u542F\n            //     updateManager.applyUpdate();\n            // }\n        });\n    }\n    //-----------------------------------------\u542F\u52A8\u53C2\u6570---------------------------------//\n    IsExistGetLaunchOptions() {\n        if (PlatformBase.curPlatform && mini.getLaunchOptionsSync) {\n            return true;\n        }\n        return false;\n    }\n    GetLaunchOptions() {\n        return mini.getLaunchOptionsSync();\n    }\n    //----------------------------------------\u9707\u52A8-------------------------------------//\n    VibrateShort() {\n        mini.vibrateShort && mini.vibrateShort({});\n    }\n\n    VibrateLong() {\n        mini.vibrateLong && mini.vibrateLong();\n    }\n    //------------------------------------\u8DF3\u8F6C\u5176\u4ED6\u5C0F\u6E38\u620F-----------------------------------//\n    IsExistNavigateToMiniProgram() {\n        if (PlatformBase.curPlatform == MiniPlatformE.wx) {\n            return true;\n        }\n        return false;\n    }\n    NavigateToMiniProgram(_info: {\n        appId: string,\n        path?: string,\n        extraData?: Object,\n        success?: Function,\n        fail?: Function,\n        complete?: Function,\n    }) {\n        mini.navigateToMiniProgram(_info);\n    }\n    //----------------------------------------\u7528\u6237\u6388\u6743-----------------------------------//\n    async UserAuthorize(_scope: AuthorizeScope) {\n        return new Promise<boolean>((rs) => {\n            mini.authorize({\n                scope: _scope,\n                success() {\n                    // \u7528\u6237\u540C\u610F\u6388\u6743\u7528\u6237\u4FE1\u606F\n                    // _authorize(true);\n                    rs(true);\n                },\n                fail(e: any) {\n                    console.error('_authorize \u6388\u6743\u5931\u8D25', e);\n                    rs(false);\n                }\n            });\n\n            // let _authorize = (success) => {\n            //     console.log('_authorize', success);\n            //     if (success == 'fail') {\n\n            //         return false;\n            //     }\n            //     if (success) {\n            //         rs(true);\n            //     }\n            //     else {\n            //         mini.authorize({\n            //             scope: _scope,\n            //             success() {\n            //                 // \u7528\u6237\u540C\u610F\u6388\u6743\u7528\u6237\u4FE1\u606F\n            //                 // _authorize(true);\n            //             },\n            //             fail(e) {\n            //                 console.error('_authorize \u6388\u6743\u5931\u8D25', e);\n\n            //             }\n            //         });\n            //     }\n            // }\n\n            // return false;\n        })\n    }\n    //\u6253\u5F00\u6743\u9650\u8BBE\u7F6E\n    async OpenSetting() {\n        if (mini.openSetting) {\n            return new Promise<boolean>((rs) => {\n                mini.openSetting({\n                    success() {\n                        console.log(`openSetting \u6253\u5F00\u6210\u529F`);\n                        rs(true);\n                    },\n                    fail(res: any) {\n                        console.log(`openSetting \u5931\u8D25`);\n                        rs(false);\n                    }\n                });\n            })\n        }\n        return false;\n    }\n    //\u83B7\u53D6\u6743\u9650\u4FE1\u606F\n    async GetSetting(_scope: AuthorizeScope) {\n        if (mini.openSetting) {\n            return new Promise<boolean>((rs) => {\n                mini.getSetting({\n                    success(res: any) {\n                        console.log(`getSetting \u8C03\u7528\u6210\u529F ${JSON.stringify(res)}`);\n\n                        if (res.authSetting && _scope in res.authSetting) {\n                            rs(res.authSetting[_scope]);\n                        }\n                        else {\n                            rs(false);\n                        }\n\n                    },\n                    fail(res: any) {\n                        // _authorize('fail');\n                        console.log(`getSetting \u8C03\u7528\u5931\u8D25`);\n                        rs(false);\n                    }\n                });\n            })\n        }\n        return false;\n\n    }\n    //----------------------------------------\u9884\u89C8\u56FE\u7247-----------------------------------//\n    IsExistPreviewImage() {\n        if (PlatformBase.curPlatform && mini.previewImage) {\n            return true;\n        }\n        return false;\n    }\n    async PreviewImage(_imgPath: string[]) {\n        return new Promise<boolean>((re) => {\n            mini.previewImage({\n                urls: _imgPath,\n                success: (res: any) => {\n                    re(true);\n                },\n                fail: (error: any) => {\n                    console.error('PreviewImage:' + error);\n                    re(false);\n                },\n            });\n        })\n\n    }\n\n    //----------------------------------------\u521B\u5EFA\u56FE\u7247-----------------------------------//\n    IsExistCreateImage() {\n        if (PlatformBase.curPlatform && mini.createImage) {\n            return true;\n        }\n        return false;\n    }\n    CreateImage() {\n        return mini.createImage();\n    }\n\n    //------------------------------------------\u5206\u4EAB\u8F6C\u53D1--------------------------------------//\n    //\u662F\u5426\u5B58\u5728\u5206\u4EAB\u529F\u80FD\n    IsExistShare() {\n        if (typeof (mini) !== 'undefined') {\n            return true;\n        }\n        return false;\n    }\n    //\u5206\u4EAB\u8BBE\u7F6E\n    UpdateShareMenu(_data: {\n        withShareTicket: boolean\n    }) {\n        mini.updateShareMenu(_data);\n    }\n    //\u663E\u793A\u548C\u9690\u85CF\u5206\u4EAB\u83DC\u5355\n    ShowShareMenu() {\n        mini.showShareMenu()\n    }\n    HideShareMenu() {\n        mini.hideShareMenu()\n    }\n    //\u83DC\u5355\u8F6C\u53D1\u4FE1\u606F\n    OnShareAppMessage(callFun: () => { title?: string, imageUrl?: string, query?: string }) {\n        //\u81EA\u52A8\u8C03\u7528\u963F\u62C9\u4E01\u6253\u70B9\u5206\u4EAB\n        let _fun = mini.aldOnShareAppMessage ? mini.aldOnShareAppMessage : mini.onShareAppMessage;\n        _fun(function () {\n            let _data = callFun();\n            return {\n                title: _data.title,\n                imageUrl: _data.imageUrl,\n                query: _data.query\n            }\n        });\n    }\n    //\u8C03\u8D77\u5206\u4EAB\n    async ShareAppMessage(title?: string, imageUrl?: string, query?: string) {\n        // console.log('ShareAppMessage11 query', query);\n        return new Promise<boolean>((res) => {\n            if (!this.shareTime) {\n                this.OnShow(this.listenShareBack.bind(this));\n            }\n            this.shareTime = Date.now();\n            this.shareBackFunc = res;\n            //\u81EA\u52A8\u8C03\u7528\u963F\u62C9\u4E01\u6253\u70B9\u5206\u4EAB\n            let _fun = mini.aldShareAppMessage ? mini.aldShareAppMessage : mini.shareAppMessage;\n            _fun({\n                title: title,\n                imageUrl: imageUrl || '',\n                query: query || {},\n                // success: success,\n                // fail: fail,\n                // complete: complete\n            });\n        })\n    }\n    private shareBackFunc?: (_res: boolean) => void;\n    private shareTime = 0;\n    private listenShareBack() {\n        // console.error('listenShareBack 00');\n        // console.error('listenShareBack fuc', this.shareBackFunc);\n        if (this.shareBackFunc) {\n            // console.error('listenShareBack 11');\n            let _dif = Date.now() - this.shareTime;\n            let _success = _dif > 2000;\n            this.shareBackFunc(_success);\n            console.log('listenShareBack time', _dif, _success);\n            this.shareBackFunc = undefined;\n        }\n\n    }\n    //--------------------------------------------\u5F00\u653E\u57DF-----------------------------------//\n    //\u662F\u5426\u5B58\u5728\u5F00\u653E\u57DF\u529F\u80FD\n    IsExistOpenContext() {\n        if (MiniPlatformE.qq == PlatformBase.curPlatform || MiniPlatformE.wx == PlatformBase.curPlatform) {\n            return true;\n        }\n        return false;\n    }\n    SetUserCloudStorage(_data: { key: string, value: any }[], success?: (args: any) => void, fail?: (args: any) => void) {\n        if (!this.IsExistOpenContext()) {\n            console.error('[Platform_mini]', 'SetUserCloudStorage', '\u4E0D\u5B58\u5728\u5F00\u653E\u57DF\u529F\u80FD');\n            return;\n        }\n        mini.setUserCloudStorage({\n            KVDataList: _data,\n            success: success,\n            fail: fail\n        })\n    }\n    GetOpenDataContext() {\n        if (!this.IsExistOpenContext()) {\n            console.error('[Platform_mini]', 'GetOpenDataContext', '\u4E0D\u5B58\u5728\u5F00\u653E\u57DF\u529F\u80FD');\n            return null;\n        }\n        return mini.getOpenDataContext();\n    }\n    //-----------------------------------------\u83B7\u53D6\u5E7F\u544Aid---------------------------------//\n    GetAdsID(_ad: any) {\n        let _get = null\n        switch (PlatformBase.curPlatform) {\n            case MiniPlatformE.wx:\n                if (_ad.wx) {\n                    _get = _ad.wx;\n                }\n                break;\n            case MiniPlatformE.qq:\n                if (_ad.qq) {\n                    _get = _ad.qq;\n                }\n                break;\n            case MiniPlatformE.tt:\n                if (_ad.tt) {\n                    _get = _ad.tt;\n                }\n                break;\n\n            default:\n                break;\n        }\n        if (_get == '') {\n            _get = null;\n        }\n        if (!_get) {\n            console.log('\u672A\u627E\u5230\u6B63\u786E\u7684\u5E7F\u544Aid:', _ad);\n        }\n        return _get;\n    }\n    //-----------------------------------------\u521B\u5EFA\u5E7F\u544A---------------------------------//\n    async CreateADs(_adsID: { banner?: any, video?: any, interstitial?: any }): Promise<void> {\n        // console.log('CreateADs');\n        let _complete = 3;\n        return new Promise(rs => {\n            let _completeOne = () => {\n                _complete--;\n                if (_complete <= 0) {\n                    rs();\n                }\n            }\n            (async () => {\n                // console.log('CreateADs', 1);\n\n                if (_adsID.banner) {\n                    let _id = this.GetAdsID(_adsID.banner);\n                    // console.log('CreateADs', 4);\n                    _id && await this.CreateBanner(_id);\n                }\n                _completeOne();\n            })();\n            (async () => {\n                // console.log('CreateADs', 2);\n                if (_adsID.video) {\n                    let _id = this.GetAdsID(_adsID.video);\n                    // console.log('CreateADs', 5);\n                    _id && await this.CreateVideoAd(_id);\n                }\n                _completeOne();\n            })();\n            (async () => {\n                // console.log('CreateADs', 3);\n                if (_adsID.interstitial) {\n                    let _id = this.GetAdsID(_adsID.interstitial);\n                    // console.log('CreateADs', 6);\n                    _id && await this.CreateInterstitialAd(_id);\n                }\n                _completeOne();\n            })();\n        });\n\n\n    }\n    //--------------------------------------------Banner---------------------------------//\n    private bannerAd: any = null;\n    private bannerLoaded = false;\n    //\u521B\u5EFAbanner\n    async CreateBanner(_bannerid: string): Promise<void> {\n        if (!mini.createBannerAd || typeof mini.createBannerAd != 'function') {\n            console.error('[Platform_mini]', '\u4E0D\u652F\u6301banner\u5E7F\u544A');\n            return;\n        }\n        let _sys = this.GetSystemInfoSync();\n        let _safeArea = _sys.safeArea;\n        let _width: number = MiniPlatformE.tt == PlatformBase.curPlatform ? 208 : _safeArea.width;\n        let _height = (_width / 16) * 9 | 0;\n        // console.log('_width:' + _width);\n        // console.log('_safeArea', _safeArea);\n        // console.log('top', _safeArea.bottom + (_width / 16) * 9);\n        this.bannerLoaded = false;\n\n        return new Promise(rs => {\n            this.bannerAd = mini.createBannerAd({\n                adUnitId: _bannerid,\n                // adIntervals: 30,\n                style: {\n                    // left: (_safeArea.width - _width) / 2,\n                    // // top: _sys.screenHeight - _height,\n                    top: _safeArea.bottom - _height,\n                    width: _width,\n                }\n            })\n            console.log('CreateBanner bannerAd', this.bannerAd);\n\n            this.bannerAd.onLoad(() => {\n                console.log('banner \u5E7F\u544A\u52A0\u8F7D\u6210\u529F');\n                this.bannerLoaded = true;\n                if (this.isBannerShow) {\n                    this.ShowBanner();\n                }\n                rs && rs();\n            })\n            this.bannerAd.onError((err: any) => {\n                console.error('banner \u5E7F\u544A\u52A0\u8F7D\u5931\u8D25', err);\n                rs && rs();\n                try {\n                    this.bannerAd.destroy();\n                    console.log('\u52A0\u8F7D\u5931\u8D25\uFF0C\u9500\u6BC1\u5F53\u524Dbanner');\n\n                } catch (e) {\n                    console.error('\u5F53\u524Dbanner\u9500\u6BC1\u5931\u8D25');\n                }\n                this.bannerLoaded = false;\n                this.bannerAd = null;\n                //\u4E09\u79D2\u540E\u91CD\u65B0\u62C9\u53D6\n                setTimeout(() => {\n                    console.log('\u91CD\u65B0\u62C9\u53D6banner');\n                    this.CreateBanner(_bannerid);\n                }, 3000);\n\n            })\n            this.bannerAd.onResize((res: any) => {\n                console.log('onResize ' + res.width + res.height);\n                // // console.log(_banner.style.realWidth, _banner.style.realHeight)\n                // //+1\u4E3A\u4E86\u7559\u51FAiphoneX\u7684\u5E95\u90E8\u6309\u952E\n                this.bannerAd.style.top = _safeArea.bottom - res.height;\n                this.bannerAd.style.left = (_safeArea.width - res.width) / 2;\n            })\n        });\n\n    }\n    ShowBanner() {\n        this.isBannerShow = true;\n        console.log('ShowBanner this.bannerAd', this.bannerAd);\n        if (!this.bannerAd) {\n            console.error('[Platform_mini] bannerAd \u4E0D\u5B58\u5728', this.bannerAd);\n            return;\n        }\n        if (this.bannerLoaded) {\n            try {\n                // console.log('ShowBanner this.bannerAd', 2222222222222);\n                // console.log('111111111')\n                // console.log('[Platform_mini]1', this.bannerAd.show);\n                // console.log('[Platform_mini]2', this.bannerAd.show);\n                this.bannerAd.show().then(() => {\n                    console.log(\"\u5E7F\u544A\u663E\u793A\u6210\u529F\");\n                }).catch((err: any) => {\n                    console.error(\"\u5E7F\u544A\u7EC4\u4EF6\u51FA\u73B0\u95EE\u9898\", err);\n                });\n\n            } catch (e) {\n                console.error('ShowBanner', e);\n            }\n        }\n\n\n        // this.bannerAd.show();\n\n    }\n    HideBanner() {\n        this.isBannerShow = false;\n        if (!this.bannerAd) {\n            return;\n        }\n        console.log('[Platform_mini]', 'HideBanner');\n        this.bannerAd.hide();\n\n    }\n    //--------------------------------------------\u63D2\u5C4F\u5E7F\u544A---------------------------------//\n    private interstitialAd: any = null;\n    async CreateInterstitialAd(_interstitialid: string): Promise<void> {\n        // console.error('CreateInterstitialAd', _interstitialid);\n        if (!mini.createInterstitialAd || typeof mini.createInterstitialAd != 'function') {\n            console.error('[Platform_mini] \u4E0D\u652F\u6301\u63D2\u5C4F\u5E7F\u544A');\n            return;\n        }\n        // console.log('\u5BBF\u4E3B:', this.getTTHost());\n        //\u5B57\u8282\u8DF3\u52A8\u53EA\u662F\u6296\u97F3\u5E73\u53F0\u53EF\u4EE5\u4F7F\u7528\u63D2\u5C4F\n        if (MiniPlatformE.tt == PlatformBase.curPlatform && 'Douyin' != this.getTTHost()) {\n            console.error('[Platform_mini] \u4EC5\u6296\u97F3\u5E73\u53F0\u652F\u6301\u63D2\u5C4F\u5E7F\u544A', this.getTTHost());\n            return;\n        }\n        this.isInterstitialAdLoaded = false;\n        return new Promise(rs => {\n            this.interstitialAd = mini.createInterstitialAd({\n                adUnitId: _interstitialid\n            });\n            console.log('[Platform_mini] interstitialAd', this.interstitialAd);\n            this.interstitialAd.load().then(() => {\n                // console.log('load \u6210\u529F');\n                rs && rs();\n                // this.interstitialAd.show();\n            }).catch((err: any) => {\n                rs && rs();\n                // console.error('load \u5931\u8D25 ' + err);\n            });;\n            this.interstitialAd.onLoad(() => {\n                this.isInterstitialAdLoaded = true;\n                rs && rs();\n                console.log('\u63D2\u5C4F \u5E7F\u544A\u52A0\u8F7D\u6210\u529F');\n            })\n            this.interstitialAd.onError((err: any) => {\n                this.isInterstitialAdLoaded = false;\n                console.error('\u63D2\u5C4F \u5E7F\u544A\u52A0\u8F7D\u5931\u8D25', err);\n            })\n            this.interstitialAd.onClose((res: any) => {\n                let result: PlatformAdsResult = {\n                    isOpened: true,\n                    isEnd: true\n                }\n                this.interstitialCallBack && this.interstitialCallBack(result);\n                console.log('\u63D2\u5C4F \u5E7F\u544A\u5173\u95ED')\n            })\n        });\n\n    }\n    private isInterstitialShow = false;\n    private interstitialCallBack?: (_result: PlatformAdsResult) => void;\n    async ShowInterstitialAd(): Promise<PlatformAdsResult> {\n        let result: PlatformAdsResult = {\n            isOpened: false,\n            isEnd: false\n        }\n        console.log('ShowInterstitialAd this.interstitialAd', this.interstitialAd);\n        if (!this.interstitialAd) {\n            // console.log('[Platform_mini] interstitialAd \u4E0D\u5B58\u5728', this.interstitialAd);\n            console.error('[Platform_mini] interstitialAd \u4E0D\u5B58\u5728', this.interstitialAd);\n            return result;\n        }\n        let _show = () => {\n            if (!this.isInterstitialShow) {\n                return;\n            }\n            console.log('[Platform_mini]  show()');\n            this.interstitialAd.show().catch((err: any) => {\n                // console.log('[Platform_mini]  err', err);\n                this.interstitialCallBack && this.interstitialCallBack(result);\n                setTimeout(() => {\n                    this.interstitialAd.load();\n                }, 1000);\n            })\n            // console.log('[Platform_mini]  show()2222222222');\n        }\n        this.isInterstitialShow = true;\n        console.log('[Platform_mini]  ShowInterstitialAd');\n        if (!this.isInterstitialAdLoaded) {\n            // console.log('[Platform_mini]  load()');\n            await this.interstitialAd.load().then(() => {\n                // console.log('[interstitialAd.load]  \u52A0\u8F7D\u6210\u529F');\n                _show();\n            }).catch((err: any) => {\n                // console.error('[interstitialAd.load] err', err);\n                this.interstitialCallBack && this.interstitialCallBack(result);\n            });\n        }\n        else {\n            _show();\n        }\n        return new Promise((rs) => {\n            this.interstitialCallBack = rs;\n        })\n    }\n    HideInterstitialAd() {\n        this.isInterstitialShow = false;\n    }\n    //--------------------------------------------\u89C6\u9891\u5E7F\u544A---------------------------------//\n    private videoAd: any = null;\n    async CreateVideoAd(_videoid: string): Promise<void> {\n        if (!mini.createRewardedVideoAd || typeof mini.createRewardedVideoAd != 'function') {\n            console.error('[Platform_mini] \u4E0D\u652F\u6301\u89C6\u9891\u5E7F\u544A');\n            return;\n        }\n        // TimeMonitor.start('VideoAd');\n        console.log('[Platform_mini] CreateVideoAd', _videoid);\n        return new Promise(rs => {\n            this.videoAd = mini.createRewardedVideoAd({ adUnitId: _videoid })\n            this.videoAd.onLoad(() => {\n                this.isVideoAdLoaded = true;\n                console.log('\u6FC0\u52B1\u89C6\u9891 \u5E7F\u544A\u52A0\u8F7D\u6210\u529F');\n                // TimeMonitor.dot('VideoAd', '\u52A0\u8F7D\u5B8C\u6210');\n                rs && rs();\n            })\n            this.videoAd.onError((err: any) => {\n                this.isVideoAdLoaded = false;\n                console.error('_video \u5E7F\u544A\u52A0\u8F7D\u5931\u8D25', err);\n                rs && rs();\n            })\n            this.videoAd.onClose((res: any) => {\n                let isEnd = true;\n                //\u9632\u6B62\u4F4E\u7248\u672C\u6CA1\u6709 isEnded \u53C2\u6570\n                if (!res || !res.isEnded) {\n                    isEnd = res.isEnded;\n                }\n                let result: PlatformAdsResult = {\n                    isOpened: true,\n                    isEnd: isEnd\n                }\n                this.videoCallBack && this.videoCallBack(result);\n            });\n        })\n\n    }\n    private videoCallBack?: (_result: PlatformAdsResult) => void;\n    async ShowVideoAd(): Promise<PlatformAdsResult> {\n        let result: PlatformAdsResult = {\n            isOpened: false,\n            isEnd: false\n        }\n        console.log('ShowVideoAd this.videoAd', this.videoAd);\n        if (!this.videoAd) {\n            return result;\n        }\n        console.log('[Platform_mini] ShowVideoAd');\n        if (!this.isVideoAdLoaded) {\n            await this.videoAd.load();\n        }\n        this.videoAd.show().catch((err: any) => {\n            this.videoCallBack && this.videoCallBack(result);\n            setTimeout(() => {\n                this.videoAd.load();\n            }, 1000);\n        })\n        return new Promise((rs) => {\n            this.videoCallBack = rs;\n        })\n\n    }\n    //--------------------------------------------\u83B7\u53D6\u5E7F\u544A\u52A0\u8F7D\u72B6\u6001---------------------------------//\n    //\u83B7\u53D6\u63D2\u5C4F\u5E7F\u544A\u4FE1\u606F\u662F\u5426\u52A0\u8F7D\n    getInterstitialAdState(): boolean {\n        return this.isInterstitialAdLoaded;\n    }\n    //\u83B7\u53D6\u89C6\u9891\u5E7F\u544A\u4FE1\u606F\u662F\u5426\u52A0\u8F7D\n    getVideoAdState(): boolean {\n        return this.isVideoAdLoaded;\n    }\n\n    //--------------------------------------------\u5F55\u5C4F-----------------------------------------//\n    //\u662F\u5426\u5B58\u5728\u5F55\u5C4F\u529F\u80FD\n    IsExistRecoder() {\n        if (MiniPlatformE.tt == PlatformBase.curPlatform) {\n            if (mini.getGameRecorderManager) {\n                return true;\n            }\n        }\n        return false;\n    }\n    private gameRecorder = null as any;\n    private recording = false;\n    private videoPath = null as any;\n    private videoCliped = false;\n    private videoShared = false;\n    private recodeTime: { start: number, end: number } = { start: 0, end: 0 };\n    private recordListener?: (_state: string, _timeEnough?: boolean) => void;\n    //\u521D\u59CB\u5316\u5F55\u5C4F\n    private initRecoder() {\n        this.videoShared = false;\n        this.recording = false;\n        this.gameRecorder = mini.getGameRecorderManager();\n        this.gameRecorder.onStart(() => {\n            this.recording = true;\n            this.recordListener && this.recordListener('start');\n            console.log('--\u5F55\u5C4F\u5F00\u59CB--');\n            this.recodeTime.end = this.recodeTime.start = Date.now();\n        })\n        this.gameRecorder.onStop((res: any) => {\n            console.log(\"--\u5F55\u5C4F\u7ED3\u675F--\", res);\n            this.recodeTime.end = Date.now();\n            this.recording = false;\n            let _timeEnough = this.recodeTime.end - this.recodeTime.start > 4000\n            console.log(\"\u5F55\u5C4F\u65F6\u95F4:\", (this.recodeTime.end - this.recodeTime.start) / 1000);\n            if (_timeEnough) {\n                this.videoPath = res.videoPath;\n                this.videoShared = false;\n                // \u526A\u8F91\u89C6\u9891(\u5F55\u5C4F\u7ED3\u675F\u4E0D\u8FDB\u884C\u89C6\u9891\u526A\u8F91\uFF0C\u89C6\u9891\u8DEF\u5F84\u53EF\u80FD\u4F1A\u88AB\u4E0B\u6B21\u5F55\u5C4F\u8986\u76D6)\n                this.videoCliped = false;\n                this.clipVideo();\n            }\n            else {\n                console.error('\u5F55\u5C4F\u7ED3\u675F-\u65F6\u95F4\u4E0D\u8DB3')\n            }\n            this.recordListener && this.recordListener('end', _timeEnough);\n            this.RecoderEndCallBack && this.RecoderEndCallBack(_timeEnough);\n        })\n        this.gameRecorder.onError(async (err: any) => {\n            this.recording = false;\n            console.error('\u5F55\u5C4F\u5931\u8D25', err)\n            if (!await this.GetSetting('scope.screenRecord')) {\n                let _r = await this.ShowModal({ title: '\u6743\u9650\u8BF7\u6C42', content: '\u8BF7\u8BBE\u7F6E\u5141\u8BB8\u5F55\u5C4F', confirmText: '\u53BB\u8BBE\u7F6E', cancelText: '\u62D2\u7EDD' });\n                if (_r) {\n                    await this.OpenSetting();\n                    setTimeout(() => {\n                        this.RecoderStart();\n                    }, 500);\n                }\n            }\n            // WeappUtil.alert('\u5F55\u5C4F\u5931\u8D25')\n        })\n        this.gameRecorder.onInterruptionBegin((err: any) => {\n            this.recording = false;\n            console.error('\u5F55\u5C4F\u4E2D\u65AD', err)\n            // WeappUtil.alert('\u5F55\u5C4F\u4E2D\u65AD')\n        })\n    }\n    //\u526A\u8F91\u89C6\u9891\n    private clipVideo() {\n        if (this.videoCliped || !this.videoPath) {\n            return;\n        }\n        let _self = this;\n        const timeRange = [300, 300];\n        this.gameRecorder.clipVideo({\n            path: this.videoPath,\n            timeRange: timeRange,\n            success(res: any) {\n                console.log('\u89C6\u9891\u526A\u8F91\u6210\u529F');\n                _self.videoPath = res.videoPath;\n                _self.videoCliped = true;\n                // _self.ShareRecoder();\n            },\n            fail(e: any) {\n                console.error('\u89C6\u9891\u526A\u8F91\u5931\u8D25', e);\n            },\n        });\n    }\n    /**\n     * \u5F00\u59CB\u5F55\u5C4F\n     */\n    RecoderStart() {\n        if (this.recording) {\n            return;\n        }\n        console.log('\u4E3B\u52A8\u5F00\u59CB\u5F55\u5C4F');\n        this.gameRecorder.start({\n            duration: 300\n            // microphoneEnabled: true\n        });\n    }\n    private RecoderEndCallBack?: (_timeEnough: boolean) => void\n    /**\n     * \u7ED3\u675F\u5F55\u5C4F\n     */\n    async RecoderEnd(_shareIt = false) {\n        console.log('\u4E3B\u52A8\u7ED3\u675F\u5F55\u5C4F');\n        if (!this.InRecording()) {\n            return false;\n        }\n        console.log('\u4E3B\u52A8\u7ED3\u675F\u5F55\u5C4F111');\n        this.gameRecorder.stop();\n        console.log('\u4E3B\u52A8\u7ED3\u675F\u5F55\u5C4F2222');\n        return new Promise<boolean>((rs) => {\n            this.RecoderEndCallBack = rs;\n            console.log('\u4E3B\u52A8\u7ED3\u675F\u5F55\u5C4F3333');\n        })\n    }\n    /**\n     * \u5206\u4EAB\u5F55\u5C4F\n     */\n    async ShareRecoder(_shareConfig = ShareConfig.Video.normal): Promise<boolean> {\n        if (!this.gameRecorder || !this.videoPath || !mini.shareAppMessage) {\n            return false;\n        }\n        if (!_shareConfig) {\n            console.error('[ShareRecoder]:_shareConfig\u4E0D\u80FD\u4E3A\u7A7A\uFF01');\n            return false;\n        }\n        return new Promise(rs => {\n            mini.shareAppMessage({\n                channel: 'video',\n                title: _shareConfig.topics[0],\n                desc: _shareConfig.title,\n                // query: `from=videoShare&fromUid=${Global.hhgame.currentUser!._id}&openid=${Global.hhgame.currentUser!.platform.ttappOpenid}`,\n                query: _shareConfig.query,\n                extra: {\n                    videoPath: this.videoPath,\n                    videoTopics: _shareConfig.topics,\n                    hashtag_list: _shareConfig.topics,\n                    video_title: _shareConfig.title,\n                    createChallenge: true,\n                    // rankData: {\n                    //     key: 'rank_v1',\n                    //     score: (level.chapter * 15 + level.level + 1) || 1,\n                    //     updateTime: ~~(Date.now() / 1e3)\n                    // }\n                },\n                success: async () => {\n                    console.log(`\u5206\u4EAB\u5F55\u5C4F\u6210\u529F\uFF01`);\n                    this.videoShared = true;\n                    rs(true);\n                },\n                fail(e: any) {\n                    console.error(`\u5206\u4EAB\u5F55\u5C4F\u5931\u8D25\uFF01`, e);\n                    rs(false);\n                },\n                // complete(res: any) {\n                //     console.log(\"1\u5206\u4EAB\u7ED3\u675F\", res);\n                // }\n            });\n        })\n    }\n    /**\n     * \u76D1\u542C\u5F55\u5C4F\u7ED3\u675F\n     * @param _listen \n     */\n    ListenRecorder(_listen: (_state: string, _timeEnough?: boolean) => void) {\n        this.recordListener = _listen;\n    }\n    UnListenRecorder() {\n        this.recordListener = undefined;\n    }\n    /**\n     * \u6B64\u89C6\u9891\u662F\u5426\u5206\u4EAB\u8FC7\n     */\n    IsRecoderShared() {\n        return this.videoShared;\n    }\n    /**\n     * \u662F\u5426\u6B63\u5728\u5F55\u5236\u89C6\u9891\n     */\n    InRecording() {\n        return this.recording\n    }\n    /**\n     * \u662F\u5426\u6709\u53EF\u5206\u4EAB\u7684\u5F55\u5C4F\n     */\n    HaveRecoderVideo() {\n        return !!this.videoPath;\n    }\n\n\n}\n", "/**\n * \u5E73\u53F0\u533A\u5206\n * \u5E73\u53F0\u533A\u5206\u5165\u53E3\u548C\u7C7B\u5B9E\u4F8B\u5316\n * \u7248\u672C\uFF1AV1.0.1\n * \n */\nimport PlatformBase from \"./PlatformBase\";\nimport Platform_mini, { MiniPlatformE } from \"./Children/Platform_mini\";\nexport let Platform: PlatformBase = null as any;\n\nexport enum PlateformE {\n    unknow,\n    Mini,//\u5C0F\u6E38\u620F\n    H5,//h5\u5E73\u53F0\n    Android,//\u5B89\u5353\u5E73\u53F0\n    QuickGame//\u5FEB\u6E38\u620F\u5E73\u53F0\n};\n//\u8BBE\u7F6E\u5F53\u524D\u5E73\u53F0\nexport let MyPlatform: PlateformE = PlateformE.Mini;\nexport class PlatformDiff {\n\n    /**\n     * source:\u53EF\u4EE5\u5F97\u5230\u6765\u6E90\u5E73\u53F0\u53C2\u6570\n     */\n    private static source: string | undefined = undefined;\n\n    private static _instance: PlatformDiff = null as any;\n    static INS() {\n        if (!this._instance) {\n            this._instance = new PlatformDiff();\n        }\n        return this._instance;\n    }\n    getPlatForm() {\n        switch (MyPlatform) {\n            case PlateformE.Mini:\n                this.getPlatFormByMinigame();\n                break;\n            case PlateformE.H5:\n                this.getQueryVariable('source');\n                break;\n            case PlateformE.Android:\n                this.getPlatFormByAndroid();\n                break;\n            case PlateformE.QuickGame:\n                this.getPlatFormByQuickGame();\n                break;\n\n            default:\n                PlatformDiff.source = undefined;\n                break;\n        }\n    }\n    //\u89E3\u6790\u53C2\u6570\u4FE1\u606F\n    private getQueryVariable(variable: string): string {\n        PlatformDiff.source = undefined;\n        var query = window.location.search.substring(1);\n        var vars = query.split(\"&\");\n        for (var i = 0; i < vars.length; i++) {\n            var pair = vars[i].split(\"=\");\n            if (pair[0] == variable) {\n                PlatformDiff.source = pair[1];\n                return pair[1];\n            }\n        }\n        // if (test) {\n        //     PlatformDiff.source = 'oppo';\n        // }\n        // else {\n        //     PlatformDiff.source = undefined;\n        // }\n\n        return '';\n    }\n    //\u83B7\u53D6android\u5E73\u53F0\uFF08\u73B0\u5728\u53EA\u6709\u5934\u6761\uFF09\n    getPlatFormByAndroid() {\n        // PlatformDiff.source = 'toutiao';\n    }\n    getPlatFormByQuickGame() { }\n    getPlatFormByMinigame() {\n        // PlatformDiff.source = 'quick_oppo';\n        // console.log('\u5F53\u524D\u5E73\u53F0:','qq');\n        if (typeof tt != 'undefined') {\n            PlatformBase.curPlatform = MiniPlatformE.tt;\n            //\u7EDF\u4E00\u5E73\u53F0\u540D\u4E3Amini\uFF1B \n            //wx = qq \u4E3A\u4E86\u5728qq\u5E73\u53F0\u4E0D\u66FF\u6362\u963F\u62C9\u4E01\u7EDF\u8BA1\u6587\u4EF6\n            (window as any).mini = tt;\n            mini = tt;\n            console.log('\u5F53\u524D\u5E73\u53F0:', 'tt');\n\n        }\n        else if (typeof qq != 'undefined') {\n            PlatformBase.curPlatform = MiniPlatformE.qq;\n            //\u7EDF\u4E00\u5E73\u53F0\u540D\u4E3Amini\uFF1B \n            //wx = qq \u4E3A\u4E86\u5728qq\u5E73\u53F0\u4E0D\u66FF\u6362\u963F\u62C9\u4E01\u7EDF\u8BA1\u6587\u4EF6\n            (window as any).mini = (window as any).wx = qq;\n            mini = qq;\n            console.log('\u5F53\u524D\u5E73\u53F0:', 'qq');\n\n        }\n        else if (typeof wx != 'undefined') {\n            PlatformBase.curPlatform = MiniPlatformE.wx;\n            (window as any).mini = wx;\n            console.log('\u5F53\u524D\u5E73\u53F0:', 'wx');\n        }\n        else {\n            PlatformBase.curPlatform = MiniPlatformE.unknow;\n            // console.error('\u5F53\u524D\u5E73\u53F0:', '\u672A\u77E5\u5C0F\u6E38\u620F\u5E73\u53F0');\n            MyPlatform = PlateformE.unknow;\n        }\n    }\n\n    //\u6839\u636E\u5E73\u53F0\u521B\u5EFA\u5E7F\u544A\n    CreateAdsByPlatForm() {\n        // console.log('CreateAdsByPlatForm', 1);\n        // console.log('CreateAdsByPlatForm', 1.5, MyPlatform, PlatformBase.curPlatform);\n\n        if (MyPlatform == PlateformE.Mini && PlatformBase.curPlatform) {\n            // console.log('CreateAdsByPlatForm', 2);\n            Platform = new Platform_mini();\n            // console.log('CreateAdsByPlatForm', 3);\n        }\n        else if (MyPlatform == PlateformE.unknow) {\n            Platform = new PlatformBase();\n        }\n        else {\n            switch (PlatformDiff.source) {\n                // case 'toutiao':\n                //     PlatformDiff.platformAds = new Android_TT();\n                //     break;\n                // case 'oppo':\n                //     PlatformDiff.platformAds = new Oppo();\n                //     break;\n                // case 'quick_oppo':\n                //     PlatformDiff.platformAds = new Quick_Oppo();\n                //     break;\n                default:\n                    Platform = new PlatformBase();\n                    break;\n            }\n        }\n        // console.log('CreateAdsByPlatForm', 9);\n\n    }\n}\n", "/**\r\n * \u8C03\u8BD5\u5DE5\u5177\u914D\u7F6E\r\n */\r\nexport const DebugConfig = {\r\n    //\u65F6\u95F4\u76D1\u89C6\u5668\r\n    TimeMonitor:{\r\n        enable:true\r\n    }\r\n}", "import { DebugConfig } from \"../../DebugConfig\";\r\n\r\n/**\r\n * \u65F6\u95F4\u76D1\u89C6\u5668\r\n * \u7528\u6765\u8F93\u51FA\u6BCF\u6BB5\u903B\u8F91\u7528\u65F6\uFF08\u6D4B\u8BD5\u7528\uFF09\r\n */\r\nexport default class TimeMonitor {\r\n    private static keyName: { [key: string]: { useS: boolean, time: number[] } } = {};\r\n    /**\r\n     * \u5F00\u59CB\u8BA1\u65F6\r\n     * @param _key \u952E\u540D\r\n     * @param _showS \u662F\u5426\u4F7F\u7528\u79D2\u8BA1\u65F6\uFF08false\u4E3A\u6BEB\u79D2\uFF09\r\n     */\r\n    static start(_key: string, _useS = true) {\r\n        if (!DebugConfig.TimeMonitor.enable) {\r\n            return;\r\n        }\r\n        this.keyName[_key] = { useS: _useS, time: [] };\r\n        this.keyName[_key].time[0] = (new Date()).getTime();\r\n        if (this.keyName[_key].useS) {\r\n            this.keyName[_key].time[0] /= 1000;\r\n        }\r\n        console.info(`\u76D1\u6D4B-[${_key}]: ${this.keyName[_key].time[0]} \u5F00\u59CB`);\r\n    }\r\n    /**\r\n     * \u589E\u52A0\u6253\u70B9\r\n     * @param _key \u952E\u540D\r\n     * @param _tag \u6253\u70B9\u6807\u7B7E\r\n     */\r\n    static dot(_key: string, _tag = '') {\r\n        if (!DebugConfig.TimeMonitor.enable) {\r\n            return null;\r\n        }\r\n        if (!(_key in this.keyName)) {\r\n            this.start(_key);\r\n            return null;\r\n        }\r\n        let _time = (new Date()).getTime();\r\n        if (this.keyName[_key].useS) {\r\n            _time /= 1000;\r\n        }\r\n        console.info(`\u76D1\u6D4B-[${_key} ${_tag}]:`, `\u672C\u6B21\u7528\u65F6\uFF1A${_time - this.keyName[_key].time[this.keyName[_key].time.length - 1]}`\r\n            , `\u603B\u7528\u65F6\uFF1A${_time - this.keyName[_key].time[0]}`, `\u5F53\u524D\uFF1A${_time}`);\r\n        this.keyName[_key].time.push(_time);\r\n        return _time - this.keyName[_key].time[0];\r\n    }\r\n    static reportPerformance(_id: string) {\r\n        if ((window as any).myLastTime \r\n        // && typeof wx !== 'undefined' && wx.reportPerformance\r\n        ) {\r\n            let _curTime = Date.now();\r\n            let _dif = _curTime - (window as any).myLastTime;\r\n            // wx.reportPerformance(_id, _dif);\r\n            (window as any).myLastTime = _curTime;\r\n            // //\u4E4B\u540E\u4E0D\u518D\u5224\u65AD\r\n            // if (_id == '2005' || _id == '2006') {\r\n            //     (window as any).myLastTime = 0;\r\n            // }\r\n            console.log('\u76D1\u6D4B\uFF1A', _id, _dif);\r\n        }\r\n    }\r\n\r\n}", "import TimeUtil from \"./TimeUtil\";\r\nimport { Platform } from './../Platform/Platform';\r\nimport { SceneName, SceneParamsMap } from \"../../MyAssest\";\r\nimport TimeMonitor from \"../Debug/TimeMonitor\";\r\n/**\r\n * \u5207\u6362\u573A\u666F\r\n * \u52A0\u5165\u9884\u52A0\u8F7D\u548C\u52A0\u8F7D\u573A\u666F\u91CD\u8BD5\uFF0C\u8BB0\u5F55\uFF0C\u9632\u6B62\u91CD\u590D\u70B9\u51FB\r\n */\r\nexport default class SceneUtil {\r\n\r\n    private static lastSceneName: SceneName | null = null;\r\n    private static retryTime = 5;\r\n    /**\r\n     * \r\n     * @param scene \r\n     * @param _retryTime \u91CD\u8BD5\u6B21\u6570\uFF1A<0 \u65E0\u7EBF\u91CD\u8BD5 >0\u9650\u5B9A\u91CD\u8BD5\u6B21\u6570\uFF08\u9ED8\u8BA4\u91CD\u8BD55\u6B21\uFF09\r\n     * @param params \r\n     * @param transfer \u8F6C\u573A\u7279\u6548\uFF08\u8F6C\u573APromise resolve\u540E\u624D\u4F1A\u5B9E\u9645\u53D1\u751F\u573A\u666F\u8DF3\u8F6C\uFF09\r\n     * @param _forceTry \u5F3A\u5236\u5207\u6362\uFF08\u4E3B\u52A8\u8C03\u7528\u4E0D\u586B\u6B64\u503C\uFF0C\u53EA\u6709\u9012\u5F52\u65F6\u6539\u53D8\u6B64\u503C\uFF09\r\n     */\r\n    static loadScene<T extends SceneName>(scene: T, _retryTime = 5, _forceTry = false) {\r\n        if (!_forceTry) {\r\n            this.retryTime = _retryTime;\r\n            if (SceneUtil.lockLoadScene(true, 3000)) {\r\n                return;\r\n            }\r\n        }\r\n        if (0 == this.retryTime) {\r\n            Platform.ShowModal({ title: '\u7F51\u7EDC\u4E0D\u597D', content: '\u5207\u6362\u573A\u666F\u5931\u8D25', confirmText: '\u91CD\u8BD5', cancelText: '\u53D6\u6D88' }).then(v => {\r\n                if (v) {\r\n                    SceneUtil.loadScene(scene, _retryTime);\r\n                }\r\n            })\r\n            return;\r\n        }\r\n        else if (this.retryTime > 0) {\r\n            this.retryTime--;\r\n        }\r\n        // TimeMonitor.dot('loadScene', '\u5F00\u59CB111');\r\n        let _lastScene = null as any;\r\n        if (!_forceTry) {\r\n\r\n            // console.error('_lastScene', _lastScene);\r\n        }\r\n        // TimeMonitor.dot('loadScene', '\u5F00\u59CB222');\r\n        try {\r\n            console.log('loadScene', scene);\r\n            // Global.submitAction(`\u5207\u6362\u573A\u666F: ${scene}`, params);\r\n            //\u5207\u6362\u65B0\u573A\u666F\r\n            let _loadsc = async (asset?: any) => {\r\n                // TimeMonitor.dot('loadScene', '_loadsc');\r\n                // CommonBackground.Show(false);\r\n                let _trytime = 3;\r\n                let _tryLoad = async () => {\r\n                    // console.log('\u8C03\u7528loadScene', scene);\r\n                    // if (SceneParamsMap[scene].isBundle) {\r\n                    //     let _scene = this.loadedBundleScene[scene];\r\n                    //     if (!_scene) {\r\n                    //         //\u5E94\u8BE5\u4E0D\u4F1A\u6267\u884C\uFF08\u6267\u884C\u65F6\u5E94\u8BE5\u662F\u4EE3\u7801\u903B\u8F91\u9519\u8BEF\uFF09\r\n                    //         throw new Error(\"Bundle\u4E2D\u6CA1\u6709\u6B64\u573A\u666F\");\r\n                    //     }\r\n                    //     console.log('\u8C03\u7528loadScene', _scene);\r\n                    //     cc.director.runScene(_scene);\r\n                    //     // this.loadedBundleScene = {};\r\n                    //     // let _i = SceneUtil.loadedList.indexOf(scene);\r\n                    //     // SceneUtil.loadedList.splice(_i, 1);\r\n                    // }\r\n                    // else \r\n                    {\r\n                        Laya.Scene.open(scene + '.scene', true, undefined, Laya.Handler.create(this, (asset) => {\r\n                            // if (_lastScene) {\r\n                            //     this.lastSceneName = _lastScene;\r\n                            // }\r\n                            _trytime = -1;\r\n                            SceneUtil.lockLoadScene(false);\r\n\r\n                        }));\r\n                    }\r\n\r\n                }\r\n                //\u7B49\u5F853\u79D2\u4E0D\u80FD\u5207\u6362\u65B0\u573A\u666F\u5219\u91CD\u8BD5\uFF08\u6B64\u65F6\u5DF2\u7ECF\u9884\u52A0\u8F7D\u5B8C\u6210\uFF09\r\n                _tryLoad();\r\n            }\r\n            console.log('loadScene-\u5DF2\u52A0\u8F7D\u573A\u666F\uFF1A', scene, JSON.stringify(SceneUtil.loadedList), SceneUtil.loadedList.indexOf(scene));\r\n            // console.log('loadScene-\u5DF2\u52A0\u8F7D\u573A\u666F222\uFF1A', typeof scene, SceneUtil.loadedList.length, SceneUtil.loadedList.indexOf(scene));\r\n\r\n            if (SceneUtil.loadedList.indexOf(scene) >= 0) {\r\n                _loadsc();\r\n                return;\r\n            }\r\n            //\u9884\u52A0\u8F7D\u56DE\u8C03\r\n            let preloadHandler = async (err: Error | null) => {\r\n                TimeMonitor.dot('loadScene', '\u9884\u52A0\u8F7D\u5B8C\u6210');\r\n                // \u5F00\u59CB\u5207\u6362\u573A\u666F\r\n                Platform.HideLoading();\r\n                if (err) {// \u52A0\u8F7D\u5931\u8D25\r\n                    if (this.retryTime == 0) {\r\n                        return;\r\n                    }\r\n                    Platform.ShowLoading({ title: '\u52AA\u529B\u91CD\u8BD5\u4E2D..' });\r\n                    // 1\u79D2\u540E\u91CD\u65B0\u52A0\u8F7D\r\n                    // Global.submitAction(`\u573A\u666F\u52A0\u8F7D\u5931\u8D25: ${scene}`, {\r\n                    //     timeSec: Math.round((Date.now() - startTime) / 1000)\r\n                    // });\r\n                    setTimeout(() => {\r\n                        Platform.HideLoading();\r\n                        SceneUtil.loadScene(scene as any, _retryTime, true);\r\n                    }, 500);\r\n                    return;\r\n                }\r\n                _loadsc();\r\n            }\r\n            // TimeMonitor.dot('loadScene', '\u8FDB\u5165\u9884\u52A0\u8F7D');\r\n            //\u9884\u52A0\u8F7D\u573A\u666F\r\n            SceneUtil.preloadScene([scene], true, undefined, undefined, preloadHandler);\r\n        }\r\n        catch (e) {\r\n            // Global.submitAction(`\u573A\u666F\u52A0\u8F7D\u5931\u8D25: ${scene}`, {\r\n            //     timeSec: Math.round((Date.now() - startTime) / 1000)\r\n            // });\r\n            console.error('\u52A0\u8F7D\u573A\u666F\u5931\u8D25', scene);\r\n            // 1\u79D2\u540E\u81EA\u52A8\u91CD\u8BD5\r\n            setTimeout(() => {\r\n                SceneUtil.loadScene(scene as any, _retryTime, true);\r\n            }, 500);\r\n        }\r\n\r\n    }\r\n    static CloseScene<T extends SceneName>(scene: T) {\r\n        Laya.Scene.close(scene + '.scene');\r\n    }\r\n    private static inLoadScene = false;\r\n    private static lockTimeOut: any = null;\r\n    /**\r\n     * \u9632\u6B62\u591A\u6B21\u91CD\u590D\u70B9\u51FB\u52A0\u8F7D\u573A\u666F\r\n     * @param _lock \u66F4\u6539\u9501\u5B50\u72B6\u6001\r\n     * @param _delaytime \u81EA\u52A8\u89E3\u9501\u65F6\u95F4\r\n     */\r\n    private static lockLoadScene(_lock = true, _delaytime = 3000) {\r\n        if (_lock) {\r\n            let _cur = SceneUtil.inLoadScene;\r\n            if (!SceneUtil.inLoadScene) {\r\n                SceneUtil.inLoadScene = _lock;\r\n                SceneUtil.lockTimeOut = setTimeout(() => {\r\n                    if (!SceneUtil.inLoadScene) {\r\n                        return;\r\n                    }\r\n                    SceneUtil.lockLoadScene(false);\r\n                }, _delaytime);\r\n            }\r\n            return _cur;\r\n        }\r\n        else {\r\n            let _cur = SceneUtil.inLoadScene;\r\n            SceneUtil.inLoadScene = _lock;\r\n            if (SceneUtil.lockTimeOut) {\r\n                clearTimeout(SceneUtil.lockTimeOut);\r\n            }\r\n            return _cur;\r\n        }\r\n\r\n    }\r\n    private static loadedList: (SceneName)[] = [];\r\n    private static preloadQueue: (SceneName)[] = [];\r\n    private static preloadCallBack: {\r\n        [name: string]: {\r\n            loadSuccessCallBack?: (_sceneName: string) => void,\r\n            onProgress?: (completedCount: number, totalCount: number, item: any) => void,\r\n            onLoaded?: (error: Error) => void\r\n        }\r\n    } = {};\r\n    // private static loadedBundleScene: { [key: string]: cc.SceneAsset } = {};\r\n    // private static sceneAsset: cc.SceneAsset = null as any;\r\n    private static inPreLoad = false;\r\n    //\u9884\u52A0\u8F7D\u5931\u8D25\u91CD\u8BD5\u7B49\u5F85\u65F6\u95F4\r\n    private static preLoadRetryWaitTime = { wait: 1000, add: 1000, max: 10000 };\r\n    /**\r\n     * \u9884\u52A0\u8F7D\u573A\u666F\r\n     * @param sceneNames \u8981\u9884\u52A0\u8F7D\u7684\u573A\u666F\u540D\r\n     * @param _precedence \u662F\u5426\u9700\u8981\u4F18\u5148\u52A0\u8F7D\u6B64\u6279\u573A\u666F\r\n     * @param _loadSuccessCallBack \u662F\u5426\u9884\u52A0\u8F7D\u6210\u529F\r\n     */\r\n    static async preloadScene<T extends SceneName>(sceneNames: T[], _precedence = true, _loadSuccessCallBack?: (_sceneName: string) => void, onProgress?: (completedCount: number, totalCount: number, item: any) => void, onLoaded?: (error: Error) => void) {\r\n\r\n        if (!sceneNames || sceneNames.length == 0) {\r\n            return;\r\n        }\r\n        for (let index = 0; index < sceneNames.length; index++) {\r\n            //\u4ECE\u540E\u5411\u524D\u904D\u5386\r\n            const element = sceneNames[sceneNames.length - index - 1];\r\n            if (SceneUtil.loadedList.indexOf(element) >= 0) {\r\n                continue;\r\n            }\r\n            let _idx = SceneUtil.preloadQueue.indexOf(element);\r\n            if (_idx < 0) {\r\n                SceneUtil.preloadQueue.push(element);\r\n            }\r\n            else if (_precedence && _idx < SceneUtil.preloadQueue.length - 1) {\r\n                SceneUtil.preloadQueue.splice(_idx, 1);\r\n                SceneUtil.preloadQueue.push(element);\r\n            }\r\n            if (!(element in SceneUtil.preloadCallBack)) {\r\n                SceneUtil.preloadCallBack[element] = {};\r\n            }\r\n            //\u8BB0\u5F55\u56DE\u8C03\r\n            if (_loadSuccessCallBack) {\r\n                SceneUtil.preloadCallBack[element].loadSuccessCallBack = _loadSuccessCallBack;\r\n            }\r\n            if (onProgress) {\r\n                SceneUtil.preloadCallBack[element].onProgress = onProgress;\r\n            }\r\n            if (onLoaded) {\r\n                SceneUtil.preloadCallBack[element].onLoaded = onLoaded;\r\n            }\r\n        }\r\n        if (SceneUtil.inPreLoad || SceneUtil.preloadQueue.length <= 0) {\r\n            return;\r\n        }\r\n        SceneUtil.inPreLoad = true;\r\n        let _curScene = SceneUtil.preloadQueue[SceneUtil.preloadQueue.length - 1];\r\n        console.log('preloadQueue', SceneUtil.preloadQueue);\r\n        console.log('_curScene', _curScene);\r\n\r\n        let _callBack: any = undefined;\r\n        if (_curScene in SceneUtil.preloadCallBack) {\r\n            _callBack = SceneUtil.preloadCallBack[_curScene];\r\n        }\r\n        return new Promise<void>(async (rs) => {\r\n            let _loadCompelte = async (err: any) => {\r\n                SceneUtil.inPreLoad = false;\r\n                // console.log('loadScene \u9884\u52A0\u8F7D\u7ED3\u675F', _curScene);\r\n                if (!err) {\r\n                    SceneUtil.preLoadRetryWaitTime.wait = SceneUtil.preLoadRetryWaitTime.add;\r\n                    //\u6210\u529F\u5219\u4ECE\u5BF9\u8C61\u4E2D\u79FB\u9664\u56DE\u8C03\r\n                    if (_curScene in SceneUtil.preloadCallBack) {\r\n                        delete SceneUtil.preloadCallBack[_curScene];\r\n                    }\r\n\r\n                    //\u9884\u52A0\u8F7D\u6210\u529F\r\n                    SceneUtil.loadedList.push(_curScene);\r\n                    let _idx = SceneUtil.preloadQueue.indexOf(_curScene);\r\n                    if (_idx > -1) {\r\n                        SceneUtil.preloadQueue.splice(_idx, 1);\r\n                    }\r\n                    _callBack && _callBack.loadSuccessCallBack && _callBack.loadSuccessCallBack(_curScene);\r\n                    // console.log('loadScene \u9884\u52A0\u8F7D\u6210\u529F', JSON.stringify(SceneUtil.loadedList));//, asset\r\n                }\r\n                _callBack && _callBack.onLoaded && _callBack.onLoaded(err);\r\n\r\n                if (err) {\r\n                    //\u52A0\u8F7D\u5931\u8D25\u7B49\u5F851\u79D2\u518D\u52A0\u8F7D\r\n                    await TimeUtil.wait(SceneUtil.preLoadRetryWaitTime.wait);\r\n                    if (SceneUtil.preLoadRetryWaitTime.wait < SceneUtil.preLoadRetryWaitTime.max) {\r\n                        SceneUtil.preLoadRetryWaitTime.wait += SceneUtil.preLoadRetryWaitTime.add;\r\n                    }\r\n                }\r\n                // else {\r\n                //     await TimeUtil.wait(500);\r\n                // }\r\n                if (SceneUtil.preloadQueue.length > 0) {\r\n                    SceneUtil.preloadScene([SceneUtil.preloadQueue[SceneUtil.preloadQueue.length - 1]], false);\r\n                }\r\n                else {\r\n                    rs();\r\n                }\r\n            }\r\n            // if (SceneParamsMap[_curScene].isBundle) {\r\n            //     let _bundle = await BundleUtil.LoadBundle(_curScene);\r\n            //     if (_bundle) {\r\n            //         // _bundle.preloadScene(_curScene, (err, scene) => {\r\n            //         //     _loadCompelte(err, scene)\r\n            //         // });\r\n            //         // // _loadCompelte(null);\r\n            //     }\r\n            //     else {\r\n            //         _loadCompelte('load Bundle Fail!');\r\n            //         return;\r\n            //     }\r\n            // }\r\n            Laya.Scene.load(_curScene + '.scene', Laya.Handler.create(this, (asset: Scene) => {\r\n                // console.error('load asset stage', Laya.stage.width, Laya.stage.height);\r\n                // console.error('load asset', _curScene, asset.width, asset.height);\r\n                asset.size(Laya.stage.width, Laya.stage.height);\r\n                // console.error('load asset222', _curScene, asset.width, asset.height);\r\n\r\n                _loadCompelte(null);\r\n\r\n            }));\r\n            // else {\r\n\r\n            // }\r\n\r\n        })\r\n\r\n    }\r\n    // /** \u4F7F\u7528\u9ED8\u8BA4\u8FC7\u573A\u8FDB\u884C\u573A\u666F\u5207\u6362 */\r\n    // static lastTransferTime: number = 0;\r\n\r\n    static GetLastScene() {\r\n        return this.lastSceneName;\r\n    }\r\n    /**\r\n     * \u8FD4\u56DE\u573A\u666F\r\n     */\r\n    static GoBack() {\r\n\r\n        if (!this.lastSceneName) {\r\n            return false;\r\n        }\r\n        this.loadScene(this.lastSceneName);\r\n        return true;\r\n    }\r\n}", "/**\r\n * \u6E38\u620F\u57FA\u7840\u914D\u7F6E\u548C\u7248\u672C\u53F7\r\n */\r\nexport const Config = {\r\n    version: '0.0.2',\r\n    hhConfig: {\r\n        appid: 'Brains',\r\n        // appid: 'mengdan',\r\n        // url: CC_DEBUG ? 'https://test-game.ixald.com' : 'https://game.ixald.com'\r\n        // url: CC_DEBUG ? 'https://test-game.ixald.com' : 'https://test-game.ixald.com'\r\n        url: 'https://game.ixald.com'\r\n        // url: CC_DEBUG ? 'http://10.154.6.138:3000' : 'https://game.ixald.com'\r\n    },\r\n    // remoteSvrRoot: CC_DEV ? 'https://cdn.honghegame.cn/EggStar/' : 'https://xacdn.k8w.io/EggStar/',\r\n};\r\n//\u529F\u80FD\u6A21\u5757\u5F00\u542F\u60C5\u51B5\u63A7\u5236\r\nexport const ModuleControl =\r\n{\r\n    EnableScoreRank: true,//\u79EF\u5206\u6392\u884C\u699C\u6A21\u5757\r\n\r\n    EnableTask: true,//\u4EFB\u52A1\u6A21\u5757\r\n\r\n    EnableGift: true,//\u5151\u6362\u597D\u793C\u6A21\u5757\r\n\r\n    EnableBag: true,//\u5956\u54C1\u5305\u6A21\u5757\r\n\r\n    EnableNotice: true,//\u516C\u544A\u6A21\u5757\r\n}\r\n//\u6E38\u620F\u73A9\u6CD5\u914D\u7F6E\r\nexport const GameConfig = {\r\n\r\n}", "\r\nimport { PkgNameType } from '../Global/FGUIConfig';\r\nimport FGUIUtil from '../Global/modules/FGUI/FGUIUtil';\r\nimport GameScene from './GameScene';\r\nimport FGUIScene from './../Global/modules/FGUI/FGUIScene';\r\nimport SceneUtil from './../Global/modules/tools/SceneUtil';\r\nimport HHAudio from '../Global/modules/Audio/HHAudio';\r\nimport { GameLogic } from './GameLogic';\r\nimport MyUtils from '../common/MyUtils';\r\nimport { Global } from '../config/Global';\r\nimport Alert from './../fgui/Alert';\r\nimport MainUtil from './../utils/MainUitl';\r\nimport { ModuleControl } from '../Global/Config';\r\nimport ModulePackage from '../module/ModulePackage';\r\nimport { TaskLogic, TaskType } from '../module/Task/TaskLogic';\r\nimport uiActivityEndPopup from '../module/activity/uiActivityEndPopup';\r\nimport { ModuleGlobal } from '../module/ModuleGlobal';\r\nimport { ModuleStatistics } from '../module/ModuleStatistics';\r\nimport uiAlert from '../module/GeneralInterface/uiAlert';\r\nimport { ModuleSkins } from '../module/ModuleSkins';\r\nimport UIPackage = fgui.UIPackage;\r\nimport uiAwards from '../module/rank/uiAwards';\r\nexport default class StartScene extends FGUIScene {\r\n\r\n    static INS: StartScene = null as any;\r\n    pkgName: PkgNameType = 'StartScene';\r\n    private curScore: number = 0;\r\n    private lastScore: number = 0;\r\n    private isPlaying: boolean = false;\r\n\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        startBtn: null as fgui.GButton,\r\n        getCoinBtn: null as fgui.GButton,\r\n        // bagBtn: null as fgui.GButton,\r\n        rankBtn: null as fgui.GButton,\r\n        // coinBtn: null as fgui.GButton,\r\n        scoreBtn: null as fgui.GButton,\r\n        ruleBtn: null as fgui.GButton,\r\n        // expendCoin: null as fgui.GTextField, //\u6D88\u8017\u91D1\u5E01\u6570\u91CF\r\n        coinNText: null as fgui.GTextField, //\u91D1\u5E01\u6570\u91CF\r\n        scoreNText: null as fgui.GTextField, //\u79EF\u5206\u6570\u91CF\r\n        // bagBubble: null as fgui.GImage, //\u5956\u54C1\u5305\u6C14\u6CE1\r\n        // bagNText: null as fgui.GTextField, //\u5956\u54C1\u5305\u6570\u91CF\r\n        getCoinBubble: null as fgui.GImage, //\u9886\u91D1\u5E01\u6C14\u6CE1\r\n        getCoinNText: null as fgui.GTextField, //\u9886\u91D1\u5E01\u6570\u91CF\r\n\r\n\r\n        scoreIcon: null as fgui.GLoader, //\u79EF\u5206icon\r\n        // ruleIcon: null as fgui.GLoader, //\u89C4\u5219icon\r\n        // rankIcon: null as fgui.GLoader, //\u6392\u884Cicon\r\n        // taskIcon: null as fgui.GLoader, //\u4EFB\u52A1icon\r\n        bg: null as fgui.GLoader, //\u80CC\u666F\u56FE\u7247\r\n\r\n\r\n        awardShow: null as fgui.GComboBox, //\u5956\u54C1\u663E\u793A\u56FE\r\n\r\n        // title: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        // expendCoin: 'startBtn.expendCoin',\r\n        coinNText: 'startBtn.coinNText',\r\n        scoreNText: 'scoreBtn.scoreNText',\r\n        // bagBubble: 'bagBtn.bubbleBG',\r\n        // bagNText: 'bagBtn.bagNText',\r\n        getCoinBubble: 'getCoinBtn.bubbleBG',\r\n        getCoinNText: 'getCoinBtn.bagNText',\r\n        scoreIcon: 'scoreBtn.icon',\r\n    }\r\n\r\n    private static isFist = true;\r\n\r\n    onStart() {\r\n\r\n        ModuleStatistics.ChangeCurGameState('beforeGame');\r\n        StartScene.INS = this;\r\n\r\n        this.changeSkin();\r\n        this.clickBtn();\r\n        this.listenText();\r\n        //\u5173\u95ED\u6240\u6709laya\u573A\u666F\r\n        Laya.Scene.closeAll();\r\n        this.setAwardInfo();\r\n\r\n        // GameLogic.checkLogin();\r\n        // GameLogic.checkVIP();\r\n        // GameLogic.checkMember();\r\n\r\n        if (StartScene.isFist) {\r\n            StartScene.isFist = false;\r\n            // if (ModuleGlobal.ActivityState == 'on') {\r\n\r\n            // }\r\n            uiActivityEndPopup.AutoShowActivityEnd((_show) => {\r\n                if (!_show && StartScene.INS && ModuleGlobal.IsActivityOn()) {\r\n                    TaskLogic.AutoShowExtraPopup(TaskType.dayGift);\r\n                }\r\n            })\r\n\r\n\r\n        }\r\n        // //\u83B7\u53D6\u6D3B\u52A8\u662F\u5426\u7ED3\u675F\r\n        // {\r\n        //     ServerAPI.Cloud.Connect('GetRankReward', {\r\n        //         callBack: (success, _getdata, code) => {\r\n        //             console.log('GetRankReward', success, _getdata, code);\r\n        //             if (code == 0 || code == -3) {\r\n        //                 FGUIUtil.ShowFreeScene(ActivityEndPopup, (_class: ActivityEndPopup) => {\r\n        //                     _class.SetInfo({\r\n        //                         haveAward: code == 0,\r\n        //                         _awardData: _getdata,\r\n        //                     });\r\n        //                 });\r\n        //                 if (code == 0) {\r\n        //                     ////MainUtil.analysis('rankAward', { type: _getdata.rewardType });\r\n        //                 }\r\n        //             }\r\n        //             else {\r\n        //                 let _checkState = () => {\r\n        //                     MainUtil.checkGetTradesSold();\r\n        //                     this.showDailyGift();\r\n        //                     GameLogic.CheckLuckyBagState();\r\n        //                 }\r\n        //                 if (StartScene.isFist) {\r\n        //                     NoticeBoard.AutoShow('startGame', () => {\r\n        //                         _checkState();\r\n        //                     });\r\n        //                     StartScene.isFist = false;\r\n        //                 }\r\n        //                 else {\r\n        //                     _checkState();\r\n        //                 }\r\n        //             }\r\n\r\n        //         }\r\n        //     })\r\n        // }\r\n        // GameLogic.ListenLuckyBagState(this, (_data) => {\r\n        //     console.log('ListenLuckyBagState _callbackFunc', GameLogic.canBuyluckybag, _data);\r\n        //     //\u5982\u679C\u4E0D\u662F\u5728\u4EFB\u52A1\u754C\u9762\u5C31\u76D1\u542C\u793C\u5305\u72B6\u6001\r\n        //     if (Task.InTask || NoticeBoard.InNotice) {\r\n        //         return;\r\n        //     }\r\n        //     //\u5B8C\u6210\u4EFB\u52A1\u5E76\u9886\u53D6\u5956\u52B1\r\n        //     MainUtil.sendTaskProgress(TaskID.LuckyBag, (pdata) => {\r\n        //         MainUtil.sendGetTaskReward(TaskID.LuckyBag, (data) => {\r\n        //             {\r\n        //                 let luckybagInfo = {\r\n        //                     type: 3, record: _data.record,\r\n        //                     nickName: RankUtil.getMyPlayer().name,\r\n        //                     payNum: _data.price\r\n        //                 };\r\n        //                 //\u663E\u793A\u5956\u52B1\u754C\u9762\r\n        //                 let rewards = [];\r\n        //                 if (data.reward && data.reward.count) {\r\n        //                     rewards.push(data.reward);\r\n        //                     luckybagInfo['rewardNum'] = data.reward.count;\r\n        //                 }\r\n        //                 if (data.reward2 && data.reward2.count) {\r\n        //                     rewards.push(data.reward2);\r\n        //                     luckybagInfo['rewardNum2'] = data.reward2.count;\r\n        //                 }\r\n        //                 ////MainUtil.analysis('pay', luckybagInfo);\r\n        //                 // console.error('GetReward22222');\r\n        //                 // rewards.push(reward);\r\n        //                 new GetReward({ type: 1, rewards: rewards, taskId: TaskID.LuckyBag });\r\n        //                 PlayDataUtil.setData('buyLuckyTime', 0);\r\n        //             }\r\n        //         });\r\n        //     });\r\n        // })\r\n\r\n        // Laya.stage.on(Global.hallConfig.EventEnum.VIP_STATE_CHANGE, this, () => {\r\n        //     //\u5237\u65B0vip\u56FE\u7247\u72B6\u6001\r\n        //     // let vipImg = this._view.getChild(\"avatarCom\").asCom.getChild('vip').asImage;\r\n        //     // vipImg.visible = (PlayDataUtil.data.isVip == 1);\r\n        //     GameLogic.checkVIP();\r\n        // });\r\n\r\n        this.refreshNewNumber();\r\n        // GameLogic.GetActivityState();\r\n\r\n        Laya.timer.loop(1000, this, this.countDownUpdate);\r\n\r\n\r\n\r\n        if (ModuleGlobal.ActivityState == 'on') {\r\n            //\u5C1D\u8BD5\u9886\u53D6\u597D\u53CB\u5956\u52B1\r\n            TaskLogic.ReceiveTaskAward(TaskType.friendship, () => { }, true);\r\n        }\r\n\r\n\r\n        // ModulePackage.Instance.Show(\"base\", 100, 100, this.main);\r\n        this.showCoin();\r\n    }\r\n    setAwardInfo() {\r\n        uiAwards.GetRankData((_getData) => {\r\n            if (!_getData.data || _getData.data.length <= 0) {\r\n                return;\r\n            }\r\n            let _awardData = _getData.data[0];\r\n            let _awardLoader = this.element.awardShow.getChild('awardLoader') as fgui.GLoader;\r\n            let _priceText = this.element.awardShow.getChild('priceText') as fgui.GTextField;\r\n            _awardLoader.url = _awardData.prizePicture;\r\n            _priceText.text = '' + _awardData.prizePrice;\r\n\r\n        })\r\n    }\r\n\r\n    showCoin() {\r\n        this.curScore = GameLogic.GetCurScore();\r\n        this.lastScore = GameLogic.GetScore();\r\n        if (this.curScore <= 0) {\r\n            return;\r\n        }\r\n        this.isPlaying = true;\r\n        let coinNum = 7;//Math.ceil(GameLogic.GetCurScore() / 5);\r\n        let index = 0;\r\n        let icon = this.element.scoreBtn.getChild(\"icon\");\r\n        for (let i = 0; i < coinNum; i++) {\r\n            let image = UIPackage.createObject(\"GameCommon\", \"gamejifen\").asImage;\r\n            image.x = Laya.stage.width / 2;\r\n            image.y = Laya.stage.height / 2;\r\n            this.main.addChild(image);\r\n\r\n            Laya.Tween.to(image, { x: image.x + (i < (coinNum / 2) ? -100 : 100), y: image.y + ((1 - 2 * Math.random()) * 100) }, 400, Laya.Ease.backInOut, Laya.Handler.create(this, () => {\r\n                Laya.Tween.to(image, { x: this.element.scoreBtn.x - this.element.scoreBtn.width / 2, y: this.element.scoreBtn.y }, Math.random() * 500 + 500, Laya.Ease.sineIn, Laya.Handler.create(this, () => {\r\n                    image.removeFromParent();\r\n                    index++;\r\n                    if (index >= coinNum) {\r\n                        //Laya.Tween.clearTween(icon);\r\n                    }\r\n                    if (index == 1) {\r\n                        Laya.timer.loop(50, this, this.updateScore);\r\n                    }\r\n                }))\r\n            }))\r\n        }\r\n\r\n        if (coinNum > 0) {\r\n            let _scaleLoop = () => {\r\n                const _sb = 1.15;\r\n                const _ss = 0.85;\r\n                const _t = 400;\r\n                Laya.Tween.to(icon, { scaleX: _sb, scaleY: _sb }, _t, undefined, Laya.Handler.create(this, () => {\r\n                    Laya.Tween.to(icon, { scaleX: _ss, scaleY: _ss }, _t, undefined, Laya.Handler.create(this, _scaleLoop));\r\n                }));\r\n            }\r\n            _scaleLoop();\r\n        }\r\n    }\r\n\r\n    onEnd() {\r\n        StartScene.INS = null;\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    clickBtn() {\r\n        //\u6A21\u5757\u663E\u793A\u8BBE\u7F6E\r\n        {\r\n            // this.element.bagBtn.visible = ModuleControl.EnableBag;\r\n            this.element.rankBtn.visible = ModuleControl.EnableScoreRank;\r\n            // this.element.scoreBtn.visible = ModuleControl.EnableGift;\r\n            this.element.getCoinBtn.visible = ModuleControl.EnableTask;\r\n        }\r\n        //\u5F00\u59CB\u6309\u94AE\u547C\u5438\u6548\u679C\r\n        let _scaleLoop = () => {\r\n            const _sb = 1.05;\r\n            const _ss = 0.95;\r\n            const _t = 800;\r\n            Laya.Tween.to(this.element.startBtn, { scaleX: _sb, scaleY: _sb }, _t, undefined, Laya.Handler.create(this, () => {\r\n                // console.log('big');\r\n                Laya.Tween.to(this.element.startBtn, { scaleX: _ss, scaleY: _ss }, _t, undefined, Laya.Handler.create(this, _scaleLoop));\r\n            }));\r\n        }\r\n        _scaleLoop();\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.startBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            // ////MainUtil.analysis('clickGame');\r\n            //\r\n            ModuleStatistics.ClickGameBtn();\r\n            if (uiAlert.AutoShowActivityState()) {\r\n                return;\r\n            }\r\n            MyUtils.showLoading();\r\n            GameLogic.ChangeCoin(-GameLogic.gameExpendCoin,\r\n                () => {\r\n                    // console.log('startBtn');\r\n                    // FGUIUtil.closeScene();\r\n\r\n                    SceneUtil.loadScene(\"MyGameScene\");\r\n                    MyUtils.closeLoading();\r\n                    //\u4EFB\u52A1\u5B8C\u6210\u6253\u70B9\r\n                    ////MainUtil.analysis('enterGame', { type: 1 });\r\n\r\n                }, (_code: number) => {\r\n                    MyUtils.closeLoading();\r\n                    //\u6D3B\u52A8\u9519\u8BEF\r\n                    if (uiAlert.AutoShowActivityState()) {\r\n                        return;\r\n                    }\r\n                    new Alert(\"\u6B21\u6570\u4E0D\u8DB3\uFF0C\u505A\u4EFB\u52A1\u83B7\u53D6\u66F4\u591A\u6B21\u6570\u5427~\", () => {\r\n                        // this.openUI(Task);\r\n                        ModulePackage.Instance.Show('Task', 0, 0, this.main);\r\n                    }, () => {\r\n                    });\r\n                    // console.error('\u6B21\u6570\u4E0D\u8DB3\uFF01');\r\n                    // console.error('\u6B21\u6570\u4E0D\u8DB3\uFF01');\r\n                    // if (_code == -10) {\r\n                    //     new Alert(\"\u6D3B\u52A8\u8FD8\u672A\u5F00\u59CB~\", () => {\r\n                    //     });\r\n                    // }\r\n                    // else if (_code == -11) {\r\n                    //     new Alert(\"\u6D3B\u52A8\u5DF2\u7ED3\u675F\uFF0C\u4E0B\u6B21\u518D\u6765\u5427~\", () => {\r\n                    //     });\r\n                    // }\r\n                    // else {\r\n                    //     new Alert(\"\u6B21\u6570\u4E0D\u8DB3\uFF0C\u505A\u4EFB\u52A1\u83B7\u53D6\u66F4\u591A\u6B21\u6570\u5427~\", () => {\r\n                    //         // this.openUI(Task);\r\n                    //     }, () => {\r\n                    //     });\r\n                    //     console.error('\u6B21\u6570\u4E0D\u8DB3\uFF01');\r\n                    // }\r\n\r\n\r\n                })\r\n            console.log('startBtn111');\r\n\r\n            // SceneUtil.loadScene(\"MyGameScene\");\r\n\r\n        })\r\n        //\u9886\u91D1\u5E01\u6309\u94AE\r\n        this.element.getCoinBtn.onClick(this, () => {\r\n            console.log('getCoinBtn11');\r\n            HHAudio.PlayEffect('btn');\r\n\r\n            // if (ModuleGlobal.ActivityState == 'off') {\r\n            //     new Alert(\"\u6D3B\u52A8\u5DF2\u4E0B\u7EBF,\u4E0B\u6B21\u518D\u6765\u5427~\", () => {\r\n            //         // this.openUI(Task);\r\n            //     }, () => {\r\n            //     });\r\n            //     return;\r\n            // }\r\n\r\n            // this.openUI(Task);\r\n            ModulePackage.Instance.Show('Task', 0, 0, this.main);\r\n\r\n\r\n\r\n        })\r\n\r\n        // //\u5956\u54C1\u5305\u6309\u94AE\r\n        // this.element.bagBtn.onClick(this, () => {\r\n        //     console.log('bagBtn11');\r\n        //     HHAudio.PlayEffect('btn');\r\n        //     this.openUI(Bag);\r\n\r\n\r\n        // })\r\n        //\u5956\u54C1\u5305\u6309\u94AE\r\n        this.element.ruleBtn.onClick(this, () => {\r\n            console.log('ruleBtn');\r\n            HHAudio.PlayEffect('btn');\r\n            // this.openUI(Rule);\r\n            ////MainUtil.analysis('clickRule', {});\r\n            ModulePackage.Instance.Show('Rule', 0, 0, this.main);\r\n\r\n            // ServerAPI.Cloud.Connect('GetRankAllReward', {\r\n            //     callBack: (success, _getdata, code) => {\r\n            //         console.error('GetRankAllReward', success, _getdata, code);\r\n\r\n            //     }\r\n            // })\r\n\r\n        })\r\n\r\n        // //\u91D1\u5E01\u6309\u94AE\r\n        // this.element.coinBtn.onClick(this, () => {\r\n        //     console.log('coinBtn');\r\n        //     // let _str = Global.hallConfig.Jsons.taskConfig;\r\n        //     // for (let index = 0; index < TaskUtil._taskList.length; index++) {\r\n        //     //     _str = JSON.stringify(TaskUtil._taskList[index]);\r\n        //     //     new Alert(_str, () => {\r\n        //     //     }, () => {\r\n        //     //     });\r\n\r\n        //     // }\r\n        //     // _str = Global.hallConfig.Jsons.taskConfig;\r\n        //     // new Alert(_str, () => {\r\n        //     // }, () => {\r\n        //     // });\r\n\r\n        // })\r\n        //\u79EF\u5206\u6309\u94AE\r\n        this.element.scoreBtn.onClick(this, () => {\r\n            if (!ModuleControl.EnableGift) {\r\n                console.log('\u672A\u5F00\u542F\u5151\u6362\u597D\u793C\u6A21\u5757');\r\n                return;\r\n            }\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('scoreBtn');\r\n            // // FGUIUtil.ShowFreeScene(Gift);\r\n            // if (ModuleGlobal.ActivityState == 'off') {\r\n            //     new Alert(\"\u6D3B\u52A8\u5DF2\u4E0B\u7EBF,\u4E0B\u6B21\u518D\u6765\u5427~\", () => {\r\n            //         // this.openUI(Task);\r\n            //     }, () => {\r\n            //     });\r\n            //     return;\r\n            // }\r\n            ModulePackage.Instance.Show('gift', 0, 0, this.main);\r\n        })\r\n\r\n        // this.element.rankBtn.visible = false;\r\n        this.element.rankBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('rankBtn');\r\n            ModulePackage.Instance.Show('rank', 0, 0, this.main);\r\n            // FGUIUtil.ShowFreeScene(ScoreRank);\r\n        })\r\n    }\r\n    listenText() {\r\n        // this.element.expendCoin.text = '' + GameLogic.gameExpendCoin;\r\n        this.element.coinNText.text = '' + GameLogic.GetCoin();\r\n\r\n        // this.element.bagNText.text = '' + GameLogic.GetNewInBag();\r\n        this.element.getCoinNText.text = '' + GameLogic.GetNewInCoin();\r\n        //\u76D1\u542C\u6570\u636E\u53D8\u5316\r\n        Laya.stage.on('coin', this, () => {\r\n            this.element.coinNText.text = '' + GameLogic.GetCoin();\r\n        })\r\n        this.element.scoreNText.text = '' + GameLogic.GetScore();\r\n        Laya.stage.on('score', this, () => {\r\n            if (!this.isPlaying) {\r\n                this.element.scoreNText.text = '' + GameLogic.GetScore();\r\n            }\r\n        })\r\n        // Laya.stage.on('newInBag', this, () => {\r\n        //     this.element.bagNText.text = '' + GameLogic.GetNewInBag();\r\n        // })\r\n        Laya.stage.on('newInCoin', this, () => {\r\n            this.element.getCoinNText.text = '' + GameLogic.GetNewInCoin();\r\n        })\r\n    }\r\n\r\n    updateScore() {\r\n        let scoreAdd = Math.max(Math.floor(this.curScore / 40), 1);\r\n        let score = parseInt(this.element.scoreNText.text);\r\n        if (score + scoreAdd >= this.curScore + this.lastScore) {\r\n            scoreAdd = this.curScore + this.lastScore - score;\r\n        }\r\n        if (score < this.curScore + this.lastScore) {\r\n            this.element.scoreNText.text = \"\" + (score + scoreAdd);\r\n        } else {\r\n            this.element.scoreNText.text = '' + GameLogic.GetScore();\r\n            this.isPlaying = false;\r\n            this.curScore = 0;\r\n            this.lastScore = 0;\r\n            let icon = this.element.scoreBtn.getChild(\"icon\");\r\n            Laya.Tween.clearTween(icon);\r\n            Laya.timer.clear(this, this.updateScore);\r\n        }\r\n    }\r\n\r\n    changeSkin() {\r\n        ModuleSkins.ChangeSkin(this.element.bg, 'bgImage');\r\n        ModuleSkins.ChangeSkin(this.element.scoreIcon, 'integralIcon');\r\n        ModuleSkins.ChangeFguiICON(this.element.ruleBtn, 'ruleIcon');\r\n        ModuleSkins.ChangeFguiICON(this.element.rankBtn, 'rankingIcon');\r\n        ModuleSkins.ChangeFguiICON(this.element.getCoinBtn, 'numberIcon');\r\n        ModuleSkins.ChangeFguiICON(this.element.startBtn, 'StartIcon');\r\n    }\r\n    countDownUpdate() {\r\n        // //\u4EFB\u52A1\u6570\u91CF\r\n        // TaskUtil.updateCountDownTask();\r\n        // // TaskUtil.getTaskGets();\r\n        // let _taskN = TaskUtil.getTaskGets();\r\n        // // let _taskN = this.taskPointN;\r\n        // // if (this.countDownTask.length > 0) {\r\n        // //     for (const timetask of this.countDownTask) {\r\n        // //         let cache = TaskUtil.getCache(timetask.id);\r\n        // //         let _spanTime = MainUtil.getTimeSpan(cache, new Date().getTime());\r\n        // //         if (timetask.need <= _spanTime) {\r\n        // //             _taskN++;\r\n        // //         }\r\n        // //     }\r\n        // // }\r\n        // this.element.getCoinNText.visible = _taskN > 0;\r\n        // this.element.getCoinBubble.visible = this.element.getCoinNText.visible;\r\n        // // console.error('getCoinBubble', _taskN, this.element.getCoinBubble.visible);\r\n\r\n        // if (this.element.getCoinNText.visible) {\r\n        //     this.element.getCoinNText.text = '' + _taskN;\r\n        // }\r\n\r\n    }\r\n    // private taskPointN = 0;\r\n    // //\u672A\u5B8C\u6210\u7684\u5012\u8BA1\u65F6\u4EFB\u52A1\r\n    // private countDownTask: { id: number, need: number, }[] = []\r\n\r\n    refreshNewNumber() {\r\n        let _refresh = (_n: number) => {\r\n            console.log('_refresh');\r\n            this.element.getCoinBubble.visible = _n > 0;\r\n            this.element.getCoinNText.visible = _n > 0;\r\n            if (this.element.getCoinNText.visible) {\r\n                this.element.getCoinNText.text = '' + _n;\r\n            }\r\n            // this.countDownTask = [];\r\n            // this.taskPointN = 0;\r\n            // MainUtil.reqStateChange((_data: any) => {\r\n            //     //\u8FD4\u56DE\u6570\u636E data:{bag_num:1,task_num:2}\r\n            //     console.log('refreshNewNumber _data', _data);\r\n            //     // this.taskPointN = _data.task_num;\r\n            //     // let _bagN = _data.bag_num;\r\n            //     // let _taskN = this.taskPointN = _data.task_num;\r\n            //     // this.element.bagBubble.visible = _bagN > 0;\r\n            //     // this.element.bagNText.visible = _bagN > 0;\r\n            //     // if (this.element.bagNText.visible) {\r\n            //     //     this.element.bagNText.text = '' + _bagN;\r\n            //     // }\r\n\r\n            // })\r\n        }\r\n        _refresh(GameLogic.listenRefreshNewNumber());\r\n        Laya.stage.on('refreshBubbleUI', this, _refresh)\r\n\r\n\r\n    }\r\n    showDailyGift() {\r\n        // if (!ModuleControl.EnableTask) {\r\n        //     return;\r\n        // }\r\n        // //\u67E5\u770B\u662F\u5426\u6709\u793C\u5305\u53EF\u5F00\u542F\r\n        // let result = TaskUtil.checkGift();\r\n        // console.log('showDailyGift result', result);\r\n\r\n        // if (result.isOpen) {\r\n        //     ////MainUtil.analysis('hallShowGift', {});\r\n        //     new openGift(false, () => {\r\n        //         ////MainUtil.analysis('hallOpenGift', {});\r\n        //         MainUtil.sendGetTaskReward(result.id);\r\n        //     }, () => {\r\n        //         // showNoticeFunc();\r\n        //     });\r\n        // }\r\n    }\r\n    openUI(UIClass: any): void {\r\n        MyUtils.showLoading();\r\n        let demo: any = new UIClass();\r\n    }\r\n    NewAlert(_str: string) {\r\n        new Alert(_str, () => { }, () => { });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\nimport { GameLogic, GameTaskType } from \"./GameLogic\";\r\nimport StartScene from \"./StartScene\";\r\nimport MainUtil from \"../utils/MainUitl\";\r\nimport { ModuleControl } from \"../Global/Config\";\r\nimport MyUtils from \"../common/MyUtils\";\r\nimport Alert from \"../fgui/Alert\";\r\nimport ModulePackage from \"../module/ModulePackage\";\r\nimport uiAlert from \"../module/GeneralInterface/uiAlert\";\r\nimport { ModuleSkins } from \"../module/ModuleSkins\";\r\n\r\n\r\n\r\n\r\n\r\nexport default class GameOver extends FGUIMount {\r\n\r\n\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        bg: null as fgui.GImage,\r\n\r\n        restartBtn: null as fgui.GButton,\r\n        overScoreIcon: null as fgui.GLoader,\r\n\r\n        luckBagBtn: null as fgui.GButton,\r\n\r\n        moreAwardBtn: null as fgui.GButton,\r\n        goHomeBtn: null as fgui.GButton,\r\n        goHomeBtn2: null as fgui.GButton,\r\n        curScore: null as fgui.GTextField, //\u5F97\u5206\u6570\u91CF\r\n\r\n        getAwardIcon: null as fgui.GImage,\r\n\r\n        scorebg: null as fgui.GImage,\r\n        scoreBtn: null as fgui.GButton,\r\n        scoreNText: null as fgui.GTextField, //\u79EF\u5206\u6570\u91CF\r\n\r\n\r\n        // title: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        scoreNText: 'scoreBtn.scoreNText',\r\n    };\r\n    private stateCtrl: fgui.Controller = null as any;\r\n\r\n    onStart() {\r\n        // this.doubleAwardState(false);\r\n        this.scoreY = this.element.scorebg.y;\r\n        console.log(' this.scoreY', this.scoreY);\r\n        this.stateCtrl = this.getController('statectrl');\r\n        this.changeSkin();\r\n        this.clickBtn();\r\n\r\n    }\r\n    private scoreY = 0;\r\n    onShow() {\r\n        this.element.bg.visible = false;\r\n        this.element.scoreBtn.visible = false;\r\n        FGUIUtil.ActionPopIn(this, () => {\r\n            this.element.bg.visible = true;\r\n            this.element.scoreBtn.visible = true;\r\n        });\r\n        // this.element.luckBagBtn.visible = GameLogic.canBuyluckybag;\r\n        // this.element.moreAwardBtn.visible = !GameLogic.canBuyluckybag;\r\n        // this.element.luckyTitle.visible = GameLogic.canBuyluckybag;\r\n        // if (GameLogic.canBuyluckybag) {\r\n        //     this.element.scorebg.y = Laya.stage.height / 2 + 20;\r\n        // }\r\n        // else {\r\n        //     this.element.scorebg.y = Laya.stage.height / 2 - 20;\r\n        // }\r\n\r\n        //\u63A7\u5236\u5668\r\n        let _idx = 0;\r\n        let _gettask = GameLogic.GetGameOverTask();\r\n        if (GameLogic.awardMult > 1 || !_gettask) {\r\n            _idx = 1;\r\n        }\r\n        console.log('GameOver onShow', _idx, GameLogic.awardMult, _gettask);\r\n\r\n        this.stateCtrl.selectedIndex = (_idx);\r\n        this.element.getAwardIcon.visible = GameLogic.awardMult > 1;\r\n\r\n        //\u6570\u636E\u4FE1\u606F\r\n        this.listenText();\r\n\r\n\r\n        // GameLogic.ListenLuckyBagState(this, this.listenBagState)\r\n\r\n\r\n    }\r\n    onHide() {\r\n        // Laya.stage.off(GameLogic.LuckyBagEventKey, this, this.listenBagState);\r\n    }\r\n\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.element.bg.visible = false;\r\n        this.element.scoreBtn.visible = false;\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n        })\r\n    }\r\n    changeSkin() {\r\n        ModuleSkins.ChangeFguiICON(this.element.scoreBtn, 'integralIcon');\r\n        ModuleSkins.ChangeSkin(this.element.overScoreIcon, 'integralIcon');\r\n    }\r\n\r\n    clickBtn() {\r\n        //\u6A21\u5757\u663E\u793A\u8BBE\u7F6E\r\n        {\r\n            // this.element.scoreBtn.visible = ModuleControl.EnableGift;\r\n        }\r\n        //\u53CC\u500D\u9886\u53D6\u6309\u94AE\r\n        this.element.moreAwardBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('doubelAwardBtn');\r\n            this.close(() => {\r\n                GameLogic.ShowDoubleAward();\r\n            });\r\n\r\n        })\r\n        // //\u9886\u53D6\u66F4\u591A\u79EF\u5206\r\n        // this.element.moreAwardBtn.onClick(this, () => {\r\n        //     HHAudio.PlayEffect('btn');\r\n        //     console.log('moreAwardBtn');\r\n        //     // console.error('\u5F85\u589E\u52A0');\r\n        //     // this.openUI(MiniTask);\r\n\r\n        // })\r\n        this.element.restartBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('restartBtn');\r\n            MyUtils.showLoading();\r\n            GameLogic.ChangeCoin(-GameLogic.gameExpendCoin, () => {\r\n                // console.log('startBtn');\r\n                // FGUIUtil.closeScene();\r\n                MyUtils.closeLoading();\r\n                //\u7ED3\u7B97\u79EF\u5206\r\n                GameLogic.SettleGameScore();\r\n                //\u91CD\u65B0\u5F00\u59CB\r\n                GameLogic.Restart();\r\n                //\u4EFB\u52A1\u5B8C\u6210\u6253\u70B9\r\n                //MainUtil.analysis('enterGame', { type: 2 });\r\n\r\n            }, () => {\r\n                //\u6D3B\u52A8\u9519\u8BEF\r\n                if (uiAlert.AutoShowActivityState()) {\r\n                    return;\r\n                }\r\n                new Alert(\"\u6B21\u6570\u4E0D\u8DB3\uFF0C\u505A\u4EFB\u52A1\u83B7\u53D6\u66F4\u591A\u6B21\u6570\u5427~\", () => {\r\n                    // this.openUI(Task);\r\n                }, () => {\r\n                });\r\n                console.error('\u6B21\u6570\u4E0D\u8DB3\uFF01');\r\n\r\n            })\r\n\r\n        })\r\n\r\n        // let clicked = false;\r\n        //\u79EF\u5206\u6309\u94AE\r\n        this.element.luckBagBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('luckBagImageBtn');\r\n            GameLogic.BuyLuckyBag((_success: boolean, _price: string) => {\r\n                // clicked = false;\r\n                console.log('BuyLuckyBag _callbackFunc', _success, _price);\r\n            }, 5);\r\n        });\r\n        let _gohome = () => {\r\n            HHAudio.PlayEffect('btn');\r\n            //\u7ED3\u7B97\u79EF\u5206\r\n            GameLogic.SettleGameScore();\r\n            // SceneUtil.CloseScene('MyGameScene');\r\n            FGUIUtil.ShowScene(StartScene);\r\n        }\r\n        this.element.goHomeBtn.onClick(this, _gohome)\r\n        this.element.goHomeBtn2.onClick(this, _gohome)\r\n\r\n        //\u79EF\u5206\u6309\u94AE\r\n        this.element.scoreBtn.onClick(this, () => {\r\n            if (!ModuleControl.EnableGift) {\r\n                console.log('\u672A\u5F00\u542F\u5151\u6362\u597D\u793C\u6A21\u5757');\r\n                return;\r\n            }\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('scoreBtn');\r\n            ModulePackage.Instance.Show('gift', 0, 0, this);\r\n            // FGUIUtil.ShowFreeScene(Gift);\r\n\r\n        })\r\n    }\r\n    // listenBagState(_data: any) {\r\n    //     console.log('ListenLuckyBagState _callbackFunc', GameLogic.canBuyluckybag, _data);\r\n    //     this.element.luckBagBtn.visible = GameLogic.canBuyluckybag;\r\n    //     this.element.moreAwardBtn.visible = !GameLogic.canBuyluckybag;\r\n    //     //\u5B8C\u6210\u4EFB\u52A1\u5E76\u9886\u53D6\u5956\u52B1\r\n    //     MainUtil.sendTaskProgress(TaskID.LuckyBag, (pdata) => {\r\n    //         MainUtil.sendGetTaskReward(TaskID.LuckyBag, (data) => {\r\n    //             {\r\n    //                 let luckybagInfo = {\r\n    //                     type: 5, record: _data.record,\r\n    //                     nickName: RankUtil.getMyPlayer().name,\r\n    //                     payNum: _data.price\r\n    //                 };\r\n    //                 //\u663E\u793A\u5956\u52B1\u754C\u9762\r\n    //                 let rewards = [];\r\n    //                 if (data.reward && data.reward.count) {\r\n    //                     rewards.push(data.reward);\r\n    //                     luckybagInfo['rewardNum'] = data.reward.count;\r\n    //                 }\r\n    //                 if (data.reward2 && data.reward2.count) {\r\n    //                     rewards.push(data.reward2);\r\n    //                     luckybagInfo['rewardNum2'] = data.reward2.count;\r\n    //                 }\r\n    //                 //MainUtil.analysis('pay', luckybagInfo);\r\n    //                 // console.error('GetReward22222');\r\n    //                 // rewards.push(reward);\r\n    //                 new GetReward({ type: 1, rewards: rewards, taskId: TaskID.LuckyBag });\r\n    //                 PlayDataUtil.setData('buyLuckyTime', 0);\r\n    //             }\r\n    //         }, 2);\r\n    //     });\r\n    // }\r\n    private perAdd = 1;\r\n    private curScore = 0;\r\n    private toScore = 0;\r\n    listenText() {\r\n        this.toScore = this.curScore = GameLogic.GetCurScore();\r\n        this.element.curScore.text = '' + this.curScore;\r\n        Laya.timer.clear(this, this.scoreUpdate);\r\n        //\u589E\u52A0\u91D1\u5E01\u52A8\u753B\r\n        if (GameLogic.awardMult > 1) {\r\n            let _add = (GameLogic.awardMult - 1) * this.curScore;\r\n            this.toScore = _add + this.curScore;\r\n            this.perAdd = 1;\r\n            if (_add > 120) {\r\n                this.perAdd = _add / 120;\r\n            }\r\n            Laya.timer.frameLoop(1, this, this.scoreUpdate)\r\n        }\r\n\r\n\r\n\r\n        this.element.scoreNText.text = '' + GameLogic.GetScore();\r\n        Laya.stage.on('score', this, () => {\r\n            this.element.scoreNText.text = '' + GameLogic.GetScore();\r\n\r\n        })\r\n\r\n    }\r\n    //\u79EF\u5206\u589E\u52A0\u52A8\u753B\r\n    scoreUpdate() {\r\n        this.curScore += this.perAdd;\r\n        if (this.curScore >= this.toScore) {\r\n            this.curScore = this.toScore;\r\n            Laya.timer.clear(this, this.scoreUpdate);\r\n        }\r\n        this.element.curScore.text = '' + (this.curScore | 0);\r\n    }\r\n    GameStart() {\r\n    }\r\n    GameRevive() {\r\n    }\r\n    // SetTaskInfo(_task: GameTaskType) {\r\n\r\n    //     // this.element.gotIcon.visible = GameLogic.awardMult > 1;\r\n    //     // _have = _have && !this.element.gotIcon.visible;\r\n    //     // this.element.doubelAwardBtn.visible = _have;\r\n    //     // this.element.goHomeBtn2.visible = _have;\r\n    //     // this.element.goHomeBtn.visible = !_have;\r\n\r\n\r\n    // }\r\n\r\n    openUI(UIClass: any): void {\r\n        MyUtils.showLoading();\r\n        let demo: any = new UIClass();\r\n    }\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport { GameLogic, GameTasksName, GameTaskType } from \"./GameLogic\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\n\r\n\r\nexport default class RevivePopup extends FGUIMount {\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        bg: null as fgui.GImage,\r\n        closeBtn: null as fgui.GButton,\r\n        attentionBtn: null as fgui.GButton,\r\n        iconLoader: null as fgui.GLoader,\r\n        reviveText: null as fgui.GTextField,\r\n        btntitle: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        btntitle: 'attentionBtn.title'\r\n    }\r\n    private curTaskType: GameTaskType = null as any;\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n\r\n\r\n    }\r\n    onShow() {\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopIn(this, () => {\r\n            this.element.bg.visible = true;\r\n        });\r\n        // this._isShare = false;\r\n        // Laya.stage.on(\"checkShare\", this, this.checkShareFun);\r\n    }\r\n    onHide() {\r\n        // Laya.stage.off(\"checkShare\", this, this.checkShareFun);\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n        })\r\n    }\r\n    // private _isShare = false;\r\n    // checkShareFun() {\r\n    //     if (this._isShare) {\r\n    //         this._isShare = false;\r\n    //         //MainUtil.analysis('shareSuccess', { type: 13 });\r\n    //     }\r\n    // }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.closeBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('closeBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.close(() => {\r\n                GameLogic.ShowGameOverPopup();\r\n            })\r\n\r\n\r\n        })\r\n        //\u70B9\u51FB\u505A\u4EFB\u52A1\r\n        this.element.attentionBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('attentionBtn', this.curTaskType);\r\n            GameLogic.PreventGameTouch();\r\n            GameLogic.DoGameTask(this.curTaskType, (_success) => {\r\n                if (_success) {\r\n                    GameLogic.PreventGameTouch();\r\n                    this.close();\r\n                    GameLogic.Revive();\r\n                }\r\n\r\n            })\r\n\r\n\r\n        })\r\n\r\n    }\r\n    listenText() {\r\n        // this.element.reviveText.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    SetInfo(_taskType: GameTaskType) {\r\n        console.log('DoubleAwardPopup SetInfo', _taskType);\r\n\r\n        this.curTaskType = _taskType;\r\n        this.element.reviveText.text = GameTasksName[_taskType] + '\u53EF\u590D\u6D3B';\r\n        // this.element.btntitle.text = reviveTask[_taskKey].btnText;\r\n        this.element.iconLoader.url = GameLogic.GetGameTaskIconUrl(_taskType);\r\n    }\r\n\r\n\r\n\r\n\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\nimport { GameLogic } from \"./GameLogic\";\r\n\r\n\r\nexport default class ConfirmPopup extends FGUIMount {\r\n\r\n\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        bg: null as fgui.GImage,\r\n        closeBtn: null as fgui.GButton,\r\n        yesBtn: null as fgui.GButton,\r\n        noBtn: null as fgui.GButton,\r\n        hintText: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n    }\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n\r\n\r\n    }\r\n    onShow() {\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopIn(this, () => {\r\n            this.element.bg.visible = true;\r\n        });\r\n        // this.element.reviveText.text = '';\r\n        // this.element.iconLoader.url = '';\r\n        // this.element.btntitle.text = '';\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if(!this.visible){\r\n            return;\r\n        }\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n        })\r\n    }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.closeBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('closeBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.close();\r\n            GameLogic.PauseGame(false);\r\n        })\r\n        this.element.noBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('noBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.close();\r\n            GameLogic.PauseGame(false);\r\n        })\r\n        this.element.yesBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('yesBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.close(() => {\r\n                GameLogic.GameOver(false);\r\n            });\r\n\r\n        })\r\n\r\n\r\n    }\r\n    listenText() {\r\n        // this.element.reviveText.text = '' + GameLogic.GetCurScore();\r\n    }\r\n\r\n\r\n\r\n\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport { GameLogic, GameTasksName, GameTaskType } from \"./GameLogic\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\n\r\n\r\nexport default class DoubleAwardPopup extends FGUIMount {\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        bg: null as fgui.GImage,\r\n        closeBtn: null as fgui.GButton,\r\n        attentionBtn: null as fgui.GButton,\r\n        iconLoader: null as fgui.GLoader,\r\n        reviveText: null as fgui.GTextField,\r\n        btntitle: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        btntitle: 'attentionBtn.title'\r\n    }\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n\r\n\r\n    }\r\n    onShow() {\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopIn(this, () => {\r\n            this.element.bg.visible = true;\r\n        });\r\n        // this._isShare = false;\r\n        // Laya.stage.on(\"checkShare\", this, this.checkShareFun);\r\n    }\r\n    onHide() {\r\n        // Laya.stage.off(\"checkShare\", this, this.checkShareFun);\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n        })\r\n    }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.closeBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('closeBtn');\r\n            this.close(() => {\r\n                GameLogic.ShowGameOverPopup();\r\n            });\r\n        })\r\n        this.element.attentionBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('attentionBtn', this.curTaskType);\r\n\r\n            GameLogic.DoGameTask(this.curTaskType, (_success) => {\r\n                if (_success) {\r\n                    this.close(() => {\r\n                        GameLogic.ShowGameOverPopup(2);\r\n                    });\r\n                }\r\n\r\n            })\r\n\r\n\r\n\r\n        })\r\n\r\n    }\r\n\r\n    // private _isShare = false;\r\n    // checkShareFun() {\r\n    //     if (this._isShare) {\r\n    //         this._isShare = false;\r\n    //         //MainUtil.analysis('shareSuccess', { type: 12 });\r\n    //     }\r\n    // }\r\n    listenText() {\r\n        // this.element.reviveText.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    private curTaskType: GameTaskType = null as any;\r\n    SetInfo(_taskType: GameTaskType) {\r\n        console.log('DoubleAwardPopup SetInfo', _taskType);\r\n\r\n        this.curTaskType = _taskType;\r\n        this.element.reviveText.text = GameTasksName[_taskType] + '\u9886\u53D6\u53CC\u500D';\r\n        // this.element.btntitle.text = reviveTask[_taskKey].btnText;\r\n        this.element.iconLoader.url = GameLogic.GetGameTaskIconUrl(_taskType);\r\n    }\r\n\r\n\r\n\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\nimport TB from \"../platform/TB\";\r\nimport { GameLogic } from \"./GameLogic\";\r\nexport interface GameAwardInfo {\r\n    title: string,\r\n    price: string,\r\n    linkId: number,\r\n\r\n}\r\n\r\nexport default class GameAward extends FGUIMount {\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        bg: null as fgui.GImage,\r\n        closeBtn: null as fgui.GButton,\r\n        attentionBtn: null as fgui.GButton,\r\n        iconLoader: null as fgui.GLoader,\r\n        describeText: null as fgui.GTextField,\r\n        priceText: null as fgui.GTextField,\r\n        // btntitle: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        // btntitle: 'attentionBtn.title'\r\n    }\r\n    myInfo: GameAwardInfo = null as any;\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n\r\n\r\n    }\r\n    onShow() {\r\n        // this.element.reviveText.text = '';\r\n        // this.element.iconLoader.url = '';\r\n        // this.element.btntitle.text = '';\r\n        Laya.stage.offAllCaller(this);\r\n        FGUIUtil.ActionPopIn(this);\r\n        console.log('GameAward', 'onShow');\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.closeBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('closeBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.closeself();\r\n\r\n        })\r\n        this.element.attentionBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('attentionBtn', this.myInfo.linkId);\r\n            GameLogic.PreventGameTouch();\r\n            this.GotoUse(this.myInfo.linkId);\r\n        })\r\n\r\n    }\r\n    listenText() {\r\n\r\n    }\r\n    closeself() {\r\n        Laya.stage.offAllCaller(this);\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            this.Hide();\r\n            GameLogic.PauseGame(false);\r\n        });\r\n    }\r\n    SetInfo(_info: GameAwardInfo) {\r\n        this.myInfo = _info;\r\n        this.element.describeText.text = _info.title;\r\n        this.element.priceText.text = _info.price;\r\n        if (Laya.Browser.onIOS && _info.linkId == 0) {\r\n            this.element.attentionBtn.visible = false;\r\n        }\r\n        console.log('SetInfo', _info);\r\n\r\n    }\r\n    GotoUse(_linkId: number) {\r\n        if (!Laya.Browser.onTBMiniGame) {\r\n            return;\r\n        }\r\n        if (_linkId == 0) {  //\u6CA1\u6709\u8DF3\u8F6C\u8FDE\u63A5\uFF0C\u5C31\u8DF3\u8F6C\u5230\u5E97\u94FA\u9996\u9875\r\n            TB.navigateToTaobaoPage(() => {\r\n                this.closeself();\r\n            }, () => {\r\n            });\r\n        }\r\n        else {\r\n            TB.openDetail('' + _linkId, () => {\r\n            }, () => {\r\n                this.closeself();\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\nimport { ModulePlatformAPI, PlatformListenKey } from \"../module/ModulePlatformAPI\";\r\nimport TB from \"../platform/TB\";\r\nimport MainUtil from \"../utils/MainUitl\";\r\nimport { GameLogic } from \"./GameLogic\";\r\nexport interface MergeExternAwardInfo {\r\n    score: number,\r\n}\r\n\r\nexport default class MergeExternAward extends FGUIMount {\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        closeBtn: null as fgui.GButton,\r\n        attentionBtn: null as fgui.GButton,\r\n        scoreText: null as fgui.GTextField,\r\n        bg: null as fgui.GImage,\r\n        // btntitle: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        // btntitle: 'attentionBtn.title'\r\n    }\r\n    myInfo: MergeExternAwardInfo = null as any;\r\n\r\n    private sharestate = 0;\r\n\r\n    private addScore = 0;\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n        this.sharestate = 0;\r\n\r\n\r\n    }\r\n    onShow() {\r\n        this.sharestate = 0;\r\n        // this.element.reviveText.text = '';\r\n        // this.element.iconLoader.url = '';\r\n        // this.element.btntitle.text = '';\r\n        // Laya.stage.offAllCaller(this);\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopIn(this, () => {\r\n            this.element.bg.visible = true;\r\n        });\r\n        console.log('MergeExternAward', 'onShow');\r\n        // this._isShare = false;\r\n        // Laya.stage.on(PlatformListenKey.onShow, this, this.checkShareFun);\r\n    }\r\n    onHide() {\r\n        // Laya.stage.off(PlatformListenKey.onShow, this, this.checkShareFun);\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    // private _isShare = false;\r\n    checkShareFun() {\r\n        if (this.sharestate == 1) {\r\n            console.log('\u83B7\u5F97\u5206\u4EAB\u5956\u52B1 50\u79EF\u5206');\r\n            this.addScore += 50;\r\n            this.sharestate = 2;\r\n            this.closeself();\r\n            GameLogic.AddCurScore(this.addScore);\r\n\r\n            // this.closeself();\r\n        }\r\n        // if (this._isShare) {\r\n        //     this._isShare = false;\r\n\r\n        //     //MainUtil.analysis('shareSuccess', { type: 13 });\r\n        // }\r\n    }\r\n\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.closeBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('closeBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.closeself();\r\n            GameLogic.AddCurScore(this.addScore);\r\n\r\n        })\r\n        this.element.attentionBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('attentionBtn');\r\n            GameLogic.PreventGameTouch();\r\n\r\n            ModulePlatformAPI.Share(() => {\r\n                // this._isShare = true;\r\n                if (this.sharestate == 0) {\r\n                    this.sharestate = 1;\r\n                }\r\n\r\n                // console.log('\u70B9\u51FB\u5206\u4EAB\u6210\u529F', this.sharestate);\r\n                Laya.timer.once(2000, this, () => {\r\n                    this.checkShareFun();\r\n                });\r\n\r\n\r\n\r\n            })\r\n            // TB.share(() => {\r\n\r\n            //     //MainUtil.analysis('clickShare', { type: 13 });\r\n            //     this._isShare = true;\r\n            // });\r\n        })\r\n\r\n    }\r\n\r\n    listenText() {\r\n\r\n    }\r\n    closeself() {\r\n\r\n        Laya.stage.offAllCaller(this);\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            this.Hide();\r\n            GameLogic.PauseGame(false);\r\n        });\r\n    }\r\n    SetInfo(_info: MergeExternAwardInfo) {\r\n        this.addScore = _info.score;\r\n        this.myInfo = _info;\r\n        this.element.scoreText.text = '' + _info.score;\r\n        console.log('SetInfo', _info);\r\n\r\n    }\r\n\r\n\r\n\r\n}", "import HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\nimport TB from \"../platform/TB\";\r\nimport { GameLogic } from \"./GameLogic\";\r\nexport interface SurpassHintInfo {\r\n    percent: number,//\u8D85\u8D8A\u4EBA\u6570\u6BD4\u4F8B\uFF080~100\uFF09\r\n\r\n}\r\n\r\nexport default class SurpassHint extends FGUIMount {\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        // bg: null as fgui.GImage,\r\n        // closeBtn: null as fgui.GButton,\r\n        surpassText: null as fgui.GTextField,\r\n        photoLoader1: null as fgui.GLoader,\r\n        photoLoader2: null as fgui.GLoader,\r\n        // btntitle: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        // btntitle: 'attentionBtn.title'\r\n    }\r\n    myInfo: SurpassHintInfo = null as any;\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n        this.changeUrl();\r\n\r\n    }\r\n    onShow() {\r\n        // this.element.reviveText.text = '';\r\n        // this.element.iconLoader.url = '';\r\n        // this.element.btntitle.text = '';\r\n        console.log('SurpassHint', 'onShow');\r\n        Laya.stage.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n\r\n        let _startx = Laya.stage.width + this.width * this.pivotX;\r\n        let _endx = Laya.stage.width - this.width * (1 - this.pivotX);\r\n        this.x = _startx;\r\n        Laya.Tween.to(this, { x: _endx }, 500, undefined, Laya.Handler.create(this, () => {\r\n            Laya.timer.once(2000, this, () => {\r\n                Laya.Tween.to(this, { x: _startx }, 500, undefined, Laya.Handler.create(this, () => {\r\n                    this.Hide();\r\n                }));\r\n            })\r\n        }));\r\n    }\r\n    onHide() {\r\n        this.changeUrl();\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    clickBtn() {\r\n\r\n    }\r\n    listenText() {\r\n\r\n    }\r\n    closeself() {\r\n        Laya.stage.offAllCaller(this);\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            this.Hide();\r\n            GameLogic.PauseGame(false);\r\n        });\r\n    }\r\n    SetInfo(_info: SurpassHintInfo) {\r\n        this.myInfo = _info;\r\n        this.element.surpassText.setVar(\"count\", '' + _info.percent).flushVars();\r\n\r\n    }\r\n    changeUrl() {\r\n        const baseUrl = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/bigFight/matchAvatar/tx_\";\r\n        for (let i = 0; i < 2; i++) {\r\n            let _headid = 1 + (Math.random() * 2000) | 0;\r\n            let _url = baseUrl + (Array(5).join('0') + _headid).slice(-5) + \".jpg\";\r\n            if (i == 0) {\r\n                this.element.photoLoader1.url = _url;\r\n            }\r\n            else {\r\n                this.element.photoLoader2.url = _url;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}", "\r\nimport HHAudio from \"../Global/modules/Audio/HHAudio\";\r\nimport FGUIMount from \"../Global/modules/FGUI/FGUIMount\";\r\nimport FGUIUtil from \"../Global/modules/FGUI/FGUIUtil\";\r\nimport MainUtil from \"../utils/MainUitl\";\r\nimport { GameFlyTaskAwardInfo, GameFlyTaskAwardType, GameLogic, GameTasksName, GameTaskType } from \"./GameLogic\";\r\n\r\n\r\n\r\nexport interface GameTaskInfo {\r\n    awardType: GameFlyTaskAwardType,\r\n    taskType: GameTaskType,\r\n}\r\n\r\nexport default class GameTaskPopup extends FGUIMount {\r\n\r\n\r\n    //\u7528\u5230\u7684FGUI\u4E2D\u5143\u4EF6,\u5FC5\u987B\u548Cfgui\u540D\u5B57\u4E00\u81F4\r\n    element = {\r\n        bg: null as fgui.GImage,\r\n        closeBtn: null as fgui.GButton,\r\n        goBtn: null as fgui.GButton,\r\n        titleLoader: null as fgui.GLoader,\r\n        iconLoader: null as fgui.GLoader,\r\n        descText: null as fgui.GTextField,\r\n    }\r\n    // classType={\r\n    //     startBtn:StartScene,\r\n    // }\r\n    //\u5143\u4EF6\u8DEF\u5F84\uFF0C\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\uFF0C\u8DEF\u5F84\u4EE5 . \u9694\u5F00\r\n    protected elementPath = {\r\n        // btntitle: 'attentionBtn.title'\r\n    }\r\n\r\n    myInfo: GameTaskInfo = null as any;\r\n\r\n    onStart() {\r\n\r\n        this.clickBtn();\r\n        this.listenText();\r\n\r\n    }\r\n    onShow() {\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopIn(this, () => {\r\n            this.element.bg.visible = true;\r\n        });\r\n        GameLogic.PauseGame(true);\r\n        let _awardType = GameLogic.GetCurGameFlyTaskAwardType();\r\n        if (!_awardType) {\r\n            return;\r\n        }\r\n        let _taskType = GameLogic.GetGameFlyTaskType(_awardType);\r\n        this.SetInfo({\r\n            awardType: _awardType,\r\n            taskType: _taskType\r\n        })\r\n        this._isShare = false;\r\n        Laya.stage.on(\"checkShare\", this, this.checkShareFun);\r\n    }\r\n    onHide() {\r\n        Laya.stage.off(\"checkShare\", this, this.checkShareFun);\r\n    }\r\n\r\n    onEnd() {\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    close(_callBack?: Function) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        this.element.bg.visible = false;\r\n        FGUIUtil.ActionPopOut(this, () => {\r\n            _callBack && _callBack();\r\n            this.Hide();\r\n        })\r\n    }\r\n    clickBtn() {\r\n        //\u5F00\u59CB\u6309\u94AE\r\n        this.element.closeBtn.onClick(this, () => {\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('closeBtn');\r\n            GameLogic.PreventGameTouch();\r\n            this.close(() => {\r\n                GameLogic.PauseGame(false);\r\n            });\r\n\r\n\r\n        })\r\n        //\u7ACB\u5373\u524D\u5F80\r\n        this.element.goBtn.onClick(this, () => {\r\n\r\n            HHAudio.PlayEffect('btn');\r\n            console.log('goBtn');\r\n            GameLogic.PreventGameTouch();\r\n\r\n            GameLogic.DoGameFlyTask(this.myInfo.taskType, this.myInfo.awardType, (_success) => {\r\n                if (_success) {\r\n                    this.close(() => {\r\n                        GameLogic.PauseGame(false);\r\n                    });\r\n                }\r\n            })\r\n\r\n        })\r\n\r\n    }\r\n\r\n    private _isShare = false;\r\n    checkShareFun() {\r\n        if (this._isShare) {\r\n            this._isShare = false;\r\n            //MainUtil.analysis('shareSuccess', { type: 12 });\r\n        }\r\n    }\r\n    listenText() {\r\n        // this.element.reviveText.text = '' + GameLogic.GetCurScore();\r\n    }\r\n    SetInfo(_info: GameTaskInfo) {\r\n        // console.error('SetInfo', _info);\r\n\r\n        this.myInfo = _info;\r\n        this.element.descText.text = `${GameTasksName[_info.taskType]}\\n${GameFlyTaskAwardInfo[_info.awardType].desc}`;\r\n        this.element.iconLoader.url = this.getUrl('icon', _info.awardType);\r\n        this.element.titleLoader.url = this.getUrl('title', _info.awardType);\r\n        // console.error('titleLoader', this.element.titleLoader);\r\n\r\n    }\r\n\r\n    getUrl(_type: 'icon' | 'title', _taskType: GameFlyTaskAwardType) {\r\n        // console.error('_taskType', _taskType);\r\n        // console.error('_taskType2', GameFlyTaskAwardInfo[_taskType]);\r\n\r\n        const pktName = 'GameScene';\r\n        let _name = '';\r\n        switch (_type) {\r\n            case 'icon':\r\n                _name = GameFlyTaskAwardInfo[_taskType].iconPic;\r\n                break;\r\n            case 'title':\r\n                _name = GameFlyTaskAwardInfo[_taskType].titlePic;\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        // console.error('getUrl _name',_name);\r\n\r\n        return fgui.UIPackage.getItemURL(pktName, _name);\r\n    }\r\n\r\n\r\n\r\n\r\n}", "\r\nimport { PkgNameType } from '../Global/FGUIConfig';\r\nimport FGUIUtil from '../Global/modules/FGUI/FGUIUtil';\r\nimport { GameLogic } from './GameLogic';\r\nimport StartScene from './StartScene';\r\nimport FGUIScene from './../Global/modules/FGUI/FGUIScene';\r\nimport SceneUtil from './../Global/modules/tools/SceneUtil';\r\nimport HHAudio from './../Global/modules/Audio/HHAudio';\r\nimport GameOver from './GameOver';\r\nimport RevivePopup from './RevivePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport GetScore from './FGUIPrefab/GetScore';\r\nimport DoubleAwardPopup from './DoubleAwardPopup';\r\nimport TB from '../platform/TB';\r\nimport GameAward, { GameAwardInfo } from './GameAward';\r\nimport ComboEffect from './FGUIPrefab/ComboEffect';\r\nimport MergeExternAward from './MergeExternAward';\r\nimport SurpassHint from './SurpassHint';\r\nimport NoticeBoard from './NoticeBoard';\r\nimport GameTaskPopup from './GameTaskPopup';\r\nimport { ModuleSkins } from '../module/ModuleSkins';\r\n\r\nenum answerState {\r\n    during,\r\n    wait\r\n}\r\nexport default class GameScene extends FGUIScene {\r\n\r\n    pkgName: PkgNameType = 'GameScene';\r\n    element = {\r\n        //\u8FD4\u56DE\u6309\u94AE\r\n        backButton: null as fgui.GButton,\r\n        score: null as fgui.GTextField,\r\n        scoreIcon: null as fgui.GLoader,\r\n\r\n        //\u80CC\u666F\u56FE\r\n        // bg: null as fgui.GComponent,\r\n        //\u5F00\u59CB\u754C\u9762\r\n        // startPannel: null as fgui.GComponent,\r\n        //\u7ED3\u675F\u754C\u9762\r\n        GameOver: null as GameOver,\r\n        ConfirmPopup: null as ConfirmPopup,\r\n        //\u590D\u6D3B\u5F39\u7A97\r\n        RevivePopup: null as RevivePopup,\r\n        //\u53CC\u500D\u5956\u52B1\u5F39\u7A97\r\n        DoubleAwardPopup: null as DoubleAwardPopup,\r\n        //\u6E38\u620F\u5185\u4F18\u60E0\u5238\u5956\u52B1\r\n        GameAward: null as GameAward,\r\n        //\u6E38\u620F\u5185\u4F18\u60E0\u5238\u5956\u52B1\r\n        MergeExternAward: null as MergeExternAward,\r\n        gameStartHint: null as fgui.GTextField, //\u5F00\u59CB\u6587\u5B57\u63D0\u793A\r\n        SurpassHint: null as SurpassHint, //\u8D85\u8FC7\u4EBA\u6570\u63D0\u793A\r\n        gameFlyTaskBtn: null as fgui.GButton, //\u6E38\u620F\u5185\u98DE\u5165\u4EFB\u52A1\u6309\u94AE\r\n        GameTaskPopup: null as GameTaskPopup, //\u6E38\u620F\u5185\u98DE\u5165\u4EFB\u52A1\u5F39\u7A97\r\n        //\u5012\u8BA1\u65F6\u6570\u5B57\r\n        // start_CountDownLabel: null as fgui.GLabel,\r\n        //\r\n        // restartBtn: null as fgui.GButton,\r\n    }\r\n    /**\r\n     * \u5143\u4EF6\u8DEF\u5F84\r\n     * \u76F4\u63A5\u5728\u4E3B\u7EC4\u4EF6\u4E0B\u53EF\u4EE5\u4E0D\u586B\r\n     */\r\n    protected elementPath = {\r\n        // scoreNText: 'scoreBtn.scoreNText',\r\n    };\r\n    mountPath = {\r\n        GameOver: {\r\n            classType: GameOver,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"GameOver\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        RevivePopup: {\r\n            classType: RevivePopup,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"RevivePopup\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        DoubleAwardPopup: {\r\n            classType: DoubleAwardPopup,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"DoubleAwardPopup\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        ConfirmPopup: {\r\n            classType: ConfirmPopup,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"ConfirmPopup\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        GameAward: {\r\n            classType: GameAward,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"GameAward\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        MergeExternAward: {\r\n            classType: MergeExternAward,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"MergeExternAward\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        SurpassHint: {\r\n            classType: SurpassHint,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"SurpassHint\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        GameTaskPopup: {\r\n            classType: GameTaskPopup,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n            compName: \"GameTaskPopup\"//(\u7EC4\u4EF6\u540D)\r\n        },\r\n        // EmojiComp: {\r\n        //     classType: EmojiComp,//\u81EA\u5B9A\u4E49\u7C7B\u540D\r\n        //     compName: \"EmojiComp\"//(\u7EC4\u4EF6\u540D)\r\n        // }\r\n    };\r\n    // private mapBgs: fgui.GImage[] = [];\r\n\r\n    // private answerInfo = {\r\n    //     state: answerState.wait,\r\n    //     leftTime: 0,\r\n    // }\r\n    // private haveResult = false;\r\n    private curScore = 0;\r\n\r\n    async onStart() {\r\n        // console.log('Map', this.element.Map);\r\n        //\u83B7\u53D6\u6240\u6709\u80CC\u666F\u56FE\u7247\r\n        // this.mapBgs = this.element.bg._children as any[];\r\n        this.element.RevivePopup.Hide();\r\n        this.element.DoubleAwardPopup.Hide();\r\n        this.changeSkin();\r\n        this.clickBtn();\r\n        // console.log('this.mapBgs', this.mapBgs);\r\n        // Laya.timer.loop(15, this, this.bgMove);\r\n        GameLogic.InGame();\r\n        GetScore.SetParent(this.main);\r\n        ComboEffect.SetParent(this.main);\r\n        GameLogic.gameScene = this;\r\n        GameLogic.Restart();\r\n\r\n        this.listenText();\r\n        this.element.GameAward.Hide();\r\n        this.HideFlyTask();\r\n        // console.log('GameLogic.gameScene', GameLogic.gameScene);\r\n\r\n        this.element.gameFlyTaskBtn.getChildAt(0).asImage\r\n\r\n\r\n\r\n    }\r\n    onEnd() {\r\n        // console.error('onEnd');\r\n        GameLogic.gameScene = null;\r\n        GameLogic.OutGame();\r\n        Laya.stage.offAllCaller(this)\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    changeSkin() {\r\n        ModuleSkins.ChangeFguiICON(this.element.gameFlyTaskBtn, 'honeybeeIcon');\r\n        ModuleSkins.ChangeSkin(this.element.scoreIcon, 'integralIcon');\r\n        // console.error('scoreIcon', this.element.scoreIcon);\r\n\r\n    }\r\n    clickBtn() {\r\n        //\u8FD4\u56DE\u6309\u94AE\r\n        this.element.backButton.onClick(this, () => {\r\n            // console.log('backButton');\r\n\r\n\r\n            HHAudio.PlayEffect('btn');\r\n            GameLogic.PreventGameTouch();\r\n\r\n\r\n            GameLogic.PauseGame(true);\r\n            this.element.ConfirmPopup.Show();\r\n\r\n            // SceneUtil.CloseScene('MyGameScene');\r\n            // FGUIUtil.ShowScene(StartScene);\r\n\r\n            // GameLogic.GameOver();\r\n\r\n            //\u6D4B\u8BD5\u98DE\u5165\u4EFB\u52A1\r\n            // GameLogic.flyTaskTest(2, 'share', 'supperFruit');\r\n\r\n            // this.ShowMergeExternAward(100);\r\n            // GameLogic.AddScoreByKind(9);\r\n\r\n\r\n        })\r\n        //\u98DE\u5165\u4EFB\u52A1\u6309\u94AE\r\n        this.element.gameFlyTaskBtn.onClick(this, () => {\r\n            console.log('gameFlyTaskBtn');\r\n\r\n\r\n            GameLogic.PreventGameTouch();\r\n\r\n            HHAudio.PlayEffect('btn');\r\n            GameLogic.PauseGame(true);\r\n            this.element.GameTaskPopup.Show();\r\n\r\n            // SceneUtil.CloseScene('MyGameScene');\r\n            // FGUIUtil.ShowScene(StartScene);\r\n\r\n            // GameLogic.GameOver();\r\n\r\n        })\r\n\r\n\r\n        //\u91CD\u73A9\u6309\u94AE\r\n        // this.element.restartBtn.onClick(this, () => {\r\n        //     HHAudio.PlayEffect('btn');\r\n        //     GameLogic.Restart();\r\n        // })\r\n    }\r\n    listenText() {\r\n        this.element.score.text = '' + GameLogic.GetCurScore();\r\n        Laya.stage.on('curScore', this, () => {\r\n            this.scorePerAdd = 1;\r\n            let _dif = GameLogic.GetCurScore() - this.curScore;\r\n            if (_dif > 10) {\r\n                this.scorePerAdd = _dif / 12;\r\n            }\r\n            this.stopScoreUpdate();\r\n            Laya.Tween.to(this.element.score, { scaleX: 1.3, scaleY: 1.3 }, 100);\r\n            Laya.timer.frameLoop(5, this, this.scoreUpdate);\r\n        })\r\n    }\r\n\r\n    async GameStart() {\r\n        this.surpassLevel = 0;\r\n        this.HideFlyTask();\r\n        this.stopScoreUpdate();\r\n        this.showGameOver(false);\r\n        this.showStart(false);\r\n        this.element.ConfirmPopup.close();\r\n        // this.haveResult = false;\r\n        console.log('Gamestart');\r\n        this.element.GameOver.GameStart();\r\n        // this.CheckTaskState();\r\n        this.ShowStartHint(true);\r\n        this.element.MergeExternAward.closeself();\r\n    }\r\n    GameRevive() {\r\n        this.showGameOver(false);\r\n        console.log('GameRevive');\r\n        this.element.GameOver.GameRevive();\r\n        // this.CheckTaskState();\r\n    }\r\n    GameOver() {\r\n        console.log('gamescene GameOver');\r\n        this.stopScoreUpdate();\r\n        if (!GameLogic.isGameFail) {\r\n            FGUIUtil.ShowScene(StartScene);\r\n        }\r\n        else {\r\n            // NoticeBoard.AutoShow('endGame', () => {\r\n            //     GameLogic.ShowGameOverPopup();\r\n            // })\r\n            let _gettask = GameLogic.GetGameOverTask();\r\n            if (GameLogic.reviveLeftTime > 0 && _gettask) {\r\n                this.element.RevivePopup.Show();\r\n                this.element.RevivePopup.SetInfo(_gettask);\r\n            }\r\n            else {\r\n                GameLogic.ShowGameOverPopup();\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n    GamePause(_pause: boolean) {\r\n        if (this.element.gameFlyTaskBtn.visible) {\r\n            this.main.getTransition(\"flyTask\").setPaused(_pause);\r\n        }\r\n\r\n    }\r\n    private scorePerAdd = 1;\r\n    scoreUpdate() {\r\n        if (GameLogic.GetCurScore() - this.curScore > 1) {\r\n            this.curScore += this.scorePerAdd;\r\n        }\r\n        else {\r\n            this.curScore = GameLogic.GetCurScore();\r\n            this.stopScoreUpdate();\r\n        }\r\n        this.AutoShowSurpassHint(this.curScore);\r\n        this.element.score.text = '' + (this.curScore | 0);\r\n    }\r\n    stopScoreUpdate() {\r\n        this.element.score.text = '' + (GameLogic.GetCurScore() | 0);\r\n        this.element.score.setScale(1, 1);\r\n        Laya.Tween.clearAll(this.element.score);\r\n        Laya.timer.clear(this, this.scoreUpdate);\r\n    }\r\n    async showStart(_show: boolean) {\r\n        // this.element.startPannel.visible = _show;\r\n        // if (_show) {\r\n        //     console.log('leftTime', this.answerInfo.leftTime);\r\n\r\n        //     this.element.start_CountDownLabel.text = '' + this.answerInfo.leftTime;\r\n        // }\r\n\r\n        // if (_show) {\r\n        //     await this.ShowCountDown(this.element.start_CountDownLabel, 3);\r\n        //     this.element.startPannel.visible = false;\r\n        // }\r\n    }\r\n\r\n    showGameOver(_show: boolean) {\r\n        if (_show) {\r\n            let _gettask = GameLogic.GetGameOverTask();\r\n            this.element.GameOver.Show();\r\n        }\r\n        else {\r\n            this.element.GameOver.close();\r\n        }\r\n        console.log('showGameOver', _show);\r\n    }\r\n    showDoubleAward(_show: boolean) {\r\n        if (_show) {\r\n            let _gettask = GameLogic.GetGameOverTask();\r\n            this.element.DoubleAwardPopup.Show();\r\n            this.element.DoubleAwardPopup.SetInfo(_gettask);\r\n        }\r\n        else {\r\n            this.element.DoubleAwardPopup.close();\r\n        }\r\n        console.log('showDoubleAward', _show);\r\n    }\r\n    ShowGameAward(_data: GameAwardInfo) {\r\n        console.log('ShowGameAward', _data);\r\n\r\n        this.element.GameAward.SetInfo(_data);\r\n        this.element.GameAward.Show();\r\n    }\r\n    ShowStartHint(_show: boolean) {\r\n        if (_show == this.element.gameStartHint.visible) {\r\n            return;\r\n        }\r\n        this.element.gameStartHint.visible = _show;\r\n    }\r\n    ShowMergeExternAward(_awardScore: number) {\r\n        GameLogic.PauseGame(true);\r\n        this.element.MergeExternAward.SetInfo({ score: _awardScore });\r\n        this.element.MergeExternAward.Show();\r\n    }\r\n    //\u663E\u793A\u8D85\u8D8A\u699C\r\n    ShowSurpassHint(_surpassPercent: number) {\r\n        console.log('\u663E\u793A\u8D85\u8D8A\u699C', _surpassPercent);\r\n        this.element.SurpassHint.SetInfo({ percent: _surpassPercent });\r\n        this.element.SurpassHint.Show();\r\n    }\r\n    private surpassLevel = 0;\r\n    // private SurpassLevelInfo = [\r\n    //     { score: 2, percent: 80 },\r\n    //     { score: 10, percent: 90 },\r\n    //     { score: 15, percent: 95 },\r\n    //     { score: 20, percent: 99 }\r\n    // ];\r\n    private SurpassLevelInfo = [\r\n        { score: 250, percent: 80 },\r\n        { score: 300, percent: 90 },\r\n        { score: 450, percent: 95 },\r\n        { score: 600, percent: 99 }\r\n    ];\r\n    AutoShowSurpassHint(_curscore: number) {\r\n        // console.error('AutoShowSurpassHint', _curscore);\r\n\r\n        // let _surpassInfo: { score: number, percent: number } = null as any;\r\n        let _show = false;\r\n        while (this.surpassLevel < this.SurpassLevelInfo.length) {\r\n            let _info = this.SurpassLevelInfo[this.surpassLevel];\r\n            if (_curscore < _info.score) {\r\n                break;\r\n            }\r\n            _show = true;\r\n            this.surpassLevel++;\r\n        }\r\n        if (_show) {\r\n            this.element.SurpassHint.SetInfo({ percent: this.SurpassLevelInfo[this.surpassLevel - 1].percent });\r\n            this.element.SurpassHint.Show();\r\n        }\r\n\r\n    }\r\n    HideFlyTask() {\r\n        this.element.gameFlyTaskBtn.visible = false;\r\n        this.main.getTransition(\"flyTask\").stop();\r\n    }\r\n\r\n    ShowFlyTask() {\r\n        //\u5982\u679C\u6B63\u5728\u6267\u884C\u52A8\u753B\u5219\u4E0D\u518D\u91CD\u590D\u6267\u884C\r\n        if (this.element.gameFlyTaskBtn.visible) {\r\n            return;\r\n        }\r\n        this.element.gameFlyTaskBtn.visible = true;\r\n        let _fly = this.main.getTransition(\"flyTask\");\r\n        _fly.timeScale = 0.8;\r\n        // _fly.changePlayTimes(2);\r\n        // let _y = (300 + Math.random() * 100) | 0;\r\n        // this.element.gameFlyTaskBtn.setXY(-150, _y);\r\n        _fly.play((Laya.Handler.create(this, () => {\r\n            this.HideFlyTask();\r\n        })));\r\n\r\n\r\n    }\r\n    // private haveTask = false;\r\n    // CheckTaskState() {\r\n    //     this.haveTask = false;\r\n    //     //\u590D\u6D3B\r\n    //     // if (GameLogic.reviveLeftTime > 0) \r\n    //     {\r\n    //         TaskUtil.getTaskList(() => {\r\n    //             let list = TaskUtil.getTasks();\r\n    //             console.error('list', list);\r\n    //             let _task = null as any;\r\n    //             let _taskKey = '' as any;\r\n    //             let _showtask = (_favorShop: boolean) => {\r\n    //                 _task = list.find(v => v.id == reviveTask.attention.id);\r\n    //                 console.log('_task', _task.title, _task.finish, _task.limit);\r\n\r\n    //                 if (_favorShop && _task && _task.finish < _task.limit) {\r\n    //                     _taskKey = 'attention';\r\n    //                 }\r\n    //                 else {\r\n    //                     //\u6D4F\u89C8\u6216\u6536\u85CF\u6216\u9080\u8BF7\r\n    //                     let keys = ['browse', 'collect', 'invite'];\r\n    //                     keys = keys.sort(v => Math.random() - 0.5);\r\n    //                     // let _idx = Math.random() < 0.5 ? 0 : 1;\r\n    //                     while (keys.length > 0) {\r\n    //                         let _curKey = keys.pop();\r\n    //                         _task = list.find(v => v.id == reviveTask[_curKey].id);\r\n    //                         console.log('_task', _task.title, _task.finish, _task.limit);\r\n    //                         if (_task && _task.finish < _task.limit) {\r\n    //                             _taskKey = _curKey;\r\n    //                             break;\r\n    //                         }\r\n    //                     }\r\n\r\n    //                     // else {\r\n    //                     //     _idx = 1 - _idx\r\n    //                     //     _task = list.find(v => v.id == reviveTask[keys[_idx]].id);\r\n    //                     //     console.log('_task', _task.title, _task.finish, _task.limit);\r\n    //                     //     if (_task && _task.finish < _task.limit) {\r\n    //                     //         _taskKey = keys[_idx];\r\n    //                     //     }\r\n    //                     // }\r\n    //                 }\r\n    //                 if (_task) {\r\n    //                     this.element.RevivePopup.SetInfo(_taskKey, _task.title);\r\n    //                     this.element.DoubleAwardPopup.SetInfo(_taskKey, _task.title);\r\n    //                     this.haveTask = true;\r\n    //                 }\r\n    //                 else {\r\n    //                     console.error('\u672A\u627E\u76F8\u5173\u4EFB\u52A1');\r\n    //                     this.haveTask = false;\r\n    //                 }\r\n    //             }\r\n    //             // console.log('\u5173\u6CE8\u5E97\u94FA');\r\n    //             //\u5173\u6CE8\u5E97\u94FA\r\n    //             TB.checkShopFavoredStatus((res) => {\r\n    //                 console.log('\u5173\u6CE8\u5E97\u94FA1', res);\r\n    //                 _showtask(!res.isFavor);\r\n    //             }, () => {\r\n    //                 console.log('\u5173\u6CE8\u5E97\u94FA2');\r\n    //                 _showtask(false);\r\n    //             })\r\n\r\n\r\n    //         })\r\n    //     }\r\n    // }\r\n}", "\r\nimport { GameLogic } from '../FGUIClass/GameLogic';\r\nimport Fruit from './Fruit';\r\nimport Juice from './Juice';\r\nimport HHAudio from './../Global/modules/Audio/HHAudio';\r\nimport FGUIUtil from '../Global/modules/FGUI/FGUIUtil';\r\nimport GameScene from '../FGUIClass/GameScene';\r\nimport GetScore from './../FGUIClass/FGUIPrefab/GetScore';\r\nimport { ModuleSkins } from '../module/ModuleSkins';\r\nexport default class MyGameScene extends Laya.Script {\r\n\r\n    /** @prop {name:fruitParent, tips:\"\u6C34\u679C\u7236\u8282\u70B9\", type:Node}*/\r\n    fruitParent: Laya.Node = null as any;\r\n    /** @prop {name:fruitPrefab, tips:\"\u6C34\u679C\u9884\u5236\u4F53\", type:Prefab}*/\r\n    fruitPrefab: Laya.Prefab = null as any;\r\n\r\n    /** @prop {name:juiceParent, tips:\"\u679C\u6C41\u7236\u8282\u70B9\", type:Node}*/\r\n    juiceParent: Laya.Node = null as any;\r\n    /** @prop {name:juicePrefab, tips:\"\u679C\u6C41\u9884\u5236\u4F53\", type:Prefab}*/\r\n    juicePrefab: Laya.Prefab = null as any;\r\n    /** @prop {name:topLine, tips:\"\u5931\u8D25\u7EBF\", type:Node}*/\r\n    topLine: Laya.Box = null as any;\r\n    /** @prop {name:bottomLine, tips:\"\u6700\u4F4E\u7EBF\", type:Node}*/\r\n    bottomLine: Laya.Box = null as any;\r\n\r\n    /** @prop {name:bgImage, tips:\"\u80CC\u666F\u56FE\", type:Node}*/\r\n    bgImage: Laya.Image = null as any;\r\n\r\n    private fruitCount = 0;\r\n    private curTouchX = -1;\r\n    constructor() { super(); }\r\n\r\n    onEnable(): void {\r\n        // console.log('onEnableonEnable');\r\n        this.changeSkin();\r\n        Fruit.SetPrefab(this.fruitPrefab, this.fruitParent);\r\n        Juice.SetPrefab(this.juicePrefab, this.juiceParent);\r\n        Laya.stage.on(\"sameContact\", this, this.onSameFruitContact);\r\n        GameLogic.myGameScene = this;\r\n        FGUIUtil.ShowScene(GameScene);\r\n        // let _node = this.owner as Laya.Scene;\r\n        // console.error('MyGameScene', _node.width, _node.height);\r\n        // console.error('stage', Laya.stage.width, Laya.stage.height);\r\n\r\n        // Laya.stage.on(Laya.Event.MOUSE_DOWN, this, (e: any) => {\r\n        //     console.log('MOUSE_DOWN', e);\r\n        //     this.onStageMouseDown1(e);\r\n\r\n        // })\r\n        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, (e: any) => {\r\n        //     // console.log('MOUSE_MOVE', e);\r\n        //     this.onStageMouseMove1(e);\r\n\r\n        // })\r\n        // Laya.stage.on(Laya.Event.MOUSE_UP, this, (e: any) => {\r\n        //     console.log('MOUSE_UP', e);\r\n        //     this.onStageMouseUp1(e);\r\n\r\n        // })\r\n        // Laya.stage.on(Laya.Event.MOUSE_OUT, this, (e: any) => {\r\n        //     console.log('MOUSE_OUT', e);\r\n        //     this.onStageMouseUp(e);\r\n        // })\r\n\r\n\r\n    }\r\n    onDisable(): void {\r\n        Laya.stage.offAllCaller(this);\r\n        this.clearAll();\r\n        GameLogic.myGameScene = null;\r\n    }\r\n    changeSkin() {\r\n        ModuleSkins.ChangeSkin(this.bgImage, 'gameBgImage');\r\n    }\r\n    clearAll() {\r\n        this.fruitCount = 0;\r\n        Laya.timer.clearAll(this);\r\n        Fruit.DestoryAll();\r\n        Juice.DestoryAll();\r\n    }\r\n    GameStart() {\r\n        this.touchID = -1;\r\n        this.curTopY = 0;\r\n        this.clearAll();\r\n        console.log('MyGameScene GameStart');\r\n        Laya.timer.once(300, this, this.ShowFruit);\r\n        Laya.timer.loop(2000, this, this.fruitUpdate);\r\n        this.curDetectFruitId = -1;\r\n        Laya.timer.frameLoop(1, this, this.fruitTopUpdate);\r\n        if (this.topLine.visible) {\r\n            Laya.Tween.clearAll(this.topLine);\r\n            this.topLine.visible = false;\r\n            this.topLine.alpha = 1;\r\n        }\r\n        GameLogic.gameFruitValidY.bottom = this.bottomLine.y;\r\n        GameLogic.gameFruitValidY.top = this.topLine.y;\r\n        // Laya.Physics.I.start();\r\n\r\n    }\r\n    GameRevive() {\r\n        this.touchID = -1;\r\n        this.curTopY = 0;\r\n        Laya.timer.loop(2000, this, this.fruitUpdate);\r\n        this.curDetectFruitId = -1;\r\n        Laya.timer.frameLoop(1, this, this.fruitTopUpdate);\r\n        console.log('MyGameScene GameRevive');\r\n        let _removeFruit: Fruit[] = [];\r\n        for (const fruit of Fruit.allItems) {\r\n            if (fruit.node.y < 600 && fruit.collisionState) {\r\n                _removeFruit.push(fruit);\r\n            }\r\n        }\r\n        while (_removeFruit.length > 0) {\r\n            let fruit = _removeFruit.pop();\r\n            fruit.RemoveSelf();\r\n        }\r\n        Laya.timer.once(300, this, this.ShowFruit);\r\n        // Laya.Physics.I.start();\r\n    }\r\n    GameOver() {\r\n        // Laya.Physics.I.stop();\r\n        Laya.timer.clear(this, this.fruitUpdate);\r\n        Laya.timer.clear(this, this.fruitTopUpdate);\r\n    }\r\n    fruitUpdate() {\r\n        // console.log('fruitUpdate fruitTopY', GameLogic.fruitTopY);\r\n        //\u66F4\u65B0\u6700\u7EC8\u5224\u65AD\u7684\u6700\u9AD8\u4F4D\u7F6E\r\n        if (this.curTopY > 0) {\r\n            // console.error('fruitUpdate', GameLogic.fruitTopY, this.curTopY);\r\n            GameLogic.fruitTopY = this.curTopY;\r\n            this.curTopY = 0;\r\n        }\r\n        if (GameLogic.fruitTopY <= this.topLine.y) {\r\n            GameLogic.GameOver();\r\n            return;\r\n        }\r\n        // if (GameLogic.fruitTopY < 1500) {\r\n        if (GameLogic.fruitTopY < 550) {\r\n            if (!this.topLine.visible) {\r\n                this.topLine.visible = true;\r\n                this.topLine.alpha = 1;\r\n                let _fadeOut = () => {\r\n                    Laya.Tween.to(this.topLine, { alpha: 0 }, 1000, undefined, Laya.Handler.create(this, () => {\r\n                        Laya.Tween.to(this.topLine, {}, 500, undefined, Laya.Handler.create(this, () => {\r\n                            Laya.Tween.to(this.topLine, { alpha: 1 }, 1000, undefined, Laya.Handler.create(this, _fadeOut));\r\n                        }));\r\n                    }));\r\n                }\r\n                _fadeOut();\r\n            }\r\n        }\r\n        else {\r\n            if (this.topLine.visible) {\r\n                Laya.Tween.clearAll(this.topLine);\r\n                this.topLine.visible = false;\r\n                this.topLine.alpha = 1;\r\n            }\r\n        }\r\n    }\r\n    private curDetectFruitId = -1;\r\n    private loopTopY = 2000;\r\n    // private lastTopY = 2000;\r\n    private curTopY = 0;\r\n    fruitTopUpdate() {\r\n        if (Fruit.allItems.length <= 0) {\r\n            return;\r\n        }\r\n        let _detect = () => {\r\n            if (this.curDetectFruitId < 0 || this.curDetectFruitId >= Fruit.allItems.length) {\r\n                if (this.curDetectFruitId >= 0) {\r\n                    //\u6BCF\u6B21\u68C0\u6D4B\u4E00\u6B21\u5FAA\u73AF\u540E\u66F4\u65B0\u6700\u5C0F\u6700\u9AD8\u4F4D\u7F6E\u4E3A\u5F53\u524D\u6700\u9AD8\u4F4D\u7F6E\r\n                    if (this.curTopY < this.loopTopY) {\r\n                        // console.error('this.curTopY', this.curTopY);\r\n                        this.curTopY = this.loopTopY;\r\n                    }\r\n                }\r\n                this.curDetectFruitId = 0;\r\n                this.loopTopY = 2000;\r\n            }\r\n            let _fruit = Fruit.allItems[this.curDetectFruitId];\r\n            if (!_fruit.collisionState || !_fruit.isContacted) {\r\n                return;\r\n            }\r\n            //\u83B7\u5F97\u6C34\u679C\u6700\u5927\u9AD8\u5EA6\r\n            let _y = _fruit.GetTopY();\r\n            if (this.loopTopY > _y) {\r\n                this.loopTopY = _y;\r\n            }\r\n\r\n            this.curDetectFruitId++;\r\n        }\r\n        //\u6BCF\u6B21\u5FAA\u73AF\u68C0\u6D4B\u6C34\u679C\r\n        let _time = Fruit.allItems.length > 10 ? 1 : 3;\r\n        while (_time > 0) {\r\n            _detect();\r\n            _time--;\r\n        }\r\n\r\n    }\r\n    private touchID = -1;\r\n    onStageMouseDown(e: any) {\r\n        // if (this.touchID != -1 && e.touchId > 0) {\r\n        //     return;\r\n        // }\r\n\r\n        //\u4E3A\u4E86\u9632\u6B62ui\u70B9\u51FB\u4E8B\u4EF6\u5F71\u54CD\u6E38\u620F\uFF0C\u5EF6\u8FDF\u4E00\u5E27\u5224\u65AD\u6E38\u620F\u903B\u8F91\r\n        Laya.timer.frameOnce(1, this, () => {\r\n\r\n            this.touchID = e.touchId;\r\n            // console.error('onStageMouseDown e', e);\r\n            this.onStageMouseMove(e);\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    onStageMouseMove(e: any) {\r\n        // console.log('onStageMouseMove e', e);\r\n        // if (e.touchId != this.touchID) {\r\n        //     return;\r\n        // }\r\n        //\u4E3A\u4E86\u9632\u6B62ui\u70B9\u51FB\u4E8B\u4EF6\u5F71\u54CD\u6E38\u620F\uFF0C\u5EF6\u8FDF\u4E00\u5E27\u5224\u65AD\u6E38\u620F\u903B\u8F91\r\n        Laya.timer.frameOnce(1, this, () => {\r\n\r\n            if (!GameLogic.IsGameTouchEnable()) {\r\n                return;\r\n            }\r\n            if (GameLogic.gameState != 2 || e.stageY < 150 || GameLogic.isPause) {\r\n                return;\r\n            }\r\n            if (e && e.stageX < 10 || e.stageX > Laya.stage.width - 10) {\r\n                return;\r\n            }\r\n            this.curTouchX = e.stageX;\r\n            if (this.curFruit) {\r\n                this.curFruit.SetMoveTarget(e.stageX);\r\n            }\r\n        })\r\n\r\n        // console.error('onStageMouseMove', this.curFruit);\r\n    }\r\n    onStageMouseUp(e: any) {\r\n\r\n        //\u4E3A\u4E86\u9632\u6B62ui\u70B9\u51FB\u4E8B\u4EF6\u5F71\u54CD\u6E38\u620F\uFF0C\u5EF6\u8FDF\u4E00\u5E27\u5224\u65AD\u6E38\u620F\u903B\u8F91\r\n        Laya.timer.frameOnce(1, this, () => {\r\n\r\n            // if (e.touchId != this.touchID) {\r\n            //     return;\r\n            // }\r\n            this.touchID = -1;\r\n            if (!GameLogic.IsGameTouchEnable()) {\r\n                return;\r\n            }\r\n            // console.log('onStageMouseUp e', e);\r\n            if (GameLogic.gameState != 2 || e.stageY < 150 || GameLogic.isPause) {\r\n                return;\r\n            }\r\n            this.curTouchX = -1;\r\n            // console.log('onStageMouseUp', e.stageX, e.stageY);\r\n            if (this.curFruit) {\r\n                let _fruit = this.curFruit;\r\n                this.curFruit.StartDown(e.stageX, () => {\r\n                    GameLogic.comboTime = 0;\r\n                    _fruit.EnableCollision(true);\r\n                    // HHAudio.PlayEffect('meet', false, 100);\r\n                    Laya.timer.once(1000, this, this.ShowFruit);\r\n                });\r\n                GameLogic.ShowStartHint(false);\r\n\r\n\r\n                this.curFruit = null;\r\n\r\n            }\r\n            // console.error('onStageMouseUp', this.curFruit);\r\n        })\r\n\r\n\r\n\r\n    }\r\n    // onMouseOut1(e: any) {\r\n    //     // console.error('onMouseOut', e);\r\n    //     this.onStageMouseUp(e);\r\n    // }\r\n    private curFruit: Fruit | null = null;\r\n    ShowFruit() {\r\n        if (this.curFruit) {\r\n            return;\r\n        }\r\n        // this.curFruit = Fruit.Create({ x: 375, y: 1000, kind: this.getNextFruitId() });\r\n        this.curFruit = Fruit.Create({ x: 375, y: 150, kind: this.getNextFruitId() });\r\n        this.curFruit.EnableCollision(false);\r\n        // console.error('ShowFruit', this.curFruit);\r\n        //\u91CD\u7F6E\u9884\u5B9A\u6C34\u679C\r\n        this.bookNextFruit = 0;\r\n\r\n        this.fruitCount++;\r\n    }\r\n    onSameFruitContact(_data: { self: Fruit, other: Fruit }) {\r\n        if (GameLogic.gameState != 2) {\r\n            return;\r\n        }\r\n        // let _x = (_data.self.node.x + _data.other.node.x) / 2;\r\n        // let _y = (_data.self.node.y + _data.other.node.y) / 2;\r\n        let _getcurkind = -1;\r\n        if (typeof _data.self.myInfo.kind == 'number') {\r\n            _getcurkind = _data.self.myInfo.kind;\r\n        }\r\n        else if (typeof _data.other.myInfo.kind == 'number') {\r\n            _getcurkind = _data.other.myInfo.kind;\r\n        }\r\n        if (_getcurkind <= 0) {\r\n            console.error('\u6CA1\u6709\u83B7\u53D6\u5230\u53EF\u4EE5\u5408\u5E76\u7684\u6C34\u679C');\r\n            return;\r\n\r\n        }\r\n        let _kind = _getcurkind + 1;\r\n        if (_kind <= GameLogic.maxFruitKind) {\r\n\r\n\r\n            let _moveFruit = _data.other;\r\n            let _standFruit = _data.self;\r\n            //\u5411id\u5C0F\u7684\u79FB\u52A8\r\n            if (_standFruit.myid > _moveFruit.myid) {\r\n                let _mf = _moveFruit;\r\n                _moveFruit = _standFruit;\r\n                _standFruit = _mf;\r\n            }\r\n            _moveFruit.EnableCollision(false);\r\n            // _data.other.EnableCollision(false);\r\n            // console.error('_moveFruit', _moveFruit.myid);\r\n            // console.error('_standFruit', _standFruit.myid);\r\n            const time = 200;\r\n\r\n\r\n            let _x = _standFruit.node.x;\r\n            let _y = _standFruit.node.y;\r\n\r\n            //\u64AD\u653E\u5408\u6210\u97F3\u6548\r\n            let _audio: any = 'mergeNew';\r\n            if (_kind <= GameLogic.curTopKind) {\r\n                _audio = Math.random() > 0.5 ? 'merge' : 'merge2';\r\n            }\r\n            HHAudio.PlayEffect(_audio);\r\n            Laya.Tween.to(_moveFruit.node, { scaleX: 0.2, scaleY: 0.2, x: _x, y: _y }, time, Laya.Ease.sineIn, Laya.Handler.create(this, function () {\r\n                //\u79FB\u9664\u78B0\u649E\u7684\u6C34\u679C\r\n                _moveFruit.RemoveSelf();\r\n                _standFruit.RemoveSelf();\r\n                //\u589E\u52A0\u5206\u6570\r\n                let _addscore = GameLogic.AddScoreByKind(_kind);\r\n                //\u83B7\u53D6\u4F18\u60E0\u5238\r\n                // GameLogic.GetGameAward(_kind, (_data) => {\r\n                //     if (_data.get) {\r\n                //         console.log('\u83B7\u53D6\u4F18\u60E0\u5238');\r\n\r\n                //         GameLogic.PauseGame(true);\r\n                //         // GameLogic.ShowMergeAward(_data);\r\n                //     }\r\n                // })\r\n                GameLogic.GetGameAward(_kind);\r\n\r\n                GameLogic.ShowGetScoreEffect({ score: _addscore, pos: [_x + 50, _y - 30] });\r\n                //\u521B\u5EFA\u65B0\u6C34\u679C\r\n                let _fruit = Fruit.Create({ x: _x, y: _y, kind: _kind });\r\n                _fruit.EnableCollision(true);\r\n                _fruit.scaleAction();\r\n                Juice.Create({ x: _x, y: _y, kind: _kind - 1, width: _fruit.node.width });\r\n                GameLogic.comboTime++;\r\n                if (GameLogic.comboTime > 1) {\r\n\r\n                    GameLogic.ShowComboEffect(GameLogic.comboTime);\r\n                    GameLogic.AddCurScore(GameLogic.comboTime);\r\n                }\r\n\r\n\r\n            }));\r\n        }\r\n\r\n        // _data.self.RemoveSelf();\r\n        // _data.other.RemoveSelf();\r\n    }\r\n\r\n    //\u9884\u5B9A\u4E0B\u4E00\u4E2A\u6C34\u679C\u79CD\u7C7B\r\n    private bookNextFruit: string | number = 0;\r\n    // \u83B7\u53D6\u4E0B\u4E00\u4E2A\u6C34\u679C\u7684id\r\n    getNextFruitId() {\r\n        if (this.bookNextFruit) {\r\n            return this.bookNextFruit;\r\n        }\r\n        let _frs = [];\r\n        if (this.fruitCount < 3) {\r\n            return 1\r\n        } else if (this.fruitCount === 3) {\r\n            return 2\r\n        } else {\r\n            // // \u968F\u673A\u8FD4\u56DE\u524D5\u4E2A\r\n            // if (GameLogic.curTopKind < 5) {\r\n            //     _frs = [25, 45, 25, 5];\r\n            // }\r\n            // else if (GameLogic.curTopKind < 9) {\r\n            //     _frs = [5, 20, 35, 30, 10];\r\n            // }\r\n            // else {\r\n            //     _frs = [5, 5, 40, 30, 15, 5];\r\n            // }\r\n            // \u968F\u673A\u8FD4\u56DE\u524D5\u4E2A\r\n            if (GameLogic.curTopKind < 5) {\r\n                _frs = [25, 45, 25, 5];\r\n            }\r\n            else if (GameLogic.curTopKind < 9) {\r\n                _frs = [5, 30, 35, 20, 10];\r\n            }\r\n            else {\r\n                _frs = [3, 10, 52, 25, 10];\r\n            }\r\n        }\r\n        let _max = 0;\r\n        for (const _r of _frs) {\r\n            _max += _r;\r\n        }\r\n        let _rn = Math.random() * _max;\r\n        let _idx = 0;\r\n        for (const _r of _frs) {\r\n            if (_rn < _r) {\r\n                break;\r\n            }\r\n            _rn -= _r;\r\n            _idx++;\r\n        }\r\n        return _idx + 1;\r\n    }\r\n    //--------------------------------\u4EFB\u52A1\u9053\u5177------------------------------------//\r\n    //\u79FB\u9664 \u4F4E\u4E8E\u6B64\u7B49\u7EA7\u7684\u6C34\u679C\r\n    removeFruitBelowLevel(_level: number) {\r\n        let _removeFruits = Fruit.allItems.filter(v => {\r\n            if (!v.collisionState) {\r\n                return false;\r\n            }\r\n            let _r = typeof v.myInfo.kind == 'number' && v.myInfo.kind < _level\r\n            return _r;\r\n        });\r\n        // for (const item of Fruit.allItems) {\r\n        //     if (typeof item.myInfo.kind != 'number') {\r\n        //         continue;\r\n        //     }\r\n        //     if (item.myInfo.kind < _level) {\r\n        //         _removeFruits.push(item);\r\n        //     }\r\n        // }\r\n        this.clearTagetFruit(_removeFruits);\r\n        /*while (_removeFruits.length > 0) {\r\n            let _f = _removeFruits.pop();\r\n            _f.RemoveSelf();\r\n        }*/\r\n    }\r\n\r\n    clearTagetFruit(_removeFruits:Fruit[]){\r\n        let i = 0;\r\n        let doRemoveFruit = function(index){\r\n            if(index >= _removeFruits.length){\r\n                return;\r\n            }\r\n            let fruit = _removeFruits[index];\r\n            HHAudio.PlayEffect(\"propClear\");\r\n            fruit.EnableCollision(false);\r\n            Juice.Create({ x: fruit.node.x, y: fruit.node.y, kind: fruit.myInfo.kind as number, width: fruit.node.width });\r\n            Laya.Tween.to(fruit.node, { scaleX: 0, scaleY: 0 }, 100, Laya.Ease.sineIn, Laya.Handler.create(this,()=>{\r\n                fruit.RemoveSelf();\r\n                doRemoveFruit(++i);\r\n            }))\r\n        };\r\n        doRemoveFruit(i);\r\n    }\r\n    //\u79FB\u9664 \u4F4E\u4E8E\u6B64\u9AD8\u5EA6\u7684\u6C34\u679C\r\n    clearFruitYExceed(_y: number) {\r\n        let _removeFruits = Fruit.allItems.filter(v => {\r\n            if (!v.collisionState) {\r\n                return false;\r\n            }\r\n            console.log('clearFruitYExceed', v.GetTopY(), _y);\r\n\r\n            let _r = v.GetTopY() > _y;\r\n            return _r;\r\n        });\r\n        this.clearTagetFruit(_removeFruits);\r\n        /*while (_removeFruits.length > 0) {\r\n            let _f = _removeFruits.pop();\r\n            _f.RemoveSelf();\r\n        }*/\r\n    }\r\n    //\u83B7\u5F97\u8D85\u7EA7\u6C34\u679C\r\n    GetASupperFruit() {\r\n        if (this.curFruit) {\r\n            this.curFruit.ResetFruitKind('supper');\r\n        }\r\n        else {\r\n            this.bookNextFruit = 'supper';\r\n        }\r\n\r\n    }\r\n}", "import PlatformBase from \"./modules/Platform/PlatformBase\";\nimport { MiniPlatformE } from \"./modules/Platform/Children/Platform_mini\";\nimport { MyPlatform, PlateformE, Platform } from \"./modules/Platform/Platform\";\n\n//cdn\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84\nexport const CDNRoot = {\n    baseUrl: 'https://oss.ixald.com/',//\u9879\u76EEurl\u5730\u5740\n    platform: {//\u9879\u76EE\u5E73\u53F0\u8DEF\u5F84\n        wx: 'game2/config/wx/',\n        tt: 'game2/config/tt/',\n    },\n    // platform: 'InciseMe/wx/',//\u9879\u76EE\u5E73\u53F0\u8DEF\u5F84\n    edition: { //\u6D4B\u8BD5\u548C\u6B63\u5F0F\u7248\u533A\u5206\n        debug: 'debug/',\n        // release: 'gameConfig/'\n        release: 'release/'\n    },\n}\n/**\n * \u83B7\u53D6\u52A8\u6001\u914D\u7F6E\u7684cdn\u5730\u5740\n */\nexport function GetCDNUrl() {\n    let _platform = CDNRoot.platform.wx;\n    // let _editon = CC_DEBUG ? CDNRoot.edition.debug : CDNRoot.edition.release;\n    let _editon = CDNRoot.edition.debug;\n    if (PlateformE.Mini == MyPlatform) {\n        //\u6839\u636E\u4E0D\u540C\u5E73\u53F0\u5207\u6362\u4E0D\u540C\u8DEF\u5F84\n        switch (PlatformBase.curPlatform) {\n            case MiniPlatformE.tt:\n                _platform = CDNRoot.platform.tt;\n                break;\n            default:\n                break;\n        }\n    }\n    else {\n        let _plat = Platform.LocalStorageGetItem('EditorPlatformKey');\n        let _pltconfg = CDNRoot.platform as any;\n        if (_plat) {\n            let _json: { paltform: string, release: boolean } = JSON.parse(_plat);\n            if (_json.paltform in _pltconfg) {\n                _platform = _pltconfg[_json.paltform]\n            }\n            _editon = _json.release ? CDNRoot.edition.release : CDNRoot.edition.debug;\n\n        }\n    }\n\n    return CDNRoot.baseUrl + _platform + _editon;\n}\n//\u62C9\u53D6\u987A\u5E8F\n//\u540C\u4E00\u6570\u7EC4\u5185\u540C\u65F6\u62C9\u53D6\uFF0C\u4E0D\u540C\u6570\u7EC4\u4F1A\u7B49\u5F85\u4E0A\u4E00\u6570\u7EC4\u62C9\u53D6\u5B8C\u6210\u518D\u62C9\u53D6\nexport const FetchOrder = [\n    ['switches'],//\u5FC5\u987B\u6709switches\uFF0C\u5426\u5219\u4E0D\u80FD\u5BF9\u6BD4\u7248\u672C\u53F7\n    ['subjectConfig'],\n]\n//\u4ECEcdn\u4E0B\u8F7D\u7684\u914D\u7F6E\u4FE1\u606F\nexport let CDNConfig = {\n    //\u5F00\u5173\n    switches: {\n        //\u914D\u7F6E\u6587\u4EF6\u7248\u672C\u63A7\u5236(\u8981\u6C42\u952E\u540D\u8981\u4E0Ejson\u540D\u4E00\u81F4)\n        CDNConfigVersion: {\n            //\u57FA\u7840\u6570\u636E\u4FE1\u606F\n            baseConfig: 0,\n            subjectConfig: 0,\n        },\n\n    },\n    //----------------------------\u521D\u59CB\u6570\u636E-------------------------//\n    baseConfig: {\n        // //\u4F53\u529B\n        // game: {\n        //     continueTime: 3,\n        //     levelUnlockCD: 900,//\u5173\u5361\u89E3\u9501cd\n        //     levelPassN: 5,//\u53EF\u8FDE\u7EED\u8FC7\u5173\u6570\u91CF\n        //     unlockLevelVideo: 1,//\u89E3\u9501\u770B\u89C6\u9891\u6B21\u6570\n        // },\n        // power: {\n        //     initV: 8, //\u521D\u59CB\u4F53\u529B\u6570\u91CF\n        //     lExpend: 1, //\u6BCF\u5173\u6D88\u8017,0\u4E3A\u4E0D\u6D88\u8017\u4F53\u529B\n        //     recoverMax: 8, //\u4F53\u529B\u6062\u590D\u4E0A\u9650\n        //     recoverCD: 600, //\u4F53\u529B\u6062\u590D\u95F4\u9694\n        //     award: 3,//\u5956\u52B1\u4F53\u529B\u503C\n        // },\n        // //\u91D1\u5E01\n        // coin: {\n        //     initV: 200, //\u521D\u59CB\u91D1\u5E01\u6570\u91CF\n        // },\n        // other: {\n        //     //\u89C6\u9891\u589E\u52A0\u56DE\u5408\u6570\n        //     addStep: 3\n        // }\n    },\n    //----------------------------\u5173\u5361\u6570\u636E-------------------------//\n    subjectConfig: [\n        { subject: \"\u7B2C\u4E00\u9898xxxxxxxxxx \u662F\", answer: true },\n        { subject: \"\u7B2C\u4E8C\u9898xxxxxxxxxx \u5426\", answer: false },\n        // { subject: \"\u7B2C\u4E09\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C4\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C5\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C6\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C\u4E00\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C\u4E8C\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C\u4E09\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C4\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C5\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C6\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C\u4E00\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C\u4E8C\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C\u4E09\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C4\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C5\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C6\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C\u4E00\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C\u4E8C\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C\u4E09\u9898xxxxxxxxxx\", answer: false },\n        // { subject: \"\u7B2C4\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C5\u9898xxxxxxxxxx\", answer: true },\n        // { subject: \"\u7B2C6\u9898xxxxxxxxxx\", answer: false },\n        // {//\u5173\u5361\uFF1A1\n        //     //\u8FC7\u5173\u5206\u6570\n        //     score: 150,\n        //     //\u5730\u56FE\u5927\u5C0F\n        //     map: [6, 6],\n        //     //\u5730\u5F62\u4FE1\u606F\n        //     tra: {\n        //         //\u7A7A\u5730\u5F62\n        //         mV: [[0, 0]],\n        //         //\u5730\u56FE\u5757\n        //         mT: [{ id: 'P1', p: [1, 1] }],\n        //         //\u969C\u788D\n        //         // mB: [{ id: 1, p: [2, 2] }],\n        //     },\n        //     //\u65B9\u5757\u6743\u91CD\n        //     wgt: {\n        //         P1: { t: 1, r: { r0: 1, r90: 0, r180: 1, r270: 0 } },\n        //         P2: { t: 5, r: { r0: 1, r90: 0, r180: 0, r270: 0 } },\n        //         P3: { t: 3 },\n        //         square: { t: 2 },\n        //         LL: { t: 0 },\n        //         LR: { t: 0 },\n        //         ZL: { t: 0 },\n        //         ZR: { t: 0 },\n        //         T: { t: 0 },\n        //         strip: { t: 0 },\n        //     }\n        // },\n\n\n    ]\n    //------------------------------------------------------------//\t\n}\n", "\n/** \n * cdn\u914D\u7F6E\u7C7B\n * \u4F7F\u7528\u65B9\u6CD5\uFF1A\n * 1.\u8C03\u7528 GetCDNData.Init() \u521D\u59CB\u5316\u4FE1\u606F\u5E76\u83B7\u53D6\u672C\u5730\u7248\u672C\u53F7\n * 2.\u8C03\u7528 GetCDNData.GetInfoInOrder() \u6309FetchOrder\u4E2D\u987A\u5E8F\u62C9\u53D6\u76F8\u5E94\u914D\u7F6E\u4FE1\u606F\n */\nimport { CDNConfig, FetchOrder, GetCDNUrl } from \"../../CDNConfig\";\nimport TimeUtil from \"../tools/TimeUtil\";\n\n//-----------------------------------------------------------------//\nexport default class GetCDNData {\n    static url = '';\n    static CDNDateResult: { [key: string]: boolean } = {};\n    /**\n     * \u521D\u59CB\u5316\n     */\n    static Init() {\n        this.url = GetCDNUrl();\n        console.log('this.url', this.url);\n\n        GetCDNData.InitConfigVersion();\n        //\u8BFB\u53D6\u672C\u5730\u7248\u672C\u53F7\n        GetCDNData.GetLocalConfigVersion();\n    }\n    /**\n     * \u6309\u987A\u5E8F\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\n     * @param _completeOrder \u5F53\u524D\u5DF2\u83B7\u53D6\u5B8C\u6210\u7684\u987A\u5E8F\u7F16\u53F7\n     */\n    static async GetInfoInOrder(_completeOrder?: (order: number) => void) {\n        for (let index = 0; index < FetchOrder.length; index++) {\n            const iterator: any[] = FetchOrder[index];\n            let _funs: Function[] = [];\n            iterator.forEach(element => {\n                // console.log('\u914D\u7F6E forEach000', element);\n                _funs.push(async () => {\n                    // console.log('\u914D\u7F6E forEach111', element);\n                    await this.getConfigByRemote(element);\n                })\n            });\n            // console.log('\u914D\u7F6E wait000', index);\n            await this.WaitAllComplete(_funs);\n            // console.log('\u914D\u7F6E wait111', index);\n            _completeOrder && _completeOrder(index);\n        }\n    }\n    /**\n     * \u4ECEcdn\u83B7\u53D6\u5176\u4ED6\u4FE1\u606F\n     * @param _keyName \u914D\u7F6E\u952E\u540D\n     * @param _force \u662F\u5426\u5F3A\u5236\u83B7\u53D6\n     * @param onlyLocal \u662F\u5426\u53EA\u83B7\u53D6\u672C\u5730\u7F13\u5B58\u4E2D\u7684\n     */\n    static async getConfigByRemote(_keyName: string, _force = true, onlyLocal = false) {\n        console.log('\u5F00\u59CB\u83B7\u53D6\u914D\u7F6E', _keyName);\n\n        let fullUrl = this.url + `${_keyName}.json`;\n        let _congfig = null as any;\n        let _r = await this.downloadDetector(fullUrl, _force, _keyName, onlyLocal);\n        console.log('\u83B7\u53D6\u914D\u7F6E\u7ED3\u679C', _keyName, _r);\n        //\u6B64\u65F6\u4E0D\u9700\u8981\u52A0\u8F7D\n        if ('skip' === _r) {\n            return;\n        }\n        if (_r) {\n            _congfig = _r;\n        }\n        else {\n            return;\n        }\n        if (!_congfig) {\n            console.error(`[${_keyName}]\u83B7\u53D6\u914D\u7F6E\u5931\u8D25`);\n        }\n        else {\n            (CDNConfig as any)[_keyName] = _congfig;\n            console.log(`[${_keyName}]\u83B7\u53D6\u914D\u7F6E\u6210\u529F`, (CDNConfig as any)[_keyName]);\n        }\n    }\n\n    //--------------------------------------------------------------------------------------------------------------------------//\n    private static async downloadDetector(fullUrl: string, _force: boolean, _key: string, onlyLocal = false): Promise<any | 'skip'> {\n        let _congfig = null as any;\n        let inCotrol = false;\n        console.log('CDN\u670D\u52A1\u7AEF\u7248\u672C\u53F7', JSON.stringify(CDNConfig.switches.CDNConfigVersion));\n        console.log('CDN\u4EE3\u7801\u4E2D\u7248\u672C\u53F7', JSON.stringify(GetCDNData.allCDNConfigVersion[0]));\n        console.log('CDN\u672C\u5730\u5B58\u50A8\u4E2D\u7248\u672C\u53F7', JSON.stringify(GetCDNData.allCDNConfigVersion[1]));\n\n        if (CDNConfig.switches.CDNConfigVersion && _key in GetCDNData.allCDNConfigVersion[0] && _key in CDNConfig.switches.CDNConfigVersion) {\n            inCotrol = true;\n            let _remoteV = (CDNConfig.switches.CDNConfigVersion as any)[_key];\n            let _chachV = GetCDNData.allCDNConfigVersion[0][_key];\n            let _storeV = GetCDNData.allCDNConfigVersion[1][_key];\n            GetCDNData.CDNDateResult[_key] = false;\n            if (_chachV >= _remoteV && _chachV >= _storeV) {\n                GetCDNData.CDNDateResult[_key] = true;\n                return 'skip';\n            }\n            if (_storeV >= _remoteV) {\n                _congfig = GetCDNData.getLocalConfig(_key);\n                if (_congfig) {\n                    GetCDNData.ChangeConfigVersion(0, _key, 'set');\n                    GetCDNData.CDNDateResult[_key] = true;\n                    return _congfig;\n                }\n            }\n            //\u53EA\u83B7\u53D6\u672C\u5730\u6570\u636E\u5219\u8FD4\u56DE\n            if (onlyLocal) {\n                return 'skip';\n            }\n        }\n        let _retry = 3;\n        // _key = 'CDN' + _key;\n        // console.log('downloadDetector', fullUrl, title);\n        if (!_force && !inCotrol) {\n            if (_key in GetCDNData.CDNDateResult && GetCDNData.CDNDateResult[_key]) {\n                return 'skip';\n            }\n        }\n        while (_retry > 0) {\n            try {\n                let _addPar = '?add=' + Math.floor(Math.random() * 10000);\n                // _congfig = (await this.loadRemote(fullUrl + _addPar)).json;\n                _congfig = await this.loadRemote(fullUrl + _addPar);\n                _retry = 0;\n            } catch (error) {\n                console.error(`[downloadDetector-${_key}]\u83B7\u53D6\u914D\u7F6E\u5931\u8D25`, fullUrl, error);\n            }\n            if (_retry > 1) {\n                await TimeUtil.wait(500);\n            }\n            _retry--;\n        }\n        if (_congfig) {\n            GetCDNData.CDNDateResult[_key] = true;\n            this.storetLocalConfig(_key, _congfig);\n        }\n        else {\n            GetCDNData.CDNDateResult[_key] = false;\n        }\n        return _congfig;\n    }\n\n    //\u662F\u5426\u6240\u6709\u4FE1\u606F\u83B7\u53D6\u6210\u529F\n    static IsGetAllDate() {\n        let _result = true;\n        for (const key in GetCDNData.CDNDateResult) {\n            if (GetCDNData.CDNDateResult.hasOwnProperty(key)) {\n                if (!GetCDNData.CDNDateResult[key]) {\n                    _result = false;\n                    break;\n                }\n            }\n        }\n        return _result;\n    }\n\n    //\u672C\u5730\u5B58\u50A8\u4E0E\u6821\u9A8C\n    private static allCDNConfigVersion: { [key: string]: number }[] = [];\n    //\u521D\u59CB\u5316\u7248\u672C\u53F7\n    static InitConfigVersion() {\n        GetCDNData.allCDNConfigVersion = [];\n        for (let index = 0; index < 2; index++) {\n            GetCDNData.allCDNConfigVersion[index] = {};\n            if (CDNConfig.switches.CDNConfigVersion)\n                for (const key in CDNConfig.switches.CDNConfigVersion) {\n                    if (CDNConfig.switches.CDNConfigVersion.hasOwnProperty(key)) {\n                        GetCDNData.allCDNConfigVersion[index][key] = 0;\n                    }\n                }\n            console.log('InitConfigVersion', JSON.stringify(GetCDNData.allCDNConfigVersion[index]));\n        }\n\n    }\n    //\u83B7\u53D6\u672C\u5730\u5B58\u50A8\u7684\u7248\u672C\u53F7\n    private static localVerName = 'CDNLocalConfigVersion';\n    static GetLocalConfigVersion() {\n        if (GetCDNData.allCDNConfigVersion.length != 2) {\n            GetCDNData.InitConfigVersion();\n        }\n        console.log('\u5B58\u50A8\u5230\u672C\u5730\u7684\u7248\u672C00', 'GetLocalConfigVersion');\n\n        let _v: any = Laya.LocalStorage.getItem(GetCDNData.localVerName);\n        if (_v) {\n            _v = JSON.parse(_v)\n            for (const key in _v) {\n                GetCDNData.ChangeConfigVersion(1, key, _v[key]);\n                console.log('\u5B58\u50A8\u5230\u672C\u5730\u7684\u7248\u672C001', key, _v[key]);\n            }\n        }\n    }\n    private static storeLocalConfigVersion() {\n        if (GetCDNData.allCDNConfigVersion.length < 2) {\n            return;\n        }\n        Laya.LocalStorage.setItem(GetCDNData.localVerName, JSON.stringify(GetCDNData.allCDNConfigVersion[1]));\n    }\n    //\u66F4\u6539\u7248\u672C\u53F7\n    static ChangeConfigVersion(_type: 0 | 1, _key: string, _handle: 'clear' | 'set' | number) {\n        if (GetCDNData.allCDNConfigVersion.length < 2) {\n            console.error('ChangeConfigVersion \u9519\u8BEF');\n            return;\n        }\n        if (CDNConfig.switches.CDNConfigVersion && _key in CDNConfig.switches.CDNConfigVersion && _key in GetCDNData.allCDNConfigVersion[_type]) {\n            if (_handle == 'clear') {\n                GetCDNData.allCDNConfigVersion[_type][_key] = 0;\n            }\n            else if (_handle == 'set') {\n                GetCDNData.allCDNConfigVersion[_type][_key] = (CDNConfig.switches.CDNConfigVersion as any)[_key];\n            }\n            else {\n                GetCDNData.allCDNConfigVersion[_type][_key] = _handle;\n            }\n        }\n    }\n    static storeCVname = 'CDNstoreConfig';\n    private static getLocalConfig(_key: string) {\n        let _r = null as any;\n        try {\n            _r = Laya.LocalStorage.getItem(GetCDNData.storeCVname + _key);\n            if (_r) {\n                _r = JSON.parse(_r);\n            }\n        } catch (error) {\n            console.error('getLocalConfig\u51FA\u9519: ', _key, error);\n        }\n        return _r;\n    }\n    static storetLocalConfig(_key: string, _data: any) {\n        console.log('storetLocalConfig', _key, _data);\n        // console.log('storetLocalConfig', CDNConfig.switches.CDNConfigVersion, GetCDNData.allCDNConfigVersion[1]);\n\n        if (CDNConfig.switches.CDNConfigVersion && _key in CDNConfig.switches.CDNConfigVersion && _key in GetCDNData.allCDNConfigVersion[1]) {\n            // console.log('storetLocalConfig1111', _key, _data);\n            try {\n                Laya.LocalStorage.setItem(GetCDNData.storeCVname + _key, JSON.stringify(_data));\n            } catch (error) {\n                console.error('storetLocalConfig\u51FA\u9519: ', _key, error);\n                return;\n            }\n\n            GetCDNData.ChangeConfigVersion(1, _key, 'set');\n            GetCDNData.storeLocalConfigVersion();\n            // console.log('\u5B58\u50A8\u5230\u672C\u5730\u7684\u7248\u672C\uFF1A', _key, GetCDNData.allCDNConfigVersion[1][_key]);\n        }\n        else if ('switches' != _key) {\n            // console.log('storetLocalConfig', CDNConfig.switches.CDNConfigVersion, GetCDNData.allCDNConfigVersion[1]);\n            console.error('storetLocalConfig\uFF1A', _key, '\u672A\u80FD\u5B58\u50A8\u5230\u672C\u5730');\n        }\n\n    }\n    /**\n     * \u6E05\u7406FetchOrder\u5185\u672C\u5730\u5B58\u50A8\n     */\n    static ClearLocalStoreByOrder() {\n        this.ClearLocalConfigVersion();\n        this.Init();\n        // for (const orders of FetchOrder) {\n        //     for (const config of orders) {\n        //         console.error('ClearLocalStoreByOrder config', config);\n        //         if ('switches' == config) {\n        //             this.ClearLocalConfigVersion();\n        //         }\n        //         else {\n        //             if (config && config in CDNConfig.switches.CDNConfigVersion) {\n        //                 GetCDNData.allCDNConfigVersion[0][config] = 0;\n        //                 GetCDNData.allCDNConfigVersion[1][config] = 0;\n        //                 console.error('ClearLocalStoreByOrder allCDNConfigVersion 1', config, GetCDNData.allCDNConfigVersion[1][config]);\n        //                 (CDNConfig.switches.CDNConfigVersion as any)[config] = 0;\n        //                 this.ClearLocalConfig(config);\n        //             }\n        //         }\n        //     }\n        // }\n        // console.error('ClearLocalStoreByOrder', JSON.stringify(GetCDNData.allCDNConfigVersion));\n\n    }\n    static ClearLocalConfigVersion() {\n        Laya.LocalStorage.removeItem(GetCDNData.localVerName);\n    }\n    static ClearLocalConfig(_key: string) {\n        Laya.LocalStorage.removeItem(GetCDNData.storeCVname + _key);\n    }\n    private static getVersionNumber(versionStr: string) {\n        return versionStr.split('.').reduce((o, v, i) => {\n            return o += parseInt(v) * Math.pow(10, (2 - i) * 2);\n        }, 0);\n    }\n    static async loadRemote(url: string): Promise<any> {\n        return new Promise((rs, rj) => {\n            Laya.loader.load(url, Laya.Handler.create(this, (res) => {\n                if (!res) {\n                    console.error('loadRemote err', res);\n                    rs(null);\n                }\n                else {\n                    rs(res);\n                }\n            }), null, Laya.Loader.JSON);\n            // cc.assetManager.loadRemote(url, function (err: Error | null, res: any) {\n            //     if (err) {\n            //         console.error('loadRemote err', err, res);\n            //         rj(err);\n            //     }\n            //     else {\n            //         rs(res);\n            //     }\n            // });\n        })\n    }\n    static async WaitAllComplete(_funs: Function[]) {\n        return new Promise((_rs: any) => {\n            let _rn = _funs.length;\n            // console.log('WaitAllComplete', _funs);\n\n            _funs.forEach(async (element: any) => {\n                // console.log('WaitAllComplete element', element);\n                await element();\n                _rn--;\n                if (_rn == 0) {\n                    _rs();\n                }\n            });\n            // _rs();\n        })\n    }\n}\n", "/**\r\n * \u5168\u5C40\u7684\u6570\u636E\r\n */\r\n/**\r\n * \u6240\u6709\u53D8\u91CF\u540D\u4E0D\u53EF\u91CD\u590D\r\n */\r\nexport let DataConfig = {\r\n    //\u4E34\u65F6\u6570\u636E\uFF0C\u4E0D\u5B58\u50A8\uFF0C\u6BCF\u6B21\u8FDB\u5165\u6E38\u620F\u4F1A\u6309\u6B64\u5904\u9644\u521D\u503C\r\n    tempData: {\r\n\r\n        // //\u5F53\u524D\u5F97\u5206\r\n        curScore: 0,\r\n        // //\u5F53\u524D\u5F97\u5206\r\n        // targetScore: 0,\r\n        // //\u5730\u56FE\u5927\u5C0F\r\n        // mapSize: cc.v2(0, 0),\r\n        // //\u5730\u56FE\u5757\u5927\u5C0F\r\n        // tileItemSize: 0,\r\n        // //\u5730\u56FE\u5757\u56FE\u7247\u5927\u5C0F\r\n        // tileSpriteSize: 0,\r\n\r\n        // //\u603B\u5173\u5361\u6570\u91CF\r\n        // maxLevel: 0,\r\n        // //\u5F53\u524D\u5173\u5361(\u4ECE0\u5F00\u59CB)\r\n        // curLevel: 0,\r\n        // levelLockInfo: {\r\n        //     passedLevel: 0,//\u5DF2\u8FC7\u5173\u6570\u91CF\r\n        //     unlockTime: 0,//\u89E3\u9501\u65F6\u95F4\r\n        //     showVideo: 0,//\u64AD\u653E\u5E7F\u544A\u6B21\u6570\r\n        // }\r\n    },\r\n    //\u672C\u5730\u5B58\u50A8\u6570\u636E\uFF0C\u6BCF\u6B21\u4ECE\u672C\u5730\u5B58\u50A8\u4E2D\u8BFB\u53D6\r\n    localData: {\r\n        lastPlayTime: 0,\r\n        addressInfo: {\r\n            name: '',\r\n            address: '',\r\n            phone: '',\r\n        }\r\n        // //\u73A9\u5230\u7684\u6700\u5927\u5173\u5361(\u4ECE0\u5F00\u59CB)\r\n        // hardLevel: 0,\r\n        // //\u5DF2\u5B58\u50A8\u7684\u5F97\u5206\r\n        // storeScore: 0,\r\n        // showPropHelpTime: 0,\r\n        // //\u4E0B\u4E00\u4E2A\u663E\u793A\u8D85\u8D8A\u5206\u4EAB\u7684\u5173\u5361\r\n        // nextExceedLevel: 0,\r\n        // animalsHearts: {\r\n        //     P1: 0,//\u70B9\u5F62\r\n        //     P2: 0,//2\u70B9\u5F62\r\n        //     P3: 0,//3\u70B9\u5F62\r\n        //     square: 0,//\u65B9\u5757\u5F62\r\n        //     strip: 0,//\u957F\u6761\u5F62\r\n        //     T: 0,//T\u5F62\r\n        //     LL: 0,//\u5DE6L\u5757\u5F62\r\n        //     LR: 0,//\u53F3L\u5757\u5F62\r\n        //     ZL: 0,//\u5DE6Z\u5757\u5F62\r\n        //     ZR: 0,//\u53F3Z\u5757\u5F62\r\n        //     H3: 0,//\u6A2A\u54113\u70B9\u5F62\r\n        //     corner: 0,//\u5927L\u578B\r\n        //     cross: 0,//\u5341\u5B57\u578B\r\n        // },\r\n        // lastAnimalsHeartDay: 0,//\u4E0A\u6B21\u767B\u5F55\u5FC3\u52A8\u503C\u51CF\u5C11\u65E5\u671F\r\n        // collectHintShowed: false,\r\n        // ZoomName: '',\r\n        // zoomHintN: 0,\r\n\r\n        //\u73A9\u5230\u7684\u6700\u9AD8\u5173\u5361(\u4ECE0\u5F00\u59CB)\r\n        // topHigh: 0,\r\n        //\u4F53\u529B\u503C\r\n        // power: { value: 0, time: 0 },\r\n    },\r\n    //\u670D\u52A1\u7AEF\u6570\u636E\uFF0C\u5FC5\u987B\u4ECE\u670D\u52A1\u7AEF\u62C9\u53D6,\u5B58\u548C\u53D6\u90FD\u8981\u7ACB\u523B\u68C0\u6D4B\u6210\u529F\u6216\u5931\u8D25\r\n    serverData: {\r\n        //\u5730\u5740\r\n        // AddressInfo: {\r\n        //     name: '',\r\n        //     address: '',\r\n        //     phoneNumber: '',\r\n        // }\r\n        // serverd: 'serverData__'\r\n    },\r\n    //\u672C\u5730\u548C\u670D\u52A1\u7AEF\u90FD\u6709\u7684\u6570\u636E\uFF0C\u6309\u4F18\u5148\u7EA7\u9009\u62E9\u6570\u636E\r\n    ser_localData: {\r\n        //\u73A9\u5230\u7684\u6700\u5927\u5173\u5361(\u4ECE0\u5F00\u59CB)\r\n        // topLevel: 0,\r\n    }\r\n}\r\nexport interface Props {\r\n    bomb1: number,//\u70B8\u63891\u683C\r\n    bombCross: number,//\u70B8\u6389\u5341\u5B57\r\n    bombScope: number,//\u70B8\u6389\u4E09\u884C\u8303\u56F4\r\n    // supperCut: number,\r\n}\r\nexport interface AddressType {\r\n    name: string,//\r\n    address: string,//\r\n    phoneNumber: string,//\r\n}\r\n// export interface PowerInfo {\r\n//     value: number,\r\n//     time: number,\r\n// }\r\nexport type PropType = keyof Props;\r\n\r\n\r\n//\u7C7B\u578B\u5B9A\u4E49\r\nexport type NormalDataType = typeof DataConfig.tempData & typeof DataConfig.localData\r\n    & typeof DataConfig.ser_localData;\r\nexport type NormalDataKey = keyof NormalDataType;\r\nexport type ServerDataType = typeof DataConfig.serverData;\r\nexport type ServerDataKey = keyof ServerDataType;\r\nexport type AllDataType = NormalDataType & ServerDataType;\r\nexport type AllDataKey = keyof AllDataType;\r\n\r\n", "import { AllDataKey, DataConfig, AllDataType } from '../../DataConfig';\r\nimport { Platform } from './../Platform/Platform';\r\nimport MyGlobal from '../../Global';\r\nimport TimeUtil from './../tools/TimeUtil';\r\n\r\nconst storeKeyName = 'dataA_';\r\nconst localSimpleKey = storeKeyName + 'ls_key';\r\n//\u7B80\u5355\u7C7B\u578B\r\nconst simpleType = ['number', 'boolean', 'string']\r\n/**\r\n * \u6570\u636E\u7684\u5B58\u53D6\u7BA1\u7406\r\n */\r\nexport class DataAccess {\r\n\r\n    private localSimpleData = null as any;\r\n    private waitStoreServerData: { key: AllDataKey, value: any }[] = [];\r\n    private dataStoreType: { [key: string]: (keyof typeof DataConfig) } = {} as any;\r\n    private static instance: DataAccess = null as any;\r\n    static INS() {\r\n        if (this.instance) {\r\n            return this.instance;\r\n        }\r\n        this.instance = new DataAccess();\r\n        return this.instance;\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u672C\u5730\u5B58\u50A8\u7684\u503C\r\n     * @param _data \u8981\u66F4\u6539\u7684\u5BF9\u8C61\r\n     */\r\n    GetLocalData(_usedata: AllDataType) {\r\n        if (!this.localSimpleData) {\r\n            let _data = Platform.LocalStorageGetItem(localSimpleKey);\r\n            console.log('[DataAccess]GetLocalData', _data);\r\n\r\n            if (_data) {\r\n                this.localSimpleData = _data;\r\n            }\r\n            else {\r\n                this.localSimpleData = {};\r\n            }\r\n        }\r\n        let _usedata2: any = _usedata;\r\n        let getData = [DataConfig.localData, DataConfig.ser_localData];\r\n        getData.forEach(config => {\r\n            for (const key in config) {\r\n                // console.log('[DataAccess]GetLocalData key', key);\r\n\r\n                //\u5224\u65AD\u662F\u5426\u4E3A\u7B80\u5355\u7C7B\u578B\r\n                if (simpleType.indexOf(typeof _usedata2[key]) > -1) {\r\n                    if (key in this.localSimpleData) {\r\n                        _usedata2[key] = this.localSimpleData[key];\r\n                    }\r\n                }\r\n                else {\r\n                    let _data = Platform.LocalStorageGetItem(storeKeyName + key);\r\n                    // console.log('[DataAccess]GetLocalData _data', storeKeyName + key, _data);\r\n                    if (_data) {\r\n                        _usedata2[key] = _data;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u6570\u636E\u7684\u5B58\u50A8\u7C7B\u578B\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _type \u7C7B\u578B\r\n     */\r\n    InitStoreType(_key: string, _type: keyof typeof DataConfig) {\r\n        this.dataStoreType[_key] = _type;\r\n    }\r\n    /**\r\n     * \u5B58\u50A8\u6570\u636E\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _value \u503C\r\n     */\r\n    async StoreData(_key: AllDataKey, _value: any) {\r\n        switch (this.dataStoreType[_key]) {\r\n            case 'tempData':\r\n                break;\r\n            case 'localData':\r\n                this.localStore(_key, _value);\r\n                break;\r\n            case 'ser_localData':\r\n                this.localStore(_key, _value);\r\n                let _idx = this.waitStoreServerData.findIndex(v => v.key == _key);\r\n                if (_idx < 0) {\r\n                    this.waitStoreServerData.push({ key: _key, value: _value });\r\n                } else {\r\n                    this.waitStoreServerData[_idx].value = _value;\r\n                }\r\n\r\n                this.continueUpload();\r\n                break;\r\n            case 'serverData':\r\n                return await this.ServerStore([{ key: _key, value: _value }]);\r\n            default:\r\n                console.error('DataAccess', '\u672A\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B', _key);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * \u672C\u5730\u5B58\u50A8\u65B9\u6CD5\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _value \u503C\r\n     */\r\n    private localStore(_key: AllDataKey, _value: any) {\r\n        //\u5BF9\u5B58\u50A8\u8FDB\u884C\u5206\u7C7B\uFF0C\u7B80\u5355\u6570\u503C\u5B58\u5230\u4E00\u4E2A\u952E\u4E2D\uFF0C\u65B9\u4FBF\u8BFB\u53D6\r\n        console.log('[DataAccess] localStore type', _key, typeof _value);\r\n        if (simpleType.indexOf(typeof _value) > -1) {\r\n            this.localSimpleData[_key] = _value;\r\n            Platform.LocalStorageSetItem(localSimpleKey, this.localSimpleData);\r\n        }\r\n        else {\r\n            Platform.LocalStorageSetItem(storeKeyName + _key, _value);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * \u670D\u52A1\u7AEF\u5B58\u50A8\u65B9\u6CD5\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _value \u503C\r\n     */\r\n    async ServerStore(_data: { key: AllDataKey, value: any }[], trytime = 3) {\r\n        if (!MyGlobal.hhgame) {\r\n            console.error('[ServerStore] hhgame \u4E0D\u5B58\u5728');\r\n            return false;\r\n        }\r\n        //\u5BF9\u5B58\u50A8\u8FDB\u884C\u5206\u7C7B\uFF0C\u7B80\u5355\u6570\u503C\u5B58\u5230\u4E00\u4E2A\u952E\u4E2D\uFF0C\u65B9\u4FBF\u8BFB\u53D6\r\n        console.log('[DataAccess] ServerStore', _data);\r\n        // \u5F00\u59CB\u540C\u6B65\r\n        for (let index = 0; index < trytime; index++) {\r\n            try {\r\n                await MyGlobal.hhgame.kv.setMany(_data);\r\n                console.log('[DataAccess] ServerStore \u5B58\u50A8\u6210\u529F', _data);\r\n                return true;\r\n            }\r\n            catch (e) {\r\n                console.error('[DataAccess] ServerStore \u5B58\u50A8\u5931\u8D25', e);\r\n                await TimeUtil.wait(100);\r\n            }\r\n        }\r\n        return false;\r\n\r\n\r\n    }\r\n    /**\r\n     * \u670D\u52A1\u7AEF\u8BFB\u53D6\u65B9\u6CD5\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _value \u503C\r\n     */\r\n    async ServerFetch(_keys: AllDataKey[], trytime = 3) {\r\n        if (!MyGlobal.hhgame) {\r\n            console.error('[ServerStore] hhgame \u4E0D\u5B58\u5728');\r\n            return null;\r\n        }\r\n        //\u5BF9\u5B58\u50A8\u8FDB\u884C\u5206\u7C7B\uFF0C\u7B80\u5355\u6570\u503C\u5B58\u5230\u4E00\u4E2A\u952E\u4E2D\uFF0C\u65B9\u4FBF\u8BFB\u53D6\r\n        console.log('[DataAccess] ServerFetch', _keys);\r\n        // \u5F00\u59CB\u540C\u6B65\r\n        for (let index = 0; index < trytime; index++) {\r\n            try {\r\n                return await MyGlobal.hhgame.kv.getMany(_keys);\r\n            }\r\n            catch (e) {\r\n                console.error('[DataAccess] ServerFetch \u5931\u8D25', _keys, e);\r\n                await TimeUtil.wait(100);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    //\u6301\u7EED\u4E0A\u4F20\r\n    private timeID = null as any;\r\n    private inContinueUpload = false;\r\n    private async continueUpload(_delayTime = 5) {\r\n        if (this.inContinueUpload) {\r\n            return;\r\n        }\r\n        if (!this.waitStoreServerData || this.waitStoreServerData.length <= 0) {\r\n            return;\r\n        }\r\n        //\u6709\u7B49\u5F85\u4E0A\u4F20\u4EFB\u52A1\u5219\u7EE7\u7EED\u7B49\u5F85\r\n        if (this.timeID) {\r\n            // clearTimeout(this.timeID);\r\n            // this.timeID = null;\r\n            return;\r\n        }\r\n        console.log('continueUpload 000', MyGlobal.IsLogin(), Platform.IsNetConnected());\r\n        //\u6709\u7F51\u7EDC\u624D\u4E0A\u4F20\r\n        if (MyGlobal.IsLogin() && Platform.IsNetConnected()) {\r\n            this.inContinueUpload = true;\r\n            let _curData = this.waitStoreServerData;\r\n            this.waitStoreServerData = [];\r\n            console.log('continueUpload _curData', _curData);\r\n\r\n            let _result = await this.ServerStore(_curData);\r\n            // console.log('continueUpload _curData22222', _curData);\r\n            this.inContinueUpload = false;\r\n            if (_result) {\r\n                //\u4E0A\u4F20\u6210\u529F\u68C0\u6D4B\u662F\u5426\u8FD8\u6709\u9700\u8981\u4E0A\u4F20\u7684\r\n                // this.continueUpload(_delayTime);\r\n                // return;\r\n                //\u4E0A\u4F20\u6210\u529F _delayTime \u79D2\u540E\u7EE7\u7EED\u68C0\u6D4B\u4E0A\u4F20\r\n            }\r\n            else {\r\n                //\u4E0A\u4F20\u5931\u8D25,\u91CD\u65B0\u6574\u7406\u6570\u636E,_delayTime\u79D2\u540E\u91CD\u8BD5\r\n                this.waitStoreServerData.forEach(element => {\r\n                    let _idx = _curData.findIndex(v => v.key == element.key)\r\n                    if (_idx >= 0) {\r\n                        _curData[_idx] = element;\r\n                        return;\r\n                    }\r\n                    _curData.push(element);\r\n                });\r\n                this.waitStoreServerData = _curData;\r\n            }\r\n\r\n        }\r\n        this.timeID = setTimeout(() => {\r\n            this.timeID = null;\r\n            this.continueUpload(_delayTime);\r\n        }, _delayTime * 1000);\r\n\r\n    }\r\n\r\n}", "\r\nimport { DataAccess } from './DataAccess';\r\nimport { AllDataType, DataConfig, ServerDataKey, ServerDataType, NormalDataKey, NormalDataType, AllDataKey } from '../../DataConfig';\r\nimport { Platform } from './../Platform/Platform';\r\n\r\n\r\nconst listenKey = 'Listen_';\r\n// type T = keyof(typeof DataConfig)\r\n/**\r\n * \u6570\u636E\u7BA1\u7406\r\n */\r\nclass DataManager_C {\r\n    private useData: AllDataType = {} as any;\r\n    private listenID = 0;\r\n\r\n    private isInit = false;\r\n    private listener: any = {};\r\n    private static instance: DataManager_C = null as any;\r\n    static INS() {\r\n        if (this.instance) {\r\n            return this.instance;\r\n        }\r\n\r\n        this.instance = new DataManager_C();\r\n        this.instance.isInit = false;\r\n        return this.instance;\r\n    }\r\n    /**\r\n     * \u521D\u59CB\u5316\r\n     * _versionChecking \u7248\u672C\u6821\u9A8C\uFF08\u5F53\u4E0D\u540C\u7248\u672C\u6570\u636E\u683C\u5F0F\u6709\u66F4\u6539\u65F6\u5728\u6B64\u5904\u5904\u7406\uFF09\r\n     */\r\n    async Init(_versionChecking?: Function) {\r\n        if (this.isInit) {\r\n            return;\r\n        }\r\n        this.listenID = 0;\r\n        for (const k in DataConfig) {\r\n\r\n            for (const key in (DataConfig as any)[k]) {\r\n                if (key in this.useData) {\r\n                    throw new Error('[DataManager]\u91CD\u590D\u7684\u6570\u636E\u540D:' + key)\r\n                }\r\n                if (k == 'serverData') {\r\n                    //\u4E0D\u5BF9\u670D\u52A1\u7AEF\u6570\u636E\u8FDB\u884C\u521D\u59CB\u5316\r\n                    continue;\r\n                }\r\n                (this.useData as any)[key] = (DataConfig as any)[k][key];\r\n                DataAccess.INS().InitStoreType(key, k as any);\r\n            }\r\n        }\r\n        //\u83B7\u53D6\u672C\u5730\u5B58\u50A8\u7684\u503C\r\n        DataAccess.INS().GetLocalData(this.useData);\r\n        console.log('useData', this.useData);\r\n        _versionChecking && _versionChecking();\r\n        //\u4ECE\u670D\u52A1\u7AEF\u62C9\u53D6 ser_localData \u7684\u6570\u636E\r\n        this.isInit = true;\r\n\r\n\r\n    }\r\n    async InitLocalServer() {\r\n        let _ser_local: AllDataKey[] = [];\r\n        for (const key in DataConfig.ser_localData) {\r\n            _ser_local.push(key as any);\r\n        }\r\n        if (_ser_local.length <= 0) {\r\n            return true;\r\n        }\r\n        while (1) {\r\n            let _data = await DataAccess.INS().ServerFetch(_ser_local);\r\n            if (_data) {\r\n                console.log('InitLocalServer _data', _data);\r\n                //\u670D\u52A1\u7AEF\u6570\u636E\u8D4B\u503C\r\n                _data.forEach(element => {\r\n                    if (this.correlationData(element.key, element.value)) {\r\n                        // this.useData[element.key] = element.value;\r\n                        this.Set(element.key as any, element.value)\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            if (!await Platform.ShowModal({ title: '\u62C9\u53D6\u5931\u8D25', content: \"\u670D\u52A1\u7AEF\u6570\u636E\u62C9\u53D6\u5931\u8D25,\u662F\u5426\u91CD\u8BD5\uFF1F\", confirmText: '\u91CD\u8BD5', cancelText: '\u53D6\u6D88' })) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    //\u672C\u5730\u548C\u670D\u52A1\u7AEF\u6570\u636E\u5BF9\u6BD4\r\n    private correlationData(_key: string, _value: any) {\r\n        let _type = typeof _value;\r\n        let _useData: any = (this.useData as any)[_key]\r\n        if (_type == 'object') {\r\n            if (this.IsObjectEquality(_useData, _value)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (_useData == _value) {\r\n            return false;\r\n        }\r\n        switch (_type) {\r\n            case 'number':\r\n                if (_value > _useData) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            case 'string':\r\n                if (_value.length > _useData.length) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            case 'object':\r\n                if (Array.isArray(_value)) {\r\n                    if (_value.length > _useData.length) {\r\n                        return true;\r\n                    }\r\n                }\r\n                else if (Object.keys(_value).length > Object.keys(_useData).length) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            default:\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * \u8BBE\u7F6E\u670D\u52A1\u7AEF\u6570\u636E\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _value \u6570\u636E\u503C\r\n     */\r\n    async SetServer<T extends ServerDataKey>(_data: { key: T, value: ServerDataType[T] }[]) {\r\n        let _changedata: { key: T, value: ServerDataType[T] }[] = [];\r\n        for (let index = 0; index < _data.length; index++) {\r\n            const element = _data[index];\r\n            if (!(element.key in this.useData)) {\r\n                //\u6570\u636E\u672A\u62C9\u53D6\r\n                throw new Error('SetServer key \u672A\u88AB\u521D\u59CB\u5316\uFF0C\u8BF7\u5148\u8C03\u7528 InitLocalServer \u8FDB\u884C\u521D\u59CB\u5316');\r\n\r\n            }\r\n            if (element.value == this.useData[element.key]) {\r\n                continue;\r\n            }\r\n            _changedata.push(element);\r\n        }\r\n        if (_changedata.length <= 0) {\r\n            return true;\r\n        }\r\n        console.log('[DataManager]SetServer:', _data);\r\n        //\u6570\u636E\u5B58\u50A8\r\n        if (await DataAccess.INS().ServerStore(_changedata)) {\r\n            _changedata.forEach(v => {\r\n                //\u76D1\u542C\u53D8\u66F4\r\n                if (this.listener[v.key]) {\r\n                    (this.listener[v.key] as any[]).forEach(l => {\r\n                        l.call({ key: v.key, value: v.value, oldV: this.useData[v.key] });\r\n                    });\r\n                }\r\n                this.useData[v.key] = v.value;\r\n            });\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n    /**\r\n     * \u4ECE\u670D\u52A1\u7AEF\u521D\u59CB\u5316\u6570\u636E(\u670D\u52A1\u7AEF\u6570\u636E\u9700\u8981\u5148\u8C03\u7528\u6B64\u65B9\u6CD5\u62C9\u53D6\u6570\u636E\u786E\u4FDD\u6570\u636E\u771F\u5B9E)\r\n     * @param _key \u6570\u636E\u952E\r\n     */\r\n    async InitByServer<T extends ServerDataKey>(_keys: T[]) {\r\n        let _needkeys: any[] = [];\r\n        _keys.forEach(key => {\r\n            if (!(key in this.useData)) {\r\n                _needkeys.push(key);\r\n            }\r\n        });\r\n        if (_needkeys.length <= 0) {\r\n            return true;\r\n        }\r\n        let _data = await DataAccess.INS().ServerFetch(_needkeys);\r\n        if (_data) {\r\n            console.log('InitByServer _data', _data);\r\n\r\n            //\u521D\u59CB\u5316\u6570\u636E\uFF08\u9632\u6B62\u670D\u52A1\u7AEF\u6CA1\u6709\u6B64\u6570\u636E\uFF09\r\n            _needkeys.forEach(key => {\r\n                (this.useData as any)[key] = (DataConfig.serverData as any)[key];\r\n            });\r\n            //\u670D\u52A1\u7AEF\u6570\u636E\u8D4B\u503C\r\n            _data.forEach(element => {\r\n                (this.useData as any)[element.key] = element.value;\r\n            });\r\n            _needkeys.forEach(key => {\r\n                console.log('InitByServer useData', key, (this.useData as any)[key]);\r\n            });\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * \u670D\u52A1\u7AEF\u6570\u636E\u589E\u957F\r\n     * \uFF08\u76EE\u524D\u53EA\u652F\u6301 number\u548C string \u7C7B\u578B\uFF09\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _addvalue \u5728\u5143\u6570\u636E\u57FA\u7840\u4E0A\u589E\u957F\u7684\u503C\r\n     */\r\n    async AddServer<T extends ServerDataKey>(_key: T, _addvalue: ServerDataType[T]) {\r\n        let _oldv: any = this.useData[_key];\r\n        switch (typeof this.useData[_key]) {\r\n            case 'number':\r\n            case 'string':\r\n                // console.log('Add', _key, _oldv + _addvalue);\r\n                return await this.SetServer([{ key: _key, value: _oldv + (_addvalue as any) }]);\r\n                break;\r\n            default:\r\n                console.error('[DataManager]Add:', '\u672A\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B', _key, typeof this.useData[_key]);\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * \u8BBE\u7F6E\u6570\u636E\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _value \u6570\u636E\u503C\r\n     * @param _store \u662F\u5426\u5B58\u50A8\u6570\u636E\uFF0C\u67D0\u4E9B\u4E0D\u9700\u8981\u5B58\u50A8\u7684\u60C5\u51B5\u53EF\u4EE5\u4E3B\u52A8\u8981\u6C42\u4E0D\u5B58\u50A8\r\n     */\r\n    Set<T extends NormalDataKey>(_key: T, _value: NormalDataType[T], _store = true) {\r\n        if (typeof this.useData[_key] == 'object') {\r\n            // if (this.IsObjectEquality(this.useData[_key] as object, _value as object)) {\r\n            //     return;\r\n            // }\r\n        }\r\n        else if (_value == this.useData[_key]) {\r\n            return;\r\n        }\r\n        let _old = this.useData[_key];\r\n\r\n        this.useData[_key] = _value as any;\r\n\r\n        // \u76D1\u542C\u53D8\u66F4\r\n        if (this.listener[_key]) {\r\n            (this.listener[_key] as any[]).forEach(l => {\r\n                l.call({ key: _key, value: this.useData[_key], oldV: _old });\r\n            });\r\n        }\r\n        // cc.director.emit(listenKey + _key, _value);\r\n        // console.log('[DataManager]Set:', _key, _value);\r\n        //\u6570\u636E\u5B58\u50A8\r\n        _store && DataAccess.INS().StoreData(_key, _value);\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u6570\u636E\r\n     * @param _key \u6570\u636E\u952E\r\n     */\r\n    Get<T extends AllDataKey>(_key: T) {\r\n        if (!(_key in this.useData)) {\r\n            //\u6570\u636E\u672A\u62C9\u53D6\r\n            throw new Error(`[DataManager]Get ${_key} \u672A\u88AB\u521D\u59CB`);\r\n        }\r\n        // console.log('[DataManager]Get', _key, this.useData[_key]);\r\n\r\n        return this.useData[_key];\r\n    }\r\n    /**\r\n     * \u6570\u636E\u589E\u957F\r\n     * \uFF08\u76EE\u524D\u53EA\u652F\u6301 number\u548C string \u7C7B\u578B\uFF09\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param _addvalue \u5728\u5143\u6570\u636E\u57FA\u7840\u4E0A\u589E\u957F\u7684\u503C\r\n     */\r\n    Add<T extends NormalDataKey>(_key: T, _addvalue: NormalDataType[T]) {\r\n        let _oldv: any = this.useData[_key];\r\n        switch (typeof this.useData[_key]) {\r\n            case 'number':\r\n            case 'string':\r\n                // console.log('Add', _key, _oldv + _addvalue);\r\n                this.Set(_key, _oldv + _addvalue)\r\n                break;\r\n            default:\r\n                console.error('[DataManager]Add:', '\u672A\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B', _key, typeof this.useData[_key]);\r\n                break;\r\n        }\r\n    }\r\n    /**\r\n     * \u76D1\u542C\u6570\u636E\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param callBack \u6570\u636E\u952E\r\n     */\r\n    Listen<T extends AllDataKey>(_keys: T[], callBack: (_v: { key: T, value: AllDataType[T], oldV?: AllDataType[T] }) => void) {\r\n        this.listenID++;\r\n        for (const _key of _keys) {\r\n            if (!this.listener[_key]) {\r\n                this.listener[_key] = [];\r\n            }\r\n            // else {\r\n            //     let _idx = this.listener[_key].indexOf(callBack);\r\n            //     if (_idx >= 0) {\r\n            //         continue;\r\n            //     }\r\n            // }\r\n            this.listener[_key].push({ id: this.listenID, call: callBack });\r\n            callBack({ key: _key, value: this.useData[_key], oldV: this.useData[_key] })\r\n        }\r\n        return this.listenID;\r\n    }\r\n    /**\r\n     * \u53D6\u6D88\u76D1\u542C\r\n     * @param _key \u6570\u636E\u952E\r\n     * @param callBack \u6570\u636E\u952E\r\n     */\r\n    UnListen<T extends AllDataKey>(_keys: T[], id: number) {\r\n        for (const _key of _keys) {\r\n            if (!this.listener[_key]) {\r\n                continue;\r\n            }\r\n            let _idx = (this.listener[_key] as any[]).findIndex(v => v.id == id);\r\n            if (_idx < 0) {\r\n                continue;\r\n            }\r\n            this.listener[_key].splice(_idx, 1);\r\n            if (this.listener[_key].length == 0) {\r\n                this.listener[_key] = null;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    //\u5BF9\u8C61\u662F\u5426\u76F8\u7B49\r\n    private IsObjectEquality(obj1: object, obj2: object) {\r\n        let _obj1: any = obj1;\r\n        let _obj2: any = obj2;\r\n        if (Object.keys(obj1).length != Object.keys(obj2).length) {\r\n            return false;\r\n        }\r\n        for (const key in obj1) {\r\n            let _type1 = typeof _obj1[key];\r\n            let _type2 = typeof _obj2[key];\r\n            if (_type1 != _type2) {\r\n                return false;\r\n            }\r\n            if (_type1 == 'object') {\r\n                if (!this.IsObjectEquality(_obj1[key], _obj2[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            if (_obj1[key] != _obj2[key]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexport const DataManager = DataManager_C.INS();\r\n", "\r\n\r\n// import HHGame from '../../node_modules/xaldgame/index';\r\nimport GetCDNData from './modules/CDN/GetCDNData';\r\nimport { DataManager } from './modules/Data/DataManager';\r\nimport FGUIUtil from './modules/FGUI/FGUIUtil';\r\nimport { Platform, PlatformDiff } from './modules/Platform/Platform';\r\nimport { ShareConfig, ShareImageType, ShareBathPath } from './ShareConfig';\r\n/**\r\n * \u5168\u5C40\u65B9\u6CD5\r\n */\r\nexport default class MyGlobal {\r\n    static IsDataInit = false;\r\n    private static isInit = false;\r\n    static hhgame: any = null as any;\r\n    /**\r\n     * \u521D\u59CB\u5316\u4FE1\u606F\r\n     * \u542F\u52A8\u6E38\u620F\u8C03\u7528\r\n     */\r\n    static Init(_enable: {\r\n        checkUpdate?: boolean,\r\n        // hhgame?: boolean,\r\n        statistic?: boolean,\r\n        dataManager?: boolean,\r\n        cdnData?: boolean,\r\n        openFGUI?: boolean,\r\n        loadRetryTime?: number,\r\n    }) {\r\n        if (this.isInit) {\r\n            return;\r\n        }\r\n        //\u542F\u52A8\u5E73\u53F0\u533A\u5206\r\n        PlatformDiff.INS().getPlatForm();\r\n        PlatformDiff.INS().CreateAdsByPlatForm();\r\n        //\u68C0\u67E5\u66F4\u65B0\r\n        _enable.checkUpdate && Platform.CheckForUpdate();\r\n        //\u521D\u59CB\u5316hhgame\r\n        // _enable.hhgame && this.InitHHgame();\r\n        //\u521D\u59CB\u5316\u6253\u70B9\u7EDF\u8BA1\r\n        // _enable.statistic && Statistic.Init();\r\n        //\u521D\u59CB\u5316\u6570\u636E\r\n        _enable.dataManager && DataManager.Init();\r\n        //\u521D\u59CB\u5316cdn\u914D\u7F6E\u4FE1\u606F\r\n        _enable.cdnData && GetCDNData.Init();\r\n        _enable.openFGUI && FGUIUtil.Init();\r\n        //\u52A0\u8F7D\u5668\u52A0\u8F7D\u91CD\u8BD5\u6B21\u6570\r\n        if (_enable.loadRetryTime) {\r\n            Laya.loader.retryNum = _enable.loadRetryTime;\r\n        }\r\n        this.isInit = true;\r\n    }\r\n    /**\r\n     * \u521D\u59CB\u5316hhgame\r\n     */\r\n    static InitHHgame() {\r\n        // this.hhgame = new HHGame(Config.hhConfig.appid, {\r\n        //     serverUrl: Config.hhConfig.url,\r\n        //     onNeedLogin: (request: any) => {\r\n        //         console.log('onNeedLogin', request);\r\n\r\n        //         // Platform.ShowToast({\r\n        //         //     title: '\u81EA\u52A8\u767B\u5F55\u4E2D',\r\n        //         //     icon: 'none',\r\n        //         //     duration: 2000\r\n        //         // })\r\n        //         Platform.LocalStorageRemoveItem('__HHGAME_COOKIE');\r\n        //         Platform.LocalStorageRemoveItem('__HHGAME_CURRENT_USER');\r\n        //         Global.hhgame.currentUser = null;\r\n        //     }\r\n        // });\r\n        // console.error('this.hhgame', this.hhgame);\r\n\r\n        // this.hhgame = new HHGame(Config.hhConfig.appid, {\r\n        //     // enableInviteGift: true,\r\n        //     onNeedLogin: () => {\r\n        //     }, serverUrl: Config.hhConfig.url\r\n        // });\r\n    }\r\n    //----------------------------------\u767B\u5F55------------------------------------------//\r\n    /**\r\n     * \u662F\u5426\u5DF2\u767B\u5F55\r\n     */\r\n    static IsLogin() {\r\n        return false;\r\n        // return Global.hhgame && !!Global.hhgame.currentUser;\r\n    }\r\n    /**\r\n     * \u767B\u5F55\r\n     */\r\n    static async Login() {\r\n        let _r = false;\r\n        // if (Global.hhgame.currentUser) {\r\n        //     _r = true\r\n        // }\r\n        // else {\r\n        //     if (!await Platform.APPLogin()) {\r\n        //         return false;\r\n        //     }\r\n        //     while (!Global.hhgame.currentUser) {\r\n        //         // \u5FAE\u4FE1\u767B\u5F55\r\n        //         if (Global.hhgame.minigame) {\r\n        //             _r = await this.miniGameLogin();\r\n        //         }\r\n        //         // \u6D4F\u89C8\u5668\u767B\u5F55\r\n        //         else {\r\n        //             await Global.hhgame.user.login({\r\n        //                 type: 'test',\r\n        //                 testName: 'test_11'\r\n        //             }).catch(e => {\r\n        //                 console.error('\u6D4F\u89C8\u5668\u767B\u5F55\u5931\u8D25', e)\r\n        //             });\r\n        //             // console.error('LoginLogin', Global.hhgame);\r\n        //         }\r\n        //         // \u767B\u5F55\u5931\u8D25\r\n        //         if (!Global.hhgame.currentUser) {\r\n        //             if (!await (Platform.ShowModal({\r\n        //                 title: \"\u767B\u5F55\u5931\u8D25\", content: \"\u767B\u5F55\u5931\u8D25,\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5\",\r\n        //                 confirmText: '\u91CD\u8BD5', cancelText: '\u4E0D\u8054\u7F51'\r\n        //             }))) {\r\n        //                 // Platform.ExitGame();\r\n        //                 return _r;\r\n        //             }\r\n        //         }\r\n        //         // else { }\r\n        //     }\r\n        // }\r\n        // // if (_r) {\r\n        // //     Statistic.LoginSuccess();\r\n        // // }\r\n        return _r;\r\n    }\r\n    private static async miniGameLogin(retry = 3): Promise<boolean> {\r\n        // if (!Global.hhgame.minigame) {\r\n        //     throw new Error('Must be minigame');\r\n        // }\r\n        // // let promiseRs: Function | undefined;\r\n        // // let promise = new Promise<boolean>((rs, rj) => {\r\n        // //     promiseRs = rs;\r\n        // // })\r\n        // // \u5DF2\u7ECF\u767B\u5F55\u6210\u529F\r\n        // if (Global.hhgame.currentUser) {\r\n        //     return true;\r\n        // }\r\n\r\n        // let _result = false;\r\n        // while (!Global.hhgame.currentUser && retry > 0) {\r\n        //     retry--;\r\n        //     await Global.hhgame.minigame.autoLogin().then(() => {\r\n        //         _result = true;\r\n        //     }).catch(async e => {\r\n        //         console.error('\u767B\u5F55\u5931\u8D25', e)\r\n        //     });\r\n        //     if (!_result) {\r\n        //         await TimeUtil.wait(0.3);\r\n        //     }\r\n        //     // \u7B49\u5F851\u79D2\u518D\u8BD5\r\n        // }\r\n        // return _result;\r\n        return false;\r\n    }\r\n    //-----------------------------\u81EA\u5B9A\u4E49\u5206\u4EAB--------------------------------------//\r\n    static ShowShareMenu(_callFun?: (_data: { title?: string, imageUrl?: string, query?: string }) => void) {\r\n        Platform.ShowShareMenu();\r\n        Platform.OnShareAppMessage(() => {\r\n            let _info = this.getShareInfo('normal');\r\n            let _data = { title: _info.title, imageUrl: ShareBathPath + _info.image, query: this.getQueryInfo(_info.image) }\r\n            _callFun && _callFun(_data);\r\n            // Statistic.ShareImage(0, _info.image);\r\n            return _data;\r\n        })\r\n    }\r\n    static async ShareImage(_key: ShareImageType) {\r\n        let _info = this.getShareInfo(_key);\r\n\r\n        let _r = await Platform.ShareAppMessage(_info.title, ShareBathPath + _info.image, this.getQueryInfo(_info.image));\r\n        // Statistic.ShareImage(this.getShareType(_key), _info.image, _r);\r\n        return _r;\r\n    }\r\n    static async ShareVideo(_key: ShareImageType) {\r\n        let _r = await Platform.ShareRecoder();\r\n        // Statistic.ShareImage(this.getShareType(_key), 'video', _r);\r\n        return _r;\r\n    }\r\n    private static getShareType(_key: ShareImageType) {\r\n        let _type = 0;\r\n        // switch (_key) {\r\n        //     case 'flaunt':\r\n        //         _type = 1;\r\n        //         break;\r\n        //     case 'normal':\r\n        //         _type = 2;\r\n        //         break;\r\n        //     case 'help':\r\n        //         _type = 3;\r\n        //         break;\r\n        //     case 'prophelp':\r\n        //         _type = 4;\r\n        //         break;\r\n        //     case 'unlockhelp':\r\n        //         _type = 5;\r\n        //         break;\r\n        //     default:\r\n        //         break;\r\n        // }\r\n        return _type;\r\n    }\r\n    private static getShareInfo(_key: ShareImageType) {\r\n        let _info = ShareConfig.Image[_key];\r\n        let _idx = 0;\r\n        if (_info.length > 1) {\r\n\r\n\r\n            _idx = (Math.random() * _info.length) | 0\r\n            console.log('getShareInfo _idx', _idx, _info.length);\r\n        }\r\n        // if (_key == 'help') {\r\n        //     _titles.push(`\u6211\u5728\u7B2C${DataManager.Get('curLevel') + 1}\u5173\u8FC7\u4E0D\u53BB\u4E86\uFF0C\u5FEB\u6765\u6551\u6551\u6211\uFF01`)\r\n        // }\r\n        // let _imgidx = (Math.random() * testShareImage.length) | 0\r\n        return {\r\n            title: _info[_idx].title,\r\n            image: _info[_idx].image//testShareImage[_imgidx]\r\n        }\r\n    }\r\n    private static getQueryInfo(_cardId: string) {\r\n        let _shareCardIDStr = 'cardid=' + _cardId;\r\n        // let _uid = Global.hhgame.currentUser ? Global.hhgame.currentUser._id : 'unknow';\r\n        let _uid = 'unknow';\r\n        let _qid = '&fromUid=' + _uid;\r\n        return _shareCardIDStr + _qid;\r\n    }\r\n\r\n    //----------------------------\u76D1\u542C\u542F\u52A8\u53C2\u6570-------------------------------------//\r\n    static ListenBootstrap(_callBack: (res: {\r\n        scene: string,\r\n        query: any\r\n    }) => void) {\r\n        // console.error('ListenBootstrap000');\r\n        if (!Platform.IsExistGetLaunchOptions()) {\r\n            return;\r\n        }\r\n        // console.error('ListenBootstrap111');\r\n        _callBack(Platform.GetLaunchOptions())\r\n        Platform.OnShow(_callBack);\r\n    }\r\n    //----------------------------------------------------------------------------//\r\n}\r\n\r\n(window as any).Global = MyGlobal;", "\uFEFFimport { Global } from './config/Global';\nimport PlayDataUtil from './data/PlayDataUtil';\nimport SoundPlayer from './common/SoundPlayer';\nimport TB from './platform/TB';\nimport BannerUtil from './utils/BannerUtil';\nimport MainUtil from './utils/MainUitl';\nimport HHAudio from './Global/modules/Audio/HHAudio';\nimport MyGlobal from './Global/Global';\nimport StartScene from './FGUIClass/StartScene';\nimport FGUIUtil from './Global/modules/FGUI/FGUIUtil';\nimport { GameLogic } from './FGUIClass/GameLogic';\nimport ModulePackage from './module/ModulePackage';\nimport { ModuleGlobal } from './module/ModuleGlobal';\nimport { ModulePlatformAPI } from './module/ModulePlatformAPI';\nimport { TaskLogic } from './module/Task/TaskLogic';\nimport { ModuleAudio } from './module/ModuleTool';\nimport { AudioCDNPath } from './Global/AudioConfig';\nimport { ModuleStatistics } from './module/ModuleStatistics';\nimport { ModuleSkins } from './module/ModuleSkins';\nimport uiAwards from './module/rank/uiAwards';\n\nexport default class LoadingUI extends Laya.View {\n    public loadingBar: Laya.ProgressBar;\n    public bg: Laya.Sprite;\n    public progress: Laya.Label;\n    public img_load: Laya.Sprite;\n    public logo: Laya.Sprite;\n\n    _allValue = 0; //\u603B\u6570\n    _curValue = 0; //\u5DF2\u52A0\u8F7D\u4E2A\u6570\n    _isComplete = false;\n    constructor() { super(); }\n\n    onEnable(): void {\n        MainUtil.setCurScene(Global.hallConfig.CUR_SCENE.loading);\n        Global.EventManager.on(Global.hallConfig.EventEnum.Res_Load_Complete, this, this.complete);\n        this.innerRound();\n\n        // //\u9884\u52A0\u8F7D\u8D44\u6E90\n        // this._allValue = Global.ResourceManager.PreloadRes.length;\n        PlayDataUtil.init();\n        // TB.init();\n        SoundPlayer.init();\n\n\n        this.centerFit();\n        PlayDataUtil.setData(\"version\", Global.hallConfig._version);\n\n        //\u52A0\u8F7D\u58F0\u6548\n        for (const key in Global.hallConfig.Sound) {\n            SoundPlayer.preloadSound(key, false);\n        }\n        // this.logo.texture.url = \n        // this.logo.repaint();\n\n\n        ModulePlatformAPI.Init();\n        // //\u66F4\u6362\u76AE\u80A4\u521D\u59CB\u5316\n        // ModuleSkins.Init(() => {\n        //     // this.logo.texture = Laya.loader.getRes('https://oss.ixald.com/ProductInfo/HCDXG/default/game/GameGadget.png')\n        //     // console.log('logo', this.logo);\n\n        //     ModuleSkins.ChangeSkin(this.logo, 'beginLogo');\n        // });\n        this.progress.text = '5%';\n        ModuleStatistics.StartLoadRes();\n        //\u521D\u59CB\u5316\u5168\u5C40\u4FE1\u606F\u7C7B\n        ModuleGlobal.Init(() => {\n            this.progress.text = '10%';\n\n            //\u8BBE\u7F6E\u6A21\u5757\u6309\u94AE\u901A\u7528\u97F3\u6548\n            ModuleAudio.SetComonBtnAudioPath(AudioCDNPath + 'Audio/btn.mp3');\n            //\u521D\u59CB\u5316\u4EFB\u52A1\u7CFB\u7EDF\n            TaskLogic.Init(() => {\n                ModulePlatformAPI.CheckMember();\n                ModulePlatformAPI.CheckShopFavoredStatus();\n                this.progress.text = '20%';\n                console.log('\u4EFB\u52A1\u521D\u59CB\u5316\u6210\u529F');\n                Global.ResourceManager.PreloadResources();\n\n\n            });\n            //\u9884\u5148\u83B7\u53D6\u4E00\u6B21\u5546\u54C1\u5217\u8868\n            ModuleGlobal.GetGoodsList(undefined, { pageSize: 30, sortType: 'random' });\n            //\u9884\u5148\u83B7\u53D6\u6392\u884C\u699C\u5956\u54C1\u4FE1\u606F\n            uiAwards.GetRankData();\n\n        })\n\n        // //\u83B7\u53D6\u5546\u5BB6\u914D\u7F6E\n        // if (Laya.Browser.onTBMiniGame) {\n\n\n\n        //     // TB.login((data) => {\n        //     //     this.progress.text = '10%';\n        //     //     console.log('login suc------', 1);\n\n        //     //     Global.ResourceManager.initConf(data);\n        //     //     console.log('login suc------', 2);\n        //     //     PlayDataUtil.setData(\"openId\", data.openid);  //\u4FDD\u5B58\u5546\u94FAid\n        //     //     console.log('login suc------', 3);\n        //     //     PlayDataUtil.setData(\"userOpenId\", data.userOpenId);  //\u4FDD\u5B58\u73A9\u5BB6userOpenId\n        //     //     console.log('login suc------', 4);\n        //     //     if (data.player) {\n        //     //         console.log('login suc------', 5);\n        //     //         PlayDataUtil.savePlayerData(data.player);\n        //     //         console.log('login suc------', 6);\n        //     //         GameLogic.InitCoin(data.player.userCoin);\n        //     //         GameLogic.InitScore(data.player.point);\n        //     //         GameLogic.InitLuckyBagConfig(data.bouncedConfig.luckyBag);\n        //     //         GameLogic.InitLuckyBagState(data.player.isBuyLuckyBag);\n\n\n        //     //         // //\u517C\u5BB9\u8001\u73A9\u5BB6\u672C\u5730\u4FDD\u5B58\u7684\u89D2\u8272\u5217\u8868\n        //     //         // let newRoleList = data.player.roleList;\n        //     //         // console.log('login suc------',7);\n        //     //         // let localRoleList = PlayDataUtil.data.myRoleIDArray;\n        //     //         // console.log('login suc------',8);\n        //     //         // for (let i = 0; i < localRoleList.length; i++) {\n        //     //         //     let roleId = localRoleList[i];\n        //     //         //     if (data.player.roleList.indexOf(roleId) == -1) {  //\u670D\u52A1\u5668\u6570\u636E\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u89D2\u8272\n        //     //         //         MainUtil.reqMyRole(roleId, () => {\n        //     //         //             newRoleList.push(roleId);\n        //     //         //         });\n        //     //         //     }\n        //     //         // }\n        //     //         // console.log('login suc------',9);\n        //     //         // PlayDataUtil.setData('myRoleIDArray', newRoleList, true);\n        //     //         console.log('login suc------', 10);\n        //     //     }\n        //     //     // \u4FDD\u5B58\u662F\u5426\u5F00\u542F\u793C\u5305vip\u63A7\u5236\n        //     //     PlayDataUtil.setData(\"isVipControl\", data.isVipControl);\n        //     //     // // \u662F\u5426\u6709vip\u4F53\u7CFB \n        //     //     PlayDataUtil.setData(\"isVipSystem\", data.isVipSystem);\n\n        //     //     //\u4FDD\u5B58\u6BCF\u5C40\u6D88\u8017\u7684\u91D1\u5E01\u6570\n        //     //     Global.ResourceManager.saveSubCoin(data.gameConfig.subCoin);\n        //     //     GameLogic.SetGameExpendCoin(data.gameConfig.subCoin);\n        //     //     console.log('login suc------', 11);\n\n        //     //     //\u4FDD\u5B58\u8D2D\u4E70\u5546\u54C1\u7684\u914D\u7F6E\n        //     //     Global.ResourceManager.saveGoodsConf(data.gameConfig.promotionList);\n        //     //     console.log('login suc------', 12);\n\n        //     //     // //\u4FDD\u5B58\u5956\u54C1\u6C60\u7684\u914D\u7F6E\n        //     //     // Global.ResourceManager.savePrizePoolConf(data.gameConfig.redPacketList);\u65E0\n        //     //     // //\u4FDD\u5B58\u6392\u540D\u5956\u54C1\u6570\u636E\n        //     //     // Global.ResourceManager.saveRankPrizeConf(data.rankRewardConfig.rewardList);\u65E0\n\n        //     //     //\u4FDD\u5B58\u5206\u4EAB\u914D\u7F6E\n        //     //     Global.ResourceManager.saveShareConfig(data.gameConfig.shareConfig);\n        //     //     console.log('login suc------', 13);\n\n        //     //     //\u4FDD\u5B58\u4EFB\u52A1\u914D\u7F6E\n        //     //     Global.ResourceManager.saveTaskConf(data.gameConfig.missionConfig);\n        //     //     console.log('login suc------', 14);\n\n        //     //     //\u4FDD\u5B58\u89C4\u5219\u914D\u7F6E\n        //     //     Global.ResourceManager.saveRuleConf(data.gameConfig.rule);\n        //     //     console.log('login suc------', 15);\n\n        //     //     //\u4FDD\u5B58\u6392\u884C\u699C\u5F00\u59CB\u548C\u7ED3\u675F\u65F6\u95F4\n        //     //     Global.ResourceManager.saveRankTime(data.sTime, data.eTime);\n        //     //     console.log('login suc------', 16);\n\n        //     //     //\u4FDD\u5B58UI\u914D\u7F6E\n        //     //     Global.ResourceManager.saveAtmosphere(data.gameConfig.atmosphereConfig);\n        //     //     console.log('login suc------', 17);\n        //     //     Global.ResourceManager.updateUI();\n        //     //     console.log('login suc------', 18);\n\n        //     //     MainUtil.checkCollectState();\n        //     //     console.log('login suc------', 19);\n        //     //     //MainUtil.analysis('loadingRes', {});\n        //     //     console.log('login suc------', 20);\n        //     //     //MainUtil.analysis('version', { type: Global.hallConfig._version });\n        //     //     console.log('login suc------', 21);\n        //     //     //\u767B\u5F55\u6210\u529F\u540E\u518D\u52A0\u8F7D\u8D44\u6E90\n        //     //     Global.ResourceManager.PreloadResources();\n        //     //     //\u8BBE\u7F6E\u548C\u9884\u52A0\u8F7D\u6C34\u679C\u76AE\u80A4\n        //     //     GameLogic.SetAndPreLoadFruit(data.gameConfig.atmosphereConfig);\n        //     //     console.log('login suc------', 22);\n        //     // }, () => {\n        //     //     console.log(\"\u767B\u5F55\u4FE1\u606F\u83B7\u53D6\u5931\u8D25\");\n        //     //     Global.ResourceManager.updateUI();\n        //     //     Global.ResourceManager.PreloadResources();\n        //     // })\n        // }\n        // else {\n        //     ///////////\u6D4B\u8BD5\u6570\u636E////////////\n        //     //\u4FDD\u5B58\u6392\u540D\u5956\u54C1\u6570\u636E\n        //     Global.ResourceManager.saveRankPrizeConf([{ \"price\": \"708.00\", \"approve_status\": \"onsale\", \"num\": 999, \"rewardNums\": 1, \"name\": \"goods\", \"rankNums\": [1, 1], \"num_iid\": 634413319548, \"type\": \"1\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i2/2210005895332/O1CN01bYG0fa1pG6TWuQ5rL_!!2210005895332.png\", \"title\": \"Dimoo\u592A\u7A7A\u7CFB\u5217\u6574\u76D212\u6B3E\", \"seller_cids\": \"-1\" }, { \"price\": \"255.00\", \"approve_status\": \"onsale\", \"num\": 222, \"rewardNums\": 2, \"name\": \"goods\", \"rankNums\": [2, 3], \"num_iid\": 633427312626, \"type\": \"2\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i3/2210005895332/O1CN01tBra6m1pG6SvS1n1Y_!!2210005895332.jpg\", \"title\": \"\u6211\u60F3\u8BD5\u4E00\u4E0B\u8D85\u8FC7\u516B\u4E5D\u5341\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E2A\u5B57\", \"seller_cids\": \"-1\" }, { \"price\": \"28.00\", \"approve_status\": \"onsale\", \"num\": 153, \"rewardNums\": 7, \"name\": \"goods\", \"rankNums\": [4, 5], \"num_iid\": 634092978270, \"type\": \"3\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i3/2210005895332/O1CN01hktb1s1pG6SyZXKlK_!!2210005895332.jpg\", \"title\": \"\u6D4B\u8BD5\u4FDD\u6E29\u888B\", \"seller_cids\": \"-1\" }, { \"price\": \"28.00\", \"approve_status\": \"onsale\", \"num\": 153, \"rewardNums\": 7, \"name\": \"goods\", \"rankNums\": [6, 10], \"num_iid\": 634092978270, \"type\": \"3\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i3/2210005895332/O1CN01hktb1s1pG6SyZXKlK_!!2210005895332.jpg\", \"title\": \"\u6D4B\u8BD5\u7B2C\u56DB\u540D\", \"seller_cids\": \"-1\" }, { \"price\": \"28.00\", \"approve_status\": \"onsale\", \"num\": 153, \"rewardNums\": 7, \"name\": \"goods\", \"rankNums\": [11, 15], \"num_iid\": 634092978270, \"type\": \"3\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i3/2210005895332/O1CN01hktb1s1pG6SyZXKlK_!!2210005895332.jpg\", \"title\": \"\u6D4B\u8BD5\u7B2C\u56DB\u540D\", \"seller_cids\": \"-1\" }, { \"price\": \"28.00\", \"approve_status\": \"onsale\", \"num\": 153, \"rewardNums\": 7, \"name\": \"goods\", \"rankNums\": [16, 20], \"num_iid\": 634092978270, \"type\": \"3\", \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i3/2210005895332/O1CN01hktb1s1pG6SyZXKlK_!!2210005895332.jpg\", \"title\": \"\u6D4B\u8BD5\u7B2C\u56DB\u540D\", \"seller_cids\": \"-1\" }]);\n        //     //\u4FDD\u5B58\u89C4\u5219\u914D\u7F6E\n        //     Global.ResourceManager.saveRuleConf(\"\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\\n\u6D4B\u8BD5\u7528\u89C4\u5219\u6765\u6765\u6765\\n\u6D4B\u8BD5\u7528\u89C4\u5219\u6765\u6765\u6765\\n\u6D4B\u8BD5\u7528\u89C4\u5219\u6765\u6765\u6765\\n\u6D4B\u8BD5\u7528\u89C4\u5219\u6765\u6765\u6765\\n\u6D4B\u8BD5\u7528\u89C4\u5219\u6765\u6765\u6765\");\n        //     // \u4FDD\u5B58\u662F\u5426\u5F00\u542F\u793C\u5305vip\u63A7\u5236\n        //     PlayDataUtil.setData(\"isVipControl\", 1);\n        //     // \u662F\u5426\u6709\u4F1A\u5458\u4F53\u7CFB \n        //     PlayDataUtil.setData(\"isVipSystem\", true);\n        //     //\u6D4B\u8BD5\u7528\u5546\u54C1\u8BE6\u60C5\n        //     Global.ResourceManager.saveGoodsConf([\n        //         { \"price\": \"2532.00\", \"approve_status\": \"onsale\", \"num\": 215, \"num_iid\": 634413319548, \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i2/2210005895332/O1CN01LClMdZ1pG6SrlgY4i_!!2210005895332.jpg\", \"title\": \"\u4E07\u4EE3\u9AD812359\u8FBE\u6A21\u578B \u539F\u88C5\u8FDB\u53E3 \u6B63\u54C1\u6A21\u578BHG\", \"seller_cids\": \"-1\" },\n        //         { \"price\": \"50.00\", \"approve_status\": \"onsale\", \"num\": 215, \"num_iid\": 634413319542, \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i2/2210005895332/O1CN01LClMdZ1pG6SrlgY4i_!!2210005895332.jpg\", \"title\": \"\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\", \"seller_cids\": \"-1\" },\n        //         { \"price\": \"999.00\", \"approve_status\": \"onsale\", \"num\": 215, \"num_iid\": 634413319543, \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i2/2210005895332/O1CN01LClMdZ1pG6SrlgY4i_!!2210005895332.jpg\", \"title\": \"\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\", \"seller_cids\": \"-1\" },\n        //         { \"price\": \"110.00\", \"approve_status\": \"onsale\", \"num\": 215, \"num_iid\": 634413319544, \"pic_url\": \"https://img.alicdn.com/bao/uploaded/i2/2210005895332/O1CN01LClMdZ1pG6SrlgY4i_!!2210005895332.jpg\", \"title\": \"\u4E07\u4EE3\u9AD8\u8FBE\u6A21\u578B\", \"seller_cids\": \"-1\" }\n        //     ])\n\n        //     Global.ResourceManager.PreloadResources();\n        // }\n        // console.log('login suc------', 23);\n\n        HHAudio.PreloadAudioClip('ALL');\n\n        console.log('login suc------', 24);\n    }\n\n    innerRound() {\n        Laya.Tween.to(this.img_load, { rotation: 360 }, 4000, Laya.Ease.linearNone, Laya.Handler.create(this, function (): void {\n            this.img_load.rotation = 0;\n            this.innerRound();\n        }, null, true));\n    }\n\n    onDisable(): void {\n        Global.EventManager.off(Global.hallConfig.EventEnum.Res_Load_Complete, this, this.complete);\n    }\n\n    updateBar(value: number): void {\n        console.log(\"updateBar value = \", value);\n        if (value > 1) {\n            value = 1;\n        }\n        this.loadingBar.value = value;\n    }\n\n    complete(curFrame: number = 0): void {\n        this._curValue += 1;\n        // this.loadingBar.value = this._curValue / this._allValue;\n        this.progress.text = (20 + Math.floor(Global.ResourceManager._idx * 0.6)) + '%';\n        if (Global.ResourceManager._idx < 100) {\n            return;\n        }\n        if (!this._isComplete) {\n            this._isComplete = true;\n            console.log(\"\u8FDB\u5EA6\u6761\u7ED3\u675F\u52A0\u8F7D\");\n            // RankUtil.init();\n            // TaskUtil.init();\n            // BannerUtil.init();\n\n            // if (Laya.Browser.onTBMiniGame) \n            // {\n            //     // //\u52A0\u8F7D\u7F51\u7EDC\u8D44\u6E90\n            //     let _cdn: string = Global.hallConfig._cdn;\n            //     let ection = \"ection_\" + Global.ResourceManager.getAtmosphere().scene;\n            //     Laya.loader.load([\n            //         { url: _cdn + Global.hallConfig.FGui.common, type: Laya.Loader.BUFFER },\n            //         { url: _cdn + Global.hallConfig.FGui.commonPng, type: Laya.Loader.IMAGE },\n            //         { url: _cdn + Global.hallConfig.FGui.main, type: Laya.Loader.BUFFER },\n            //         { url: _cdn + Global.hallConfig.FGui.mainPng, type: Laya.Loader.IMAGE },\n            //         { url: _cdn + Global.hallConfig.FGui.Loading, type: Laya.Loader.BUFFER },\n            //         { url: _cdn + Global.hallConfig.FGui.LoadingPng, type: Laya.Loader.IMAGE },\n            //         // { url: Global.hallConfig.Ection[ection], type: Laya.Loader.IMAGE },\n            //     ], Laya.Handler.create(this, (isSuccess) => {\n            //         this.progress.text = '93%';\n            //         if (isSuccess) {\n            //             this.changeScene();\n            //         }\n            //         else {\n\n            //         }\n            //     }));\n            // } else \n            {\n                // this.progress.text = '93%';\n                // let _res = FGUIConfig.CDNBasePath + 'res/FGUI/GameCommon.txt';\n                // Laya.loader.load(_res, Laya.Handler.create(this, (result, result2) => {\n                //     console.error('_package00', FGUIConfig.CDNBasePath + 'res/FGUI/GameCommon');\n                //     fgui.UIPackage.loadPackage(FGUIConfig.CDNBasePath + 'res/FGUI/GameCommon', Laya.Handler.create(this, (result, result2) => {\n                //         console.log('loadPackage', result, result2);\n\n                //     }))\n                //     // let _package = fgui.UIPackage.addPackage(FGUIConfig.CDNBasePath + 'res/FGUI/GameCommon');\n                //     console.error('_package', result);\n\n                // }));\n\n                let _initComplete = () => {\n                    this.progress.text = '95%';\n                    FGUIUtil.PreLoadResouce('All', () => {\n                        this.changeScene();\n                    });\n\n                    // ModulePackage.Instance.Show(\"base\", 100, 100, this as any);\n                }\n\n                ModulePackage.Instance.PreloadResources();\n\n                if (ModulePackage.Instance.IsInitComplete()) {\n                    _initComplete();\n                }\n                else {\n                    let callback = () => {\n                        ModulePackage.Instance.off(ModulePackage.MODULE_INIT_COMPLETE, this, callback)\n                        _initComplete();\n\n                    };\n\n                    ModulePackage.Instance.on(ModulePackage.MODULE_INIT_COMPLETE, this, callback);\n                }\n\n            }\n        }\n    }\n    changeScene() {\n        // fgui.UIPackage.addPackage(Global.hallConfig._cdn + MainUtil.getUI(Global.hallConfig.FGui.common));\n        // if (IsCDN) {\n        //     fgui.UIPackage.addPackage(Global.hallConfig._cdn + MainUtil.getUI(Global.hallConfig.FGui.common));\n        // } else {\n        //     fgui.UIPackage.addPackage(MainUtil.getUI(Global.hallConfig.FGui.common));\n        // }\n        GameLogic.Init();\n        GameLogic.GetActivityState();\n        GameLogic.listenRefreshNewNumber();\n        MyGlobal.Init({ cdnData: false, dataManager: true, openFGUI: true });\n\n        FGUIUtil.loadPackage('GameCommon', this, () => {\n            TB.setBarColor(1);\n            FGUIUtil.ShowScene(StartScene);\n            this.progress.text = '100%';\n        })\n        // TaskUtil.getTaskList(() => {\n        //     this.progress.text = '97%';\n        //     PlayDataUtil.setData(\"isShowNotice\", true);\n        //     //MainUtil.analysis('enterHall', {});\n        //     //\u8DF3\u8F6C\u573A\u666F\n        //     // Laya.physicsTimer.scale = 1;\n        //     // Laya.Physics.I.allowSleeping = true;\n        //     MyGlobal.Init({ cdnData: false, dataManager: true, openFGUI: true });\n\n        //     FGUIUtil.loadPackage('GameCommon', this, () => {\n        //         TB.setBarColor(1);\n        //         FGUIUtil.ShowScene(StartScene);\n        //         this.progress.text = '100%';\n        //     })\n\n        // })\n        // PlayDataUtil.setData(\"isShowNotice\", true);\n        // //console.log(\"changeScene MainScene\");\n\n        // let t = new Date().getTime() - TB.getOpenAppTime();\n        // console.log(\"openApp->enterHall time = \", t);\n        // //MainUtil.analysis('enterHall', { diff_time : t, tag : TB.getOpenAppTime()});\n\n        // //\u8DF3\u8F6C\u573A\u666F\n        // Laya.Scene.close(Global.loadSceneName)\n\n        // new MainScene();\n    }\n\n    //\u754C\u9762\u9002\u914D\n    centerFit() {\n        this.bg.height = 2000;\n        this.bg.x = 0;\n        this.bg.y = 0;\n    }\n\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\nimport MyGameScene from \"./Game/MyGameScene\"\nimport loadingScene from \"./loadingScene\"\nimport Fruit from \"./Game/Fruit\"\nimport Juice from \"./Game/Juice\"\n/*\n* \u6E38\u620F\u521D\u59CB\u5316\u914D\u7F6E;\n*/\nexport default class GameConfig{\n    static width:number=750;\n    static height:number=1334;\n    static scaleMode:string=\"fixedwidth\";\n    static screenMode:string=\"vertical\";\n    static alignV:string=\"top\";\n    static alignH:string=\"left\";\n    static startScene:any=\"loadingScene.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=false;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n        reg(\"Game/MyGameScene.ts\",MyGameScene);\n        reg(\"loadingScene.ts\",loadingScene);\n        reg(\"Game/Fruit.ts\",Fruit);\n        reg(\"Game/Juice.ts\",Juice);\n    }\n}\nGameConfig.init();", "import GameConfig from \"./GameConfig\";\nimport { Global } from './config/Global';\nimport { ModuleStatistics } from \"./module/ModuleStatistics\";\nclass Main {\n\tconstructor() {\n\t\t//\u6839\u636EIDE\u8BBE\u7F6E\u521D\u59CB\u5316\u5F15\u64CE\t\t\n\t\tLaya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\n\t\tLaya.stage.alignV = GameConfig.alignV;\n\t\tLaya.stage.alignH = GameConfig.alignH;\n\t\t//\u517C\u5BB9\u5FAE\u4FE1\u4E0D\u652F\u6301\u52A0\u8F7Dscene\u540E\u7F00\u573A\u666F\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\n\n\t\t//\u6253\u5F00\u8C03\u8BD5\u9762\u677F\uFF08\u901A\u8FC7IDE\u8BBE\u7F6E\u8C03\u8BD5\u6A21\u5F0F\uFF0C\u6216\u8005url\u5730\u5740\u589E\u52A0debug=true\u53C2\u6570\uFF0C\u5747\u53EF\u6253\u5F00\u8C03\u8BD5\u9762\u677F\uFF09\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\n\t\tif (GameConfig.stat) Laya.Stat.show();\n\t\tLaya.alertGlobalError(true);\n\n\t\t//\u6FC0\u6D3B\u8D44\u6E90\u7248\u672C\u63A7\u5236\uFF0Cversion.json\u7531IDE\u53D1\u5E03\u529F\u80FD\u81EA\u52A8\u751F\u6210\uFF0C\u5982\u679C\u6CA1\u6709\u4E5F\u4E0D\u5F71\u54CD\u540E\u7EED\u6D41\u7A0B\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\n\t\t\n\t}\n\n\tonVersionLoaded(): void {\n\t\t//\u6FC0\u6D3B\u5927\u5C0F\u56FE\u6620\u5C04\uFF0C\u52A0\u8F7D\u5C0F\u56FE\u7684\u65F6\u5019\uFF0C\u5982\u679C\u53D1\u73B0\u5C0F\u56FE\u5728\u5927\u56FE\u5408\u96C6\u91CC\u9762\uFF0C\u5219\u4F18\u5148\u52A0\u8F7D\u5927\u56FE\u5408\u96C6\uFF0C\u800C\u4E0D\u662F\u5C0F\u56FE\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\n\t}\n\n\tonConfigLoaded(): void {\n\t\t\n\t\tGlobal.SetupEngine();\n\n\t\t//\u52A0\u8F7D\u7F51\u7EDC\u8D44\u6E90\n        // let _cdn: string = \"https://xiaoailingdong.oss-cn-shenzhen.aliyuncs.com/bigFight/taobao/index/\";\n        // Laya.loader.load([\n        //     { url: _cdn + \"loadingRes/bg.jpg\" , type: Laya.Loader.IMAGE},\n        //     { url: _cdn + \"loadingRes/logo.png\" , type: Laya.Loader.IMAGE},\n        //     { url: _cdn + \"res/atlas/loadingRes.atlas\" , type: Laya.Loader.ATLAS},\n\t\t// \t{ url: _cdn + \"res/atlas/loadingRes.png\" , type: Laya.Loader.IMAGE},\n        // ],Laya.Handler.create(this,()=>{\n        //     this.changeScene();\n        // }));\n\n\t\tModuleStatistics.Init(Global.hallConfig._version);\n\t\t//\u52A0\u8F7DIDE\u6307\u5B9A\u7684\u573A\u666F\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n\t\tfairygui.UIConfig.packageFileExtension = \"txt\";\n\t}\n\n\tchangeScene(){\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n\t}\n\n}\n//\u6FC0\u6D3B\u542F\u52A8\u7C7B\nnew Main();\n"],
  "mappings": ";;AACA,MAAI,eAAe,KAAK;AAMxB,0BAAmE;AAAA,IAM/D,YAAY,aAAgB,SAAS,SAAiB;AAKtD,sBAAW;AAsJH,6BAEJ;AA5JA,WAAK,eAAe;AACpB,WAAK,QAAQ;AACb,WAAK,WAAW;AAAA;AAAA,IAIpB,OAAO;AACH,UAAI,KAAK,UAAU;AACf;AAAA;AAEJ,UAAI,UAAU;AACd,UAAG,KAAK,QAAQ,cAAa;AACzB,YAAI,OAAO,GAAG,eAAe,EAAC,KAAK,KAAK;AAGxC,YAAI,QAAQ,KAAK,SAAS;AACtB,cAAI,OAAO,OAAO,KAAK,KAAK;AAC5B,mBAAQ,IAAI,GAAG,IAAI,KAAK,QAAS,KAAI;AACjC,gBAAI,MAAM,KAAK;AACf,gBAAG,KAAK,QAAQ,QAAQ;AAAW;AACnC,sBAAU;AACV,iBAAK,MAAM,OAAO,KAAK,QAAQ;AAAA;AAAA,eAElC;AACD,eAAK,QAAQ,KAAK;AAAA;AAGtB,YAAG,SAAQ;AACP,aAAG,WAAW;AAAA,YACV,KAAK,KAAK;AAAA,YACV,MAAM,KAAK;AAAA,YACX,SAAS,WAAW;AAAA;AAAA;AAAA;AAAA,aAK3B;AACD,YAAI,OAAO,aAAa,QAAQ,KAAK;AAGrC,YAAG,MAAM;AACL,cAAI,OAAO,OAAO,KAAK,KAAK;AAC5B,mBAAQ,IAAI,GAAG,IAAI,KAAK,QAAS,KAAI;AACjC,gBAAI,MAAM,KAAK;AACf,gBAAG,KAAK,MAAM,MAAM,QAAQ;AAAW;AACvC,sBAAU;AACV,iBAAK,MAAM,OAAO,KAAK,MAAM,MAAM;AAAA;AAAA;AAI3C,qBAAa,QAAQ,KAAK,UAAU,KAAK,UAAU,KAAK;AAAA;AAG5D,WAAK,WAAW;AAAA;AAAA,IAOpB,QAAQ,KAAK,OAAO,SAAS,MAAM,SAAS,OAAO;AAC/C,WAAK,MAAM,OAAO;AAElB,UAAI,QAAQ;AACR,YAAI;AAAA,iBAGK,OAAP;AACE,kBAAQ,MAAM,WAAW;AAAA;AAAA;AAIjC,UAAI,QAAQ;AACR,aAAK;AAAA;AAIT,UAAI,YAAY,KAAK,gBAAgB;AACrC,UAAI,WAAW;AACX,kBAAU,QAAQ,OAAK;AACnB,YAAE;AAAA;AAAA;AAAA;AAAA,QAKV,OAAU;AACV,UAAI,CAAC,KAAK,OAAO;AACb,cAAM,IAAI,MAAM;AAAA;AAEpB,aAAO,KAAK;AAAA;AAAA,IAOhB,oBAAoB;AAChB,UAAG,KAAK,QAAQ,cAAa;AAEzB,WAAG,WAAW;AAAA,UACV,KAAK,KAAK;AAAA,UACV,MAAM,KAAK;AAAA,UACX,SAAS,WAAW;AAAA;AAAA;AAAA,aAIvB;AACD,qBAAa,QAAQ,KAAK,UAAU,KAAK,UAAU,KAAK;AAAA;AAAA;AAAA,IAIhE,UAAU,UAGN,IAAI;AACJ,WAAK,QAAQ,KAAK;AAElB,UAAI,QAAQ,mBAAmB;AAC3B,YAAI,OAAO,OAAO,KAAK,KAAK;AAC5B,aAAK,QAAQ,OAAK;AACd,uBAAa,WAAW;AAAA;AAAA;AAAA;AAAA,IAuCpC,OAA0B,KAAQ,SAAmC;AACjE,UAAI,YAAY,KAAK,gBAAgB;AACrC,UAAI,WAAW;AAEX,YAAI,UAAU,QAAQ,WAAW,IAAI;AACjC;AAAA;AAAA,aAGH;AACD,oBAAY,KAAK,gBAAgB,OAAiB;AAAA;AAEtD,gBAAU,KAAK;AAAA;AAAA,IAInB,SAAS,KAAa,SAAoB;AACtC,UAAI,CAAC,SAAS;AACV,eAAO,KAAK,gBAAgB;AAC5B;AAAA;AAGJ,UAAI,KAAK,gBAAgB,MAAM;AAC3B,eAAO,KAAK,gBAAgB;AAAA;AAAA;AAAA,IAKpC,eAAe,YAAW;AACtB,WAAK,QAAQ,cAAc,WAAW,YAAY;AAClD,WAAK,QAAQ,QAAQ,WAAW,UAAU;AAC1C,WAAK,QAAQ,UAAU,WAAW,SAAS;AAC3C,WAAK,QAAQ,QAAQ,WAAW,UAAU;AAC1C,WAAK,QAAQ,YAAY,WAAW,UAAU;AAC9C,WAAK,QAAQ,kBAAkB,WAAW,gBAAgB;AAC1D,WAAK,QAAQ,SAAS,WAAW,OAAO;AACxC,WAAK,QAAQ,YAAY,WAAW,UAAU;AAC9C,WAAK,QAAQ,aAAa,WAAW,WAAW;AAChD,WAAK,QAAQ,SAAS,WAAW,OAAO;AACxC,WAAK,QAAQ,aAAa,WAAW,WAAW;AAChD,WAAK,QAAQ,YAAY,WAAW,UAAU;AAC9C,WAAK,QAAQ,cAAc,WAAW,YAAY;AAClD,WAAK,QAAQ,WAAW,WAAW,SAAS;AAC5C,WAAK,QAAQ,UAAU,WAAW,QAAQ;AAC1C,WAAK,QAAQ,oBAAoB,WAAW,kBAAkB;AAC9D,WAAK,QAAQ,yBAAyB,WAAW,uBAAuB;AACxE,WAAK,QAAQ,qBAAqB,WAAW,mBAAmB;AAChE,WAAK,QAAQ,oBAAoB,WAAW,kBAAkB;AAC9D,WAAK,QAAQ,yBAAyB,WAAW,uBAAuB;AACxE,WAAK,QAAQ,sBAAsB,WAAW,oBAAoB;AAClE,WAAK,QAAQ,qBAAqB,WAAW,mBAAmB;AAChE,WAAK,QAAQ,qBAAqB,WAAW,mBAAmB;AAChE,WAAK,QAAQ,0BAA0B,WAAW,wBAAwB;AAC1E,WAAK,QAAQ,mBAAmB,WAAW,iBAAiB;AAC5D,WAAK,QAAQ,0BAA0B,WAAW,wBAAwB;AAC1E,WAAK,QAAQ,4BAA4B,WAAW,0BAA0B;AAC9E,WAAK,QAAQ,yBAAyB,WAAW,uBAAuB;AAExE,WAAK,QAAQ,aAAa,WAAW,iBAAiB;AACtD,WAAK,QAAQ,SAAS,WAAW,aAAa;AAC9C,WAAK,QAAQ,UAAU,WAAW,YAAY;AAC9C,WAAK,QAAQ,SAAS,WAAW,aAAa;AAC9C,WAAK,QAAQ,UAAU,WAAW,kBAAkB;AAAA;AAAA;;;AC/HrD,MAAM,kBAA4B;AAAA,IACrC,SAAS;AAAA,IACT,MAAM;AAAA,IACN,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,OAAO;AAAA,IACP,UAAU;AAAA,IACV,aAAa;AAAA,IACb,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,SAAS;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,QAAQ;AAAA,IAER,aAAa;AAAA,IACb,cAAc;AAAA,IACd,iBAAiB;AAAA,IACjB,eAAe;AAAA,IACf,WAAW;AAAA,IACX,eAAe;AAAA,IACf,cAAc;AAAA,IACd,cAAc;AAAA,IACd,iBAAiB;AAAA,IACjB,cAAc;AAAA,IACd,cAAc;AAAA,IACd,cAAc;AAAA,IACd,kBAAkB;AAAA,IAClB,WAAW;AAAA,IACX,eAAe,CAAC;AAAA,IAChB,WAAW;AAAA,IACX,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,IAChB,UAAU;AAAA,IAEV,YAAY;AAAA,IACZ,aAAa;AAAA,IACb,WAAW;AAAA,IAEX,UAAU;AAAA,IACV,OAAO;AAAA,IACP,WAAW;AAAA,IACX,WAAW;AAAA,IACX,WAAW;AAAA,IACX,UAAU;AAAA,IACV,YAAY;AAAA,IACZ,SAAS;AAAA,IACT,QAAQ;AAAA,IAER,kBAAkB;AAAA,IAClB,uBAAuB;AAAA,IACvB,mBAAmB;AAAA,IACnB,kBAAkB;AAAA,IAClB,uBAAuB;AAAA,IACvB,oBAAoB;AAAA,IACpB,mBAAmB;AAAA,IACnB,mBAAmB;AAAA,IACnB,wBAAwB;AAAA,IACxB,iBAAiB;AAAA,IACjB,wBAAwB;AAAA,IACxB,0BAA0B;AAAA,IAC1B,uBAAuB;AAAA,IACvB,SAAS;AAAA,IACT,cAAc;AAAA,IACd,YAAY;AAAA,IAEZ,SAAS;AAAA,IAET,WAAW;AAAA,IACX,OAAO;AAAA,IACP,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,KAAK;AAAA,IAEL,WAAW;AAAA,IACX,UAAU;AAAA,IACV,iBAAiB;AAAA,IACjB,gBAAgB;AAAA,IAChB,eAAe;AAAA,IACf,cAAc;AAAA,IACd,WAAW;AAAA,IAEX,cAAc;AAAA,IACd,aAAa;AAAA,IACb,aAAa;AAAA,IAEb,cAAc;AAAA,IACd,iBAAiB;AAAA,IACjB,cAAc;AAAA;;;ACtMlB,MAAM,eAAe,IAAI,YAAsB,iBAAgB,YAAY;AAC3E,MAAO,uBAAQ;AAEf,EAAC,OAAe,eAAe;;;ACH/B,mCAA0C,KAAK,gBAAgB;AAAA,IAE9D,cAAc;AACP;AAAA;AAAA;;;ACFR,8BAAqC;AAAA,IA+CjC,cAAc;AA9CP,kBAAO;AAEP,wBAAa;AAAA,QAIhB,EAAE,KAAK,OAAO,WAAW,MAAM,cAAc,MAAM,KAAK,OAAO;AAAA,QAC/D,EAAE,KAAK,OAAO,WAAW,MAAM,YAAY,MAAM,KAAK,OAAO;AAAA,QAE7D,EAAE,KAAK,OAAO,WAAW,MAAM,aAAa,MAAM,KAAK,OAAO;AAAA,QAC9D,EAAE,KAAK,OAAO,WAAW,MAAM,YAAY,MAAM,KAAK,OAAO;AAAA,QAC7D,EAAE,KAAK,OAAO,WAAW,MAAM,YAAY,MAAM,KAAK,OAAO;AAAA,QAC7D,EAAE,KAAK,OAAO,WAAW,MAAM,YAAY,MAAM,KAAK,OAAO;AAAA,QAE7D,EAAE,KAAK,OAAO,WAAW,KAAK,MAAM,MAAM,KAAK,OAAO,QAAQ,OAAO;AAAA,QACrE,EAAE,KAAK,OAAO,WAAW,KAAK,QAAQ,MAAM,KAAK,OAAO,QAAQ,OAAO;AAAA,QACvE,EAAE,KAAK,OAAO,WAAW,KAAK,WAAW,MAAM,KAAK,OAAO,QAAQ,OAAO;AAAA,QAC1E,EAAE,KAAK,OAAO,WAAW,KAAK,SAAS,MAAM,KAAK,OAAO,QAAQ,OAAO;AAAA,QAExE,EAAE,KAAK,OAAO,WAAW,KAAK,SAAS,MAAM,KAAK,OAAO,OAAO,OAAO;AAAA,QACvE,EAAE,KAAK,OAAO,WAAW,KAAK,WAAW,MAAM,KAAK,OAAO,OAAO,OAAO;AAAA,QACzE,EAAE,KAAK,OAAO,WAAW,KAAK,cAAc,MAAM,KAAK,OAAO,OAAO,OAAO;AAAA,QAC5E,EAAE,KAAK,OAAO,WAAW,KAAK,YAAY,MAAM,KAAK,OAAO,OAAO,OAAO;AAAA;AAItE,uBAAiB;AACjB,6BAAuB;AACvB,0BAAoB;AAGpB,wBAAkB;AAClB,4BAAsB;AACtB,4BAAsB;AACtB,6BAAuB;AACvB,0BAAoB;AACpB,gCAAqB;AACrB,6BAAkB;AAClB,0BAAe,CAAC,GAAG;AACnB,4BAAiB;AACjB,sBAAW;AACX,+BAAyB;AAEzB,wBAAa;AACb,wBAAa;AAGjB,WAAK;AAAA;AAAA,IAGF,mBAAmB;AAkBtB,UAAI,UAAU,KAAK,WAAW,IAAI,OAAK;AACnC,YAAI,KAAK,QAAQ,gBAAgB,EAAE,UAAU;AAIzC,YAAE,MAAM,OAAO,WAAW,OAAO,EAAE;AAAA;AAIvC,eAAO;AAAA;AAGX,UAAI,UAAU,MAAM;AAChB,aAAK,OAAO,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,CAAC,cAAc;AAC/D,cAAI,WAAW;AACX,uBAAW,YAAY,SAAS;AAC5B,kBAAI,SAAS,SAAS,SAAS,QAAQ,KAAK,OAAO,QAAQ;AAEvD,qBAAK,UAAU,WAAW,SAAS,MAAM,SAAS;AAAA;AAAA;AAG1D,iBAAK;AAAA,iBACF;AACH;AAAA;AAAA,YAEJ,KAAK,QAAQ,OAAO,MAAM,CAAC,aAAa;AAExC,eAAK,OAAQ,WAAW,MAAO;AAI/B,cAAI,KAAK,OAAO,KAAK;AACjB,oBAAQ,IAAI,aAAa,KAAK;AAC9B,mBAAO,aAAa,MAAM,OAAO,WAAW,UAAU;AAAA;AAAA,WAG3D,MAAM;AAAA;AAEb;AAAA;AAAA,IAMI,uBAAuB;AAC3B,WAAK,OAAO;AACZ,cAAQ,IAAI,aAAa,KAAK;AAE9B,aAAO,aAAa,MAAM,OAAO,WAAW,UAAU;AAAA;AAAA,IAgBnD,OAAO,KAAK;AACf,UAAI,MAAM,KAAK,OAAO,OAAO;AAC7B,UAAI,OAAO,MAAM;AACb,gBAAQ,MAAM,sDAAc;AAAA;AAEhC,aAAO;AAAA;AAAA,IAIJ,SAAS,MAAM;AAClB,WAAK,WAAW;AAAA;AAAA,IAIb,QAAQ,MAAM;AACjB,UAAI,CAAC,KAAK;AAAU,eAAO;AAC3B,UAAI,CAAC,KAAK,SAAS,OAAO;AACtB,gBAAQ,MAAM;AACd,eAAO;AAAA;AAEP,eAAO,KAAK,SAAS;AAAA;AAAA,IAK7B,iBAAiB;AAEb,UAAI,YAAY,CAAC,EAAE,mBAAmB,EAAE,YAAY,IAAI,cAAc,IAAI,QAAQ,SAAS,QAAQ,gBAAgB,SAAS,UAAU,kBAAkB,UAAU,OAAO,KAAK,QAAQ,SAAS,WAAW,cAAc,QAAQ,KAAK,WAAW,oGAAoG,SAAS,qDAAkB,YAAY,IAAI,eAAe,QAAQ,EAAE,mBAAmB,EAAE,YAAY,GAAG,cAAc,GAAG,QAAQ,SAAS,QAAQ,gBAAgB,SAAS,GAAG,kBAAkB,IAAI,OAAO,KAAK,QAAQ,UAAU,WAAW,oCAAoC,QAAQ,KAAK,WAAW,uDAAuD,SAAS,mBAAS,YAAY,IAAI,eAAe,MAAM,EAAE,mBAAmB,EAAE,YAAY,GAAG,cAAc,GAAG,QAAQ,SAAS,QAAQ,gBAAgB,SAAS,IAAI,kBAAkB,IAAI,OAAO,KAAK,QAAQ,UAAU,WAAW,oCAAoC,QAAQ,KAAK,WAAW,uDAAuD,SAAS,kCAAS,YAAY,IAAI,eAAe;AAC3jC,WAAK,iBAAiB;AAAA;AAAA,IAKnB,cAAc,MAAM;AACvB,WAAK,aAAa;AAAA;AAAA,IAIf,eAAe;AAClB,aAAO,KAAK;AAAA;AAAA,IAIT,kBAAkB,MAAM;AAC3B,WAAK,iBAAiB;AAAA;AAAA,IAInB,mBAAmB;AACtB,aAAO,KAAK;AAAA;AAAA,IAIT,kBAAkB,MAAM;AAC3B,WAAK,iBAAiB;AAAA;AAAA,IAInB,mBAAmB;AACtB,aAAO,KAAK;AAAA;AAAA,IAIT,aAAa,IAAI;AACpB,UAAI,MAAM,KAAK,eAAe,QAAQ;AAClC,eAAO;AAAA;AAEX,aAAO,KAAK,eAAe;AAAA;AAAA,IAIxB,aAAa,MAAM;AACtB,WAAK,YAAY;AAAA;AAAA,IAId,cAAc;AACjB,aAAO,KAAK;AAAA;AAAA,IAIT,kBAAkB;AACrB,UAAI,QAAQ,OAAO,gBAAgB,OAAO,OAAO,WAAW,MAAM;AA+BlE,aAAO;AAAA;AAAA,IAIJ,gBAAgB,MAAM;AACzB,WAAK,eAAe;AAAA;AAAA,IAIjB,iBAAiB;AACpB,aAAO,KAAK;AAAA;AAAA,IAIT,YAAY,MAAM;AACrB,WAAK,WAAW;AAAA;AAAA,IAGb,aAAa;AAChB,aAAO,KAAK;AAAA;AAAA,IAIT,gBAAgB,UAAU,WAAW;AACxC,WAAK,eAAe,CAAC,UAAU;AAAA;AAAA,IAG5B,iBAAiB;AACpB,aAAO,KAAK;AAAA;AAAA,IAIhB,eAAe,MAAM;AACjB,UAAI,MAAM;AACN,aAAK,oBAAoB;AAAA;AAAA;AAAA,IAK1B,gBAAgB;AAGnB,WAAK,oBAAoB;AAAA,QACrB,OAAO;AAAA,QACP,OAAO;AAAA;AAEX,aAAO,KAAK;AAEZ,UAAI,CAAC,KAAK,mBAAmB;AACzB,aAAK,oBAAoB;AAAA,UACrB,OAAO;AAAA,UACP,OAAO;AAAA;AAAA;AAGf,aAAO,KAAK;AAAA;AAAA,IAIT,WAAW;AACd,aAAO,WAAW,OAAO,OAAO,WAAW,KAAK,QAAQ,SAAS,KAAK,KAAK,gBAAgB,QAAQ;AAAA;AAAA,IAQhG,aAAa,MAAM;AACtB,WAAK,YAAY;AAAA;AAAA,IAId,cAAc;AACjB,aAAO,KAAK;AAAA;AAAA,IAIT,aAAa,OAAO,OAAO;AAC9B,WAAK,aAAa;AAClB,WAAK,aAAa;AAAA;AAAA,IAIf,eAAe;AAClB,aAAO,KAAK;AAAA;AAAA,IAIT,eAAe;AAClB,aAAO,KAAK;AAAA;AAAA;;;ACnVnB,yBAAgC;AAAA,IAAhC,cAAD;AACW,uBAAY;AAAA,QACf,mBAAmB;AAAA,QACnB,mBAAmB;AAAA,QACnB,aAAa;AAAA,QACb,kBAAkB;AAAA;AAIf,uBAAY;AAAA,QACf,MAAM;AAAA,QACN,eAAe;AAAA,QACf,UAAU;AAAA;AAGP,8BAAmB;AAAA,QACtB,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU;AAAA;AAGP,6BAAkB;AAAA,QACrB,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA;AAGL,uBAAY;AAAA,QACf,SAAS;AAAA,QACT,MAAM;AAAA,QACN,MAAM;AAAA;AAGH,oBAAS;AAAA,QACZ,OAAO;AAAA,UACH,IAAI;AAAA,UACJ,OAAO;AAAA;AAAA,QAEX,QAAQ;AAAA,UACJ,IAAI;AAAA,UACJ,OAAO;AAAA;AAAA,QAGX,aAAa;AAAA,UACT,IAAI;AAAA,UACJ,OAAO;AAAA;AAAA;AAKf,sBAAmB;AAEnB,wBAAqB;AACrB,kBAAe;AAGf,4BAAiB;AAGV,mBAAQ;AAAA,QACX,cAAc,KAAK,QAAQ,eAAe,KAAK,aAAa,gCAAgC,KAAK,aAAa;AAAA,QAC9G,YAAY,KAAK,QAAQ,eAAe,KAAK,aAAa,8BAA8B,KAAK,aAAa;AAAA,QAI1G,aAAa,KAAK,QAAQ,eAAe,KAAK,aAAa,+BAA+B,KAAK,aAAa;AAAA,QAC5G,YAAY,KAAK,QAAQ,eAAe,KAAK,aAAa,8BAA8B,KAAK,aAAa;AAAA,QAC1G,YAAY,KAAK,QAAQ,eAAe,KAAK,aAAa,8BAA8B,KAAK,aAAa;AAAA,QAC1G,YAAY,KAAK,QAAQ,eAAe,KAAK,aAAa,8BAA8B,KAAK,aAAa;AAAA;AAIvG,qBAAU;AAoBV,kBAAO;AAAA,QACV,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,MAAM;AAAA,QACN,KAAK;AAAA,QACL,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,KAAK;AAAA,QACL,WAAW;AAAA,QAEX,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,WAAW;AAAA,QACX,cAAc;AAAA,QACd,WAAW;AAAA,QACX,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,eAAe;AAAA,QACf,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,cAAc;AAAA;AAsBX,mBAAQ;AAAA,QACX,SAAS;AAAA,QACT,SAAS;AAAA,QACT,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,QACP,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,UAAU;AAAA,QACV,KAAK;AAAA,QACL,OAAO;AAAA,QACP,KAAK;AAAA,QACL,KAAK;AAAA;AAAA;AAAA;;;AClKb,wBAA+B;AAAA,IAS3B,cAAc;AARN,qBAAkB;AAClB,yBAAsB;AAEtB,sBAAW;AAGX,yBAAuB;AAAA;AAAA,IAKxB,KAAK,UAAe,OAAY,MAAY;AAC/C,UAAI,YAAY,UAAa,YAAY;AAAM;AAC/C,eAAS,IAAI,KAAK,SAAS,SAAS,GAAG,KAAK,GAAG,KAAK;AAChD,YAAI,KAAK,KAAK,SAAS;AACvB,aAAK,UAAU,IAAI;AAAA;AAEvB,WAAK,SAAS,SAAS;AACvB,WAAK,OAAO,UAAU,MAAM;AAAA;AAAA,IAIxB,QAAQ,UAAe,SAAuB,MAAY;AAC9D,UAAI,YAAY,UAAa,YAAY;AAAM;AAC/C,UAAI;AACJ,eAAS,IAAI,KAAK,SAAS,SAAS,GAAG,KAAK,GAAG,KAAK;AAChD,aAAK,KAAK,SAAS;AACnB,YAAI,GAAG,YAAY,UAAU;AACzB,eAAK,UAAU,IAAI;AACnB,eAAK,SAAS,OAAO,GAAG;AACxB;AAAA;AAAA;AAGR,WAAK,YAAY,IAAI;AAAA;AAAA,IAIlB,OAAO,UAAe,OAAY,MAAM,UAAmB,MAAY;AAC1E,UAAI,YAAY,UAAa,YAAY;AAAM;AAE/C,UAAI,SAAS,OAAO,SAAS,IAAI,SAAS,GAAG;AACzC,aAAK,OAAO,KAAK,SAAS,KAAK,KAAK,QAAQ,OAAO,MAAM,WAAY;AACjE,eAAK,SAAS,UAAU,MAAM;AAAA;AAAA,aAE/B;AACH,aAAK,SAAS,UAAU,MAAM;AAAA;AAAA;AAAA,IAK/B,aAAa,UAAe,OAAY,MAAM,UAAmB,MAAY;AAChF,UAAI,YAAY,UAAa,YAAY;AAAM;AAE/C,UAAI,KAAK,KAAK,OAAO;AACrB,UAAI,IAAI;AACJ,YAAI,QAAQ,MAAM;AACd,aAAG,WAAW;AAAA;AAElB,WAAG,UAAU;AACb;AAAA;AAEJ,WAAK,OAAO,UAAU,MAAM;AAAA;AAAA,IAIxB,SAAS,UAAe,OAAY,MAAM,UAAmB,MAAY;AAC7E,UAAI,YAAY,UAAa,YAAY;AAAM;AAE/C,UAAI,MAAM,KAAK,WAAW,YAAY,SAAS;AAC/C,UAAI,OAAO,MAAM;AACb,gBAAQ,MAAM,gBAAgB;AAC9B;AAAA;AAGJ,UAAI,KAAK,IAAI,IAAI;AACjB,SAAG,WAAW;AACd,UAAI,QAAQ,MAAM;AACd,WAAG,WAAW;AAAA;AAElB,SAAG,SAAS,KAAK;AACjB,SAAG,UAAU;AACb,WAAK,MAAM,SAAS;AACpB,WAAK,SAAS,KAAK;AACnB,UAAI,GAAG,SAAS;AACZ,aAAK,YAAY,IAAI;AACrB,YAAI,SAAS,OAAO;AAChB,kBAAQ,IAAI;AACZ,eAAK,MAAM,KAAK,IAAI,EAAE,QAAQ,KAAK,QAAQ,OAAO,KAAK,KAAK,KAAK;AACjE,aAAG,UAAU,SAAS;AAAA;AAAA;AAAA;AAAA,IAM1B,UAAU,IAAS,SAA6B;AACpD,UAAI,GAAG,SAAS;AACZ,aAAK,MAAM,GAAG,IAAI,EAAE,QAAQ,KAAK,QAAQ,OAAO,KAAK,KAAK,KAAK,QAAQ,KAAK,QAAQ,OAAO,MAAM,WAAY;AACzG,eAAK,UAAU;AACf,cAAI;AAAS,oBAAQ;AAAA;AAAA,aAEtB;AACH,aAAK,UAAU;AACf,YAAI;AAAS,kBAAQ;AAAA;AAAA;AAAA,IAKrB,UAAU,IAAe;AAC7B,WAAK,YAAY,IAAI;AACrB,UAAI,GAAG,UAAU;AACb,YAAI;AACJ,iBAAS,IAAI,GAAG,IAAI,GAAG,SAAS,QAAQ,KAAK;AACzC,gBAAM,GAAG,SAAS;AAClB,cAAI,OAAO,IAAI,OAAO;AAClB,gBAAI;AAAA;AAAA;AAAA;AAIhB,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,YAAY;AACvB,SAAG;AACH,SAAG;AAAA;AAAA,IAIA,OAAO,UAAoB;AAC9B,UAAI,YAAY,UAAa,YAAY;AAAM;AAE/C,eAAS,IAAI,KAAK,SAAS,SAAS,GAAG,KAAK,GAAG,KAAK;AAChD,YAAI,KAAK,KAAK,SAAS;AACvB,YAAI,GAAG,YAAY,UAAU;AACzB,iBAAO;AAAA;AAAA;AAGf,aAAO;AAAA;AAAA,IAIJ,aAAa,UAAe,SAAwB;AACvD,UAAI,YAAY,UAAa,YAAY;AAAM;AAE/C,UAAI,KAAK,KAAK,OAAO;AACrB,UAAI,IAAI;AACJ,WAAG,UAAU;AACb,YAAI,SAAS;AACT,aAAG,SAAS,KAAK;AAAA;AAErB,aAAK,YAAY,IAAI;AAAA;AAAA;AAAA,IAKtB,OAAO,UAAqB;AAC/B,UAAI,YAAY,UAAa,YAAY;AAAM;AAE/C,UAAI,KAAK,KAAK,OAAO;AACrB,UAAI,IAAI;AACJ,WAAG,SAAS,KAAK;AAAA;AAAA;AAAA,IAKlB,SAAS,KAAmB;AAC/B,UAAI,OAAO,KAAK;AAChB,UAAI;AACJ,UAAI,QAAQ,MAAM;AACd,eAAO;AACP,YAAI,OAAM,IAAI,KAAK;AACnB,aAAK,MAAM,SAAS;AACpB,aAAI,SAAS,KAAK;AAClB,iBAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AACxB,cAAI,SAAS,IAAI,KAAK;AACtB,iBAAO,UAAU,OAAO,UAAU;AAClC,iBAAO,UAAU;AACjB,cAAI,MAAM,IAAI,KAAK,MAAM;AACzB,iBAAO,SAAS;AAChB,cAAI,QAAQ;AACZ,cAAI,SAAS;AAEb,gBAAM,IAAI,KAAK;AACf,iBAAO,SAAS;AAEhB,cAAI,WAAW;AACf,cAAI,QAAQ;AACZ,cAAI,QAAQ;AACZ,cAAI,SAAS;AACb,cAAI,IAAI;AACR,cAAI,QAAQ;AACZ,cAAI,SAAS;AAEb,cAAI,UAAU;AACd,eAAK,KAAK;AACV,eAAI,SAAS;AACb,iBAAO,UAAU;AAAA;AAErB,aAAK,WAAW;AAChB,aAAI,QAAQ;AACZ,aAAI,UAAU;AACd,aAAI,UAAU;AAAA;AAElB,UAAI,KAAK,UAAU;AACf;AAEJ,YAAM,KAAK;AACX,UAAI,OAAO;AACX,UAAI,SAAiB;AACrB,UAAI,QAAQ;AAEZ,UAAI,MAAM,IAAI;AACd,UAAI,UAAU;AAEd,UAAI,MAAM,KAAK;AACf,UAAI,QAAQ;AACZ,WAAK,MAAM,GAAG,KAAK,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,SAAU,KAAK;AAC1G,aAAK,MAAM,KAAK,SAAS,KAAK,MAAM,WAAY;AAC5C,eAAK,MAAM,GAAG,KAAK,EAAE,OAAO,KAAK,KAAK,MAAM,KAAK,QAAQ,OAAO,MAAM,WAAY;AAC9E,gBAAI,OAAO,UAAU;AACrB,iBAAK,KAAK;AAAA;AAAA;AAAA,SAGnB,CAAC;AAAA;AAAA,IAGA,YAAY,IAAS,QAAiB;AAAA;AAAA,IAyBtC,2BAA2B,MAAc;AAAA;AAAA;;;ACpP9C,sBAAa;AAAA,WAWF,cAAc;AACxB,cAAO,aAAa,IAAI;AACxB,cAAO,eAAe,IAAI;AAC1B,cAAO,kBAAkB,IAAI;AAC7B,cAAO,YAAY,IAAI;AAAA;AAAA;AAfxB;AAEW,EAFX,OAEW,iBAAsB;AACtB,EAHX,OAGW,gBAAqB;AACrB,EAJX,OAIW,gBAAqB;AAerB,EAnBX,OAmBW,sBAAsB;AACtB,EApBX,OAoBW,YAAY;AACZ,EArBX,OAqBW,mBAAmB;AACnB,EAtBX,OAsBW,sBAAsB;AACtB,EAvBX,OAuBW,mBAAmB;AACnB,EAxBX,OAwBW,eAAe;AAEf,EA1BX,OA0BW,sBAAsB;AACtB,EA3BX,OA2BW,eAAe;AACf,EA5BX,OA4BW,cAAc;AACd,EA7BX,OA6BW,WAAW;AACX,EA9BX,OA8BW,eAAe;AACf,EA/BX,OA+BW,gBAAgB;AAChB,EAhCX,OAgCW,iBAAiB;AACjB,EAjCX,OAiCW,cAAc;AACd,EAlCX,OAkCW,qBAAqB;AACrB,EAnCX,OAmCW,oBAAoB;AAEpB,EArCX,OAqCW,mBAAmB;AACnB,EAtCX,OAsCW,wBAAwB;AACxB,EAvCX,OAuCW,sBAAsB;AAGtB,EA1CX,OA0CW,sBAAsB;AACtB,EA3CX,OA2CW,yBAAyB;AACzB,EA5CX,OA4CW,kBAAkB;AAClB,EA7CX,OA6CW,gBAAgB;AAChB,EA9CX,OA8CW,qBAAqB;AACrB,EA/CX,OA+CW,cAAc;AAEd,EAjDX,OAiDW,eAAe;AACf,EAlDX,OAkDW,eAAe;AACf,EAnDX,OAmDW,mBAAmB;AACnB,EApDX,OAoDW,wBAAwB;AACxB,EArDX,OAqDW,aAAa;AAGb,EAxDX,OAwDW,yBAAyB;AACzB,EAzDX,OAyDW,oBAAoB;AACpB,EA1DX,OA0DW,sBAAsB;;;AC3DxC,sBAA6B;AAAA,IAGzB,cAAc;AACV,UAAI,KAAK,QAAQ,cAAc;AAC3B,aAAK,UAAU,WAAW,OAAO,WAAW,OAAO,SAAS,MAAM,OAAO,WAAW,KAAK;AACzF,aAAK;AAAA,aACF;AACH,aAAK,UAAU,WAAW,SAAS,MAAM,OAAO,WAAW,KAAK;AAChE,aAAK;AAAA;AAAA;AAAA,IAIb,aAAa;AAET,WAAK,QAAQ,KAAK,UAAU,aAAa,WAAW,QAAQ;AAC5D,WAAK,MAAM;AACX,WAAK,MAAM,YAAY,KAAK,MAAM,MAAM,KAAK,aAAa;AAC1D,WAAK,MAAM,KAAK,SAAS,KAAK;AAC9B,WAAK,MAAM,eAAe;AAI1B,WAAK,MAAM,KAAK,KAAO,MAAM,MAAM;AAC/B,gBAAQ;AAAA;AAAA;AAAA,IAKhB,QAAQ;AACJ,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM;AAAA;AAAA,IAGf,UAAU;AACN,WAAK,MAAM;AAAA;AAAA;;;AClCnB,sBAA6B;AAAA,IACzB,cAAc;AAAA;AAAA,WAGA,cAAc,WAAW,WAAW;AAC9C,UAAI,IAAI,KAAK,MAAM,KAAK,WAAW;AACnC,UAAI,MAAM;AACV,UAAI,OAAO,UAAU;AACrB,eAAS,KAAK,WAAW;AACrB,eAAO,UAAU;AACjB,YAAI,KAAK,KAAK;AACV,iBAAO,UAAU;AACjB;AAAA;AAAA;AAGR,aAAO;AAAA;AAAA,WAIG,eAAe,UAAU;AACnC,UAAI,cAAc,KAAK;AACvB,qBAAe;AACf,2BAAa,QAAQ,YAAY;AAAA;AAAA,WAIvB,cAAc;AACxB,UAAI,cAAc,qBAAa,KAAK;AACpC,aAAO;AAAA;AAAA,WAIG,eAAe;AACzB,UAAI,UAAU,qBAAa,KAAK;AAChC,aAAO;AAAA;AAAA,WAIG,aAAa;AACvB,2BAAa,QAAQ,gBAAgB;AAAA;AAAA,WAI3B,qBAAqB,OAAO;AACtC,2BAAa,QAAQ,kBAAkB;AAAA;AAAA,WAI7B,oBAAoB;AAC9B,UAAI,QAAQ,qBAAa,KAAK;AAC9B,aAAO;AAAA;AAAA,WAIG,iBAAiB,UAAU;AACrC,UAAI,WAAW,qBAAa,KAAK;AACjC,kBAAY;AACZ,2BAAa,QAAQ,kBAAkB;AAAA;AAAA,WAI7B,gBAAgB;AAC1B,UAAI,QAAQ,qBAAa,KAAK;AAC9B,aAAO;AAAA;AAAA,WAIG,cAAc,IAAI;AAC5B,2BAAa,QAAQ,aAAa;AAAA;AAAA,WAIxB,eAAe;AACzB,UAAI,QAAQ,qBAAa,KAAK;AAC9B,aAAO;AAAA;AAAA,WAIG,kBAAkB,IAAI;AAChC,WAAK,SAAS;AACd,UAAI,MAAM,QAAQ;AAElB,UAAI,SAAS;AACb,eAAS,KAAK,KAAK;AACf,YAAI,KAAK,IAAI;AACT,mBAAS;AAAA;AAAA;AAGjB,UAAI,CAAC,QAAQ;AACT,YAAI,KAAK;AAAA;AAEb,2BAAa,QAAQ,iBAAiB;AAAA;AAAA,WAI5B,mBAAmB;AAC7B,UAAI,MAAM,qBAAa,KAAK;AAC5B,aAAO;AAAA;AAAA,WAIG,YAAY,aAAa;AAEnC,UAAI,OAAO;AAQX,aAAO;AAAA;AAAA,WAIG,aAAa,aAAa;AAEpC,UAAI,KAAK;AAQT,aAAO;AAAA;AAAA,WAIG,cAAc,aAAa;AAErC,UAAI,WAAW;AASf,aAAO;AAAA;AAAA,WAIG,eAAe,aAAa;AAEtC,UAAI,SAAS;AASb,aAAO;AAAA;AAAA,WAIG,eAAe,aAAa;AAEtC,UAAI,SAAS;AAUb,aAAO;AAAA;AAAA,WAKG,cAAc;AACxB,UAAI,KAAK,iBAAiB,MAAM;AAC5B,aAAK,gBAAgB,IAAI;AAAA;AAAA;AAAA,WAKnB,eAAe;AACzB,UAAI,KAAK,eAAe;AACpB,aAAK,cAAc;AACnB,aAAK,gBAAgB;AAAA;AAAA;AAAA,WAKf,aAAa,KAAK,QAAQ;AACpC,UAAI,SAAS;AACb,UAAI,UAAU;AACd,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,SAAS,IAAI,OAAO;AACxB,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACjC,YAAI,IAAI,QAAQ;AAQZ,cAAK,OAAO,KAAK,YAAY,CAAC,OAAO,KAAK,IAAI,OAAS,CAAC,OAAO,KAAK,YAAY,OAAO,KAAK,IAAI,KAAM;AAClG,sBAAU,MAAM,IAAI;AAAA,iBAEnB;AACD,sBAAU,IAAI;AAAA;AAElB,oBAAU,IAAI;AAAA,mBAET,KAAK,QAAQ;AAClB,oBAAU;AAAA,eAET;AACD;AAAA;AAAA;AAGR,aAAO;AAAA;AAAA,WAIG,cAAc,KAAK,QAAQ;AACrC,UAAI,SAAS;AACb,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACjC,YAAI,IAAI,QAAQ;AACZ,cAAI,OAAO,IAAI,OAAO;AACtB,cAAI,KAAK,KAAK,IAAI,KAAK;AACnB,sBAAU,KAAK,IAAI;AAAA,iBAElB;AACD,sBAAU,IAAI;AAAA;AAAA,mBAGb,KAAK,QAAQ;AAClB,oBAAU;AAAA,eAET;AACD;AAAA;AAAA;AAGR,aAAO;AAAA;AAAA,WAOJ,SAAS,KAAa,UAAkB,QAAwB;AACnE,UAAI,cAAc,SAAU,mBAAmB;AAC3C,YAAI,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,KAAI;AAC9B,eAAO,KAAI,kBAAkB,QAAQ;AACjC,cAAI,MAAM;AACV,cAAI,kBAAkB,WAAW;AACjC,cAAI,KAAK,OAAQ;AACb;AAAA;AAEJ,cAAI,GAAG;AACH,gBAAI,QAAS,QAAY,KAAI,SAAW,MAAO,KAAI;AACnD,cAAE,KAAK;AAAA,cACH,GAAG;AAAA,cACH;AAAA;AAEJ,gBAAI;AAAA,qBACG,SAAU,KAAK,KAAK,OAAQ;AACnC,gBAAI;AAAA,iBACD;AACH,cAAE,KAAK;AAAA,cACH,GAAG;AAAA,cACH;AAAA;AAAA;AAAA;AAIZ,eAAO;AAAA;AAGX,eAAS,UAAU,OAAO,QAAQ;AAClC,kBAAY;AAEZ,UAAI,UAAU,YAAY;AAC1B,UAAI,UAAU;AACd,UAAI,QAAQ;AACZ,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,EAAE,GAAG;AACrC,YAAI,OAAO,QAAQ,GAAG;AACtB,YAAI,MAAM;AACV,YAAI,QAAQ,KAAK;AACb,gBAAM;AAAA;AAIV,YAAI,UAAU,MAAM,UAAU;AAC1B;AAAA;AAGJ,gBAAQ;AAGR,mBAAW;AAAA;AAGf,UAAI,QAAQ,SAAS,KAAK,OAAO;AAC7B,eAAO;AAAA;AAGX,UAAI,OAAO,SAAS,IAAI;AAExB,aAAO,IAAI,UAAU,GAAG,QAAQ,QAAQ,MAAM,MAAM,KAAK;AAAA;AAAA,WAItD,aAAa,KAAK;AACrB,UAAI,CAAC,gBAAgB,KAAK,MAAM;AAC5B,cAAM;AACN,eAAO;AAAA;AAGX,UAAI,KAAK,IAAI,MAAM,UAAK,UAAK,UAAK,UAAK,UAAK,UAAK,UAAK,UAAK,UAAK;AAChE,UAAI,KAAK,IAAI,MAAM,IAAI,UAAK,UAAK,UAAK,UAAK,UAAK,UAAK;AACrD,UAAI,IAAK,MAAK,KAAK,QAAQ,UAAU,IAAI,MAAM,MAC3C,IAAI,GACJ,KAAK;AACT,eAAS,IAAI,EAAE,GAAG,SAAS,GAAG,KAAK,GAAG,KAAK;AACvC,gBAAQ;AAAA,eACC;AACD,iBAAK,GAAG,KAAK;AACb;AAAA,eACC;AACD,gBAAI,CAAC,IAAI,OAAO,aAAc,GAAE,GAAG,SAAS,IAAI,KAAK,MAAM,KAAK,EAAE;AAC9D,mBAAK,GAAG,KAAK;AACjB;AAAA,eACC;AACD,iBAAK,GAAG,KAAK;AACb,eAAG,KAAK,GAAG;AACX,gBAAI;AACJ;AAAA;AAER,YAAI,IAAI,KAAK,KAAK,SAAS,EAAE,GAAG,OAAO,IAAI,OAAO,KAAK,SAAS,EAAE,GAAG,OAAO,IAAI,OAAO;AAAG,eAAK,GAAG,KAAK;AACvG,YAAI,SAAS,EAAE,GAAG,OAAO,OAAO;AAAG,eAAK,GAAG,EAAE,GAAG,OAAO,MAAM,GAAG,IAAI,KAAK;AACzE;AAAA;AAGJ,UAAI,EAAE,SAAS,GAAG;AACd,cAAM,GAAG;AACT,iBAAS,IAAI,GAAG,IAAI,EAAE,GAAG,QAAQ;AAAK,gBAAM,GAAG,EAAE,GAAG,OAAO;AAAA;AAG/D,UAAI,OAAO,MAAM,MAAM,IAAI;AACvB,aAAK,GAAG,QAAQ,gBAAM;AAAA;AAE1B,aAAO;AAAA;AAAA;;;AClWf,+BAAsC,KAAK,OAAO;AAAA,WAevC,OAAO;AACV,WAAK,WAAW;AAChB,WAAK,cAAc;AACnB,UAAI,WAAW,OAAO,gBAAgB,OAAO,OAAO,WAAW,MAAM;AACrE,eAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,YAAI,SAAS;AAAA,UACT,MAAM,SAAS,GAAG;AAAA,UAClB,QAAQ;AAAA,UACR,OAAO,SAAS,GAAG,SAAS;AAAA;AAEhC,aAAK,YAAY,KAAK;AAAA;AAG1B,WAAK;AACL,WAAK;AAAA;AAAA,WAGF,aAAa;AAChB,WAAK,WAAW,KAAK,MAAM,KAAK,UAAU,KAAK;AAC/C,UAAI,WAAW,KAAK;AACpB,WAAK,OAAO;AACZ,eAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,YAAI,SAAS,QAAQ,KAAK,SAAS,GAAG,OAAO;AACzC,eAAK,OAAO;AACZ;AAAA;AAAA;AAIR,UAAI,KAAK,QAAQ,IAAI;AACjB,aAAK,SAAS,OAAO,KAAK,MAAM,GAAG;AAAA;AAAA;AAAA,WAIpC,YAAY;AAEf,UAAI,OAAO,OAAO,gBAAgB,OAAO,OAAO,WAAW,MAAM;AACjE,WAAK,aAAa;AAClB,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,cAAM,SAAS,KAAK;AACpB,YAAI,QAAQ;AAAA,UACR,MAAM,IAAI;AAAA,UACV,SAAS,OAAO;AAAA,UAChB,SAAS,OAAO;AAAA,UAChB,SAAS;AAAA;AAGb,YAAI,UAAU;AACd,iBAAS,IAAI,GAAG,KAAK,GAAG,KAAK;AACzB,cAAI,OAAO,eAAe,IAAI;AAC1B,gBAAI,SAAS;AAAA,cACT,MAAM,OAAO,eAAe;AAAA,cAC5B,OAAO,OAAO,gBAAgB;AAAA,cAC9B,IAAI,OAAO,aAAa,MAAM;AAAA;AAElC,oBAAQ,KAAK;AAAA;AAAA;AAGrB,cAAM,UAAU;AAChB,aAAK,WAAW,KAAK;AAAA;AAAA;AAAA,WAItB,UAAU;AACb,aAAO,KAAK;AAAA;AAAA,WAGT,cAAc;AACjB,UAAI,WAAW;AAAA,QACX,MAAM,qBAAa,KAAK;AAAA,QACxB,QAAQ,qBAAa,KAAK;AAAA,QAC1B,OAAO,qBAAa,KAAK,SAAS;AAAA;AAGtC,aAAO;AAAA;AAAA,WAGJ,YAAY;AACf,aAAO,KAAK,OAAO;AAAA;AAAA,WAIhB,gBAAgB,MAAM,QAAQ,SAAS;AAC1C,WAAK,eAAe;AACpB,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA;AAAA,WAGhB,iBAAiB;AACpB,aAAO,KAAK;AAAA;AAAA,WAGT,eAAe;AAClB,aAAO,KAAK;AAAA;AAAA,WAGT,gBAAgB;AACnB,aAAO,KAAK;AAAA;AAAA,WAIT,iBAAiB,MAAM,QAAQ,SAAS;AAC3C,WAAK,gBAAgB;AACrB,WAAK,cAAc;AACnB,WAAK,eAAe;AAAA;AAAA,WAGjB,kBAAkB;AACrB,aAAO,KAAK;AAAA;AAAA,WAGT,gBAAgB;AACnB,aAAO,KAAK;AAAA;AAAA,WAET,iBAAiB;AACpB,aAAO,KAAK;AAAA;AAAA,WAIT,aAAa,MAAM;AACtB,UAAI,OAAO,KAAK,MAAM,KAAK,UAAU,KAAK;AAC1C,WAAK,iBAAiB;AACtB,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,YAAI,QAAQ;AAAA,UACR,MAAM,IAAI;AAAA,UACV,SAAS,KAAK,GAAG,SAAS;AAAA,UAC1B,SAAS,KAAK,GAAG,SAAS;AAAA,UAC1B,SAAS;AAAA;AAEb,YAAI,UAAU;AACd,YAAI,UAAU;AAAA,UACV,MAAM,KAAK,GAAG,QAAQ;AAAA,UACtB,OAAO,KAAK,GAAG;AAAA,UACf,MAAM,KAAK,GAAG;AAAA,UACd,KAAK,KAAK,GAAG;AAAA,UACb,OAAO,KAAK,GAAG;AAAA;AAEnB,gBAAQ,KAAK;AAGb,YAAI,IAAI,KAAK,QAAQ;AACjB,kBAAQ,KAAK,KAAK,GAAG,QAAQ;AAAA;AAGjC,cAAM,UAAU;AAChB,aAAK,eAAe,KAAK;AAAA;AAE7B,cAAQ,IAAI,sDAAwB,KAAK;AAAA;AAAA,WAItC,cAAc,MAAM;AACvB,eAAS,IAAI,GAAG,IAAI,KAAK,eAAe,QAAQ,KAAK;AACjD,cAAM,SAAS,KAAK,eAAe;AACnC,YAAI,OAAO,KAAK,QAAQ,OAAO,SAAS;AACpC,iBAAO;AAAA;AAAA;AAGf,aAAO;AAAA;AAAA,WAIJ,mBAAmB;AACtB,aAAO,KAAK;AAAA;AAAA,WAIT,iBAAiB,MAAM;AAC1B,UAAI,OAAO,KAAK,MAAM,KAAK,UAAU,KAAK;AAC1C,WAAK,qBAAqB;AAC1B,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,YAAI,QAAQ;AAAA,UACR,MAAM,IAAI;AAAA,UACV,SAAS,KAAK,GAAG,SAAS;AAAA,UAC1B,SAAS,KAAK,GAAG,SAAS;AAAA,UAC1B,SAAS;AAAA;AAEb,YAAI,UAAU;AACd,YAAI,UAAU;AAAA,UACV,MAAM,KAAK,GAAG,QAAQ;AAAA,UACtB,OAAO,KAAK,GAAG;AAAA,UACf,MAAM,KAAK,GAAG;AAAA,UACd,KAAK,KAAK,GAAG;AAAA,UACb,OAAO,KAAK,GAAG;AAAA;AAEnB,gBAAQ,KAAK;AAGb,YAAI,IAAI,KAAK,QAAQ;AACjB,kBAAQ,KAAK,KAAK,GAAG,QAAQ;AAAA;AAGjC,cAAM,UAAU;AAChB,aAAK,mBAAmB,KAAK;AAAA;AAAA;AAAA,WAK9B,kBAAkB,MAAM;AAC3B,eAAS,IAAI,GAAG,IAAI,KAAK,mBAAmB,QAAQ,KAAK;AACrD,cAAM,SAAS,KAAK,mBAAmB;AACvC,YAAI,OAAO,KAAK,QAAQ,OAAO,SAAS;AACpC,iBAAO;AAAA;AAAA;AAGf,aAAO;AAAA;AAAA,WAIJ,uBAAuB;AAC1B,aAAO,KAAK;AAAA;AAAA,WAIT,WAAW,MAAM;AACpB,eAAS,IAAI,GAAG,IAAI,KAAK,mBAAmB,QAAQ,KAAK;AACrD,cAAM,SAAS,KAAK,mBAAmB;AACvC,YAAI,QAAQ,OAAO,MAAM;AACrB,iBAAO;AAAA;AAAA;AAGf,aAAO;AAAA;AAAA;AAnOJ,EARX,SAQW,aAAa;AAEb,EAVX,SAUW,cAAc;AACd,EAXX,SAWW,eAAuB;AACvB,EAZX,SAYW,cAAsB;;;ACdjC,0BAAgC;AAAA,IAAhC;AAEY,uBAAY;AACZ,yBAA6B;AACrC,wBAAa,CAAC,MAAM;AAAA;AAAA,WAGN,cAA0B;AACpC,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AAAA;AAExB,aAAO,KAAK;AAAA;AAAA,IAEhB,OAAO;AAEH,eAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AACxB,aAAK,eAAe;AAAA;AAAA;AAAA,IAI5B,eAAe,OAAe;AAC1B,UAAI,QAAQ;AACZ,UAAI,KAAK,KAAK,aAAa,QAAQ,KAAK,YAAY,MAAM;AAC1D,UAAI,IAAI;AACJ,gBAAQ,SAAS;AAAA;AAErB,UAAI,AAAK,SAAL,GAAY;AACZ,aAAK,WAAW,SAAS;AAAA,aAExB;AACD,aAAK,WAAW,SAAS;AAAA;AAAA;AAAA,IAKjC,gBAAgB,OAAe;AAC3B,UAAI,QAAQ;AACZ,UAAI,CAAC,KAAK,WAAW,QAAQ;AACzB,gBAAQ;AAAA;AAEZ,WAAK,aAAa,QAAQ,KAAK,YAAY,MAAM,YAAY,KAAK;AAAA;AAAA,IAGtE,aAA4B;AACxB,aAAO,KAAK;AAAA;AAAA,IAEhB,WAAW,KAAsB;AAC7B,UAAI,OAAO,KAAK,aAAa;AACzB,eAAO;AAAA;AAEX,WAAK,cAAc;AACnB,aAAO;AAAA;AAAA,IAGX,iBAAiB,OAAe,SAA8B,QAAoB;AAC9E,UAAI,AAAa,UAAb,QAAqB;AACrB,iBAAS,CAAC,KAAK,WAAW;AAAA;AAE9B,UAAI,UAAU,KAAK,WAAW,QAAQ;AAClC,eAAO;AAAA;AAEX,WAAK,WAAW,SAAS;AACzB,WAAK,gBAAgB;AACrB,aAAO;AAAA;AAAA;AA/Df;AAMmB,EANnB,WAMmB,WAA8B;;;ACajD,2BAAkB;AAAA,IAAlB,cAnBA;AA2BI,uBAAiB;AACjB,wBAAkB;AAClB,qBAAmB;AACnB,sBAAoB;AAEpB,qBAAmB;AACnB,sBAAoB;AAuQpB,0BAAe;AACf,8BAAmB;AAkCX,2BAAgB;AAyJhB,0BAAe;AACf,sBAAW;AASX,uBAAY;AAAA;AAAA,WAxdN,cAA2B;AACrC,WAAK,YAAY,KAAK,aAAa,IAAI;AACvC,aAAO,KAAK;AAAA;AAAA,IAWT,OAAO;AACV,UAAI,qBAAa,KAAK,cAAc,GAAG;AAEnC,aAAK,UAAU;AAAA,aAEd;AAED,aAAK,UAAU;AAAA;AAEnB,UAAI,qBAAa,KAAK,eAAe,GAAG;AAEpC,aAAK,WAAW;AAAA,aAEf;AAED,aAAK,WAAW;AAAA;AAEpB,cAAQ,IAAI,sBAAsB,KAAK,SAAS,KAAK;AAAA;AAAA,IA0LzD,YAAY;AACR,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,KAAK,cAAc;AAEnB,eAAK,UAAU;AACf,eAAK,aAAa;AAAA;AAAA,aAGrB;AACD,aAAK,aAAa,eAAe;AACjC,aAAK,aAAa,eAAe;AAAA;AAAA;AAAA,IAKzC,aAAa;AACT,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,KAAK,cAAc;AAEnB,eAAK,UAAU;AACf,eAAK,aAAa;AAAA;AAAA,aAGrB;AACD,aAAK,aAAa,eAAe;AACjC,aAAK,aAAa,eAAe;AAAA;AAAA;AAAA,IAKzC,aAAa;AACT,WAAK,WAAW;AAChB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,KAAK,cAAc;AACnB,eAAK,aAAa;AAAA;AAAA,aAGrB;AACD,aAAK,aAAa,eAAe;AACjC,aAAK,aAAa,eAAe;AAAA;AAAA;AAAA,IAKzC,cAAc;AACV,WAAK,WAAW;AAChB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,KAAK,gBAAgB,KAAK,SAAS;AACnC,eAAK,aAAa;AAAA;AAAA,aAGrB;AACD,aAAK,aAAa,eAAe;AACjC,aAAK,aAAa,eAAe;AAAA;AAAA;AAAA,IAOzC,UAAU,MAAM;AAEZ,UAAI,qBAAa,KAAK,aAAa,GAAG;AAClC;AAAA;AAEJ,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,KAAK,cAAc;AACnB,eAAK,aAAa;AAClB,eAAK,aAAa;AAAA;AAAA,aAmBrB;AACD,aAAK,OAAO,KAAK,MAAM,KAAK,QAAQ,OAAO,MAAM,MAAM;AACnD,eAAK,aAAa,UAAU,MAAM;AAAA,YAClC,MAAM,KAAK,OAAO;AAAA;AAAA;AAAA,IAI9B,aAAa,MAAM,QAAQ,OAAO;AAG9B,UAAI,KAAK,QAAQ,cAAc;AAK3B,YAAI,QAAQ;AACZ,YAAI,OAAO;AACX,YAAI,OAAO;AACP,iBAAO;AAAA,eAEN;AACD,gBAAM,YAAY;AAClB,iBAAO,YAAY;AAAA;AAEvB,YAAI,gBAAgB,GAAG;AACvB,sBAAc,WAAW;AACzB,sBAAc,OAAO;AACrB,sBAAc,MAAM;AACpB,aAAK,cAAc,QAAQ;AAE3B,sBAAc,SAAS,CAAC,QAAQ;AAC5B,kBAAQ,IAAI,YAAY;AAAA;AAE5B,sBAAc,UAAU,CAAC,QAAQ;AAC7B,kBAAQ,IAAI,aAAa;AAAA;AAE7B,sBAAc,SAAS,CAAC,QAAQ;AAC5B,kBAAQ,IAAI,YAAY;AAAA;AAE5B,sBAAc,UAAU,CAAC,QAAQ;AAC7B,kBAAQ,IAAI,aAAa;AAAA;AAE7B,sBAAc,OAAO,CAAC,QAAQ;AAC1B,kBAAQ,IAAI,4BAAQ;AACpB,wBAAc,eAAe;AAAA;AAEjC,sBAAc,QAAQ,CAAC,QAAQ;AAC3B,gBAAM;AACN,kBAAQ,MAAM,4BAAQ,MAAM;AAC5B,wBAAc;AACd,cAAI,MAAM,cAAc,OAAO;AAC3B,mBAAO,MAAM,cAAc;AAAA;AAAA;AAGnC,sBAAc,OAAO,CAAC,QAAQ;AAC1B,gBAAM;AACN,kBAAQ,IAAI,iBAAiB;AAC7B,wBAAc,eAAe;AAAA;AAEjC,sBAAc,aAAa,CAAC,QAAQ;AAChC,kBAAQ,IAAI,uBAAuB;AAAA;AAGvC,sBAAc,QAAQ,CAAC,QAAQ;AAC3B,gBAAM;AACN,kBAAQ,IAAI,kBAAkB;AAC9B,gBAAM,cAAc,MAAM,eAAe;AACzC,wBAAc;AAAA;AASlB,gBAAQ,IAAI,8CAAW;AACvB,eAAO,MAAM,cAAc;AAAA;AAE/B,aAAO;AAAA;AAAA,IAaX,WAAW,MAAM,QAAQ,OAAO,SAAS,GAAG;AAQxC,UAAI,qBAAa,KAAK,aAAa,GAAG;AAClC;AAAA;AAGJ,UAAI,OAAO;AACX,UAAI,OAAO;AACP,eAAO;AAAA,aAEN;AACD,cAAM,YAAY;AAClB,eAAO,YAAY;AAAA;AAIvB,UAAI,KAAK,QAAQ,cAAc;AAC3B,gBAAQ,IAAI,4BAAQ,QAAQ,KAAK;AACjC,YAAI,SAAS,KAAK,UAAU;AACxB,eAAK;AACL,kBAAQ,IAAI;AACZ;AAAA;AAEJ,YAAI,KAAK,cAAc;AACnB,cAAI,KAAK,cAAc,KAAK,iBAAiB,KAAK,cAAc,KAAK,cAAc,cAAc;AAC7F,iBAAK,cAAc,KAAK,cAAc;AACtC,iBAAK,eAAe;AAAA;AAAA;AAG5B,YAAI,CAAC,KAAK,cAAc,OAAO;AAC3B,eAAK,aAAa,MAAM;AAAA;AAE5B,YAAI,KAAK,cAAc,MAAM,cAAc;AACvC,eAAK,cAAc,MAAM;AAAA;AAE7B,aAAK,WAAW;AAChB,aAAK,cAAc,MAAM;AACzB,aAAK,eAAe;AAAA,aAiBnB;AACD,aAAK,OAAO,KAAK,MAAM,KAAK,QAAQ,OAAO,MAAM,MAAM;AACnD,eAAK,aAAa,UAAU,MAAM;AAAA,YAClC,MAAM,KAAK,OAAO;AAAA;AAAA;AAAA,IAS9B,aAAa;AACT,WAAK,eAAe;AACpB,WAAK,WAAW;AAChB,WAAK;AAAA;AAAA,IAGT,oBAAoB;AAChB,WAAK;AACL,WAAK,YAAY,WAAW,MAAM;AAC9B,aAAK;AAAA,SACN;AAAA;AAAA,IAEP,sBAAsB;AAClB,UAAI,KAAK,WAAW;AAChB,qBAAa,KAAK;AAClB,aAAK,YAAY;AAAA;AAAA;AAAA;AAre7B;AAEkB,EAFlB,YAEkB,YAAyB;AAye3C,MAAO,sBAAQ,YAAY;;;ACzfpB,MAAI,YAAY;AAAA,IAEnB,KAAK;AAAA,IACL,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,UAAU;AAAA,IACV,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,IACX,gBAAgB;AAAA,IAEhB,WAAW;AAAA,IACX,WAAW;AAAA,IACX,iBAAiB;AAAA;AAEd,MAAI,aAAa;AAAA,IAEpB,KAAK;AAAA,IACL,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,UAAU;AAAA,IACV,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,IACX,gBAAgB;AAAA,IAEhB,WAAW;AAAA,IACX,WAAW;AAAA,IACX,iBAAiB;AAAA;AAKd,MAAI,eAAe;;;AC7C1B,4BAAkC;AAAA,IAAlC,cAPA;AAWY,yBAAc;AACd,sBAAW;AACX,qBAAU;AACV,8BAAkC;AAsBlC,yBAAwB;AA8KxB,+BAAoB;AAAA;AAAA,WAhMd,cAA4B;AACtC,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AAAA;AAExB,aAAO,KAAK;AAAA;AAAA,IAEhB,OAAO;AACH,WAAK,WAAW;AAChB,WAAK,UAAU;AACf,WAAK,mBAAmB;AAGxB,WAAK,aAAa,gBAAgB;AAElC,WAAK,aAAa,gBAAgB;AAAA;AAAA,UAKhC,kBAAkB,SAAmB;AACvC,cAAQ,MAAM,wCAAU;AAAA;AAAA,UAwDtB,sBAAsB;AACxB,UAAI,KAAK,UAAU;AACf;AAAA;AAEJ,UAAI,gBAAgB,gBAAgB,IAAI;AACpC;AAAA;AAEJ,WAAK,UAAU;AACf,WAAK,WAAW;AAIhB,UAAI,QAAQ,CAAC,OAAY;AACrB,YAAI,SAAmB;AACvB,mBAAW,OAAO,WAAW;AACzB,iBAAO,KAAK,eAAe,UAAU;AAAA;AAEzC,aAAK,OAAO,KAAK,QAAQ,KAAK,QAAQ,OAAO,MAAM,MAAM;AACrD,eAAK,UAAU;AACf,eAAK,WAAW;AAChB;AACA,eAAK;AAAA,YACL,MAAM,KAAK,OAAO;AAAA;AAAA;AAAA,IAqF9B,eAAe;AAEX,UAAI,CAAC,KAAK,kBAAkB;AACxB;AAAA;AAEJ,oBAAa,cAAc,UAAU,KAAK,kBAAkB,KAAK;AAAA;AAAA,UAM/D,WAAW,SAAiB,OAAgB,OAAO,oBAAoB,GAAG;AAsC5E,UAAI,KAAK,QAAQ,cAAc;AAC3B,4BAAY,WAAW,eAAe,UAAU,UAAU,MAAK,KAAK,cAAc;AAAA,aAsBjF;AACD,aAAK,aAAa,UAAU,eAAe,UAAU,UAAU,OAAO,IAAI;AAAA;AAAA;AAAA,IAOlF,cAAc,SAAyB;AACnC,aAAO,WAAW,YAAY;AAAA;AAAA,UAG5B,UAAU,SAAiB,OAAgB,MAAM;AACnD,cAAQ,IAAI,aAAa,SAAS;AAElC,WAAK,cAAc;AAqBnB,WAAK,mBAAmB;AACxB,iBAAW,cAAc,WAAW;AACpC,WAAK,aAAa,UAAU,eAAe,UAAU,UAAU,OAAO,IAAI;AAAA;AAAA,IAK9E,wBAAwB;AACpB,UAAI,MAAM,WAAW,cAAc;AACnC,UAAI,AAAQ,OAAR,MAAa;AACb;AAAA;AAEJ,UAAI,SAAS,WAAW,cAAc,WAAW;AACjD,UAAI,QAAQ;AACR,aAAK,UAAU,KAAK,KAAK;AAAA,aAExB;AACD,aAAK,aAAa;AAAA;AAAA;AAAA,IAW1B,WAAW,QAAoD;AAC3D,cAAQ,MAAM;AAAA;AAAA,IA6BlB,YAAY,QAAoD;AAC5D,cAAQ,MAAM;AAAA;AAAA,IA0BlB,UAAU,QAAoD;AAC1D,UAAI,UAAU,OAAO;AACjB,aAAK,aAAa;AAAA,iBAGb,UAAU,WAAW;AAC1B,mBAAW,cAAc,WAAW;AACpC,aAAK,aAAa;AAAA,iBAGb,UAAU,aAAa;AAE5B,aAAK,aAAa;AAAA,aAEjB;AACD,eAAO,QAAQ,aAAW;AAItB,eAAK,aAAa,UAAU,eAAe,UAAU;AAAA;AAAA;AAAA;AAAA,IAiBzD,KAAK,IAAY;AACrB,aAAO,IAAI,QAAQ,QAAM;AACrB,mBAAW,IAAI;AAAA;AAAA;AAAA;AAza3B;AAUmB,EAVnB,aAUmB,WAAgC;;;ACCnD,uBAA6B;AAAA,WASlB,iBAAiB,QAA0B;AAC9C,eAAQ,OAAO;AACf,eAAQ,OAAO;AACf,UAAI,KAAK,QAAQ,cAAc;AAC3B,mBAAW,OAAO,WAAW;AACzB,8BAAY,aAAa,eAAe,UAAU,MAAM;AAAA;AAAA,aAIhE;AACI,iBAAQ,OAAO;AAAA;AAAA;AAAA,WAehB,UAAU,UAAoB,QAAiB,MAAM;AACxD,eAAQ,OAAO,UAAU,UAAU;AAAA;AAAA,WAShC,WAAW,UAAoB,QAAiB,OAAO,oBAAoB,GAAG;AACjF,eAAQ,OAAO,WAAW,UAAU,OAAO;AAAA;AAAA,WAUxC,WAAW,QAAsD;AACpE,eAAQ,OAAO,WAAW;AAAA;AAAA,WAUvB,YAAY,QAAsD;AACrE,eAAQ,OAAO,YAAY;AAAA;AAAA,WAUxB,UAAU,QAAsD;AACnE,eAAQ,OAAO,UAAU;AAAA;AAAA,WAUtB,iBAAiB,OAA4B;AAChD,UAAI,SAAS,KAAK,cAAc;AAChC,UAAI,CAAC,SAAS,SAAS,SAAS;AAC5B,iBAAQ,OAAO;AAAA;AAEnB,UAAI,CAAC,SAAS,SAAS,UAAU;AAC7B,iBAAQ,OAAO,iBAAiB,GAAG,CAAC;AAAA;AAKxC,aAAO,CAAC;AAAA;AAAA,WAEL,cAAc,OAA4B;AAC7C,UAAI,KAAK,SAAS,UAAU,IAAI;AAChC,aAAO,SAAQ,OAAO,WAAW;AAAA;AAAA;AAvGzC;AACmB,EADnB,QACmB,SAAS,WAAW;AACpB,EAFnB,QAEmB,SAAS,aAAa;;;AChBzC,oBAA2B;AAAA,IAOvB,YAAY,KAAK,WAAY,UAAW;AACpC,WAAK,aAAa,aAAa;AAC/B,WAAK,YAAY,YAAY;AAC7B,WAAK,QAAQ,KAAK,UAAU,aAAa,UAAU,SAAS;AAC5D,WAAK,MAAM;AACX,WAAK,MAAM,YAAY,KAAK,MAAM,MAAM,KAAK,aAAa;AAC1D,WAAK,SAAS,KAAK,MAAM,cAAc;AACvC,WAAK,MAAM,KAAK,SAAS,KAAK;AAE9B,WAAK,QAAQ,KAAK,MAAM,SAAS,SAAS;AAC1C,UAAI,OAAO,KAAK,MAAM,SAAS,WAAW;AAE1C,WAAK,MAAM,SAAS,cAAc,QAAQ,MAAM,KAAK,aAAa,KAAK,YAAY,KAAK;AACxF,WAAK,MAAM,SAAS,aAAa,QAAQ,MAAM,KAAK;AACpD,UAAI,YAAY,KAAK,MAAM,cAAc;AACzC,gBAAU,gBAAgB,WAAW,IAAI;AAEzC,WAAK,OAAO;AAEZ,UAAI,QAAQ,KAAK;AACjB,UAAI,MAAM,aAAa,MAAM,WAAW,MAAM,SAAS;AACnD,cAAM,QAAQ;AAAA;AAIlB,UAAI,MAAM,aAAa,KAAK;AACxB,aAAK,WAAW;AAChB,aAAK,SAAS;AAAA;AAAA;AAAA,IAKtB,SAAS;AACL,UAAI,WAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AACjD,aAAK,MAAM;AAAA;AAEf,WAAK,OAAO,KAAK;AAAA;AAAA,IAGrB,YAAY;AACR,cAAQ,WAAW;AACnB,WAAK,cAAc,KAAK;AACxB,WAAK;AAAA;AAAA,IAIT,WAAW;AACP,cAAQ,WAAW;AACnB,WAAK,aAAa,KAAK;AACvB,WAAK;AAAA;AAAA;;;AClDb,gCAAsC,KAAK,OAAO;AAAA,WAKvC,WAAW,KAAK,KAAK;AACxB,YAAM,IAAI,KAAK;AACf,YAAM,IAAI,KAAK;AACf,UAAI,aAAa,MAAO,KAAK,KAAK;AAClC,UAAI,YAAY,KAAK,KAAK,IAAI,YAAY;AAC1C,UAAI,YAAY,KAAK,KAAK,IAAI,YAAY;AAC1C,aAAO,KAAK,KAAM,aAAY,KAAK,MAAM,KAAK,KAAM,aAAY,KAAK;AAAA;AAAA,WAIlE,WAAW,KAAK,MAAM;AACzB,UAAI;AACJ,YAAM,MAAM;AAAA,QACR,MAAM,KAAK,cAAc;AAAA,QACzB,MAAO,MAAK,aAAa,GAAG;AAAA,QAC5B,MAAM,KAAK,UAAU;AAAA,QACrB,MAAM,KAAK,WAAW;AAAA,QACtB,MAAM,KAAK,aAAa;AAAA,QACxB,MAAM,KAAK,aAAa;AAAA;AAG5B,eAAS,KAAK,KAAK;AACf,cAAM,IAAI,OAAO,MAAM,IAAI,KAAK,KAAK;AACrC,YAAI,KAAK;AACL,gBAAM,IAAI,QAAQ,IAAI,IAAK,IAAI,GAAG,UAAU,IAAM,IAAI,KAAO,IAAI,GAAG,SAAS,IAAI,GAAG,QAAQ;AAAA;AAC/F;AAAA;AACJ;AACD,aAAO;AAAA;AAAA,WAIJ,UAAU;AACb,aAAO,KAAK,WAAW,cAAc,IAAI;AAAA;AAAA,WAKtC,aAAa,QAAgB;AAEhC,UAAI,KAAK,SAAS;AAClB,UAAI,IAAI;AACJ,kBAAU,MAAO;AAAA;AAErB,UAAI,iBAMA;AAAA,QACA,MAAM,EAAE,KAAK,OAAU,QAAQ;AAAA,QAC/B,MAAM,EAAE,KAAK,MAAS,QAAQ;AAAA,QAC9B,MAAM,EAAE,KAAK,KAAO,QAAQ;AAAA,QAC5B,MAAM,EAAE,KAAK,KAAM,QAAQ;AAAA;AAE/B,UAAI,SAAS;AACb,UAAI,SAAS;AACb,eAAS,OAAO,gBAAgB;AAC5B,YAAI,YAAY;AAChB,iBAAS,OAAO,QAAQ,IAAI,OAAO,KAAK,MAAM,SAAO;AACjD,cAAI,CAAC,WAAW;AACZ,gBAAI,UAAU,eAAe;AAC7B,gBAAI,SAAS,SAAS,QAAQ,MAAM;AACpC,sBAAU,SAAS,QAAQ;AAC3B,gBAAI,YAAY,SAAS;AACzB,gBAAI,UAAU,KAAK,QAAQ;AACvB,0BAAY;AACZ,0BAAY;AAAA,mBACT;AACH,uBAAS;AACT,0BAAY,IAAI,OAAO,KAAK,IAAI,IAAI,SAAS,UAAU,QAAQ,MAAM,YAAY,QAAQ;AAAA;AAAA;AAGjG,iBAAO;AAAA;AAAA;AAIf,aAAO;AAAA;AAAA,WAMJ,QAAQ,QAAgB,SAAiB,QAAQ;AAEpD,UAAI,KAAK,SAAS;AAClB,UAAI,IAAI;AACJ,kBAAU,MAAO;AAAA;AAGrB,UAAI,iBAKA;AAAA,QACA,MAAM,EAAE,KAAK;AAAA,QACb,MAAM,EAAE,KAAK;AAAA,QACb,MAAM,EAAE,KAAK;AAAA,QACb,MAAM,EAAE,KAAK;AAAA;AAGjB,eAAS,OAAO,gBAAgB;AAC5B,YAAI,YAAY;AAChB,iBAAS,OAAO,QAAQ,IAAI,OAAO,KAAK,MAAM,SAAO;AACjD,cAAI,CAAC,WAAW;AACZ,gBAAI,UAAU,eAAe;AAC7B,gBAAI,SAAS,SAAS,QAAQ,MAAM;AACpC,gBAAI,YAAY,SAAS;AACzB,sBAAU,SAAS,QAAQ;AAC3B,wBAAY,IAAI,OAAO,KAAK,IAAI,IAAI,SAAS,UAAU,QAAQ,MAAM;AAAA;AAEzE,iBAAO;AAAA;AAAA;AAIf,aAAO;AAAA;AAAA,WAIJ,UAAU,KAAK,OAAO;AACzB,UAAI,MAAM,MAAM;AAChB,UAAI,IAAI,SAAS,OAAO;AACpB,cAAM,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,QAAQ,MAAM;AAAA;AAExD,aAAO;AAAA;AAAA,WAIJ,YAAY,WAAW,SAAS,OAAO,OAAO;AACjD,UAAI,QAAQ,OAAO;AACf,eAAO,KAAK,MAAO,WAAU,aAAa;AAAA,iBACnC,QAAQ,OAAO;AACtB,eAAO,KAAK,MAAO,WAAU,aAAa,MAAO;AAAA,iBAC1C,QAAQ,QAAQ;AACvB,eAAO,KAAK,MAAO,WAAU,aAAa,MAAO,KAAK;AAAA,iBAC/C,QAAQ,OAAO;AACtB,eAAO,KAAK,MAAO,WAAU,aAAa,MAAO,KAAK,KAAK;AAAA;AAG/D,aAAO,KAAK,MAAO,WAAU,aAAa;AAAA;AAAA,WAIvC,UAAU,SAAS,QAAiB;AACvC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,cAAM,SAAS,QAAQ;AACvB,YAAI,OAAO,QAAQ,QAAQ;AACvB,oBAAS,UAAU,SAAS,OAAO,KAAK,MAAM;AAC1C,gBAAI,UAAU,qBAAa,KAAK;AAChC,gBAAI,QAAQ,QAAQ,SAAS,OAAO,QAAQ,IAAI;AAC5C,sBAAQ,KAAK,SAAS,OAAO;AAC7B,mCAAa,QAAQ,iBAAiB;AAAA;AAAA;AAAA,mBAGvC,OAAO,QAAQ,QAAQ;AAC9B,eAAK,SAAS,SAAS,OAAO,QAAQ;AAAA,mBAC/B,OAAO,QAAQ,SAAS;AAE/B,eAAK,gBAAgB,SAAS,OAAO,QAAQ,MAAM;AAAA;AAAA;AAAA;AAAA,WAMxD,cAAc;AAoBjB,aAAO;AAAA;AAAA,WAGJ,UAAU;AAkBb,aAAO;AAAA;AAAA,WAIJ,gBAAgB,OAAO,YAAa,SAAU;AACjD,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA,UACb,aAAa,SAAS,SAAS;AAAA;AAGnC,YAAI,OAAO,EAAE,MAAM,OAAO,kBAAkB,QAAQ;AACpD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AAGf,iCAAa,QAAQ,SAAS,IAAI,KAAK;AACvC,oBAAQ,IAAI,wCAAU,IAAI;AAC1B,iBAAK,MAAM,MAAM;AACjB,gBAAI,YAAY;AACZ;AAAA;AAAA,iBAGH;AACD,oBAAQ,IAAI;AACZ,gBAAI,SAAS;AACT;AAAA;AAAA;AAAA;AAAA,aAKX;AACD,6BAAa,QAAQ,SAAS,qBAAa,KAAK,QAAQ;AACxD,YAAI,YAAY;AACZ;AAAA;AAEJ,aAAK,MAAM,MAAM;AAAA;AAAA;AAAA,WAKlB,SAAS,SAAS,QAAiB,WAAsB;AAC5D,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA,UACb,YAAY,SAAS,WAAW;AAAA;AAEpC,YAAI,QAAQ;AACR,kBAAQ,YAAY;AAAA;AAGxB,YAAI,OAAO,EAAE,MAAM,OAAO,cAAc,QAAQ;AAChD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,iCAAa,QAAQ,QAAQ,IAAI,KAAK;AACtC,iBAAK,MAAM,MAAM;AACjB,oBAAQ,IAAI,wCAAU,IAAI;AAC1B,yBAAa,UAAU,IAAI,KAAK;AAAA,iBAE/B;AACD,oBAAQ,IAAI;AAAA;AAAA;AAAA,aAInB;AACD,6BAAa,QAAQ,QAAQ,qBAAa,KAAK,OAAO;AAAA;AAAA;AAAA,WAKvD,SAAS,UAAU,WAAsB,QAAmB;AAC/D,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA,UACb,YAAY,SAAS,YAAY;AAAA;AAErC,YAAI,OAAO,EAAE,MAAM,OAAO,eAAe,QAAQ;AACjD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,kBAAQ;AACR,cAAI,IAAI,QAAQ,GAAG;AAEf,iCAAa,QAAQ,QAAQ,IAAI,KAAK;AACtC,oBAAQ,IAAI,oDAAY,IAAI;AAC5B,yBAAa,UAAU,IAAI,KAAK;AAAA,iBAE/B;AACD,sBAAU,OAAO,IAAI;AAAA;AAAA;AAAA,aAG1B;AACH,6BAAa,QAAQ,QAAQ,qBAAa,KAAK,OAAO;AAAA;AAAA;AAAA,WAKvD,QAAQ,OAAO,aAAa,UAAU;AACzC,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA,UACb,UAAW,SAAS,IAAK,OAAO;AAAA;AAEpC,YAAI,OAAO,EAAE,MAAM,OAAO,qBAAqB,QAAQ;AACvD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,iCAAa,QAAQ,SAAS;AAC9B,oBAAQ,IAAI,oCAAgB;AAE5B,gBAAI,aAAa;AACb;AAAA;AAAA,iBAGH;AACD,gBAAI,UAAU;AACV;AAAA;AAEJ,oBAAQ,IAAI,oCAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,WAOrC,WAAW,UAAU,aAAa,UAAU;AAC/C,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA,UACb;AAAA;AAEJ,YAAI,OAAO,EAAE,MAAM,OAAO,kBAAkB,QAAQ;AACpD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,iCAAa,QAAQ,YAAY;AACjC,oBAAQ,IAAI,yDAAiB;AAC7B,gBAAI,aAAa;AACb;AAAA;AAAA,iBAGH;AACD,gBAAI,UAAU;AACV;AAAA;AAEJ,oBAAQ,IAAI,yDAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,WAOtC,YAAY,SAAS,MAAM,MAAM;AACpC,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV;AAAA,UACA,UAAU;AAAA,UACV,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,WAAW,QAAQ;AAC7C,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI;AAAA,iBAEX;AACD,oBAAQ,MAAM;AAAA;AAElB,cAAI,MAAM;AACN;AAAA;AAAA;AAAA;AAAA;AAAA,WAOT,UAAU,QAAQ,MAAM;AAC3B,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV;AAAA,UACA,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,aAAa,QAAQ;AAC/C,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI;AAAA,iBAEX;AACD,oBAAQ,IAAI;AAAA;AAEhB,cAAI,MAAM;AACN;AAAA;AAAA;AAAA,aAIP;AACD,YAAI,MAAM;AACN;AAAA;AAAA;AAAA;AAAA,WAML,UAAU,KAAK;AAClB,UAAI,QAAQ,KAAK,UAAU,aAAa,UAAU,SAAS;AAC3D,YAAM,SAAS,WAAW,YAAY,OAAO;AAC7C,YAAM,IAAI,KAAK,MAAM,SAAS;AAC9B,UAAI,UAAU,MAAM,cAAc;AAClC,UAAI,WAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AACjD,cAAM;AAAA;AAEV,cAAQ,KAAK;AACb,WAAK,MAAM,KAAK,SAAS;AAAA;AAAA,WAItB,SAAS,OAAO,KAAa;AAChC,YAAM,OAAO,KAAK;AAClB,UAAI,OAAO,MAAM;AACjB,WAAK,WAAW;AAChB,UAAI,MAAM,QAAQ,KAAK,WAAW;AAC9B,aAAK,WAAW,KAAK,MAAO,MAAM,QAAQ,KAAK,YAAa,MAAM;AAAA;AAAA;AAAA,WAKnE,SAAS,QAAQ,MAAO;AAAA;AAAA,WAsBxB,mBAAmB;AACtB,WAAK,gBAAgB,IAAI,OAAO;AAAA;AAAA,WAG7B,mBAAmB;AAEtB,WAAK,SAAS,cAAc,EAAE,UAAU,KAAK,YAAY,KAAK,eAAe,IAAI,OAAO,WAAW;AAAA;AAAA,WAIhG,WAAW,MAAM,UAAmB;AACvC,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,aAAa,QAAQ;AAC/C,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI,0DAAa,IAAI,KAAK;AAClC,gBAAI,MAAM;AACN,mBAAK,IAAI,KAAK;AAAA;AAAA,iBAGjB;AACD,oBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,WAOrB,WAAW,aAAa,UAAU;AACrC,UAAI,UAAU;AAAA,QACV,UAAU,WAAG;AAAA;AAEjB,UAAI,OAAO,EAAE,MAAM,OAAO,cAAc,QAAQ;AAChD,iBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,gBAAQ;AACR,YAAI,IAAI,QAAQ,GAAG;AACf,cAAI,aAAa;AACb,wBAAY;AAAA;AAAA,eAGf;AACD,cAAI,UAAU;AACV;AAAA;AAAA;AAAA;AAAA;AAAA,WAOT,YAAY,aAAa,UAAU;AACtC,UAAI,UAAU;AAAA,QACV,UAAU,WAAG;AAAA;AAEjB,UAAI,OAAO,EAAE,MAAM,OAAO,eAAe,QAAQ;AACjD,iBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,gBAAQ;AACR,YAAI,IAAI,QAAQ,GAAG;AACf,cAAI,aAAa;AACb,wBAAY;AAAA;AAAA,eAGf;AACD,cAAI,UAAU;AACV;AAAA;AAAA;AAAA;AAAA;AAAA,WAOT,cAAc,UAAU,UAAU,aAAa,UAAU;AAC5D,UAAI,UAAU;AAAA,QACV,UAAU,WAAG;AAAA,QACb;AAAA,QACA;AAAA;AAEJ,UAAI,OAAO,EAAE,MAAM,OAAO,iBAAiB,QAAQ;AACnD,iBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,gBAAQ;AACR,YAAI,IAAI,QAAQ,GAAG;AACf,cAAI,aAAa;AACb,wBAAY;AAAA;AAAA,eAGf;AACD,cAAI,UAAU;AACV;AAAA;AAAA;AAAA;AAAA;AAAA,WAOT,SAAS,IAAI;AAChB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,gBAAgB,QAAQ;AAClD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,gBAAM,GAAG;AACT,kBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,WAMjB,cAAc,SAAS,QAAQ,MAAM;AACxC,cAAQ,GAAG,KAAK,MAAM,YAAY,QAAQ,MAAM;AAE5C,aAAK,MAAM,GAAG,SAAS,EAAE,QAAQ,KAAK,QAAQ,OAAO,IAAI,KAAK,KAAK,WAAW;AAAA;AAElF,cAAQ,GAAG,KAAK,MAAM,UAAU,QAAQ,MAAM;AAE1C,aAAK,MAAM,GAAG,SAAS,EAAE,QAAQ,GAAG,QAAQ,KAAK,IAAI,KAAK,KAAK,WAAW;AAC1E,YAAI,MAAM;AACN;AAAA;AAAA;AAGR,cAAQ,GAAG,KAAK,MAAM,WAAW,QAAQ,MAAM;AAE3C,aAAK,MAAM,GAAG,SAAS,EAAE,QAAQ,GAAG,QAAQ,KAAK,IAAI,KAAK,KAAK,WAAW;AAAA;AAAA;AAAA,WAK3E,eAAe,IAAI;AACtB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA;AAEjB,gBAAQ,IAAI;AAEZ,YAAI,OAAO,EAAE,MAAM,OAAO,kBAAkB,QAAQ;AACpD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AAEtB,gBAAM,GAAG,IAAI;AACb,kBAAQ,IAAI,oDAAY,IAAI;AAAA;AAAA,aAG/B;AACD,cAAM,GAAG,EAAE,SAAS,GAAG,UAAU;AAAA;AAAA;AAAA,WAKlC,oBAAoB;AACvB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,WAAW,OAAO,gBAAgB;AACtC,YAAI,YAAY,qBAAa,KAAK;AAClC,iBAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACtC,cAAI,UAAU,SAAS,GAAG;AAC1B,qBAAG,0BAA0B,SAAS,CAAC,QAAQ;AAG3C,gBAAI,MAAM,UAAU,QAAQ;AAC5B,gBAAI,KAAK;AACL,kBAAI,OAAO,IAAI;AACX,0BAAU,KAAK;AAAA;AAAA,mBAGlB;AACD,kBAAI,MAAM,IAAI;AACV,0BAAU,OAAO,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASvC,YAAY,QAAQ;AAEvB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,cAAc,QAAQ;AAChD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI;AAAA,iBAEX;AACD,oBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,WAOrB,MAAM,IAAI;AACb,aAAO,GAAG,QAAQ,QAAQ;AAAA;AAAA,WAIvB,WAAW;AACd,UAAI,MAAM,OAAO,gBAAgB,gBAAgB,QAAQ;AACzD,UAAI,OAAO,gBAAgB,gBAAgB,SAAS,GAAG;AACnD,cAAM;AAAA;AAEV,aAAO;AAAA;AAAA,WAUJ,qBAAqB;AACxB,cAAQ,IAAI;AACZ,UAAI,qBAAa,KAAK,WAAW,GAAG;AAChC;AAAA;AAGJ,UAAI,OAAO,CAAC,UAAU;AAgBlB,eAAO,aAAa,MAAM,OAAO,WAAW,UAAU;AACtD,aAAK,YAAY;AAAA;AAIrB,UAAI,KAAK,QAAQ,cAAc;AAC3B,gBAAQ,IAAI;AACZ,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,uBAAuB,QAAQ;AACzD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,kBAAQ,IAAI,oDAAY,KAAK,UAAU;AACvC,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI;AACZ,iCAAa,QAAQ,WAAW;AAChC,iBAAK,IAAI,KAAK;AACd,gBAAI,WAAW,SAAS,cAAc;AACtC,gBAAI,YAAa,IAAI,KAAK,QAAQ,OAAO,gBAAgB,iBAAiB,KAAM;AAChF,gBAAI,aAAc,IAAI,KAAK,QAAQ,OAAO,gBAAgB,iBAAiB,KAAM;AAAA,iBAYhF;AACD,oBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,WAOrB,YAAY,OAAO;AAEtB,UAAI,UAAU;AAAA,QACV,OAAO,WAAW;AAAA,QAClB,UAAU,WAAG;AAAA;AAEjB,UAAI,OAAO,EAAE,MAAM,OAAO,cAAc,QAAQ;AAChD,iBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,YAAI,IAAI,QAAQ,GAAG;AAEf,kBAAQ,IAAI;AAAA,eACT;AAEH,kBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,WAyBjB,cAAc;AAAA;AAAA,WA4Bd,YAAY,MAAM;AACrB,WAAK,YAAY;AAAA;AAAA,WAGd,cAAc;AACjB,aAAO,KAAK;AAAA;AAAA,WAIT,kBAAkB,OAAO,aAAa,MAAM;AAC/C,WAAK,MAAM,OAAO;AAuBlB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,eAAe,qBAAa,KAAK;AAAA,UACjC,UAAU,WAAG;AAAA;AAEjB,gBAAQ,IAAI,0EAAkC;AAC9C,YAAI,OAAO,EAAE,MAAM,OAAO,qBAAqB,QAAQ;AACvD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,kBAAQ,IAAI,oDAAY,KAAK,UAAU;AACvC,cAAI,IAAI,QAAQ,GAAG;AACf,iCAAa,QAAQ,WAAW;AAChC,oBAAQ,IAAI;AAEZ,gBAAI,YAAY;AACZ,yBAAW,IAAI,KAAK;AAAA;AAExB,gBAAI,WAAW,SAAS,cAAc;AACtC,gBAAI,YAAa,IAAI,KAAK,QAAQ,OAAO,gBAAgB,iBAAiB,KAAM;AAChF,gBAAI,aAAc,IAAI,KAAK,QAAQ,OAAO,gBAAgB,iBAAiB,KAAM;AAAA,iBAUhF;AACD,oBAAQ,IAAI;AACZ,gBAAI,OAAO;AACP,yBAAG,UAAU;AACb,mBAAK,MAAM,KAAK,KAAO,MAAM,UAAS;AAAA;AAAA;AAAA;AAAA,aAKjD;AACD,YAAI,YAAY;AACZ,qBAAW;AAAA;AAAA;AAAA;AAAA,WAMhB,gBAAgB,IAAK;AACxB,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,kBAAkB,QAAQ;AACpD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,kBAAM;AACN,oBAAQ,IAAI;AAAA,iBACT;AACH,oBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,WAQrB,kBAAkB,QAAQ,IAAK,YAAY,GAAG;AACjD,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,qBAAqB,QAAQ;AAEvD,kBAAS,SAAS,QAAQ,EAAE,MAAM,UAAU,WAAW,IAAI,GAAG,KAAK;AACnE,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AAKf,gBAAI,cAAc,IAAI,KAAK;AAC3B,gBAAI,KAAK,SAAS;AAAA,cACd,MAAM;AAAA,cACN,OAAO,YAAY;AAAA,cACnB,IAAI;AAAA;AAER,gBAAI,KAAK,UAAU;AAAA,cACf,MAAM;AAAA,cACN,OAAO,YAAY;AAAA,cACnB,IAAI;AAAA,eAEJ,MAAM,GAAG,IAAI;AACjB,oBAAQ,IAAI,iCAAa,IAAI;AAAA,iBAC1B;AACH,oBAAQ,IAAI,kDAAoB,IAAI;AACpC,gBAAI,IAAI,QAAQ,KAAK;AACjB,kBAAI,MAAM;AAAA,uBAEL,IAAI,QAAQ,KAAK;AACtB,kBAAI,MAAM;AAAA;AAAA;AAAA;AAAA,aAKrB;AAED,cAAM,GAAG;AAAA,UACL,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,KAAK;AAAA,UACL,QAAQ;AAAA,YACJ,MAAM;AAAA,YACN,OAAO;AAAA,YACP,IAAI;AAAA;AAAA,UAER,SAAS;AAAA,YACL,MAAM;AAAA,YACN,OAAO;AAAA,YACP,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,WAOb,iBAAiB,IAAI,IAAK;AAC7B,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU,WAAG;AAAA;AAEjB,YAAI,OAAO,EAAE,MAAM,OAAO,uBAAuB,QAAQ;AACzD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI;AACZ,gBAAI,IAAI;AACJ,iBAAG,IAAI;AAAA;AAAA,iBAER;AACH,oBAAQ,IAAI,8DAAsB,IAAI;AACtC,gBAAI,IAAI,QAAQ,KAAK;AACjB,kBAAI,MAAM;AAAA,uBAEL,IAAI,QAAQ,KAAK;AACtB,kBAAI,MAAM;AAAA;AAAA;AAAA;AAAA,aAKnB;AACH,YAAI,IAAI;AACJ,aAAG;AAAA,YACC,QAAQ;AAAA,YACR,OAAO;AAAA,YACP,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAt9BzB;AAEW,EAFX,SAEW,YAAoB;AAopBpB,EAtpBX,SAspBW,iBAKH;AAwIG,EAnyBX,SAmyBW,iBAAiB;;;ACtyB5B,kBAAS;AAAA,IAAT,cAPA;AAQI,wBAAkB;AA8ClB,0BAAwB;AACxB,uBAAiB;AA2DjB,qBAAmB;AACnB,qBAAe;AACf,qBAAkB;AAClB,yBAAsB;AACtB,qBAAkB;AAClB,sBAAmB;AACnB,uBAAoB;AA2DpB,yBAAmB;AAkEnB,0BAAwB;AAAA;AAAA,WA1OV,cAAkB;AAC5B,WAAK,YAAY,KAAK,aAAa,IAAI;AACvC,aAAO,KAAK;AAAA;AAAA,IAKhB,OAAO;AACH,cAAQ,IAAI;AACZ,UAAI,CAAC,KAAK,QAAQ;AAAc;AAEhC,WAAK;AAEL,WAAK;AAEL,WAAK,MAAM,UAAU,GAAG,MAAM,MAAM;AAChC,aAAK;AAAA;AAAA;AAAA,IAOb,WAAW,SAAiB,SAAkB;AAC1C,UAAI,CAAC,KAAK,QAAQ;AAAc,eAAO;AACvC,UAAI,CAAC,WAAW,WAAW,QAAW;AAClC,YAAI,GAAG;AAAU,iBAAO;AAAA,aACrB;AACH,YAAI,GAAG,SAAS;AAAU,iBAAO;AAAA;AAErC,cAAQ,IAAI,yDAAiB;AAC7B,aAAO;AAAA;AAAA,IAKX,oBAAoB;AAChB,UAAI,CAAC,KAAK,WAAW;AAAc,eAAO;AAC1C,aAAO,GAAG;AAAA;AAAA,IAOd,UAAU,kBAA6B,MAAiB;AACpD,UAAI,CAAC,KAAK,WAAW;AAAc;AACnC,UAAI,OAAO;AACX,SAAG,UAAU;AAAA,QACT,QAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AACd,kBAAQ,IAAI,mBAAmB;AAC/B,eAAK,eAAe;AACpB,aAAG,gBAAgB;AAAA,YACf,SAAS,CAAC,aAAa;AACnB,mBAAK,YAAY;AACjB,kBAAI,kBAAkB;AAClB,iCAAiB,KAAK;AAAA;AAAA;AAAA,YAE3B,MAAM,MAAM;AACX,sBAAQ,IAAI;AACZ,kBAAI,CAAC,KAAK,WAAW;AAAkB;AACvC,iBAAG;AAAA;AAAA;AAAA;AAAA,QAIf,MAAM,MAAM;AACR,cAAI,MAAM;AACN;AAAA;AAAA;AAAA;AAAA;AAAA,IAShB,gBAAgB,UAAoB;AAChC,UAAI,CAAC,KAAK,WAAW;AACjB,YAAI,CAAC,KAAK,cAAc;AACpB,eAAK,UAAU;AAAA,eACZ;AACH,cAAI,OAAO;AACX,cAAI,CAAC,KAAK,WAAW;AAAoB;AACzC,aAAG,gBAAgB;AAAA,YACf,SAAS,CAAC,aAAa;AACnB,mBAAK,YAAY;AACjB,kBAAI,UAAU;AACV,yBAAS,KAAK;AAAA;AAAA;AAAA,YAEnB,MAAM,MAAM;AACX,sBAAQ,IAAI;AACZ,kBAAI,CAAC,KAAK,WAAW;AAAkB;AACvC,iBAAG;AAAA;AAAA;AAAA;AAAA,aAIZ;AACH,YAAI,UAAU;AACV,mBAAS,KAAK;AAAA;AAAA;AAAA;AAAA,IAe1B,MAAM,cAAyB,WAAsB;AACjD,UAAI,KAAK,SAAS;AACd,YAAI,CAAC,KAAK,iBAAiB;AACvB,eAAK,UAAU;AACf,cAAI,WAAW;AACX;AAAA;AAEJ;AAAA;AAEJ,YAAI;AAAc,uBAAa,KAAK;AACpC;AAAA;AAEJ,WAAK,SAAS;AACd,UAAI,MAAM;AACV,UAAI,iBAAiB,CAAC,QAAQ;AAC1B,gBAAQ,IAAI,yBAAyB;AACrC,YAAI,IAAI,WAAW,GAAG;AAClB,kBAAQ,IAAI;AACZ,eAAK,UAAU;AACf,eAAK;AACL,kBAAQ,IAAI,cAAc,IAAI;AAC9B,eAAK,UAAU,IAAI,KAAK;AACxB,eAAK,cAAc,IAAI,KAAK;AAC5B,eAAK,UAAU,IAAI,KAAK;AACxB,cAAI,IAAI,KAAK,eAAe,YAAY;AACpC,iBAAK,WAAW,IAAI,KAAK;AAAA;AAE7B,eAAK,YAAY,IAAI,KAAK;AAC1B,kBAAQ,IAAI,eAAe,KAAK;AAGhC,kBAAQ,IAAI,kBAAkB,KAAK;AAEnC,kBAAQ,IAAI,sBAAsB,IAAI,KAAK;AAE3C,eAAK,cAAc,IAAI;AACvB,cAAI,cAAc;AACd,yBAAa,IAAI;AAAA;AAAA,mBAGhB,IAAI,WAAW,KAAK;AACzB,eAAK,UAAU;AAAA,eAEd;AACD,kBAAQ,IAAI;AACZ,eAAK;AACL,eAAK,UAAU;AACf,eAAK,UAAU;AACf,cAAI,WAAW;AACX;AAAA;AAAA;AAAA,SAGT,OAAO,WAAW;AAAA;AAAA,IAGzB,cAAc,MAAW;AACrB,WAAK,cAAc;AAAA;AAAA,IAKvB,gBAAgB;AACZ,aAAO,KAAK;AAAA;AAAA,IAMhB,WAAW,MAAW,UAAqB;AACvC,WAAK,mBAAmB,OAAO,WAAW;AAC1C,cAAQ,IAAI,gBAAgB;AAC5B,UAAI,KAAK,WAAW,UAAa,KAAK,WAAW,IAAI;AACjD,aAAK;AACL;AAAA;AAEJ,UAAI,MAAM;AACV,UAAI,IAAI,eAAe;AACnB,YAAI,cAAc,MAAM;AAAA;AAAA;AAAA,IAKhC,aAAa,MAAW,UAAqB;AACzC,WAAK,mBAAmB,OAAO,WAAW;AAC1C,cAAQ,IAAI,wBAAwB;AACpC,UAAI,MAAM;AACV,UAAI,IAAI,eAAe;AACnB,YAAI,cAAc,MAAM;AAAA;AAAA;AAAA,IAQhC,MAAM,cAAyB,WAAsB;AACjD,UAAI,CAAC,KAAK,WAAW;AAAmB;AAExC,UAAI,MAAW;AACf,UAAI,SAAS;AAAA,QACT,OAAO,OAAO,gBAAgB,iBAAiB,cAAc;AAAA,QAC7D,MAAM,OAAO,gBAAgB,iBAAiB,aAAa;AAAA,QAC3D,UAAU,OAAO,gBAAgB,iBAAiB,YAAY;AAAA,QAE9D,MAAM,6BAA6B,KAAK,UAAU,eAAe,IAAI;AAAA;AAEzE,UAAI,cAAc;AACd,YAAI,OAAO,kBAAkB;AAAA;AAEjC,UAAI,WAAW;AACX,YAAI,OAAO,eAAe;AAAA;AAE9B,SAAG;AACH;AAEA,SAAG;AAAA;AAAA,IAMP,eAAe;AACX,UAAI,CAAC,KAAK,WAAW;AAAmB;AACxC,UAAI,OAAO;AACX,SAAG,eAAe;AAAA,QACd,SAAS,CAAC,QAAQ;AACd,eAAK,eAAe,IAAI,mBAAmB,OAAO;AAAA;AAAA;AAG1D,SAAG,sBAAsB,CAAC,QAAQ;AAC9B,aAAK,eAAe,IAAI,cAAc,OAAO;AAAA;AAAA;AAAA,IAMrD,cAAuB;AACnB,aAAO,KAAK;AAAA;AAAA,IAKhB,WAAW;AACP,UAAI,MAAM;AACV,UAAI,UAAU,YAAY,KAAK;AAC/B,UAAI,UAAU,YAAY,KAAK;AAC/B,eAAS;AAAA;AAAA,IAIb,SAAS;AACL,cAAQ,IAAI;AAEZ,WAAK,MAAM,MAAM;AAEjB,WAAK,MAAM,MAAM;AAEjB,WAAK,MAAM,MAAM;AAEjB,WAAK,MAAM,MAAM;AAEjB,eAAS;AACT,gBAAU;AAGV,0BAAY;AAAA;AAAA,IAIhB,SAAS;AACL,cAAQ,IAAI;AAGZ,UAAI,SAAS,iBAAiB,OAAO,WAAW,UAAU,SAAS;AAC/D,YAAI,IAAI,IAAI,OAAO,YAAY,IAAG,cAAc;AAChD,gBAAQ,IAAI,yBAAyB;AAAA;AAKzC,eAAS;AAET,0BAAY;AAAA;AAAA,IAMhB,SAAS,SAAkB;AACvB,UAAI,CAAC,KAAK,WAAW;AAAgB;AACrC,UAAI,cAAc,WAAW,SAAY,0BAAW;AACpD,SAAG,YAAY;AAAA,QACX,SAAS;AAAA,QACT,OAAO;AAAA;AAEX,iBAAW,MAAM;AACb,aAAK;AAAA,SACN;AAAA;AAAA,IAEP,WAAW;AACP,UAAI,CAAC,KAAK,WAAW;AAAgB;AACrC,SAAG;AAAA;AAAA,IAMP,UAAU,SAAkB;AACxB,UAAI,CAAC,KAAK,WAAW;AAAc;AACnC,UAAI,CAAC,WAAW,WAAW;AAAW;AACtC,SAAG,UAAU;AAAA,QACT,MAAM;AAAA,QACN;AAAA,QACA,UAAU;AAAA,QACV,SAAS,MAAM;AAAA;AAAA;AAAA;AAAA,IAavB,QAAQ,OAAe,SAAiB,WAAW,gBAAM,aAAa,gBAAM;AACxE,UAAI,CAAC,KAAK,WAAW;AAAY;AACjC,SAAG,QAAQ;AAAA,QACP;AAAA,QACA;AAAA,QACA,mBAAmB;AAAA,QACnB,kBAAkB;AAAA,QAClB,SAAS,CAAC,WAAW;AACjB,kBAAQ,IAAI,YAAY;AAAA;AAAA;AAAA;AAAA,IAQpC,OAAO;AAAA;AAAA,IASP,WAAW,SAAiB,SAAoB,MAAiB;AAC7D,cAAQ,IAAI,yBAAyB;AACrC,UAAI,CAAC,KAAK,WAAW,cAAc;AAAO;AAC1C,SAAG,GAAG,WAAW;AAAA,QACb,QAAQ,KAAK;AAAA,QACb,SAAS,CAAC,QAAQ;AACd,cAAI,SAAS;AACT;AAAA;AAAA;AAAA,QAGR,MAAM,CAAC,QAAQ;AACX,cAAI,MAAM;AACN;AAAA;AAAA;AAAA;AAAA;AAAA,IAShB,aAAa,SAAiB,SAAS,MAAM;AACzC,UAAI,CAAC,KAAK,WAAW,gBAAgB;AAAO;AAC5C,UAAI,OAAO;AACX,SAAG,GAAG,aAAa;AAAA,QACf,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AACd,eAAK,UAAU;AACf,cAAI,SAAS;AACT,oBAAQ;AAAA;AAAA;AAAA,QAGhB,MAAM,CAAC,QAAQ;AACX,cAAI,MAAM;AACN,iBAAK;AAAA;AAAA;AAAA,QAGb,UAAU,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IAQ3B,eAAe,SAAiB;AAC5B,UAAI,CAAC,KAAK,WAAW,kBAAkB;AAAO;AAC9C,UAAI,OAAO;AACX,SAAG,GAAG,eAAe;AAAA,QACjB,IAAI,KAAK;AAAA,QACT,SAAS,CAAC,QAAQ;AACd,eAAK,UAAU;AAAA;AAAA,QAEnB,MAAM,CAAC,QAAQ;AAAA;AAAA,QAGf,UAAU,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IAM3B,0BAA0B,SAAiB,MAAiB;AACxD,UAAI,CAAC,KAAK,WAAW,6BAA6B;AAAO;AACzD,UAAI,OAAO;AACX,SAAG,GAAG,0BAA0B;AAAA,QAC5B,IAAI,KAAK;AAAA,QACT,SAAS,CAAC,QAAQ;AAEd,cAAI,MAAM;AACN,iBAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,IAWzB,uBAAuB,UAAqB,cAAyB;AACjE,UAAI,CAAC,KAAK,WAAW,0BAA0B;AAAO;AACtD,SAAG,GAAG,uBAAuB;AAAA,QACzB,IAAI,KAAK,KAAK;AAAA,QACd,SAAS,CAAC,QAAQ;AACd,cAAI,UAAU;AAOV,qBAAS;AAAA;AAAA;AAAA,QAGjB,MAAM,CAAC,QAAQ;AACX,0BAAgB,aAAa;AAAA;AAAA;AAAA;AAAA,IAQzC,UAAU,aAAwB,UAAqB,OAAO,GAAG;AAC7D,UAAI,CAAC,KAAK,WAAW,aAAa;AAAO;AACzC,UAAI,OAAO;AACX,cAAQ,IAAI,aAAa,KAAK;AAC9B,SAAG,GAAG,UAAU;AAAA,QACZ,IAAI,KAAK,KAAK;AAAA,QACd,SAAS,CAAC,QAAQ;AACd,cAAI,aAAa;AACb;AAAA;AAGJ,eAAK,UAAU;AAAA;AAAA,QAEnB,MAAM,CAAC,QAAQ;AACX,cAAI,UAAU;AACV;AAAA;AAEJ,eAAK,UAAU;AAAA;AAAA;AAAA;AAAA,IAQ3B,YAAY,SAAiB;AACzB,UAAI,CAAC,KAAK,WAAW,eAAe;AAAO;AAC3C,UAAI,OAAO;AACX,SAAG,GAAG,YAAY;AAAA,QACd,IAAI,KAAK;AAAA,QACT,SAAS,CAAC,QAAQ;AACd,eAAK,UAAU;AAAA;AAAA,QAEnB,MAAM,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IASvB,sBAAsB,QAAyB;AAC3C,UAAI,CAAC,KAAK,WAAW;AAA0B;AAC/C,SAAG,sBAAsB;AAAA,QACrB,OAAO;AAAA,QACP,WAAW;AAAA,UACP,SAAS;AAAA;AAAA,QAEb,SAAS,CAAC,QAAQ;AACd,kBAAQ,IAAI,KAAK,UAAU;AAAA;AAAA,QAE/B,MAAM,CAAC,QAAQ;AACX,kBAAQ,IAAI,KAAK,UAAU;AAAA;AAAA;AAAA;AAAA,IAQvC,qBAAqB,aAAwB,UAAqB;AAC9D,UAAI,CAAC,KAAK,WAAW,wBAAwB;AAAO;AACpD,UAAI,OAAO;AAEX,SAAG,GAAG,qBAAqB;AAAA,QACvB,SAAS;AAAA,QACT,WAAW;AAAA,UACP,QAAQ,KAAK,KAAK;AAAA,UAClB,gBAAgB;AAAA,UAChB,aAAa;AAAA;AAAA,QAEjB,SAAS,CAAC,QAAQ;AACd,kBAAQ,IAAI;AACZ,cAAI,aAAa;AACb;AAAA;AAAA;AAAA,QAGR,MAAM,CAAC,QAAQ;AAEX,kBAAQ,IAAI,0CAAY;AACxB,cAAI,UAAU;AACV;AAAA;AAAA;AAAA;AAAA;AAAA,IAWhB,gBAAgB,OAAe,MAAY;AACvC,UAAI,CAAC,KAAK,WAAW;AAAoB;AAWzC,SAAG,gBAAgB,OAAO;AAAA;AAAA,IAO9B,QAAQ,SAAiB,SAAoB;AACzC,UAAI,CAAC,KAAK,WAAW,WAAW;AAAO;AACvC,SAAG,GAAG,QAAQ;AAAA,QACV,QAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AACd,kBAAQ,IAAI,YAAY,IAAI;AAC5B,cAAI,SAAS;AACT,oBAAQ;AAAA;AAAA;AAAA,QAKhB,MAAM,CAAC,QAAQ;AACX,cAAI,SAAS;AACT,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,IAYxB,MAAM,SAAiB,QAAgB,UAAkB,SAAoB;AACzE,UAAI,CAAC,KAAK,WAAW,sBAAsB;AAAO;AAClD,SAAG,GAAG,mBAAmB;AAAA,QACrB,QAAQ;AAAA,QACR,OAAO;AAAA,QACP;AAAA,QACA,SAAS,CAAC,QAAQ;AACd,cAAI,SAAS;AACT;AAAA;AAAA;AAAA,QAGR,MAAM,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IAUvB,cAAc,SAAoB;AAC9B,cAAQ,IAAI,iBAAiB;AAE7B,UAAI,CAAC,KAAK,WAAW,iBAAiB;AAAO;AAE7C,cAAQ,IAAI,iBAAiB;AAC7B,SAAG,UAAU;AAAA,QACT,QAAQ;AAAA,QACR,SAAS,CAAC,WAAW;AACjB,kBAAQ,IAAI,2BAA2B;AACvC,aAAG,GAAG,cAAc;AAAA,YAChB,YAAY;AAAA,YACZ,eAAe;AAAA,YACf,eAAe;AAAA,YACf,SAAS,CAAC,QAAQ;AACd,sBAAQ,IAAI,2CAAuB,KAAK,UAAU;AAClD,kBAAI,SAAS;AACT,oBAAI,OAAO;AAAA,kBACP,MAAM,IAAI;AAAA,kBACV,OAAO,IAAI;AAAA,kBACX,SAAS,IAAI,eAAe,IAAI,WAAW,IAAI,aAAa,IAAI,aAAa,IAAI;AAAA,kBACjF,UAAU,IAAI;AAAA,kBACd,MAAM,IAAI;AAAA,kBACV,QAAQ,IAAI;AAAA,kBACZ,QAAQ,IAAI;AAAA,kBACZ,YAAY,IAAI;AAAA;AAEpB,wBAAQ;AAAA;AAAA;AAAA,YAGhB,MAAM,CAAC,QAAQ;AACX,yBAAW,QAAQ;AACnB,sBAAQ,MAAM,2CAAuB,KAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWxE,WAAW,SAAS,UAAU;AAC1B,UAAI,CAAC,KAAK,QAAQ;AAAc;AAChC,UAAI,KAAK,WAAW,UAAa,KAAK,WAAW,IAAI;AACjD,aAAK;AACL;AAAA;AAEJ,UAAI,MAAM;AACV,UAAI,IAAI,eAAe;AACnB,YAAI,cAAc,SAAS;AAAA;AAAA;AAAA,IAOnC,YAAY,UAAU;AAClB,UAAI,CAAC,KAAK,QAAQ;AAAc;AAChC,UAAI,KAAK,WAAW,UAAa,KAAK,WAAW,IAAI;AACjD,aAAK;AACL;AAAA;AAEJ,cAAQ,IAAI;AACZ,UAAI,MAAM;AACV,UAAI,IAAI,gBAAgB;AACpB,YAAI,eAAe;AAAA;AAAA;AAAA,IAK3B,QAAQ,MAAM,UAAU,UAAmB;AACvC,iBAAY,YAAY,SAAa,IAAI;AACzC,UAAI,MAAM,EAAE,MAAY,UAAoB;AAC5C,eAAS,IAAI,KAAK,WAAW,SAAS,GAAG,KAAK,GAAG,KAAK;AAClD,YAAI,MAAM,KAAK,WAAW;AAE1B,YAAI,IAAI,YAAY,UAAU;AAE1B,eAAK,WAAW,OAAO,IAAI,GAAG,GAAG;AAEjC,kBAAQ,IAAI,sBAAsB,KAAK;AACvC;AAAA;AAAA;AAKR,WAAK,WAAW,OAAO,GAAG,GAAG;AAAA;AAAA,IAKjC,WAAW;AACP,UAAI,KAAK,WAAW,SAAS,GAAG;AAC5B,YAAI,MAAM,KAAK,WAAW;AAC1B,YAAI,OAAO,UAAa,OAAO,MAAM;AACjC,eAAK,WAAW,IAAI,MAAM,IAAI;AAC9B,kBAAQ,IAAI,+DAAkB,IAAI,KAAK;AAAA;AAAA;AAAA;AAAA,IAMnD,eAAe;AACX,SAAG,QAAQ;AAAA,QACP,SAAS,MAAM;AAAA;AAAA;AAAA;AAAA,IAOvB,QAAQ,MAAM;AACV,UAAI,MAAW;AACf,UAAI,QAAQ;AAAA;AAAA,IAIhB,YAAY,IAAI;AACZ,UAAI,CAAC,KAAK,WAAW;AAAgB;AACrC,SAAG,YAAY;AAAA,QACX,QAAQ,QAAQ;AACZ,aAAG,OAAO;AAAA;AAAA;AAAA;AAAA,IAMtB,YAAY,IAAI;AACZ,UAAI,MAAW;AACf,UAAI,YAAY,CAAC,QAAQ;AACrB,cAAM,GAAG;AAAA;AAAA;AAAA,IAKjB,YAAY,OAAO,IAAI;AACnB,UAAI,MAAW;AACf,UAAI,YAAY,OAAO,CAAC,QAAQ;AAC5B,cAAM,GAAG;AAAA;AAAA;AAAA,IAKjB,YAAY,OAAO;AACf,UAAI,CAAC,KAAK,QAAQ;AAAc;AAChC,UAAI,MAAW;AACf,UAAI,YAAY;AAAA;AAAA,IAIpB,iBAAiB;AACb,UAAI,OAAO;AACX,UAAI,CAAC,KAAK,QAAQ;AAAc,eAAO;AACvC,UAAI,MAAW;AACf,aAAO,IAAI;AACX,aAAO;AAAA;AAAA;AAvxBf;AAGkB,EAHlB,GAGkB,YAAgB;AAwxBlC,MAAO,aAAQ,GAAG;;;AC/xBX,MAAK;AAAL,YAAK,gBAAL;AACH;AACA;AACA;AAAA,KAHQ;AAUZ,uBAA8B;AAAA,IAwC1B,cAAc;AApCd,sBAA0B;AAU1B,qBAEI;AAMM,yBAIN;AAKM,uBAIN;AAAA;AAAA,IAOJ,QAAQ,OAAwB;AAE5B,WAAK,OAAO;AAAA;AAAA,IAEhB,KAAK,OAAwB;AAEzB,WAAK,QAAQ;AAEb,WAAK;AAEL,UAAI,KAAK,KAAK,SAAS;AACnB,aAAK,KAAK,UAAU;AACpB,aAAK;AACL,aAAK;AAAA;AAAA;AAAA,IAKL,iBAAiB;AACrB,UAAI,WAAW,OAAO,KAAK,KAAK;AAChC,iBAAW,OAAO,UAAU;AAGxB,YAAI,QAAQ;AACZ,YAAI,OAAO,KAAK,aAAa;AACzB,kBAAQ,KAAK,YAAY;AAAA;AAsB7B,aAAK,QAAQ,OAAO,KAAK,KAAK,eAAe;AAC7C,YAAI,CAAC,KAAK,QAAQ,MAAM;AACpB,kBAAQ,MAAM,GAAG,KAAK,YAAY,SAAS;AAC3C;AAAA;AAEJ,YAAI,KAAK,UAAU,MAAM;AACrB,cAAI,QAAS,KAAK,QAAQ,KAAsB;AAChD,cAAI,CAAC,OAAO;AACR,oBAAQ,MAAM,IAAI;AAClB;AAAA;AAEJ,cAAI,SAAS,KAAK,QAAQ,OAAO,IAAK,KAAK,UAAU;AACrD,iBAAO,KAAK;AAAA;AAAA;AAAA;AAAA,IAKxB,aAAa;AAGT,iBAAW,OAAO,KAAK,WAAW;AAC9B,YAAI,SAAS,KAAK,QAAQ;AAC1B,YAAI,QAAQ;AACR,iBAAO;AAAA;AAEX,aAAK,QAAQ,OAAO;AAAA;AAExB,WAAK;AACL,WAAK;AACL,WAAK,KAAK;AAAA;AAAA,IAGd,OAAO;AAEH,UAAI,KAAK,KAAK,SAAS;AACnB;AAAA;AAEJ,WAAK,KAAK,UAAU;AACpB,WAAK;AAAA;AAAA,IAET,OAAO;AACH,UAAI,CAAC,KAAK,KAAK,SAAS;AACpB;AAAA;AAEJ,WAAK,KAAK,UAAU;AACpB,WAAK;AAAA;AAAA,IAMT,UAAU;AAAA;AAAA,IAKV,QAAQ;AAAA;AAAA,IAKR,SAAS;AAAA;AAAA,IAKT,SAAS;AAAA;AAAA;;;AC7Jb,gCAAgD,KAAK,WAAW;AAAA,IAAhE,cAXA;AAWA;AAMI,sBAA0B,cAAc;AAExC,sBAAW;AAWX,qBAEI;AAMM,yBAIN;AAKM,uBAIN;AAII,uBAAY;AAsEZ,uBAAY;AAAA;AAAA,IAnEpB,cAAc;AAEV,WAAK;AAAA;AAAA,IAED,OAAO;AAEX,WAAK;AAGL,WAAK,MAAM,UAAU,GAAG,MAAM,MAAM;AAChC,YAAI,KAAK,SAAS;AACd,eAAK,YAAY;AAEjB,eAAK;AAAA;AAAA;AAAA;AAAA,IAST,iBAAiB;AACrB,UAAI,WAAW,OAAO,KAAK,KAAK;AAEhC,iBAAW,OAAO,UAAU;AAGxB,YAAI,QAAQ;AACZ,YAAI,OAAO,KAAK,aAAa;AACzB,kBAAQ,KAAK,YAAY;AAAA;AAG7B,aAAK,QAAQ,OAAO,KAAK,eAAe;AACxC,YAAI,CAAC,KAAK,QAAQ,MAAM;AACpB,kBAAQ,MAAM,GAAG,KAAK,YAAY,SAAS;AAC3C;AAAA;AAGJ,YAAI,KAAK,UAAU,MAAM;AACrB,cAAI,QAAS,KAAK,QAAQ,KAAsB;AAChD,cAAI,CAAC,OAAO;AACR,oBAAQ,MAAM,IAAI;AAClB;AAAA;AAEJ,cAAI,SAAS,KAAK,QAAQ,OAAO,IAAK,KAAK,UAAU;AACrD,iBAAO,KAAK;AAAA,eAGX;AAAA;AAAA;AAAA;AAAA,IAMb,mBAAmB;AACf,iBAAW,OAAO,KAAK,WAAW;AAC9B,YAAI,SAAS,KAAK,QAAQ;AAC1B,YAAI,QAAQ;AACR,iBAAO;AAAA;AAEX,aAAK,QAAQ,OAAO;AAAA;AAExB,WAAK;AACL,WAAK;AACL,YAAM;AAAA;AAAA,IAIV,OAAO;AACH,UAAI,KAAK,WAAW,CAAC,KAAK,WAAW;AACjC;AAAA;AAEJ,WAAK,YAAY;AACjB,WAAK,UAAU;AACf,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK;AACL,aAAK,YAAY;AAAA;AAErB,WAAK;AAAA;AAAA,IAET,OAAO;AACH,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAMT,UAAU;AAAA;AAAA,IAKV,QAAQ;AAAA;AAAA,IAKR,SAAS;AAAA;AAAA,IAKT,SAAS;AAAA;AAAA;;;ACpKN,MAAM,QAAQ;AAId,MAAM,aAAa;AAAA,IAKtB,aAAa;AAAA,IAGb,SAAS;AAAA,IAGT,eAAe;AAAA,IAQf,SAAS;AAAA,MAEL,YAAY,EAAE,OAAO,OAAO,QAAQ;AAAA,MAEpC,YAAY,EAAE,OAAO,OAAO,QAAQ,GAAG,aAAa,CAAC;AAAA,MAErD,WAAW,EAAE,OAAO,OAAO,QAAQ;AAAA;AAAA;;;ACrB3C,0BAAiB;AAAA,IAAjB,cATA;AAWY,2BAA+B;AAW/B,oBAAS;AA8GT,qBAA4B;AA0B5B,uBAAY;AAAA;AAAA,WAhJb,MAAM;AACT,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AAAA;AAExB,aAAO,KAAK;AAAA;AAAA,IAKhB,OAAO;AACH,UAAI,KAAK,QAAQ;AACb;AAAA;AAEJ,eAAS,SAAS,uBAAuB,WAAW;AACpD,WAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AACpC,WAAK,MAAM,KAAK,cAAc,SAAS;AACvC,WAAK,gBAAgB;AACrB,WAAK,SAAS;AAAA;AAAA,UAOZ,eAAe,cAAmD,OAAO,UAAqB;AAChG,UAAI,OAAO,KAAK,cAAc;AAG9B,UAAI,KAAK,UAAU,GAAG;AAClB,eAAO;AAAA;AAEX,aAAO,IAAI,QAAiB,QAAM;AAC9B,YAAI,WAAW,KAAK;AACpB,YAAI,UAAU;AACd,YAAI,UAAU,MAAM;AAChB;AACA,cAAI,YAAY,GAAG;AACf,wBAAY;AACZ,eAAG;AAAA;AAAA;AAIX,mBAAW,QAAQ,MAAM;AAQrB,cAAI,UAAU,KAAK,aAAa;AAChC,eAAK,OAAO,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,CAAC,QAAQ,YAAY;AACrE,gBAAI,QAAQ;AACR,kBAAI,WAAW,KAAK,UAAU,WAAW,KAAK,mBAAmB,QAAQ;AACzE,mBAAK,cAAc,KAAK;AAExB,sBAAQ,IAAI,sBAAsB,MAAM,4BAAQ;AAAA,mBAE/C;AACD,wBAAU;AACV,sBAAQ,MAAM,sBAAsB,MAAM;AAAA;AAE9C;AAAA,cAEA,KAAK,QAAQ,OAAO,MAAM,CAAC,QAAQ,YAAY;AAAA,aAGhD,QAAW;AAAA;AAAA;AAAA;AAAA,UAapB,YAAY,SAAsB,SAAc,WAAqB;AAEvE,UAAI,KAAK,MAAM,KAAK,eAAe;AAEnC,UAAI,CAAC,IAAI;AACL,eAAO;AAAA;AAKX,WAAK,UAAU,YAAY,KAAK,mBAAmB,WAAW,SAAS,KAAK,QAAQ,OAAO,SAAS;AACpG,aAAO;AAAA;AAAA,IAQX,YAAY,OAAY,cAAyB;AAC7C,YAAM,SAAS,KAAK;AACpB,WAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,MAAM,QAAQ,QAAS,KAAK,KAAK,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,MAAM;AAE1G,aAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,MAAM;AACnG,0BAAgB;AAAA;AAAA;AAAA;AAAA,IAM5B,aAAa,OAAY,cAAyB;AAC9C,WAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,KAAK,QAAQ,OAAQ,KAAK,KAAK,KAAK,WAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC1G,aAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,UAAU,KAAK,QAAQ,OAAO,MAAM,MAAM;AACpG,0BAAgB;AAAA;AAAA;AAAA;AAAA,UAWtB,UAAwC,QAAW,WAAsB;AAC3E,WAAK;AACL,aAAO,IAAI,QAAc,CAAC,OAAO;AAC7B,YAAI,aAAa,KAAK;AAEtB,aAAK,UAAU,IAAK;AAEpB,YAAI,CAAC,KAAK,QAAQ,SAAS,MAAM;AAC7B,eAAK,WAAW;AAChB,uBAAa,UAAU,KAAK;AAC5B,gBAAM;AAAA,YACN;AACA,eAAK,UAAU;AAAA;AAAA;AAAA;AAAA,IAgB3B,cAA4C,QAAW,WAAmC;AAItF,UAAI,WAAW,KAAK,oBAAoB;AAExC,WAAK;AACL,UAAI,aAAwB;AAC5B,UAAI,YAAY,KAAK,WAAW;AAC5B,qBAAa,KAAK,UAAU;AAAA;AAIhC,UAAI,CAAC,YAAY;AACb,qBAAa,IAAK;AAAA;AAKtB,UAAI,CAAC,WAAW,SAAS,MAAM;AAE3B,aAAK,UAAU,YAAY;AAE3B,qBAAa,UAAU;AAAA,UACvB;AACA,aAAK,UAAU;AAAA;AAEnB,aAAO;AAAA;AAAA,IAUX,WAAW,YAAuB;AAU9B,UAAI,YAAY;AACZ,mBAAW,cAAc,WAAW;AACpC,YAAI,WAAW,KAAK,oBAAoB,WAAW;AAInD,YAAI,YAAY,KAAK,WAAW;AAG5B,iBAAO,KAAK,UAAU;AAAA;AAAA;AAAA;AAAA,UAY5B,aAAa,SAA0B,UAAuB,WAAmB,QAA6B,WAAW,MAAM;AACjI,aAAO,IAAI,QAAmB,QAAM;AAChC,aAAK,YAAY,UAAU,MAAM,MAAM;AAGnC,eAAK,gBAAgB,aAAa,KAAK,UAAU,WAAW,UAAU,YAAY;AAIlF,cAAI,aAAa,MAAM;AACnB,mBAAO,KAAK,UAAU,aAAa,UAAU,WAAW;AAAA;AAE5D,cAAI,QAAa;AACjB,cAAI,UAAU;AACV,gBAAI,YAAY,WAAW;AAC3B,oBAAQ,KAAK,KAAK,mBAAmB,WAAW,YAAY;AAC5D,kBAAM,WAAW;AAAA,iBAEhB;AACD,oBAAQ;AACR,kBAAM,WAAW;AAAA;AAErB,gBAAM,UAAU;AAEhB,gBAAM,YAAY,SAAS,KAAK,aAAa;AAC7C,kBAAQ,SAAS;AAGjB,aAAG;AAAA;AAAA;AAAA;AAAA,IAIf,cAAc,MAAiB;AAC3B,UAAI,KAAK,YAAY,IAAI;AACrB,aAAK,KAAK,QAAQ,KAAK,UAAU;AAAA;AAErC,WAAK;AAAA;AAAA,IAMD,oBAAoB,gBAA0B;AAClD,UAAI,OAAO,eAAe;AAC1B,UAAI,WAAW;AAEf,YAAM,SAAS,CAAC,WAAW;AAC3B,iBAAW,OAAO,QAAQ;AACtB,YAAI,OAAO,KAAK,QAAQ;AACxB,YAAI,OAAO,GAAG;AACV;AAAA;AAEJ,oBAAY,KAAK,MAAM,MAAM,OAAO;AAAA;AAExC,aAAO;AAAA;AAAA,IAMH,mBAAmB,SAAsB;AAC7C,UAAI,OAAO,WAAW,QAAQ;AAC9B,UAAI,QAAS,MAAK,QAAQ,WAAW,cAAc,MAAM,WAAW;AACpE,aAAO;AAAA;AAAA,IAOH,cAAc,cAAmD,OAAO;AAC5E,UAAI,OAAsB;AAC1B,UAAI,AAAS,eAAT,OAAsB;AACtB,mBAAW,OAAQ,OAAO,KAAK,WAAW,UAA4B;AAClE,cAAI,KAAK,cAAc,QAAQ,OAAO,GAAG;AACrC,iBAAK,KAAK;AAAA;AAAA;AAAA,iBAIb,OAAO,eAAe,UAAU;AACrC,YAAI,KAAK,cAAc,QAAQ,eAAe,GAAG;AAC7C,eAAK,KAAK;AAAA;AAAA,aAIb;AACD,mBAAW,OAAO,aAAa;AAC3B,cAAI,KAAK,cAAc,QAAQ,OAAO,GAAG;AACrC,iBAAK,KAAK;AAAA;AAAA;AAAA;AAItB,aAAO;AAAA;AAAA,IAMH,aAAa,MAAmB;AACpC,UAAI,WAAW,WAAW,QAAQ;AAClC,UAAI,QAAQ,KAAK,mBAAmB;AACpC,UAAI,UAAiB;AAErB,cAAQ,KAAK,EAAE,KAAK,QAAQ,OAAO,MAAM,WAAW,eAAe,MAAM,KAAK,OAAO;AAErF,UAAI,SAAS,WAAW;AACpB,iBAAS,QAAQ,GAAG,QAAQ,SAAS,WAAW,SAAS;AACrD,cAAI,UAAU;AACd,cAAI,QAAQ,GAAG;AACX,sBAAU,MAAM;AAAA;AAEpB,kBAAQ,KAAK,EAAE,KAAK,QAAQ,OAAO,UAAU,eAAe,MAAM,KAAK,OAAO;AAAA;AAAA;AAItF,UAAI,eAAyB,SAAS;AACtC,UAAI,gBAAgB,aAAa,SAAS,GAAG;AACzC,mBAAW,QAAQ,cAAc;AAC7B,kBAAQ,KAAK,EAAE,KAAK,QAAQ,MAAM,MAAM,KAAK,OAAO;AAAA;AAAA;AAG5D,aAAO;AAAA;AAAA;AA1Vf;AAImB,EAJnB,WAImB,WAAuB;AAyV1C,MAAO,mBAAQ,WAAW;;;AC3V1B,gCAAsC,UAAU;AAAA,IAAhD,cAXA;AAWA;AAII,qBAAU;AAAA,QACN,eAAe;AAAA;AAAA;AAAA,WAUZ,UAAU,SAAc;AAC3B,WAAK,WAAW;AAAA;AAAA,iBAEP,OAAO,OAAqB;AACrC,UAAI,CAAC,KAAK,UAAU;AAChB,gBAAQ,MAAM;AACd,eAAO;AAAA;AAEX,UAAI,OAAO,MAAM,iBAAS,aAAa,KAAK,UAAU,KAAK,OAAO,KAAK,QAAQ;AAC/E,WAAK,OAAO,KAAK;AACjB,WAAK;AACL,WAAK,KAAK;AACV,aAAO;AAAA;AAAA,WAEJ,YAAY;AACf,aAAO,KAAK,OAAO,SAAS,GAAG;AAE3B,YAAI,OAAO,KAAK,OAAO;AACvB,gBAAQ,KAAK;AAAA;AAAA;AAAA,IAGrB,aAAa;AACT,UAAI;AACA,aAAK,UAAU;AACf,yBAAS,cAAc;AAAA,eAClB,OAAP;AAAA;AAAA;AAAA,IAIN,iBAAiB;AACb,UAAI,OAAO,UAAS,OAAO,UAAU,OAAK,EAAE,MAAM,KAAK;AACvD,UAAI,OAAO,IAAI;AAEX,kBAAS,OAAO,OAAO,MAAM;AAAA;AAAA;AAAA,IAGrC,KAAK,OAAqB;AAGtB,WAAK,UAAU;AACf,WAAK,YAAY;AACjB,WAAK,MAAM,MAAM,IAAI,IAAI,MAAM,IAAI;AACnC,WAAK,QAAQ,cAAc,OAAO,KAAK,MAAM;AAC7C,WAAK;AAAA;AAAA,IAET,QAAQ;AACJ,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,cAAc;AACV,WAAK,SAAS,GAAG;AACjB,WAAK,QAAQ;AAEb,UAAI,MAAM,KAAK,QAAQ,IAAI,KAAK;AAChC,WAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,KAAK,GAAG,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACjH,aAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACzG,eAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACrG,iBAAK,MAAM,GAAG,MAAM,EAAE,OAAO,GAAG,GAAG,MAAM,OAAO,KAAM,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACxG,mBAAK;AAAA;AAAA;AAAA;AAAA;AAKrB,WAAK,SAAS,GAAG;AAAA;AAAA;AA9EzB;AAEmB,EAFnB,SAEmB,QAAqB;AACrB,EAHnB,SAGmB,SAAS;AAUT,EAbnB,SAamB,WAAgB;AACxB,EAdX,SAcW,SAAqB;;;ACZhC,mCAAyC,UAAU;AAAA,IAAnD,cAbA;AAaA;AAII,qBAAU;AAAA,QACN,WAAW;AAAA;AAAA;AAAA,WAUR,UAAU,SAAc;AAC3B,WAAK,WAAW;AAAA;AAAA,iBAEP,OAAO,OAAwB;AACxC,UAAI,CAAC,KAAK,UAAU;AAChB,gBAAQ,MAAM;AACd,eAAO;AAAA;AAEX,UAAI,OAAO,MAAM,iBAAS,aAAa,KAAK,UAAU,KAAK,OAAO,KAAK,QAAQ;AAC/E,WAAK,OAAO,KAAK;AACjB,WAAK;AACL,WAAK,KAAK;AACV,aAAO;AAAA;AAAA,WAEJ,YAAY;AACf,aAAO,KAAK,OAAO,SAAS,GAAG;AAE3B,YAAI,OAAO,KAAK,OAAO;AACvB,gBAAQ,KAAK;AAAA;AAAA;AAAA,IAGrB,aAAa;AACT,UAAI;AACA,aAAK,UAAU;AACf,yBAAS,cAAc;AAAA,eAClB,OAAP;AAAA;AAAA;AAAA,IAIN,iBAAiB;AACb,UAAI,OAAO,aAAY,OAAO,UAAU,OAAK,EAAE,MAAM,KAAK;AAC1D,UAAI,OAAO,IAAI;AAEX,qBAAY,OAAO,OAAO,MAAM;AAAA;AAAA;AAAA,IAGxC,KAAK,OAAwB;AAGzB,WAAK,UAAU;AACf,WAAK,MAAM,MAAM,IAAI,IAAI,MAAM,IAAI;AACnC,WAAK,QAAQ,UAAU,OAAO,KAAK,MAAM;AACzC,WAAK;AACL,WAAK,YAAY;AAAA;AAAA,IAErB,QAAQ;AACJ,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,SAAS;AAAA;AAAA,IAGxB,cAAc;AACV,WAAK,SAAS,GAAG;AACjB,WAAK,QAAQ;AAGb,UAAI,SAA0B;AAC9B,cAAQ,KAAK,QAAQ;AAAA,aACZ;AAED,mBAAS;AACT;AAAA,aACC;AACD,mBAAS;AACT;AAAA,aAIC;AAAA,aACA;AACD,mBAAS;AACT;AAAA;AAGA;AAAA;AAER,UAAI,QAAQ;AACR,gBAAQ,WAAW;AAAA;AAEvB,UAAI,MAAM,KAAK,QAAQ,IAAI,KAAK;AAChC,WAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,KAAK,GAAG,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AAEjH,aAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACzG,eAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACzG,iBAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACrG,mBAAK,MAAM,GAAG,MAAM,IAAI,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC/E,qBAAK,MAAM,GAAG,MAAM,EAAE,OAAO,GAAG,GAAG,MAAM,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,MAAM;AACvG,uBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO7B,WAAK,SAAS,GAAG;AAAA;AAAA;AA5GzB;AAEmB,EAFnB,YAEmB,QAAqB;AACrB,EAHnB,YAGmB,SAAS;AAUT,EAbnB,YAamB,WAAgB;AACxB,EAdX,YAcW,SAAwB;;;ACtB5B,MAAM,eAAe;AAAA,IAGxB,MAAM;AAAA,MAEF,IAAI;AAAA,MAGJ,SAAS;AAAA,QACL,UAAU;AAAA;AAAA,MAId,UAAU;AAAA,QACN,cAAc;AAAA;AAAA;AAAA,IAKtB,SAAS;AAAA,IAGT,OAAO;AAAA,MAEH,aAAa;AAAA,MAIb,SACA;AAAA,QAEI,WACA;AAAA,UACI,IAAI;AAAA,UAEJ,UAAU;AAAA,UAEV,SACA;AAAA,YACI,UAAU;AAAA,YACV,SAAS;AAAA,YACT,MACI;AAAA,cACI,EAAE,UAAU,iEAAe,OAAO,OAAO,SAAS;AAAA,cAClD,EAAE,UAAU,iBAAO,OAAO,IAAI,SAAS;AAAA,cACvC,EAAE,UAAU,iBAAO,OAAO,IAAI,SAAS;AAAA,cACvC,EAAE,UAAU,iBAAO,OAAO,IAAI,SAAS;AAAA,cACvC,EAAE,UAAU,iBAAO,OAAO,IAAI,SAAS;AAAA,cACvC,EAAE,UAAU,iBAAO,OAAO,IAAI,SAAS;AAAA;AAAA;AAAA;AAAA,QAMvD,QACA;AAAA,UACI,IAAI;AAAA,UAGJ,UAAU,EAAE,OAAO;AAAA,UAEnB,SAAS;AAAA,YACL,OAAO;AAAA,YACP,IAAI;AAAA,YAAI,KAAK;AAAA,YACb,eAAe;AAAA;AAAA;AAAA,QAKvB,oBACA;AAAA,UACI,IAAI;AAAA,UAEJ,UAAU;AAAA,UAEV,SAAS;AAAA,YACL,OAAO;AAAA,YACP,MAAM;AAAA,YACN,QAAQ;AAAA;AAAA;AAAA,QAKhB,eACA;AAAA,UACI,IAAI;AAAA,UAEJ,UAAU;AAAA,UAEV,SAAS;AAAA,YACL,SAAS;AAAA,YACT,YAAY;AAAA,YACZ,OAAO;AAAA,YACP,SAAS;AAAA,YACT,OAAO;AAAA;AAAA;AAAA,QAMf,kBACA;AAAA,UACI,IAAI;AAAA,UAEJ,UAAU;AAAA,UAEV,SACI;AAAA,YAEI;AAAA,cACI,OAAO;AAAA,cACP,OAAO;AAAA,cACP,UAAU,CAAC;AAAA,cACX,IAAI;AAAA,cACJ,MAAM;AAAA,cACN,SAAS;AAAA,cACT,OAAO;AAAA;AAAA,YACR;AAAA,cACC,OAAO;AAAA,cACP,OAAO;AAAA,cACP,UAAU,CAAC,GAAG;AAAA,cACd,IAAI;AAAA,cACJ,MAAM;AAAA,cACN,SAAS;AAAA,cACT,OAAO;AAAA;AAAA;AAAA;AAAA,QAMvB,kBACA;AAAA,UACI,IAAI;AAAA,UAEJ,UAAU;AAAA,UAEV,SAAS;AAAA,YACL,OAAO;AAAA;AAAA;AAAA,QAKf,eAAe;AAAA,UACX,IAAI;AAAA,UAEJ,UAAU;AAAA,UAEV,SAAS;AAAA,YACL,MAAM;AAAA,YACN,SAAS;AAAA,YACT,OAAO;AAAA,YACP,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACxJ3B,0BAAiB;AAAA,IAAjB,cAJA;AAMY,iBAAM;AAAA;AAAA,WAEP,MAAM;AACT,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AACpB,aAAK,SAAS;AAAA;AAElB,aAAO,KAAK;AAAA;AAAA,IAER,OAAO;AACX,WAAK,MAAM,IAAI;AAAA;AAAA,IAEnB,QAA4B,OAAU,SAA6B,UAAiC;AAChG,UAAI,SAAiB;AACrB,UAAI,UAAU,aAAa,KAAK,SAAS;AACrC,aAAK,IAAI,aAAa,KAAK,QAAQ,SAAS,SAAgB;AAAA,aAE3D;AACD,aAAK,KAAK,aAAa,KAAK,SAAS,SAAS,SAAS;AAAA;AAAA;AAAA,IAUvD,IAAI,KAAa,SAAoB,UAAiC;AAK1E,UAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,mBAAW,SAAS,SAAS;AACzB,iBAAO,MAAM;AAAA;AAAA;AAGrB,WAAK,IAAI,qBAAqB,MAAM;AAChC,YAAI,KAAK,IAAI,cAAc,GAAG;AAC1B,cAAI,KAAK,IAAI,UAAU,OAAO,KAAK,IAAI,SAAS,KAAK;AACjD,gBAAI,WAAW,KAAK,IAAI;AAExB,gBAAI,UAAU;AACV,kBAAI,eAAe,KAAK,MAAM;AAC9B,uBAAS;AAAA,mBACN;AACH,sBAAQ,IAAI;AACZ,uBAAS;AAAA;AAAA,iBAEV;AACH,oBAAQ,IAAI;AACZ,qBAAS;AAAA;AAAA;AAAA;AAMrB,WAAK,IAAI,KAAK,OAAO,aAAa,KAAK,KAAK,KAAK;AACjD,WAAK,IAAI;AAAA;AAAA,IASL,KAAK,KAAa,SAAiB,UAAiC;AASxE,WAAK,IAAI,qBAAqB,MAAM;AAChC,YAAI,KAAK,IAAI,cAAc,GAAG;AAC1B,cAAI,KAAK,IAAI,UAAU,OAAO,KAAK,IAAI,SAAS,KAAK;AACjD,gBAAI,WAAW,KAAK,IAAI;AAExB,gBAAI,UAAU;AACV,kBAAI,eAAe,KAAK,MAAM;AAC9B,0BAAY,SAAS;AAAA,mBAClB;AACH,sBAAQ,IAAI;AACZ,0BAAY,SAAS;AAAA;AAAA,iBAEtB;AACH,oBAAQ,IAAI;AACZ,wBAAY,SAAS;AAAA;AAAA;AAAA;AAIjC,WAAK,IAAI,KAAK,QAAQ,aAAa,KAAK,KAAK,KAAK;AAClD,WAAK,IAAI,iBAAiB,+BAA+B;AACzD,WAAK,IAAI,iBAAiB,gCAAgC;AAC1D,WAAK,IAAI,iBAAiB,gCAAgC;AAC1D,WAAK,IAAI,iBAAiB,gBAAgB;AAC1C,WAAK,IAAI,iBAAiB,SAAS;AAEnC,WAAK,IAAI,KAAK,KAAK,UAAU;AAAA;AAAA;AAxGrC;AAGmB,EAHnB,WAGmB,WAAuB;AAwHnC,MAAI,WAAW,WAAW;;;AC1HjC,2BAAkB;AAAA,WAIP,MAAM;AACT,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AACpB,aAAK,SAAS;AAAA;AAElB,aAAO,KAAK;AAAA;AAAA,IAER,OAAO;AAAA;AAAA,IAGf,QAAoC,OAAU,OAG3C;AAEC,UAAI,WAAW,aAAa,MAAM,QAAQ;AAC1C,UAAI,CAAC,OAAO;AACR,gBAAQ;AAAA;AAGZ,UAAI,CAAC,KAAK,QAAQ,cAAc;AAC5B,cAAM,YAAY,MAAM,SAAS,MAAM,SAAS,SAAS;AACzD;AAAA;AAKJ,UAAI,aAAa,MAAM,aAAa;AAChC,aAAK,WAAW,OAAO,MAAM,UAAU,SAAS,aAAa;AAAA;AAEjE,UAAI,CAAC,MAAM,UAAU;AACjB,cAAM,WAAW;AAAA;AAErB,YAAM,SAAS,cAAc,WAAG;AAChC,UAAI,aAAa,MAAM,aAAa;AAChC,gBAAQ,IAAI,4BAAQ,OAAO,MAAM;AAAA;AAYrC,UAAI,OAAO,EAAE,MAAM,SAAS,IAAI,QAAQ,MAAM;AAG9C,iBAAG,QAAQ,MAAM,CAAC,QAAkB;AAChC,YAAI,IAAI,QAAQ,GAAG;AACf,cAAI,aAAa,MAAM,aAAa;AAChC,oBAAQ,IAAI,4BAAQ,OAAO;AAC3B,iBAAK,WAAW,OAAO,IAAI,MAAM,SAAS,YAAY;AAAA;AAE1D,gBAAM,YAAY,MAAM,SAAS,MAAM,IAAI,MAAM,IAAI;AAAA,eAClD;AACH,kBAAQ,MAAM,oCAAW,YAAY,SAAS,gCAAY,IAAI;AAC9D,gBAAM,YAAY,MAAM,SAAS,OAAO,MAAM,IAAI;AAAA;AAAA;AAAA;AAAA,IAWtD,WAAW,OAAe,KAAU,KAAU,WAAoB;AACtE,UAAI,SAAS,OAAO;AACpB,UAAI,SAAS,OAAO;AACpB,UAAI,UAAU,QAAQ;AAClB,gBAAQ,MAAM;AACd,gBAAQ,MAAM,+EAAmB;AACjC,gBAAQ,MAAM,yCAAW;AACzB,gBAAQ,MAAM,yCAAW;AACzB,YAAI,WAAW;AACX,kBAAQ,MAAM,6BAAS;AAAA;AAE3B,gBAAQ,MAAM;AAAA;AAGlB,UAAI,UAAU,UAAU;AACpB,YAAI,aAAa,MAAM,QAAQ;AAC/B,YAAI,aAAa,MAAM,QAAQ;AAC/B,YAAI,cAAc,YAAY;AAC1B,kBAAQ,MAAM;AACd,kBAAQ,MAAM,+EAAmB;AACjC,kBAAQ,MAAM,2DAAc;AAC5B,kBAAQ,MAAM,2DAAc;AAC5B,cAAI,WAAW;AACX,oBAAQ,MAAM,6BAAS;AAAA;AAE3B,kBAAQ,MAAM;AACd;AAAA;AAGJ,mBAAW,OAAO,KAAK;AAEnB,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM;AACjD,gBAAI,CAAC,YAAY;AACb,sBAAQ,MAAM;AACd,sBAAQ,MAAM,iDAAc;AAC5B,sBAAQ,MAAM,2DAAc;AAC5B,kBAAI,WAAW;AACX,wBAAQ,MAAM,6BAAS;AAAA;AAE3B,sBAAQ,MAAM;AAAA;AAAA,iBAGjB;AACD,iBAAK,WAAW,QAAQ,MAAM,KAAK,IAAI,MAAM,IAAI;AAAA;AAErD,cAAI,YAAY;AACZ,oBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAxHhC;AAGmB,EAHnB,YAGmB,WAAwB;AA6HpC,MAAI,YAAY,YAAY;;;ACjInC,wBAA+B;AAAA;AAEpB,EAFX,UAEW,OAAO;AACP,EAHX,UAGW,QAAQ;;;ACDnB,qBAA4B;AAAA,IAOxB,YAAY,KAAK;AAEb,UAAI,KAAK,QAAQ,cAAc;AAC3B,aAAK,OAAO,KAAK;AAAA,UACb,EAAE,KAAK,OAAO,WAAW,OAAO,OAAO,WAAW,KAAK,QAAQ,MAAM,KAAK,OAAO;AAAA,UACjF,EAAE,KAAK,OAAO,WAAW,OAAO,OAAO,WAAW,KAAK,WAAW,MAAM,KAAK,OAAO;AAAA,WACrF,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC/B,eAAK,UAAU,WAAW,OAAO,WAAW,OAAO,SAAS,MAAM,OAAO,WAAW,KAAK;AACzF,eAAK,WAAW;AAAA;AAAA,aAEjB;AACH,aAAK,UAAU,YAAY,SAAS,MAAM,OAAO,WAAW,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,MAAM;AACtG,eAAK,UAAU,WAAW,SAAS,MAAM,OAAO,WAAW,KAAK;AAChE,eAAK,WAAW;AAAA;AAAA;AAAA;AAAA,IAK5B,WAAW,KAAK;AACZ,cAAQ;AACR,WAAK,UAAU;AACf,WAAK,QAAQ;AACb,WAAK,QAAQ,KAAK,UAAU,aAAa,UAAU,QAAQ;AAC3D,WAAK,MAAM;AACX,WAAK,MAAM,YAAY,KAAK,MAAM,MAAM,KAAK,aAAa;AAC1D,WAAK,MAAM,KAAK,SAAS,KAAK;AAE9B,WAAK,SAAS,KAAK,MAAM,cAAc;AACvC,WAAK,QAAQ,KAAK,MAAM,SAAS,UAAU;AAC3C,WAAK,MAAM,SAAS,cAAc,QAAQ,MAAM,KAAK;AACrD,UAAI,aAAa,KAAK,MAAM,cAAc;AAC1C,iBAAW,gBAAgB,IAAI,OAAO,IAAI;AAC1C,UAAI,UAAU,KAAK,MAAM,SAAS,WAAW;AAC7C,UAAI,WAAW,iBAAiB,GAAG;AAC/B,gBAAQ,OAAO,QAAQ,IAAI,UAAU;AAAA,aAClC;AACH,gBAAQ,OAAO,QAAQ,IAAI,UAAU;AAAA;AAQzC,UAAI,SAAS,KAAK,MAAM,SAAS,UAAU;AAC3C,aAAO,MAAM,IAAI;AAAA;AAAA,IAGrB,SAAS;AACL,UAAI,KAAK,SAAS;AACd,aAAK,UAAU;AACf,gBAAQ,WAAW;AACnB,YAAI,WAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AACjD,eAAK,MAAM;AACX,cAAI,KAAK,QAAQ,GAAG;AAChB,qBAAS,SAAS,KAAK;AAAA;AAAA;AAG/B,aAAK,OAAO,KAAK;AAAA;AAAA;AAAA;;;ACpE7B,wBAA8B;AAAA,WACnB,KAAK,IAAY;AACpB,aAAO,IAAI,QAAQ,QAAM;AACrB,mBAAW,IAAI;AAAA;AAAA;AAAA,WAIhB,UAAU,QAAgB,GAAG;AAChC,aAAO,IAAI,QAAc,QAAM;AAC3B,YAAI,WAAW;AACf,YAAI,OAAO,WAAY;AACnB,gCAAsB,MAAM;AACxB,gBAAI,EAAE,YAAY,OAAO;AACrB;AAAA,mBAEC;AACD;AAAA;AAAA;AAAA;AAIZ;AAAA;AAAA;AAAA,WAKD,WAAW,MAAM,OAAO,QAAQ,KAAc;AACjD,UAAI,OAAO,UAAS,WAAW;AAC3B,eAAO;AAAA;AAEX,gBAAS,UAAU,OAAO;AAC1B,iBAAW,MAAM;AACb,eAAO,UAAS,UAAU;AAAA,SAC3B;AACH,aAAO;AAAA;AAAA;AAjCf;AAwBmB,EAxBnB,SAwBmB,YAAiB;AAiC7B,wBAAgB;AAAA,WAIZ,MAAM,MAAc,YAAY,KAAK;AAExC,WAAK,YAAY,MAAM;AAAA;AAAA,WAGpB,MAAM,MAAc;AACvB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,yDAAiB;AAE/B,eAAO;AAAA;AAGX,cAAQ,IAAI,kCAAS;AACrB,WAAK,SAAS,MAAM,OAAO;AAE3B,aAAO;AAAA;AAAA,WAGJ,MAAM,MAAc;AAEvB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,yDAAiB;AAE/B,eAAO;AAAA;AAGX,cAAQ,IAAI,kCAAS;AACrB,WAAK,SAAS,MAAM,SAAS;AAAA;AAAA,WAG1B,OAAO,MAAc;AAExB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,0DAAkB;AAEhC,eAAO;AAAA;AAGX,cAAQ,IAAI,kCAAS;AACrB,WAAK,SAAS,MAAM,SAAS;AAAA;AAAA,WAI1B,KAAK,MAAc;AACtB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,YAAI,KAAK,SAAS,OAAO;AACrB,wBAAc,KAAK,SAAS,MAAM;AAAA;AAEtC,eAAO,KAAK,SAAS;AACrB,eAAO;AAAA;AAEX,cAAQ,IAAI,kCAAS;AAErB,aAAO;AAAA;AAAA,WAIJ,YAAY,MAAc,QAAwB;AACrD,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,+DAAuB;AAErC,eAAO;AAAA;AAEX,WAAK,SAAS,MAAM,UAAU,OAAO,OAAO;AAE5C,aAAO,WAAW,OAAO,YAAY;AACrC,aAAO,MAAM,OAAO,OAAQ,SAAS,OAAO,KAAK,KAAK,SAAS,MAAM,WAAW;AAChF,aAAO,OAAO,OAAO,QAAQ;AAG7B,aAAO,UAAU;AACjB,cAAQ,IAAI,8CAAW,MAAM,KAAK,UAAU;AAG5C,aAAO;AAAA;AAAA,WAGJ,YAAY,MAAc,WAAmB;AAChD,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,+DAAuB;AAErC,eAAO;AAAA;AAEX,cAAQ,IAAI,8CAAW,MAAM;AAC7B,UAAI,aAAa,KAAK,SAAS,MAAM,WAAW;AAC5C,eAAO,KAAK,SAAS,MAAM,UAAU;AAAA;AAEzC,aAAO;AAAA;AAAA,WAQJ,QAAQ,MAAc;AACzB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,2DAAmB;AAEjC,eAAO;AAAA;AAEX,aAAO,KAAK,SAAS,MAAM;AAAA;AAAA,WAEhB,YAAY,MAAc,WAAmB;AAExD,UAAI,QAAQ,KAAK,UAAU;AACvB,sBAAc,KAAK,SAAS,MAAM;AAAA;AAGtC,UAAI,SAAoB,EAAE,IAAI,GAAG,MAAM,GAAG,UAAU,WAAW,WAAW,IAAI,QAAQ;AAEtF,aAAO,KAAK,YAAY,MAAM;AAE1B,YAAI,CAAC,OAAO,QAAQ;AAChB;AAAA;AAGJ,eAAO,OAAO,OAAQ,QAAO,OAAO,OAAO,UAAU,QAAQ;AAG7D,mBAAW,OAAO,OAAO,WAAW;AAChC,cAAI,KAAK,OAAO,UAAU;AAE1B,cAAI,GAAG,QAAQ,QAAQ;AACnB,gBAAI,OAAO,QAAQ,GAAG,UAAU;AAC5B,iBAAG;AACH,iBAAG,YAAY,GAAG,SAAS,MAAM,GAAG,KAAK,GAAG;AAC5C,qBAAO,OAAO,UAAU;AAAA;AAAA,qBAGvB,GAAG,QAAQ,YAAY;AAC5B,gBAAM,QAAO,OAAO,MAAQ,KAAO,IAAG,WAAW,MAAQ,MAAM,GAAG;AAC9D,iBAAG;AACH,iBAAG,YAAY,GAAG,SAAS,MAAM,GAAG,KAAK,GAAG;AAAA;AAAA;AAAA;AAAA,SAMzD,YAAY;AACf,WAAK,SAAS,QAAQ;AACtB,cAAQ,IAAI,kCAAS;AAAA;AAAA;AA/IV,EAFZ,UAEY,WAAyC;;;AC5D5D,0CAAiD,KAAK,WAAW;AAAA,WAYlD,iBAAqC;AAClD,aAA6B,KAAK,UAAU,aAAa,oBAAoB;AAAA;AAAA,IAGpE,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,UAA4B,KAAK,WAAW;AACjD,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,cAAgC,KAAK,WAAW;AACrD,WAAK,iBAAmC,KAAK,WAAW;AACxD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAdxB,EAVf,oBAUe,MAAa;;;ACLrB,yBAAiB;AAAA,WAEN,aAAa,KAAK,QAAQ;AACpC,UAAI,SAAS;AACb,UAAI,UAAU;AACd,UAAI,SAAS,IAAI,OAAO;AACxB,UAAI,SAAS,IAAI,OAAO;AACxB,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACjC,YAAI,IAAI,QAAQ;AACZ,cAAK,OAAO,KAAK,YAAY,CAAC,OAAO,KAAK,IAAI,OAAS,CAAC,OAAO,KAAK,YAAY,OAAO,KAAK,IAAI,KAAM;AAClG,sBAAU,MAAM,IAAI;AAAA,iBAEnB;AACD,sBAAU,IAAI;AAAA;AAElB,oBAAU,IAAI;AAAA,mBAET,KAAK,QAAQ;AAClB,oBAAU;AAAA,eAET;AACD;AAAA;AAAA;AAGR,aAAO;AAAA;AAAA,WAKG,oBAAoB,eAA+B;AAE7D,UAAI,MAAc;AAElB,UAAI,gBAAgB,GAAG;AAEnB,cAAM;AAAA,iBAEC,iBAAiB,KAAK,gBAAgB,IAAI;AAEjD,YAAI,YAAoB,gBAAgB,KAAK,MAAM,gBAAgB,cAAc;AACjF,cAAM,aAAQ,YAAY;AAAA,aAEvB;AAEH,YAAI,cAAsB,KAAK,MAAM,gBAAgB;AACrD,YAAI,gBAAwB,KAAK,MAAM,gBAAgB;AACvD,YAAI,cAAsB,gBAAgB;AAC1C,YAAI,cAAsB,KAAK,MAAM,gBAAgB;AAErD,YAAI,cAAc,IAClB;AACI,cAAI,eAAe,GAAG;AAElB,kBAAO,eAAc,KAAK,MAAM,cAAc,eAAe,WAAO,eAAc,KAAK,MAAM,cAAc,eAAe,WAAO,eAAc,KAAK,MAAM,cAAc,eAAe;AAAA,iBAEpL;AAEH,kBAAO,eAAc,KAAK,MAAM,cAAc,eAAe,WAAO,eAAc,KAAK,MAAM,cAAc,eAAe;AAAA;AAAA,mBAGvH,eAAe,MAAM,eAAe,KAAK,eAAe,GAAG;AAElE,gBAAM;AAAA,eAEH;AAEH,cAAI,aAAqB,KAAK,MAAM,cAAc;AAClD,cAAI,YAAoB,cAAc;AACtC,gBAAM,aAAa,WAAO,aAAY,KAAK,MAAM,YAAY,aAAa,WAAO,eAAc,KAAK,MAAM,cAAc,eAAe,WAAO,eAAc,KAAK,MAAM,cAAc,eAAe;AAAA;AAAA;AAI5M,aAAO;AAAA;AAAA,WAOG,kBAAkB,WAAmB;AAE/C,UAAI,OAAO,IAAI,KAAK;AACpB,UAAI,OAAO,KAAK;AAChB,UAAI,QAAQ,KAAK,aAAa;AAC9B,UAAI,MAAM,KAAK;AACf,UAAI,QAAQ,KAAK;AACjB,UAAI,SAAS,KAAK;AAClB,UAAI,SAAS,KAAK;AAElB,UAAI,SAAS,OAAO;AACpB,gBAAY,SAAQ,KAAM,MAAM,QAAQ,SAAS;AACjD,gBAAY,OAAM,KAAM,MAAM,MAAM,OAAO;AAC3C,gBAAY,SAAQ,KAAM,MAAM,QAAQ,SAAS;AACjD,gBAAY,UAAS,KAAM,MAAM,SAAS,UAAU;AACpD,gBAAY,UAAS,KAAM,MAAM,SAAS,UAAU;AAEpD,aAAO;AAAA;AAAA,WAKJ,QAAQ,QAAgB,SAAiB,QAAQ;AAEpD,UAAI,KAAK,SAAS;AAClB,UAAI,IAAI;AACJ,kBAAU,MAAO;AAAA;AAGrB,UAAI,iBAKA;AAAA,QACA,MAAM,EAAE,KAAK;AAAA,QACb,MAAM,EAAE,KAAK;AAAA,QACb,MAAM,EAAE,KAAK;AAAA,QACb,MAAM,EAAE,KAAK;AAAA;AAGjB,eAAS,OAAO,gBAAgB;AAC5B,YAAI,YAAY;AAChB,iBAAS,OAAO,QAAQ,IAAI,OAAO,KAAK,MAAM,SAAO;AACjD,cAAI,CAAC,WAAW;AACZ,gBAAI,UAAU,eAAe;AAC7B,gBAAI,SAAS,SAAS,QAAQ,MAAM;AACpC,gBAAI,YAAY,SAAS;AACzB,sBAAU,SAAS,QAAQ;AAC3B,wBAAY,IAAI,OAAO,KAAK,IAAI,IAAI,SAAS,UAAU,QAAQ,MAAM;AAAA;AAEzE,iBAAO;AAAA;AAAA;AAIf,aAAO;AAAA;AAAA,WASJ,WAAW,OAAe,KAAU,KAAU,WAAoB;AACrE,UAAI,SAAS,OAAO;AACpB,UAAI,SAAS,OAAO;AACpB,UAAI,UAAU,QAAQ;AAClB,gBAAQ,MAAM;AACd,gBAAQ,MAAM,+EAAmB;AACjC,gBAAQ,MAAM,yCAAW;AACzB,gBAAQ,MAAM,yCAAW;AACzB,YAAI,WAAW;AACX,kBAAQ,MAAM,6BAAS;AAAA;AAE3B,gBAAQ,MAAM;AAAA;AAGlB,UAAI,UAAU,UAAU;AACpB,YAAI,aAAa,MAAM,QAAQ;AAC/B,YAAI,aAAa,MAAM,QAAQ;AAC/B,YAAI,cAAc,YAAY;AAC1B,kBAAQ,MAAM;AACd,kBAAQ,MAAM,+EAAmB;AACjC,kBAAQ,MAAM,2DAAc;AAC5B,kBAAQ,MAAM,2DAAc;AAC5B,cAAI,WAAW;AACX,oBAAQ,MAAM,6BAAS;AAAA;AAE3B,kBAAQ,MAAM;AACd;AAAA;AAGJ,mBAAW,OAAO,KAAK;AAEnB,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM;AACjD,gBAAI,CAAC,YAAY;AACb,sBAAQ,MAAM;AACd,sBAAQ,MAAM,iDAAc;AAC5B,sBAAQ,MAAM,2DAAc;AAC5B,kBAAI,WAAW;AACX,wBAAQ,MAAM,6BAAS;AAAA;AAE3B,sBAAQ,MAAM;AAAA;AAAA,iBAGjB;AACD,iBAAK,WAAW,QAAQ,MAAM,KAAK,IAAI,MAAM,IAAI;AAAA;AAErD,cAAI,YAAY;AACZ,oBAAQ,IAAI;AACZ;AAAA;AAAA;AAAA;AAAA;AAAA,WAUT,eAAe,IAAS;AAC3B,UAAI,OAAO,MAAM,UAAU;AACvB,eAAO;AAAA,iBACA,OAAO,MAAM,UAAU;AAC9B,eAAO,OAAO;AAAA;AAElB,cAAQ,MAAM,gDAAuB;AACrC,aAAO;AAAA;AAAA,WAIJ,kBAAkB,OAAwB,KAAa;AAC1D,YAAM,OAAO,KAAK;AAClB,UAAI,OAAO,MAAM;AACjB,WAAK,WAAW;AAChB,UAAI,MAAM,QAAQ,KAAK,WAAW;AAC9B,aAAK,WAAW,KAAK,MAAO,MAAM,QAAQ,KAAK,YAAa,MAAM;AAAA;AAAA;AAAA,WAKnE,aAAa,MAAc;AAC9B,UAAI,WAAW;AACf,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,OAAO,GAAG,eAAe,EAAE,KAAK;AAGpC,YAAI,QAAQ,KAAK,SAAS;AACtB,qBAAW,KAAK;AAAA;AAAA,aAEjB;AACH,YAAI,OAAO,KAAK,aAAa,QAAQ;AAErC,YAAI,MAAM;AACN,qBAAW,KAAK,MAAM;AAAA;AAAA;AAG9B,aAAO;AAAA;AAAA,WAGJ,aAAa,MAAc,OAAY;AAC1C,UAAI,KAAK,QAAQ,cAAc;AAC3B,WAAG,WAAW;AAAA,UACV,KAAK;AAAA,UACL,MAAM;AAAA,UACN,SAAS,MAAM;AACX,oBAAQ,IAAI,MAAM;AAAA;AAAA;AAAA,aAGvB;AACH,aAAK,aAAa,QAAQ,MAAM,KAAK,UAAU;AAAA;AAAA;AAAA,WAKhD,YAAY,OAAY,cAAyB;AACpD,YAAM,SAAS,KAAK;AACpB,WAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,MAAM,QAAQ,QAAS,KAAK,KAAK,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,MAAM;AAE1G,aAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,MAAM;AACnG,0BAAgB;AAAA;AAAA;AAAA;AAAA,WAMrB,aAAa,OAAY,cAAyB;AACrD,WAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,KAAK,QAAQ,OAAQ,KAAK,KAAK,KAAK,WAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC1G,aAAK,MAAM,GAAG,OAAO,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,UAAU,KAAK,QAAQ,OAAO,MAAM,MAAM;AACpG,0BAAgB;AAAA;AAAA;AAAA;AAAA;AAMzB,0BAAkB;AAAA,WAGd,aAAa,MAAM;AAEtB,UAAI,OAAO;AACX,UAAI,KAAK,QAAQ,cAAc;AAa3B,YAAI,gBAAgB,GAAG;AACvB,sBAAc,WAAW;AACzB,sBAAc,OAAO;AACrB,sBAAc,MAAM;AACpB,aAAK,iBAAiB,QAAQ;AAE9B,sBAAc,SAAS,CAAC,QAAQ;AAC5B,kBAAQ,IAAI,YAAY;AAAA;AAE5B,sBAAc,UAAU,CAAC,QAAQ;AAC7B,kBAAQ,IAAI,aAAa;AAAA;AAE7B,sBAAc,SAAS,CAAC,QAAQ;AAC5B,kBAAQ,IAAI,YAAY;AAAA;AAE5B,sBAAc,UAAU,CAAC,QAAQ;AAC7B,kBAAQ,IAAI,aAAa;AAAA;AAE7B,sBAAc,OAAO,CAAC,QAAQ;AAC1B,kBAAQ,IAAI,4BAAQ;AACpB,wBAAc,eAAe;AAAA;AAEjC,sBAAc,QAAQ,CAAC,QAAQ;AAC3B,kBAAQ,MAAM,4BAAQ,MAAM;AAC5B,wBAAc;AACd,cAAI,KAAK,iBAAiB,OAAO;AAC7B,mBAAO,KAAK,iBAAiB;AAAA;AAAA;AAGrC,sBAAc,OAAO,CAAC,QAAQ;AAC1B,kBAAQ,IAAI,iBAAiB;AAC7B,wBAAc,eAAe;AAAA;AAEjC,sBAAc,aAAa,CAAC,QAAQ;AAChC,kBAAQ,IAAI,uBAAuB;AAAA;AAGvC,sBAAc,QAAQ,CAAC,QAAQ;AAC3B,kBAAQ,IAAI,kBAAkB;AAC9B,wBAAc,eAAe;AAC7B,wBAAc;AAAA;AASlB,gBAAQ,IAAI,8CAAW;AACvB,eAAO,KAAK,iBAAiB;AAAA,aAE5B;AACD,aAAK,OAAO,KAAK,MAAM,KAAK,QAAQ,OAAO,MAAM,MAAM;AAAA,YAEnD,MAAM,KAAK,OAAO;AAAA;AAE1B,aAAO;AAAA;AAAA,WAaJ,WAAW,MAAc;AAM5B,UAAI,OAAO;AAUX,UAAI,KAAK,QAAQ,cAAc;AAE3B,YAAI,CAAC,KAAK,iBAAiB,OAAO;AAC9B,eAAK,aAAa;AAAA;AAEtB,YAAI,KAAK,iBAAiB,MAAM,cAAc;AAC1C,eAAK,iBAAiB,MAAM;AAAA;AAGhC,aAAK,iBAAiB,MAAM;AAAA,aAiB3B;AACD,aAAK,aAAa,UAAU,MAAM;AAAA;AAAA;AAAA,WASnC,qBAAqB,OAAe;AACvC,WAAK,qBAAqB;AAC1B,WAAK,aAAa;AAAA;AAAA,WAMf,oBAAoB;AACvB,UAAI,KAAK,sBAAsB,IAAI;AAC/B,gBAAQ,MAAM;AACd;AAAA;AAEJ,WAAK,WAAW,KAAK;AAAA;AAAA;AAxJV,EAFZ,YAEY,mBAAmB;AAyInB,EA3IZ,YA2IY,qBAAqB;AAqCjC,0BAAkB;AAAA,WAId,MAAM,MAAc,YAAY,KAAK;AAExC,WAAK,YAAY,MAAM;AAAA;AAAA,WAGpB,MAAM,MAAc;AACvB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,yDAAiB;AAE/B,eAAO;AAAA;AAGX,cAAQ,IAAI,kCAAS;AACrB,WAAK,SAAS,MAAM,OAAO;AAE3B,aAAO;AAAA;AAAA,WAGJ,MAAM,MAAc;AAEvB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,yDAAiB;AAE/B,eAAO;AAAA;AAGX,cAAQ,IAAI,kCAAS;AACrB,WAAK,SAAS,MAAM,SAAS;AAAA;AAAA,WAG1B,OAAO,MAAc;AAExB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,0DAAkB;AAEhC,eAAO;AAAA;AAGX,cAAQ,IAAI,kCAAS;AACrB,WAAK,SAAS,MAAM,SAAS;AAAA;AAAA,WAI1B,KAAK,MAAc;AACtB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,YAAI,KAAK,SAAS,OAAO;AACrB,wBAAc,KAAK,SAAS,MAAM;AAAA;AAEtC,eAAO,KAAK,SAAS;AACrB,eAAO;AAAA;AAEX,cAAQ,IAAI,kCAAS;AAErB,aAAO;AAAA;AAAA,WAIJ,YAAY,MAAc,QAAwB;AACrD,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,+DAAuB;AAErC,eAAO;AAAA;AAEX,WAAK,SAAS,MAAM,UAAU,OAAO,OAAO;AAE5C,aAAO,WAAW,OAAO,YAAY;AACrC,aAAO,MAAM,OAAO,OAAQ,SAAS,OAAO,KAAK,KAAK,SAAS,MAAM,WAAW;AAChF,aAAO,OAAO,OAAO,QAAQ;AAG7B,aAAO,UAAU;AACjB,cAAQ,IAAI,8CAAW,MAAM,KAAK,UAAU;AAG5C,aAAO;AAAA;AAAA,WAGJ,YAAY,MAAc,WAAmB;AAChD,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,+DAAuB;AAErC,eAAO;AAAA;AAEX,cAAQ,IAAI,8CAAW,MAAM;AAC7B,UAAI,aAAa,KAAK,SAAS,MAAM,WAAW;AAC5C,eAAO,KAAK,SAAS,MAAM,UAAU;AAAA;AAEzC,aAAO;AAAA;AAAA,WAQJ,QAAQ,MAAc;AACzB,UAAI,CAAE,SAAQ,KAAK,WAAW;AAC1B,gBAAQ,MAAM,2DAAmB;AAEjC,eAAO;AAAA;AAEX,aAAO,KAAK,SAAS,MAAM;AAAA;AAAA,WAEhB,YAAY,MAAc,WAAmB;AAExD,UAAI,QAAQ,KAAK,UAAU;AACvB,sBAAc,KAAK,SAAS,MAAM;AAAA;AAGtC,UAAI,SAAoB,EAAE,IAAI,GAAG,MAAM,GAAG,UAAU,WAAW,WAAW,IAAI,QAAQ;AAEtF,aAAO,KAAK,YAAY,MAAM;AAE1B,YAAI,CAAC,OAAO,QAAQ;AAChB;AAAA;AAGJ,eAAO,OAAO,OAAQ,QAAO,OAAO,OAAO,UAAU,QAAQ;AAG7D,mBAAW,OAAO,OAAO,WAAW;AAChC,cAAI,KAAK,OAAO,UAAU;AAE1B,cAAI,GAAG,QAAQ,QAAQ;AACnB,gBAAI,OAAO,QAAQ,GAAG,UAAU;AAC5B,iBAAG;AACH,iBAAG,YAAY,GAAG,SAAS,MAAM,GAAG,KAAK,GAAG;AAC5C,qBAAO,OAAO,UAAU;AAAA;AAAA,qBAGvB,GAAG,QAAQ,YAAY;AAC5B,gBAAM,QAAO,OAAO,MAAQ,KAAO,IAAG,WAAW,MAAQ,MAAM,GAAG;AAC9D,iBAAG;AACH,iBAAG,YAAY,GAAG,SAAS,MAAM,GAAG,KAAK,GAAG;AAAA;AAAA;AAAA;AAAA,SAMzD,YAAY;AACf,WAAK,SAAS,QAAQ;AACtB,cAAQ,IAAI,kCAAS;AAAA;AAAA;AA/IV,EAFZ,YAEY,WAAyC;;;AC1c5D,8BAAqC,KAAK,WAAW;AAAA,WAKtC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,cAAc;AAAA;AAAA,IAGlD,cAAmB;AAC5B,WAAK,aAA4B,KAAK,WAAW;AAAA;AAAA;AAPpC,EAHf,QAGe,MAAa;;;ACI5B,uCAA8C,QAAQ;AAAA,IAM3C,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAuBP,iBAAuB;AAEtB,YAAM;AAkBN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAC7B,aAAK,MAAM,KAAK,KAAK,MAAM,MAAM;AAChC,wBAAc,SAAS,UAAU,cAAc,eAAe;AAAA,YAC7D,IAAI;AAAA,YAAG,IAAI;AAAA,YAAG,cAAc;AAAA,cAC3B,WAAW;AAAA,cACX,SAAS;AAAA;AAAA,YAEP,SAAS;AAAA;AAAA;AAAA;AAMf,WAAK,WAAW,QAAQ,MAAM,MAAM;AACnC,aAAK,YAAY;AAAA;AAAA;AAAA;;;AC5EpB,qCAA4C,KAAK,WAAW;AAAA,WAQ7C,iBAAgC;AAC7C,aAAwB,KAAK,UAAU,aAAa,cAAc;AAAA;AAAA,IAGzD,cAAmB;AAC5B,WAAK,OAAqB,KAAK,WAAW;AAC1C,WAAK,gBAAkC,KAAK,WAAW;AACvD,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,iBAAgC,KAAK,WAAW;AAAA;AAAA;AAVxC,EANf,eAMe,MAAa;;;ACG5B,oCAA2C,eAAe;AAAA,IAA1D,cAXA;AAWA;AAGC,oBAA0B;AAAA;AAAA,IAMhB,cAAoB;AAE7B,YAAM;AAEN,WAAK;AAAA;AAAA,IAMN,iBAAuB;AAOtB,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK,QAAQ,KAAK,YAAY;AAAA;AAAA;AAAA,IAMhC,QAAQ,OAAwB;AAC/B,UAAI,CAAC,SAAS,CAAC,MAAM,SAAS;AAC7B;AAAA;AAED,WAAK,SAAS;AACd,UAAI,CAAC,KAAK,OAAO,WAAW;AAC3B,aAAK,OAAO,YAAY;AAAA;AAEzB,UAAI,CAAC,KAAK,OAAO,MAAM;AACtB,aAAK,OAAO,OAAO;AAAA;AAEpB,WAAK,cAAc,OAAO,SAAS,KAAK,MAAM,SAAS;AAAA;AAAA,IAGxD,YAAY;AACX,YAAM,UAAU;AAChB,eAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC3B,YAAI,UAAU,IAAK,KAAK,WAAW,MAAQ;AAC3C,YAAI,OAAO,UAAW,OAAM,GAAG,KAAK,OAAO,SAAS,MAAM,MAAM;AAChE,gBAAQ,IAAI,QAAQ;AAEpB,YAAI,KAAK,GAAG;AACX,eAAK,eAAe,MAAM;AAAA,eAEtB;AACJ,eAAK,eAAe,MAAM;AAAA;AAAA;AAAA;AAAA,IAItB,SAAe;AACrB,cAAQ,IAAI;AACZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAGpB,UAAI,UAAU,KAAK,MAAM,QAAQ,KAAK,QAAQ,KAAK;AACnD,UAAI,QAAQ,KAAK,MAAM,QAAQ,KAAK,QAAS,KAAI,KAAK;AACtD,WAAK,IAAI;AACT,WAAK,IAAI,KAAK,OAAO;AACrB,WAAK,MAAM,GAAG,MAAM,EAAE,GAAG,SAAS,KAAK,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AACjF,aAAK,MAAM,KAAK,KAAK,OAAO,WAAW,MAAM,MAAM;AAClD,eAAK,MAAM,GAAG,MAAM,EAAE,GAAG,WAAW,KAAK,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAGnF,iBAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,IAMd,SAAe;AAErB,cAAQ,IAAI;AAEZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAEpB,WAAK;AAAA;AAAA;;;ACxGP,+BAAsC;AAAA,WACvB,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,iBAAiB,KAAK;AACxD,WAAK,gBAAgB,aAAa,cAAc,KAAK;AAAA;AAAA;;;ACNvD,mCAA0C,KAAK,WAAW;AAAA,WAa3C,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,WAAW;AAAA;AAAA,IAGpD,cAAmB;AAC5B,WAAK,mBAAmB,KAAK,gBAAgB;AAC7C,WAAK,aAAa,KAAK,gBAAgB;AACvC,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,cAA6B,KAAK,WAAW;AAClD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,iBAAmC,KAAK,WAAW;AACxD,WAAK,eAAiC,KAAK,WAAW;AAAA;AAAA;AAfzC,EAXf,aAWe,MAAa;;;ACX5B,mCAA0C,KAAK,WAAW;AAAA,WAK3C,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,WAAW;AAAA;AAAA,IAGpD,cAAmB;AAC5B,WAAK,UAA4B,KAAK,WAAW;AAAA;AAAA;AAPpC,EAHf,aAGe,MAAa;;;ACH5B,+BAAsC,KAAK,WAAW;AAAA,WAWvC,iBAA0B;AACvC,aAAkB,KAAK,UAAU,aAAa,WAAW;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,eAAiC,KAAK,WAAW;AACtD,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAbxB,EATf,SASe,MAAa;;;ACL5B,qCAA4C,SAAS;AAAA,IAArD,cANA;AAMA;AAMS,2BAAgB;AAEhB,uBAAY;AAAA;AAAA,IAGV,cAAoB;AAE7B,YAAM;AAEN,WAAK,QAAQ,QAAQ,MAAM,KAAK;AAChC,WAAK,QAAQ,QAAQ,MAAM,KAAK;AAAA;AAAA,IAMjC,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAG7B,aAAK,gBAAgB,KAAK,YAAY;AAEtC,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAAA;AAAA;AAAA,IAItC,aAAa;AAGpB,WAAK,YAAY;AAEjB,UAAI,CAAC,CAAC,KAAK,cAAc,UAAU;AAClC,aAAK,cAAc,SAAS;AAAA;AAAA;AAAA,IAItB,aAAa;AACpB,WAAK,YAAY;AAEjB,UAAI,CAAC,CAAC,KAAK,cAAc,UAAU;AAClC,aAAK,cAAc,SAAS;AAAA;AAAA;AAAA,IAMvB,SAAe;AAErB,cAAQ,IAAI;AAEZ,UAAI,KAAK,YAAY,aAAa;AAAO;AAEzC,UAAI,KAAK,aAAa;AAAM;AAE5B,WAAK,YAAY;AAAA;AAAA,IAGX,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA;;;AC9Ed,+BAAqC,KAAK,WAAW;AAAA,WAiBtC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,WAAW;AAAA;AAAA,IAG/C,cAAmB;AAC5B,WAAK,aAAa,KAAK,gBAAgB;AACvC,WAAK,oBAAoB,KAAK,gBAAgB;AAC9C,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA6B,KAAK,WAAW;AAClD,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,QAAsB,KAAK,WAAW;AAC3C,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,aAA0B,KAAK,WAAW;AAC/C,WAAK,aAA0B,KAAK,WAAW;AAC/C,WAAK,SAAuB,KAAK,WAAW;AAC5C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAnBxB,EAff,SAee,MAAa;;;ACMrB,MAAK;AAAL,YAAK,oBAAL;AAEG,mCAAS;AAET,mCAAS;AAEP,yCAAe;AAEf,wCAAc;AAAA,KARd;AAUZ,mCAA0B;AAAA,IAA1B,cAjCA;AAqCS,uBAAY;AAIZ,sBAAW;AAMX,wBAA6B;AAAA;AAAA,QARjC,WAAW;AAAE,aAAO,KAAK;AAAA;AAAA,QAIzB,UAAU;AAAE,aAAO,KAAK;AAAA;AAAA,WASrB,WAAW;AACjB,UAAI,CAAC,KAAK,YAAY;AACrB,aAAK,aAAa,IAAI;AAAA;AAEvB,aAAO,KAAK;AAAA;AAAA,IAWb,KAAK,SAA0B;AAC9B,UAAI,CAAC,KAAK,QAAQ;AAAc,eAAO;AACvC,iBAAW,KAAK,UAAU;AAC1B,WAAK;AAEL,aAAO;AAAA;AAAA,IAMR,UAAU,SAA0B;AACnC,UAAI,SAAS;AACZ,mBAAW,OAAO,SAAS;AAC1B,eAAK,WAAW,OAAO,QAAQ;AAC/B,cAAI,OAAO,UAAU;AACpB,iBAAK,WAAW,OAAO,KAAK,KAAK,WAAW;AAAA,qBAEpC,OAAO,eAAe;AAC9B,gBAAI,OAAO,KAAK,WAAW,QAAQ,UAAU;AAC5C,mBAAK,WAAW,OAAO,OAAO,KAAK,WAAW;AAAA;AAAA;AAAA;AAKjD,gBAAQ,IAAI,aAAa,KAAK,UAAU,KAAK;AAAA;AAAA;AAAA,IAIvC,iBAAiB,UAAmB;AAC3C,UAAI,KAAK,YAAY,UAAU;AAC9B;AAAA;AAGD,WAAK,WAAW;AAEhB,iBAAW,MAAM;AAChB,aAAK,MAAM,MAAM,kBAAkB;AAAA,SACjC;AAAA;AAAA,IAGI,kBAAkB,WAAoB;AAC7C,UAAI,KAAK,aAAa,WAAW;AAChC;AAAA;AAED,WAAK,YAAY;AAEjB,iBAAW,MAAM;AAChB,aAAK,MAAM,MAAM,kBAAkB;AAAA,SACjC;AAAA;AAAA,IASJ,WAAW;AACV,UAAI,MAAM;AACV,UAAI,UAAU,YAAY,KAAK;AAC/B,UAAI,UAAU,YAAY,KAAK;AAAA;AAAA,IAKxB,SAAS;AAChB,cAAQ,IAAI;AAEZ,WAAK,MAAM,MAAM,kBAAkB;AAAA;AAAA,IAI5B,SAAS;AAChB,cAAQ,IAAI;AAEZ,WAAK,MAAM,MAAM,kBAAkB;AAAA;AAAA,IAOpC,oBAAoB;AACnB,UAAI,CAAC,KAAK,QAAQ;AACjB,eAAO;AAER,aAAO;AAAA;AAAA,IAMD,WAAW,SAAiB,SAAkB;AAEpD,UAAI,CAAC,KAAK,QAAQ;AAAc,eAAO;AAEvC,UAAI,CAAC,WAAW,WAAW,QAAW;AAErC,YAAI,GAAG;AAAU,iBAAO;AAAA,aAElB;AAEN,YAAI,GAAG,SAAS;AAAU,iBAAO;AAAA;AAGlC,cAAQ,IAAI,yDAAiB;AAE7B,aAAO;AAAA;AAAA,IAKD,oBAAoB;AAE1B,UAAI,CAAC,KAAK,WAAW;AAAc,eAAO;AAE1C,aAAO,GAAG;AAAA;AAAA,IAKX,YAAY,SAAiE,MAAiB;AAE7F,UAAI,KAAK,cAAc;AACtB,YAAI,CAAC,CAAC;AAAS,kBAAQ,KAAK;AAE5B;AAAA;AAGD,UAAI,CAAC,KAAK,WAAW,cAAc;AAClC,YAAI,CAAC,CAAC;AAAS,kBAAQ,EAAE,UAAU,gBAAM,QAAQ;AACjD;AAAA;AACA;AAED,UAAI,OAAO;AAEX,SAAG,UAAU;AAAA,QACZ,QAAQ;AAAA,QAER,SAAS,CAAC,QAAQ;AAEjB,kBAAQ,IAAI,mBAAmB;AAE/B,aAAG,gBAAgB;AAAA,YAElB,SAAS,CAAC,aAAa;AAEtB,mBAAK,eAAe;AAEpB,kBAAI,SAAS;AAEZ,wBAAQ;AAAA;AAAA;AAAA,YAGP,MAAM,MAAM;AAEd,sBAAQ,IAAI;AAEZ,kBAAI,CAAC,KAAK,WAAW;AAAkB;AAEvC,iBAAG;AAAA;AAAA;AAAA;AAAA,QAIN,MAAM,CAAC,WAAW;AAEjB,cAAI,CAAC,CAAC;AAAM,iBAAK;AAAA;AAAA;AAAA;AAAA,IASpB,SAAS,SAAkB;AAC1B,UAAI,CAAC,KAAK,WAAW;AAAgB;AACrC,UAAI,cAAc,WAAW,SAAY,0BAAW;AACpD,SAAG,YAAY;AAAA,QACd,SAAS;AAAA,QACT,OAAO;AAAA;AAER,iBAAW,MAAM;AAChB,aAAK;AAAA,SACH;AAAA;AAAA,IAEJ,WAAW;AACV,UAAI,CAAC,KAAK,WAAW;AAAgB;AACrC,SAAG;AAAA;AAAA,IAMJ,UAAU,SAAkB;AAC3B,UAAI,CAAC,KAAK,WAAW;AAAc;AACnC,UAAI,CAAC,WAAW,WAAW;AAAW;AACtC,SAAG,UAAU;AAAA,QACZ,MAAM;AAAA,QACN;AAAA,QACA,UAAU;AAAA,QACV,SAAS,MAAM;AAAA;AAAA;AAAA;AAAA,IAajB,QAAQ,OAAe,SAAiB,WAAW,gBAAM,aAAa,gBAAM;AAC3E,UAAI,CAAC,KAAK,WAAW;AAAY;AACjC,SAAG,QAAQ;AAAA,QACV;AAAA,QACA;AAAA,QACA,mBAAmB;AAAA,QACnB,kBAAkB;AAAA,QAClB,SAAS,CAAC,WAAW;AACpB,kBAAQ,IAAI,YAAY;AAAA;AAAA;AAAA;AAAA,IAY3B,qBAAqB,cAA4C;AAChE,UAAI,CAAC,KAAK,WAAW,wBAAwB;AAAO;AACpD,UAAI,CAAC,KAAK,WAAW,QAAQ;AAC5B,gBAAQ,MAAM;AACd,YAAI,cAAc;AACjB,uBAAa;AAAA;AAEd;AAAA;AAGD,UAAI,SAAS,KAAK,WAAW;AAE7B,SAAG,GAAG,qBAAqB;AAAA,QAC1B,SAAS;AAAA,QACT,WAAW;AAAA,UACV,QAAQ,KAAK;AAAA,UACb,gBAAgB;AAAA,UAChB,aAAa;AAAA;AAAA,QAEd,SAAS,CAAC,QAAQ;AACjB,kBAAQ,IAAI;AACZ,cAAI,cAAc;AACjB,yBAAa;AAAA;AAAA;AAAA,QAGf,MAAM,CAAC,QAAQ;AAEd,kBAAQ,IAAI,0CAAY;AACxB,cAAI,cAAc;AACjB,yBAAa;AAAA;AAAA;AAAA;AAAA;AAAA,IASjB,aAAa,SAAiB,UAA0C;AACvE,UAAI,CAAC,KAAK,WAAW,gBAAgB;AAAO;AAC5C,UAAI,OAAO,WAAW,UAAU;AAC/B,gBAAQ,MAAM;AACd,kBAAU,OAAO;AAAA;AAElB,UAAI,OAAO;AACX,SAAG,GAAG,aAAa;AAAA,QAClB,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AACjB,eAAK,UAAU;AACf,cAAI,UAAU;AACb,qBAAS,MAAM;AAAA;AAAA;AAAA,QAGjB,MAAM,CAAC,QAAQ;AACd,cAAI,IAAI,SAAS;AAChB,iBAAK,UAAU,IAAI;AAAA;AAEpB,kBAAQ,MAAM,4BAAQ;AAEtB,cAAI,UAAU;AACb,qBAAS;AAAA;AAAA;AAAA,QAGX,UAAU,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IAQrB,eAAe,SAAiB;AAC/B,UAAI,CAAC,KAAK,WAAW,kBAAkB;AAAO;AAC9C,UAAI,OAAO,WAAW,UAAU;AAC/B,gBAAQ,MAAM;AACd,kBAAU,OAAO;AAAA;AAElB,UAAI,OAAO;AACX,SAAG,GAAG,eAAe;AAAA,QACpB,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AACjB,eAAK,UAAU;AAAA;AAAA,QAEhB,MAAM,CAAC,QAAQ;AAAA;AAAA,QAGf,UAAU,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IAMrB,0BAA0B,SAAiB,MAAsC;AAChF,UAAI,CAAC,KAAK,WAAW,6BAA6B,OAAO;AACxD,gBAAQ,KAAK;AACb;AAAA;AAED,UAAI,OAAO,WAAW,UAAU;AAC/B,gBAAQ,MAAM;AACd,kBAAU,OAAO;AAAA;AAGlB,SAAG,GAAG,0BAA0B;AAAA,QAC/B,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AACjB,kBAAQ,IAAI,+CAAiB;AAC7B,cAAI,MAAM;AACT,iBAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,IAWb,uBAAuB,UAA2D;AACjF,UAAI,CAAC,KAAK,WAAW,0BAA0B;AAAO;AAEtD,UAAI,CAAC,KAAK,WAAW,aAAa;AACjC,gBAAQ,MAAM;AACd,YAAI,UAAU;AACb,mBAAS,OAAO;AAAA;AAEjB;AAAA;AAGD,UAAI,WAAW,WAAW,eAAe,KAAK,WAAW;AACzD,UAAI,OAAO;AACX,SAAG,GAAG,uBAAuB;AAAA,QAC5B,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AAOjB,kBAAQ,IAAI,kCAAS;AAErB,eAAK,iBAAiB,IAAI;AAC1B,cAAI,UAAU;AAGb,qBAAS,MAAM,KAAK;AAAA;AAAA;AAAA,QAGtB,MAAM,CAAC,QAAQ;AACd,kBAAQ,IAAI,kCAAS,UAAU,KAAK;AACpC,sBAAY,SAAS,OAAO,KAAK;AAAA;AAAA;AAAA;AAAA,IAQpC,UAAU,cAA4C,OAAO,GAAG;AAC/D,UAAI,CAAC,KAAK,WAAW,aAAa;AAAO;AACzC,UAAI,CAAC,KAAK,WAAW,aAAa;AACjC,gBAAQ,MAAM;AACd,YAAI,cAAc;AACjB,uBAAa,KAAK;AAAA;AAEnB;AAAA;AAGD,UAAI,KAAK,SAAS;AACjB,YAAI,cAAc;AACjB,uBAAa,KAAK;AAAA;AAEnB;AAAA;AAED,UAAI,WAAW,KAAK,WAAW;AAC/B,UAAI,OAAO;AACX,cAAQ,IAAI,aAAa;AACzB,SAAG,GAAG,UAAU;AAAA,QACf,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AACjB,eAAK,iBAAiB;AACtB,cAAI,cAAc;AACjB,yBAAa,KAAK;AAAA;AAGnB,eAAK,UAAU;AAAA;AAAA,QAEhB,MAAM,CAAC,QAAQ;AACd,cAAI,cAAc;AACjB,yBAAa,KAAK;AAAA;AAEnB,kBAAQ,MAAM,4BAAQ;AAEtB,eAAK,UAAU;AAAA;AAAA;AAAA;AAAA,IAQlB,cAAc;AACb,UAAI,CAAC,KAAK,WAAW,eAAe;AAAO;AAC3C,UAAI,CAAC,KAAK,WAAW,aAAa;AACjC,gBAAQ,MAAM;AACd;AAAA;AAGD,UAAI,WAAW,KAAK,WAAW;AAC/B,UAAI,OAAO;AACX,SAAG,GAAG,YAAY;AAAA,QACjB,IAAI;AAAA,QACJ,SAAS,CAAC,QAAQ;AAEjB,eAAK,UAAU;AAEf,eAAK,iBAAiB;AAAA;AAAA,QAEvB,MAAM,CAAC,QAAQ;AAAA;AAAA;AAAA;AAAA,IAWV,mBAAmB,QAAgB,iBAA4B,cAAyB;AAC9F,UAAI,KAAK,QAAQ,cAAc;AAC9B,WAAG,GAAG,WAAW;AAAA,UAEhB,QAAQ,KAAK;AAAA,UAEb,SAAS,CAAC,QAAQ;AAEjB,oBAAQ,IAAI,sBAAsB;AAClC,+BAAmB,gBAAgB;AAAA;AAAA,UAEjC,MAAM,CAAC,QAAQ;AAEjB,oBAAQ,MAAM,mBAAmB;AACjC,4BAAgB,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,IAUjC,QAAQ,SAAiB,SAAoB;AAC5C,UAAI,CAAC,KAAK,WAAW,WAAW;AAAO;AACvC,SAAG,GAAG,QAAQ;AAAA,QACb,QAAQ,KAAK;AAAA,QACb,SAAS,CAAC,QAAQ;AACjB,kBAAQ,IAAI,YAAY,IAAI;AAC5B,cAAI,SAAS;AACZ,oBAAQ;AAAA;AAAA;AAAA,QAKV,MAAM,CAAC,QAAQ;AACd,cAAI,SAAS;AACZ,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,IAUL,cAAc,iBAST;AAEX,UAAI,KAAK,WAAW,iBAAiB,OAAO;AAE3C,WAAG,UAAU;AAAA,UACZ,QAAQ;AAAA,UACR,SAAS,CAAC,WAAW;AAEpB,eAAG,GAAG,cAAc;AAAA,cACnB,YAAY;AAAA,cACZ,eAAe;AAAA,cACf,eAAe;AAAA,cACf,SAAS,CAAC,QAAQ;AACjB,wBAAQ,IAAI,2CAAuB,KAAK,UAAU;AAClD,oBAAI,iBAAiB;AAWpB,kCAAgB,MAAM;AAAA;AAAA;AAAA,cAGxB,MAAM,CAAC,QAAQ;AACd,wBAAQ,IAAI,2CAAuB,KAAK,UAAU;AAElD,mCAAmB,gBAAgB;AAAA;AAAA;AAAA;AAAA,UAItC,KAAK,QAAQ;AACZ,oBAAQ,IAAI,2CAAuB,KAAK,UAAU;AAAA;AAAA;AAAA,aAIhD;AACJ,wBAAgB,MAAM;AAAA,UACrB,MAAM;AAAA,UACN,WAAW;AAAA,UACX,cAAc;AAAA,UACd,UAAU;AAAA,UACV,YAAY;AAAA,UACZ,YAAY;AAAA,UACZ,YAAY;AAAA,UACZ,YAAY;AAAA;AAAA;AAAA;AAAA,IASf,WAAW,UAAyC;AACnD,UAAI,CAAC,KAAK,QAAQ;AAAc;AAKhC,UAAI,KAAK,UAAU;AAClB,oBAAY,SAAS,KAAK;AAC1B;AAAA;AAED,UAAI,MAAM;AACV,UAAI,IAAI,eAAe;AACtB,YAAI,cAAc,MAAM;AACvB,kBAAQ,IAAI;AACZ,sBAAY,SAAS;AAAA,WACnB,CAAC,QAAQ;AACX,kBAAQ,IAAI,wCAAU;AAEtB,eAAK,kBAAkB;AACvB,sBAAY,SAAS;AAAA;AAAA;AAAA;AAAA,IAQxB,YAAY,UAAyC;AACpD,UAAI,CAAC,KAAK,QAAQ;AAAc;AAKhC,cAAQ,IAAI;AACZ,UAAI,MAAM;AACV,UAAI,IAAI,gBAAgB;AACvB,YAAI,eAAe,CAAC,QAAQ;AAC3B,kBAAQ,IAAI,mBAAmB;AAE/B,eAAK,kBAAkB;AACvB,sBAAY,SAAS;AAAA;AAAA;AAAA;AAAA,IAQxB,MAAM,cAAyB,WAAsB;AACpD,UAAI,CAAC,KAAK,WAAW;AAAmB;AAGxC,UAAI,MAAW;AACf,UAAI,CAAC,KAAK,WAAW,aAAa;AACjC,gBAAQ,MAAM;AACd;AAAA;AAED,UAAI,eAAe,KAAK,WAAW;AACnC,cAAQ,IAAI,gBAAgB,KAAK,UAAU;AAE3C,UAAI,CAAC,aAAa,eAAe;AAChC,qBAAa,gBAAgB,KAAK,WAAW;AAAA;AAE9C,UAAI,CAAC,aAAa,UAAU;AAC3B,qBAAa,WAAW,IAAI;AAAA;AAE7B,UAAI,CAAC,aAAa,UAAU;AAC3B,gBAAQ,MAAM;AACd;AAAA;AAED,UAAI,CAAC,aAAa,eAAe;AAChC,gBAAQ,MAAM;AACd;AAAA;AAED,cAAQ,IAAI,iBAAiB,KAAK,UAAU;AAG5C,UAAI,SAAS;AAAA,QACZ,OAAO,aAAa;AAAA,QACpB,MAAM,aAAa;AAAA,QACnB,UAAU,aAAa;AAAA,QAEvB,MAAM,6BAA6B,aAAa,gBAAgB,eAAe,aAAa;AAAA;AAE7F,UAAI,cAAc;AACjB,YAAI,OAAO,kBAAkB;AAAA;AAE9B,UAAI,WAAW;AACd,YAAI,OAAO,eAAe;AAAA;AAG3B,SAAG;AACH;AAAA;AAAA,IAGD,YAAY;AACX,UAAI,CAAC,KAAK,QAAQ,cAAc;AAC/B,eAAO,KAAK;AAAA;AAEb,UAAI,KAAK,WAAW,QAAW;AAC9B,YAAI,MAAW;AACf,aAAK,SAAS,IAAI,UAAU;AAAA;AAE7B,aAAO,KAAK;AAAA;AAAA;AA7sBd;AAkBgB,EAlBhB,oBAkBgB,aAAkC;AAmsB3C,MAAI,oBAAoB,oBAAoB;;;AC7uBnD,oCAA2C,SAAQ;AAAA,IAAnD,cATA;AASA;AAMS,2BAAgB;AAEhB,uBAAY;AAKZ,sBAAW;AAAA,QAClB,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,QAAQ;AAAA,UACP,SAAS;AAAA,UACT,aAAa;AAAA,UACb,eAAe;AAAA,UACf,YAAY;AAAA,YACX;AAAA,cACC,WAAW;AAAA,cACX,QAAQ;AAAA,cACR,cAAc;AAAA,cACd,UAAU;AAAA,cACV,eAAe;AAAA,cACf,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA,cACd,aAAa;AAAA,cACb,SAAS;AAAA,cACT,UAAU;AAAA,cACV,MAAM;AAAA,cACN,SAAS;AAAA,cACT,aAAa;AAAA;AAAA,YAEd;AAAA,cACC,WAAW;AAAA,cACX,QAAQ;AAAA,cACR,cAAc;AAAA,cACd,UAAU;AAAA,cACV,eAAe;AAAA,cACf,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA,cACd,aAAa;AAAA,cACb,SAAS;AAAA,cACT,UAAU;AAAA,cACV,MAAM;AAAA,cACN,SAAS;AAAA,cACT,aAAa;AAAA;AAAA;AAAA;AAAA;AAKT,wBAAa;AAAA,QACpB,OAAO;AAAA,QACP,SAAS;AAAA;AAAA;AAAA,IAGA,cAAoB;AAE7B,YAAM;AAEN,WAAK,WAAW,QAAQ,MAAM,MAAM;AAInC,oBAAY;AACZ,aAAK,aAAa;AAAA;AAKnB,WAAK,YAAY,QAAQ,MAAM,MAAM;AAIpC,oBAAY;AACZ,aAAK,aAAa;AAAA;AAMnB,WAAK,WAAW,gBAAgB;AAAA;AAAA,IAOjC,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK,gBAAgB,KAAK,YAAY;AAItC,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,WAAW,WAAW;AAC3B,aAAK,WAAW,aAAa;AAC7B,YAAI,QAA6B,KAAK,WAAW,gBAAgB,iBAAO,UAAU;AAClF,aAAK,aAAa;AAElB,aAAK,MAAM,GAAG,iBAAiB,MAAM,MAAM;AAC1C,eAAK,aAAa,SAAS;AAAA;AAAA;AAAA;AAAA,IAKtB,aAAa,OAA4B,WAAW,OAAa;AAKxE,WAAK,WAAW,SAAS;AAGzB,UAAI,QAAQ,CAAC,UAAU;AAatB,aAAK,WAAW,SAAS;AAGzB,aAAK,OAAO;AAAA;AAGb,UAAI,cAAc,SAAS,gBAAgB;AAC1C,sBAAc,SAAS,eAAe,IAAI,kBAAkB;AAAA,UAE3D,YAAY;AAAA,UACZ,UAAU;AAAA,UACV,YAAY,SAAS,UAAU,IAAI;AAAA,WAGjC,QAAQ,MAAM,CAAC,SAAS;AAE1B,eAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AAEpD,eAAK,YAAY;AAKjB,gBAAM,KAAK,KAAK;AAAA;AAGjB,aAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AAAA,aAErD;AACJ,cAAM,KAAK,SAAS,KAAK;AAAA;AAAA;AAAA,IAWnB,SAAS,OAAe,KAAkB;AAEjD,cAAQ,IAAI,+BAA+B,KAAK;AAEhD,kBAAY;AACZ,UAAI,WAAW,KAAK,WAAW,MAAM;AAErC,UAAI,SAAS,QAAQ;AAAG;AAuBxB,UAAI,WAA4B;AAChC,eAAS,KAAK,SAAS;AAEvB,UAAI,eAAe,MAAM;AACxB,0BAAkB,cAAc,CAAC,UAAU,UAAU;AACpD,cAAI,CAAC,UAAU;AACd;AAAA;AAED,mBAAS,OAAO,MAAM;AACtB,mBAAS,QAAQ,MAAM;AACvB,mBAAS,WAAW,MAAM;AAC1B,mBAAS,OAAO,MAAM;AACtB,mBAAS,SAAS,MAAM;AACxB,mBAAS,SAAS,MAAM;AACxB,mBAAS,UAAU,MAAM;AAEzB,kBAAQ,MAAM,cAAc;AAE5B,wBAAc,SAAS,UAAU,WAAW,qBAAqB;AAAA,YAChE,cAAc;AAAA;AAAA;AAAA;AAKjB,wBAAkB,YAAY,CAAC,UAAU;AACxC,cAAM,WAAW,MAAM;AACvB;AAAA,SACE,MAAM;AACR,iBAAS,WAAW;AACpB;AAAA;AAAA;AAAA,IAIF,kBAAkB;AACjB,wBAAkB;AAClB,kBAAY;AAAA;AAAA,IAEL,cAAc;AAAA;AAAA,IAWd,cAAc,UAA+B,OAAe,KAAyB;AAE5F,cAAQ,IAAI,OAAO,qCAAqC;AAExD,UAAI,YAAY;AAEhB,UAAI,WAAW,KAAK,WAAW,UAAU;AAIzC,UAAI,CAAC,CAAC,UAAU;AAEf,YAAI,YAAY,SAAS;AACxB,oBAAU,WAAW,QAAQ,MAAM,KAAK,UAAU,CAAC;AACnD,oBAAU,WAAW,gBAAgB;AAAA,eAEjC;AACJ,oBAAU,YAAY,QAAQ,MAAM,KAAK;AACzC,oBAAU,WAAW,gBAAgB;AAAA;AAGtC,YAAI,OAAO,WAAW,aAAa,SAAS,WAAU;AACtD,kBAAU,UAAU,OAAO;AAG3B,kBAAU,WAAW,OAAO,SAAU,SAAS,WAAY,QAAQ,GAAG,YAAY;AAElF,YAAI,QAAQ,IAAI,KAAK,SAAS;AAE9B,kBAAU,eAAe,OAAO,QAAQ,GAAG,MAAM,iBAAiB,MAAM,aAAW,KAAK,MAAM,aAAa;AAE3G,kBAAU,aAAa,OAAO,WAAW,SAAS,SAAS;AAE3D,kBAAU,eAAe,MAAM,SAAS;AAKxC,YAAI,SAAS,SAAS,GAAG;AACxB,oBAAU,iBAAiB,gBAAgB;AAAA,mBAEnC,SAAS,SAAS,GAAG;AAC7B,oBAAU,iBAAiB,gBAAgB;AAAA,mBAEnC,SAAS,SAAS,GAAG;AAC7B,oBAAU,iBAAiB,gBAAgB;AAAA;AAAA;AAAA;AAAA,IAKvC,OAAO,UAAqC;AAElD,UAAI,KAAK,YAAY,WAAW;AAAO;AAMvC,UAAI,MAAM;AAEV,UAAI;AAMH,YAAI,QAAQ,YAAY,UAAU,KAAK,aAAa,KAAK;AACzD,YAAI,CAAC,CAAC,KAAK,WAAW,WAAW;AAChC,gBAAM,KAAK,WAAW,UAAU;AAAA;AAKjC,YAAI,MAAM,GAAG;AACZ,eAAK,kBAAkB,gBAAgB;AAAA,eAEnC;AACJ,eAAK,kBAAkB,gBAAgB;AAAA;AAKxC,cAAM,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,CAAC,WAAW;AAI/E,cAAM;AAEN,cAAM,WAAW;AAAA,eAIX,GAAP;AAEC,gBAAQ,IAAI,6BAA6B;AAAA;AAI1C,WAAK,YAAY,gBAAgB,MAAM,KAAK;AAAA;AAAA,IAMtC,SAAe;AAErB,cAAQ,IAAI;AAAA;AAAA;;;ACvXd,2CAAkD,KAAK,WAAW;AAAA,WAenD,iBAAsC;AACnD,aAA8B,KAAK,UAAU,aAAa,WAAW;AAAA;AAAA,IAG5D,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,eAA6B,KAAK,WAAW;AAClD,WAAK,cAAgC,KAAK,WAAW;AACrD,WAAK,gBAA8B,KAAK,WAAW;AACnD,WAAK,eAAiC,KAAK,WAAW;AACtD,WAAK,iBAA+B,KAAK,WAAW;AACpD,WAAK,gBAAkC,KAAK,WAAW;AACvD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAjBxB,EAbf,qBAae,MAAa;;;ACK5B,0CAAiD,qBAAqB;AAAA,IAAtE,cApBA;AAoBA;AAMS,uBAAY;AAAA;AAAA,IAEV,cAAoB;AAE7B,YAAM;AAEN,WAAK,QAAQ,QAAQ,MAAM,KAAK;AAAA;AAAA,IAMjC,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK,gBAAgB,KAAK,YAAY;AAEtC,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C;AACC,eAAK,YAAY,OAAO,KAAK,KAAK,cAAc;AAChD,eAAK,aAAa,OAAO,KAAK,KAAK,cAAc;AACjD,eAAK,cAAc,OAClB,KAAK,cAAc,WACjB,KAAK,cAAc,OACnB,KAAK,cAAc,SACnB,KAAK,cAAc,SACnB,KAAK,cAAc;AAAA;AAAA;AAAA;AAAA,IAKjB,aAAa;AAUpB,UAAI,YAAY;AAEhB,kBAAY;AACZ,UAAI,QAAQ,MAAM;AACjB,YAAI,QAAQ;AAAA,UACX,UAAU,CAAC,QAAiB;AAC3B,gBAAI,KAAK;AACR,sBAAQ,IAAI;AACZ,mBAAK,YAAY;AAEjB,mBAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AACzD,4BAAc,SAAS,eAAe,IAAI,sBAAsB,KAAK,eAAe,QAAQ,MAC3F,CAAC,SAAS;AACT,qBAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AACpD,qBAAK,YAAY;AACjB,oBAAI,KAAK,QAAQ,GAAG;AACnB,uBAAK,MAAM,MAAM;AACjB,uBAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AASvB,sBAAc,SAAS,UAAU,WAAW,SAAS;AAAA,UACpD,cAAc;AAAA;AAAA;AAGhB,wBAAkB,YAAY,CAAC,UAAU;AACxC,oBAAY,MAAM;AAClB;AAAA,SACE,MAAM;AACR;AAAA;AAAA;AAAA,IAKK,SAAe;AAErB,UAAI,KAAK,YAAY,aAAa;AAAO;AAEzC,UAAI,KAAK,aAAa;AAAM;AAE5B,cAAQ,IAAI;AAGZ,WAAK,YAAY;AAAA;AAAA,IAGX,SAAe;AACrB,WAAK,MAAM,SAAS;AACpB,cAAQ,IAAI;AAAA;AAAA;;;AC5Hd,4BAAmC;AAAA,WAEpB,UAAgB;AAK7B,WAAK,gBAAgB,aAAa,cAAc,KAAK;AACrD,WAAK,gBAAgB,aAAa,eAAe,KAAK;AACtD,WAAK,gBAAgB,aAAa,oBAAoB,KAAK;AAI3D,WAAK,gBAAgB,aAAa,aAAa,KAAK;AACpD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AAAA;AAAA;;;ACnBtD,mCAA0C,KAAK,OAAO;AAAA,IAYlD,YAAY,cAAmB;AAE3B;AAEA,WAAK,gBAAgB;AAAA;AAAA,IAKf,kBAAwB;AAE9B,UAAI,OAAO,KAAK,YAAY,cAAc;AAE1C,UAAI,MAAM;AAEN,aAAK,KAAK,KAAK,QAAQ,OAAO,MAAM,MAAM;AACtC,eAAK;AAAA;AAAA,aAIR;AACD,aAAK;AAAA;AAAA;AAAA,IAKH,kBAAwB;AAE9B,kBAAY;AACZ,UAAI,OAAO,KAAK,YAAY,cAAc;AAE1C,UAAI,MAAM;AAEN,aAAK,KAAK,KAAK,QAAQ,OAAO,MAAM,MAAM;AACtC,eAAK;AAAA;AAAA,aAIR;AACD,aAAK;AAAA;AAAA;AAAA,IAKN,SAAS;AAEZ,UAAI,CAAC,CAAC,KAAK;AAAe,aAAK,cAAc,KAAK,KAAK;AAAA;AAAA,IAMpD,UAAU;AACb,YAAM;AACN,UAAI,CAAC,CAAC,KAAK;AAAe,aAAK,cAAc,KAAK,KAAK;AAAA;AAAA,IAMpD,gBAAgB,SAAc,cAAwB;AACzD,WAAK,sBAAsB;AAE3B,WAAK,gBAAgB;AAAA;AAAA,IAGlB,gBAAgB,SAAc,cAAwB;AACzD,WAAK,sBAAsB;AAE3B,WAAK,gBAAgB;AAAA;AAAA,IAGlB,eAAoB;AACvB,aAAO,KAAK;AAAA;AAAA;;;ACrFpB,mCAA0C,KAAK,WAAW;AAAA,WAS3C,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGjD,cAAmB;AAC5B,WAAK,cAAc,KAAK,gBAAgB;AACxC,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,aAA+B,KAAK,WAAW;AAAA;AAAA;AAXvC,EAPf,aAOe,MAAa;;;ACP5B,gCAAuC,KAAK,WAAW;AAAA,WAWxC,iBAA2B;AACxC,aAAmB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG9C,cAAmB;AAC5B,WAAK,oBAAoB,KAAK,gBAAgB;AAC9C,WAAK,cAA6B,KAAK,WAAW;AAClD,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,eAA6B,KAAK,WAAW;AAClD,WAAK,cAAoC,KAAK,WAAW;AACzD,WAAK,WAAiC,KAAK,WAAW;AACtD,WAAK,YAAkC,KAAK,WAAW;AAAA;AAAA;AAb1C,EATf,UASe,MAAa;;;ACT5B,mCAA0C,KAAK,WAAW;AAAA,WAU3C,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGjD,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,gBAAkC,KAAK,WAAW;AACvD,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAZxB,EARf,aAQe,MAAa;;;ACN5B,kCAAyC,KAAK,WAAW;AAAA,WAkB1C,iBAA6B;AAC1C,aAAqB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,qBAAqB,KAAK,gBAAgB;AAC/C,WAAK,uBAAuB,KAAK,gBAAgB;AACjD,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,iBAA8B,KAAK,WAAW;AACnD,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,WAAyB,KAAK,WAAW;AAC9C,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,qBAAoC,KAAK,WAAW;AACzD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AApBxB,EAhBf,YAgBe,MAAa;;;AClB5B,qCAA4C,KAAK,QAAQ;AAAA,WAK1C,iBAAgC;AAC7C,aAAwB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGnD,cAAmB;AAC5B,WAAK,UAAU,KAAK,gBAAgB;AAAA;AAAA;AAPvB,EAHf,eAGe,MAAa;;;ACH5B,kCAAyC,KAAK,QAAQ;AAAA,WAcvC,iBAA6B;AAC1C,aAAqB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,aAAa,KAAK,gBAAgB;AACvC,WAAK,kBAAkB,KAAK,gBAAgB;AAC5C,WAAK,eAAe,KAAK,gBAAgB;AACzC,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAAY,KAAK,gBAAgB;AAAA;AAAA;AAhBzB,EAZf,YAYe,MAAa;;;ACZ5B,mCAA0C,KAAK,QAAQ;AAAA,WAWxC,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGjD,cAAmB;AAC5B,WAAK,SAAS,KAAK,gBAAgB;AACnC,WAAK,WAAW,KAAK,gBAAgB;AACrC,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,YAAY,KAAK,gBAAgB;AAAA;AAAA;AAbzB,EATf,aASe,MAAa;;;ACT5B,oCAA2C,KAAK,WAAW;AAAA,WAmB5C,iBAA+B;AAC5C,aAAuB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGlD,cAAmB;AAC5B,WAAK,oBAAoB,KAAK,gBAAgB;AAC9C,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,gBAA6B,KAAK,WAAW;AAClD,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,gBAAkC,KAAK,WAAW;AACvD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,gBAA+B,KAAK,WAAW;AACpD,WAAK,WAAyB,KAAK,WAAW;AAC9C,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AArBxB,EAjBf,cAiBe,MAAa;;;ACd5B,kCAAyC,KAAK,WAAW;AAAA,WAQ1C,iBAA6B;AAC1C,aAAqB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,sBAAsB,KAAK,gBAAgB;AAChD,WAAK,WAAyB,KAAK,WAAW;AAC9C,WAAK,gBAAiC,KAAK,WAAW;AACtD,WAAK,YAA2B,KAAK,WAAW;AAAA;AAAA;AAVnC,EANf,YAMe,MAAa;;;ACT5B,gCAAuC,KAAK,WAAW;AAAA,WASxC,iBAA2B;AACxC,aAAmB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG9C,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,eAA4B,KAAK,WAAW;AACjD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAXxB,EAPf,UAOe,MAAa;;;ACgB5B,+BAAsC,UAAU;AAAA,IASrC,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAMP,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK;AAAA;AAAA;AAAA,WAOA,YAAY,WAA4C;AAG9D,UAAI,SAAS,WAAW;AACvB,qBAAa,UAAU,SAAS;AAChC;AAAA;AAGD,UAAI,cAAc,SAAS,gBAAgB;AAC1C,sBAAc,SAAS,eAAe,IAAI,iBAAiB,IAIxD,QAAQ,MAAM,CAAC,SAAS;AAC1B,cAAI,KAAK,QAAQ,KAAK,KAAK,SAAS,GAAG;AACtC,qBAAS,YAAY;AAAA;AAEtB,uBAAa,UAAU;AAAA;AAAA,aAKpB;AACJ,qBAAa,UAAU;AAAA,UAEtB,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,QAAQ;AAAA,YAUP;AAAA,cACC,SAAS;AAAA,cACT,WAAW;AAAA,cACX,cAAc;AAAA,cACd,YAAY;AAAA,cACZ,WAAW;AAAA,cACX,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAON,iBAAuB;AAC9B,eAAS,YAAY,CAAC,UAAU;AAC/B,aAAK,aAAa;AAClB,aAAK;AAAA;AAAA;AAAA,IAIC,aAAa,MAAW,OAAe;AAC9C,cAAQ,IAAI;AAEZ,UAAI,WAAW,KAAK,WAAW,KAAK;AAEpC,cAAQ,IAAI;AAEZ,wBAAkB,mBAAmB;AAAA;AAAA,IAU9B,cAAc,OAAe,KAAyB;AAI7D,UAAI,WAAW;AAEf,UAAI,WAAW,KAAK,WAAW,KAAK;AAKpC,UAAI,CAAC,CAAC,UAAU;AAKf,YAAI,SAAS,aAAa,SAAS,SAAS;AAE3C,mBAAS,UAAU,OAAO,QAAQ,SAAS,UAAU,YAAY;AAAA,eAE3D;AAEN,mBAAS,UAAU,OAAO,QAAQ,SAAS,YAAY,MAAM,SAAS,SAAS;AAAA;AAIhF,iBAAS,UAAU,OAAO,WAAW,aAAa,SAAS,WAAW;AAEtE,iBAAS,WAAW,OAAO,uBAAQ,SAAS,WAAW,aAAa;AAGpE,iBAAS,eAAe,MAAM,SAAS;AAAA;AAAA;AAAA,IAMlC,SAAe;AAErB,UAAI,KAAK,YAAY,WAAW;AAAO;AAEvC,cAAQ,IAAI;AAEZ,WAAK,aAAa,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,MAAM;AAErF,WAAK,aAAa;AAIlB,WAAK,aAAa,WAAW,KAAK,WAAW,KAAK;AAGlD,WAAK,YAAY,gBAAgB,MAAM,KAAK;AAAA;AAAA,IAGtC,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA;;;ACzLd,kCAAyC,aAAa;AAAA,IAa3C,cAAoB;AAE7B,YAAM;AAEN,WAAK,QAAQ,QAAQ,MAAM,KAAK;AAAA;AAAA,IAMjC,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK,aAAa,KAAK,YAAY;AAEnC,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAAA;AAAA;AAAA,IAItC,WAAW,MAAW;AAC7B,cAAQ,IAAI;AAEZ,WAAK,YAAY;AAAA;AAAA,IAGX,SAAe;AAErB,cAAQ,IAAI;AAEZ,UAAI,KAAK,YAAY,aAAa;AAAO;AAEzC,WAAK,eAAe,MAAM,KAAK,WAAW;AAE1C,WAAK,cAAc,OAAO,KAAK,WAAW;AAAA;AAAA,IAIpC,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA;;;AChEd,gCAAsC,KAAK,WAAW;AAAA,WAYvC,iBAA0B;AACvC,aAAkB,KAAK,UAAU,aAAa,oBAAoB;AAAA;AAAA,IAGzD,cAAmB;AAC5B,WAAK,cAAc,KAAK,gBAAgB;AACxC,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,WAA0B,KAAK,WAAW;AAC/C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAdxB,EAVf,UAUe,MAAa;;;ACD5B,8BAAqC,UAAS;AAAA,WAGtC,KAAK,OAAsB;AACjC,cAAQ,IAAI;AAEZ,oBAAc,SAAS,UAAU,oBAAoB,SAAS,EAAE,cAAc;AAAA;AAAA,WAQxE,wBAAwB;AAC9B,UAAI,aAAa,gBAAgB;AAChC,eAAO;AAAA;AAMR,UAAI,OAAO,aAAa;AACxB,cAAQ,KAAK;AAAA,QACZ,SAAS;AAAA;AAEV,aAAO;AAAA;AAAA,IAOE,cAAoB;AAE7B,YAAM;AACN,WAAK,SAAS,QAAQ,MAAM,MAAM;AACjC,aAAK,YAAY;AACjB,YAAI,KAAK,OAAO,UAAU;AACzB,eAAK,OAAO;AAAA;AAAA;AAGd,WAAK,QAAQ,QAAQ,MAAM,MAAM;AAChC,aAAK,YAAY;AACjB,YAAI,KAAK,OAAO,SAAS;AACxB,eAAK,OAAO;AAAA;AAAA;AAAA;AAAA,IAQf,iBAAuB;AAItB,cAAQ,IAAI;AACZ,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK,QAAQ,KAAK,YAAY;AAAA;AAAA;AAAA,IAKhC,QAAQ,OAAsB;AAC7B,WAAK,SAAS;AACd,WAAK,UAAU,OAAO,MAAM;AAC5B,UAAI,MAAM,SAAS;AAClB,aAAK,YAAY,gBAAgB;AAAA,aAE7B;AACJ,aAAK,YAAY,gBAAgB;AAAA;AAAA;AAAA,IAG5B,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA,IAGN,SAAe;AAErB,cAAQ,IAAI;AACZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;ACpEf,MAAK;AAAL,YAAK,gBAAL;AACE,8BAAQ;AACR,+BAAS;AACT,8BAAQ;AACL,gCAAU;AACZ,mCAAa;AAAA,KALX;AAUZ,8BAAqB;AAAA,IAArB,cA9CA;AAkDC,iBAAc;AAEd,wBAAqB;AAErB,sBAAmB;AAEnB,oBAAiB;AAGjB,oBAAiB;AAEjB,wBAAqB;AAErB,yBAAsB;AAEtB,2BAAmC;AACnC,8BAA2B;AAE3B,sBAAmB;AAEnB,uBAA6B;AAAA,QAC5B;AAAA,UACC,SAAS;AAAA,UACT,WAAW;AAAA,UACX,KAAK;AAAA,UACL,OAAO;AAAA,UACP,KAAK;AAAA;AAAA,QAEN;AAAA,UACC,SAAS;AAAA,UACT,WAAW;AAAA,UACX,KAAK;AAAA,UACL,OAAO;AAAA,UACP,KAAK;AAAA;AAAA;AAIP,wBAA4B;AAAA,QACnB,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,SAAS;AAAA,QACR,YAAY;AAAA;AAcd,oBAAS;AAkTT,kCAAuB;AA+Md,8BAAmB;AAAA;AAAA,WAxgB7B,WAAW;AACjB,UAAI,CAAC,KAAK,YAAY;AACrB,aAAK,aAAa,IAAI;AAAA;AAEvB,aAAO,KAAK;AAAA;AAAA,IAOb,eAAe,MAAW;AACzB,cAAQ,IAAI,mBAAmB,OAAO;AACtC,YAAM,IAAI,OAAO,SAAS,KAAK,MAAM;AACrC,YAAM,MAAM,mBAAmB,EAAE;AACjC,YAAM,SAAS,IAAI,MAAM;AACzB,YAAM,OAAO;AACb,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACvC,cAAM,OAAO,OAAO;AACpB,YAAI,QAAQ,KAAK,MAAM;AAEvB,YAAI,IAAI,MAAM;AACd,YAAI,IAAI,MAAM;AAEd,YAAI,KAAG;AACP,WAAG,KAAG;AAEN,aAAK,KAAK;AAAA;AAEX,UAAI,WAAW;AACf,iBAAW,YAAY,MAAM;AAC5B,YAAG,SAAS,OAAO;AAClB,qBAAW,SAAS;AACpB;AAAA;AAAA;AAGF,cAAQ,IAAI,gBAAgB,EAAE;AAC9B,cAAQ,IAAI,YAAY;AACxB,cAAQ,KAAK;AAAA,QACZ,SAAS,OAAO,SAAS;AAAA;AAE1B,cAAQ,KAAK;AAAA,QACZ,SAAS,KAAK,UAAU;AAAA;AAEzB,cAAQ,KAAK;AAAA,QACZ,SAAS;AAAA;AAEV,aAAO;AAAA;AAAA,IAYR,KAAK,WAAwB;AAE5B,UAAI,KAAK,QAAQ;AAChB;AAAA;AAED,UAAI,KAAK;AACT,UAAI,UAAU,CAAC,aAAsB;AACpC,YAAI,CAAC,UAAU;AACd;AAAA;AAED;AACA,YAAI,MAAM,GAAG;AACZ,uBAAa;AAAA;AAAA;AAGf,WAAK,UAAU;AACf,WAAK,gBAAgB;AAErB,iBAAW,CAAC,MAAM;AAClB,aAAK,eAAe;AAAA,SACjB;AAAA;AAAA,IAIJ,UAAU,WAAyC,mBAAmB,MAAM;AAC3E,cAAQ,IAAI;AACZ,UAAI,CAAC,cAAc,SAAS,gBAAgB;AAC3C,qBAAa,UAAU;AACvB;AAAA;AAED,UAAI,YAAY;AAAA,QACf,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,gBAAgB;AAAA,QAChB,KAAK;AAAA;AAEN,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,iBAAiB,WAAW,QAAQ,MAC7E,CAAC,UAAU;AACV,cAAI,MAAM,QAAQ,GAAG;AACpB,8BAAkB,UAAU,8BAAU,MAAM;AAM5C,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,eAAK,aAAa,MAAM,KAAK;AAC7B,eAAK,SAAS,MAAM,KAAK;AACzB,eAAK,aAAa,MAAM,KAAK;AAC7B,eAAK,cAAc,MAAM,KAAK;AAC9B,4BAAkB,UAAU;AAAA,YAC3B,YAAY,KAAK,KAAK;AAAA,YACtB,QAAQ,KAAK,KAAK;AAAA,YAClB,aAAa,KAAK;AAAA;AAEnB,uBAAa,UAAU;AAAA;AAAA;AAI1B,UAAI,kBAAkB;AACrB,kBAAU,iBAAiB,kBAAkB;AAC7C,kBAAU,MAAM,KAAK;AACrB,kBAAU,WAAW,KAAK;AAC1B,kBAAU,SAAS,KAAK;AAUxB;AAAA,aAEI;AACJ;AAAA;AAAA;AAAA,IAIF,oBAAoB,QAA2B,MAAe;AAC7D,WAAK,gBAAgB;AACrB,UAAI,MAAM;AACT,aAAK,mBAAmB;AAAA;AAAA;AAAA,IAG1B,eAAe;AACd,UAAI,KAAK,iBAAiB,MAAM;AAC/B,eAAO;AAAA;AAER,aAAO;AAAA;AAAA,IAGR,gBAAgB,WAAyC;AAMxD,cAAQ,IAAI;AACZ,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,oBAAoB,IAAI,QAAQ,MACzE,CAAC,UAAU;AACV,cAAI,MAAM,QAAQ,GAAG;AAKpB,8BAAkB,UAAU,sDAAc,MAAM;AAChD;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU;AACvB;AAAA;AAED,uBAAW,MAAM;AAEhB;AAAA,eACE;AACH;AAAA;AAED,kBAAQ,MAAM,KAAK;AAAA,iBACb;AACJ,mBAAK,oBAAoB;AACzB,mBAAK,gBAAgB;AACrB;AAAA,iBACI;AACJ,mBAAK,oBAAoB,SAAS;AAClC;AAAA,iBACI;AACJ,mBAAK,oBAAoB,OAAO;AAChC;AAAA,iBACI;AACJ,mBAAK,oBAAoB,WAAW;AACpC;AAAA;AAGA,mBAAK,oBAAoB,SAAS;AAClC;AAAA;AAEF,cAAI,MAAM,KAAK,UAAU,GAAG;AAC3B,oBAAQ,MAAM,UAAU,MAAM,KAAK;AAAA;AAIpC,eAAK,WAAW,MAAM,KAAK;AAE3B,4BAAkB,UAAU;AAAA,YAC3B,aAAa;AAAA,cACZ,OAAO,MAAM,KAAK;AAAA,cAClB,MAAM,MAAM,KAAK;AAAA,cACjB,UAAU,MAAM,KAAK;AAAA;AAAA;AAGvB,uBAAa,UAAU;AAAA;AAAA;AAM1B;AAAA;AAAA,IAGD,aAAa,WACZ,WAKI,WAAW,MAAM;AAKrB,UAAI,CAAC,YAAY,KAAK,UAAU,SAAS,GAAG;AAC3C,qBAAa,UAAU,MAAM,KAAK;AAClC;AAAA;AAED,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,2BAA2B,WAAW,QAAQ,MACvF,CAAC,UAAU;AACV,cAAI,MAAM,QAAQ,GAAG;AACpB;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU;AACvB;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,eAAK,uBAAuB;AAE5B,eAAK,YAAY,MAAM,KAAK;AAI5B,cAAI,UAAU;AACd,cAAI,iBAAiB,CAAC,YAAsB;AAE3C,gBAAI,SAAS,KAAK,UAAU,SAAS;AACrC,gBAAI,QAAQ,SAAS,IAAI,IAAI;AAC7B,gBAAI,QAAQ;AACZ,gBAAI,iBAAiB,CAAC,eAAwB;AAC7C;AACA,kBAAI,CAAC,cAAc,KAAK,sBAAsB;AAC7C,qBAAK,uBAAuB;AAAA;AAE7B,kBAAI,QAAQ,OAAO;AAClB;AAAA;AAED,yBAAW;AAEX,kBAAI,UAAU,KAAK,UAAU,QAAQ;AACpC,+BAAe;AAAA,qBAEX;AACJ;AAAA;AAAA;AAIF,qBAAS,QAAQ,GAAG,QAAQ,OAAO,SAAS;AAC3C,oBAAM,UAAU,KAAK,UAAU,UAAU;AACzC,gCAAkB,0BAA0B,QAAQ,SAAS,CAAC,eAAe;AAC5E,wBAAQ,cAAc;AAGtB,+BAAe;AAAA;AAAA;AAAA;AAKlB,yBAAe,MAAM;AAGpB,yBAAa,UAAU,MAAM,MAAM,KAAK;AAAA;AAAA;AAAA;AAM5C;AAAA;AAAA,QAOG,sBAAsB;AACzB,cAAQ,IAAI,uBAAuB,KAAK;AACxC,aAAO,KAAK;AAAA;AAAA,IAUb,aAAa,QAAgB,WAAyC;AAQrE,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,kBAAkB,EAAE,OAAO,UAAU,QAAQ,MACtF,CAAC,SAAS;AACT,cAAI,KAAK,QAAQ,GAAG;AACnB;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU;AACvB;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,uBAAa,UAAU;AACvB,eAAK,eAAe,cAAc;AAAA;AAAA;AAIrC;AAAA;AAAA,IAYD,gBAAgB,OAAsB,KAAK,GAAG,WAA0D;AAEvG,UAAI,SAAS,WAAW,SAAS,UAAU;AAC1C,gBAAQ,MAAM,kEAAgB;AAC9B,qBAAa,UAAU,OAAO,KAAK,WAAW;AAC9C;AAAA;AAQD,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,6BAA6B,EAAE,UAAU,OAAO,KAAK,MAAM,QAAQ,MAC5G,CAAC,SAAS;AACT,cAAI,KAAK,QAAQ,GAAG;AAEnB,gBAAI,KAAK,QAAQ,MAAM,KAAK,QAAQ,IAAI;AACvC,2BAAa,oBAAoB,KAAK,QAAQ,KAAK,YAAY,OAAO,KAAK;AAC3E,2BAAa,UAAU,OAAO,KAAK,WAAW;AAC9C;AAAA;AAED;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU,OAAO,KAAK,WAAW;AAC9C;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,eAAK,eAAe,OAAO,KAAK,KAAK;AACrC,uBAAa,UAAU,MAAM,KAAK,WAAW;AAAA;AAAA;AAIhD;AAAA;AAAA,IAOD,YAAY,OAAsB,KAAK,GAAG,WAA0D;AAEnG,UAAI,SAAS,WAAW,SAAS,gBAAgB,SAAS,cAAc,SAAS;AAChF,gBAAQ,MAAM,kEAAgB;AAC9B,qBAAa,UAAU,OAAO,KAAK,WAAW;AAC9C;AAAA;AAQD,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,qBAAqB,EAAE,UAAU,OAAO,KAAK,MAAM,QAAQ,MACpG,CAAC,SAAS;AACT,cAAI,KAAK,QAAQ,GAAG;AACnB;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU,OAAO,KAAK,WAAW;AAC9C;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,uBAAa,UAAU,MAAM,KAAK,eAAe,OAAO,KAAK,KAAK;AAAA;AAAA;AAIrE;AAAA;AAAA,IASD,eAAe,OAAsB,WAA0D;AAK9F,UAAI,YAAY;AAChB,UAAI,SAAS,WAAW,SAAS,gBAAgB,SAAS,cAAc,SAAS;AAChF,oBAAY;AAAA,iBAEJ,SAAS,WAAW,SAAS,UAAU;AAC/C,oBAAY;AAAA;AAEb,UAAI,aAAa,IAAI;AACpB,gBAAQ,MAAM,8EAAkB;AAChC;AAAA;AAGD,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,WAAW,EAAE,UAAU,SAAS,QAAQ,MACjF,CAAC,SAAS;AACT,cAAI,KAAK,QAAQ,GAAG;AACnB;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU,OAAO,KAAK,WAAW;AAC9C;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,eAAK,eAAe,OAAO,KAAK,KAAK;AACrC,uBAAa,UAAU,MAAM,KAAK,WAAW;AAAA;AAAA;AAIhD;AAAA;AAAA,IAUD,qBAAqB,OAAsB,SAAS,OAAqC;AACxF,WAAK,MAAM,GAAG,KAAK,qBAAqB,QAAQ,SAAS;AAAA;AAAA,IAS1D,uBAAuB,OAAsB,SAAS,OAAiB;AACtE,WAAK,MAAM,IAAI,KAAK,qBAAqB,QAAQ,SAAS;AAAA;AAAA,IAQ3D,qBAAqB,OAAsB;AAC1C,aAAO,KAAK,mBAAmB;AAAA;AAAA,IAQxB,eAAe,OAAsB,YAAoB;AAChE,UAAI,KAAK,WAAW,UAAU,YAAY;AACzC;AAAA;AAED,WAAK,WAAW,SAAS;AACzB,WAAK,MAAM,MAAM,KAAK,qBAAqB,QAAQ;AACnD,aAAO,KAAK,WAAW;AAAA;AAAA;AAllBzB;AAoDgB,EApDhB,eAoDgB,aAA6B;AAuiBtC,MAAI,eAAe,eAAe;;;ACnoBzC,iCAAwC,YAAY;AAAA,IAyCzC,cAAoB;AAE7B,YAAM;AAEN,WAAK,eAAe,QAAQ,MAAM,KAAK;AACvC,WAAK,mBAAmB,QAAQ,MAAM,KAAK;AAAA;AAAA,IAM5C,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK;AAAA;AAAA;AAAA,IAIC,oBAA0B;AAEjC,oBAAc,SAAS,eAAe,IAAI,gBAAgB;AAAA,QACzD,YAAY,aAAa;AAAA,QAEzB,MAAM;AAAA,SAGJ,QAAQ,MAAM,CAAC,SAAS;AAE1B,aAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AAEpD,aAAK,YAAY;AAEjB,aAAK,gBAAgB;AAErB,aAAK;AAAA;AAGN,WAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AAAA;AAAA,IAGlD,kBAAkB,MAAW;AACpC,UAAI,CAAC,KAAK,cAAc,KAAK;AAAc;AAE3C,UAAI,QAAQ,KAAK,cAAc,KAAK,aAAa,SAAS;AAE1D,UAAI,WAAW,KAAK,cAAc,KAAK,aAAa;AAEpD,cAAQ,IAAI;AAEZ,oBAAc,SAAS,UAAU,QAAQ,aAAa,EAAE,IAAI,GAAG,IAAI,GAAG,cAAc,SAAS;AAAA;AAAA,IAGtF,sBAAsB,MAAW;AACxC,cAAQ,IAAI;AAEZ,WAAK,YAAY;AAAA;AAAA,IASV,cAAc,OAAe,KAAyB;AAE7D,cAAQ,IAAI,yBAAyB;AAErC,UAAI,WAAW;AAEf,UAAI,WAAW,KAAK,cAAc,KAAK,aAAa;AAEpD,UAAI,CAAC,CAAC,UAAU;AAEf,YAAI,SAAS,GAAG;AAEf,mBAAS,WAAW,gBAAgB;AAAA,mBAE1B,SAAS,GAAG;AAEtB,mBAAS,WAAW,gBAAgB;AAAA,mBAE1B,SAAS,GAAG;AAEtB,mBAAS,WAAW,gBAAgB;AAAA,eAE9B;AAEN,mBAAS,WAAW,gBAAgB;AAAA;AAGrC,iBAAS,UAAU,OAAO,SAAS,OAAO;AAE1C,iBAAS,UAAU,OAAO,SAAS;AAEnC,iBAAS,WAAW,OAAO,SAAS,MAAM;AAE1C,iBAAS,eAAe,MAAM,SAAS;AAEvC,YAAI,SAAS,aAAa,MAAM;AAC/B,mBAAS,gBAAgB,gBAAgB;AACzC,mBAAS,WAAW,OAAO,SAAS,UAAU;AAAA,eAE1C;AACJ,mBAAS,gBAAgB,gBAAgB;AAAA;AAAA;AAAA;AAAA,IAKrC,SAAe;AAErB,cAAQ,IAAI;AAEZ,UAAI,KAAK,YAAY,aAAa;AAAO;AAEzC,UAAI;AAGH,aAAK,eAAe,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,MAAM;AAEvF,aAAK,eAAe;AAEpB,aAAK,eAAe,WAAW,KAAK,cAAc,KAAK,aAAa;AAEpE,YAAI,KAAK,eAAe,WAAW,GACnC;AACC,eAAK,qBAAqB,gBAAgB;AAAA,eAEtC;AACJ,eAAK,qBAAqB,gBAAgB;AAAA;AAI3C,YAAI,KAAK,cAAc,KAAK,cAAc,GAC1C;AACC,kBAAQ,IAAI,KAAK,cAAc,KAAK,YAAY;AAAA,mBAExC,KAAK,cAAc,KAAK,cAAc,GAAG;AACjD,kBAAQ,IAAI,KAAK,cAAc,KAAK,YAAY;AAChD,eAAK,mBAAmB,gBAAgB;AAAA,eAEpC;AACJ,eAAK,mBAAmB,gBAAgB;AACxC,kBAAQ,IAAI,KAAK,cAAc,KAAK,YAAY;AAAA;AAIjD,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAG5C,YAAI,CAAC,KAAK,cAAc,KAAK,cAAc;AAE1C,eAAK,qBAAqB,gBAAgB;AAC1C;AAAA;AAGD,YAAI,KAAK,cAAc,KAAK,aAAa,UAAU,GACnD;AACC,eAAK,mBAAmB,gBAAgB;AAAA,eAEpC;AACJ,eAAK,mBAAmB,gBAAgB;AAAA;AAGzC,YAAI,QAAQ,KAAK,cAAc,KAAK,aAAa,SAAS;AAE1D,YAAI,WAAW,KAAK,cAAc,KAAK,aAAa;AAGpD,aAAK,SAAS,UAAU,OAAO,SAAS,OAAO;AAE/C,YAAI,SAAS,GAAG;AAEf,eAAK,SAAS,WAAW,gBAAgB;AAAA,mBAE/B,SAAS,GAAG;AAEtB,eAAK,SAAS,WAAW,gBAAgB;AAAA,mBAE/B,SAAS,GAAG;AAEtB,eAAK,SAAS,WAAW,gBAAgB;AAAA,eAEnC;AAEN,eAAK,SAAS,WAAW,gBAAgB;AAAA;AAG1C,aAAK,SAAS,UAAU,OAAO,SAAS,OAAO;AAE/C,aAAK,SAAS,UAAU,OAAO,SAAS;AAExC,aAAK,SAAS,WAAW,OAAO,SAAS,MAAM;AAE/C,aAAK,SAAS,eAAe,MAAM,SAAS;AAE5C,YAAI,SAAS,aAAa,MAAM;AAC/B,eAAK,SAAS,gBAAgB,gBAAgB;AAC9C,eAAK,SAAS,WAAW,OAAO,SAAS,UAAU;AAAA,eAE/C;AACJ,eAAK,SAAS,gBAAgB,gBAAgB;AAAA;AAAA,eAKzC,GAAP;AACC,gBAAQ,IAAI,+CAA+C;AAAA;AAAA;AAAA,IAItD,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA;;;ACtQd,+BAAqC,KAAK,WAAW;AAAA,WAetC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG5C,cAAmB;AAC5B,WAAK,uBAAuB,KAAK,gBAAgB;AACjD,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,cAA6B,KAAK,WAAW;AAClD,WAAK,cAA0B,KAAK,WAAW;AAC/C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,YAAyB,KAAK,WAAW;AAC9C,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAjBxB,EAbf,SAae,MAAa;;;ACV5B,MAAM,cAAc;AAAA,IAEP,WAAW,EAAE,KAAK;AAAA,IACnB,SAAS,EAAE,KAAK;AAAA,IAChB,cAAc,EAAE,KAAK;AAAA,IACrB,MAAM,EAAE,KAAK;AAAA,IACX,UAAU,EAAE,KAAK;AAAA,IAClB,aAAa,EAAE,KAAK;AAAA,IACpB,YAAY,EAAE,KAAK;AAAA,IAClB,WAAW,EAAE,KAAK;AAAA,IAGjB,eAAe,EAAE,KAAK;AAAA,IACvB,WAAW,EAAE,KAAK;AAAA,IAGtB,aAAa,EAAE,KAAK;AAAA,IACrB,cAAc,EAAE,KAAK;AAAA,IAGhB,SAAS,EAAE,KAAK;AAAA;AAG9B,MAAM,iBAAiB;AAAA,IACtB,MAAM;AAAA,IACN,SAAS;AAAA;AAGV,MAAI,WAAW;AAKf,6BAAoB;AAAA,IAApB,cAzCA;AAqDS,oBAAS;AAAA;AAAA,WAPV,WAAW;AACjB,UAAI,CAAC,KAAK,YAAY;AACrB,aAAK,aAAa,IAAI;AAAA;AAEvB,aAAO,KAAK;AAAA;AAAA,IAWb,KAAK,WAAwB;AAC5B,UAAI,KAAK,QAAQ;AAChB;AAAA;AAED,WAAK,YAAY,MAAM;AACtB,aAAK,gBAAgB,MAAM;AAC1B,eAAK,eAAe;AAAA;AAAA;AAAA;AAAA,IAcvB,WAA+B,QAAiD,OAAU;AACzF,UAAI,OAAO,KAAK,OAAO;AACvB,UAAI,CAAC,MAAM;AACV;AAAA;AAED,UAAI,kBAAkB,KAAK,SAAS;AAEnC,eAAO,MAAM;AAAA,iBAEL,kBAAkB,KAAK,OAAO;AACtC,eAAO,OAAO;AAAA,iBAEN,kBAAkB,KAAK,QAAQ;AAGvC,eAAO,UAAU,KAAK,OAAO,OAAO;AAAA,aAEhC;AACJ,gBAAQ,MAAM,0DAAa;AAAA;AAAA;AAAA,IAS7B,eAAmC,OAAwB,OAAU;AACpE,UAAI,OAAO,KAAK,OAAO;AACvB,UAAI,CAAC,MAAM;AACV;AAAA;AAED,YAAM,OAAO;AAAA;AAAA,IAId,YAAY,WAAqB;AAChC,UAAI,WAAW;AAEf,UAAI,UAAU,MAAM;AACnB,YAAI,KAAK,eAAe,OAAO,QAAQ,KAAK;AAC5C,aAAK,OAAO,KAAK,IAAI,KAAK,QAAQ,OAAO,MAAM,CAAC,SAAS;AACxD,cAAI,MAAM;AACT,oBAAQ,IAAI,eAAe,IAAI;AAC/B,gBAAI,QAAQ,KAAK,eAAe;AAChC,gBAAI,SAAS,SAAS,IAAI;AACzB,yBAAW;AAAA;AAEZ;AAAA,iBACM;AACN,gBAAI,YAAY,GAAG;AAClB;AACA;AAAA;AAED;AACA;AAAA;AAAA;AAAA;AAIH;AAAA;AAAA,IAGD,gBAAgB,SAAsB;AAErC,UAAI,KAAK,WAAW,QAAQ,KAAK;AACjC,UAAI,UAAU,MAAM;AACnB,aAAK,OAAO,KAAK,IAAI,KAAK,QAAQ,OAAO,MAAM,CAAC,SAAS;AACxD,cAAI,MAAM;AACT,iBAAK,UAAU;AACf,uBAAW;AAAA,iBACL;AACN,uBAAW,MAAM;AAChB;AAAA,eACE;AAAA;AAAA;AAAA;AAKN;AAAA;AAAA,IAED,UAAU,OAAc;AAEvB,iBAAW,YAAY,OAAO;AAC7B,YAAI,UAAU,SAAS;AACvB,YAAI,CAAC,SAAS;AACb,kBAAQ,MAAM,8CAAW,SAAS,KAAK,SAAS;AAChD;AAAA;AAED,gBAAQ,IAAI,oCAAqB,SAAS,OAAO,SAAS;AAE1D,mBAAW,YAAY,SAAS;AAC/B,cAAI,SAAS,QAAQ,eAAe;AACnC;AAAA;AAED,cAAI,aAAa,SAAS;AAC1B,cAAI,CAAC,YAAY;AAChB,oBAAQ,MAAM,wCAAU,SAAS,MAAM,SAAS;AAChD;AAAA;AAED,cAAI,CAAC,YAAY,SAAS,OAAO;AAChC,oBAAQ,MAAM,gEAAc,SAAS,MAAM,SAAS;AACpD;AAAA;AAED,kBAAQ,IAAI,8BAAU,SAAS;AAC/B,sBAAY,SAAS,MAAM,MAAM,WAAW;AAAA;AAE7C,gBAAQ,IAAI;AAAA;AAAA;AAAA,IAKd,eAAe,SAAsB;AACpC,cAAQ,IAAI,kBAAkB;AAE9B,UAAI,UAAoB;AACxB,iBAAW,OAAO,aAAa;AAC9B,YAAI,YAAY,KAAK,OAAO,IAAI;AAC/B;AAAA;AAED,gBAAQ,KAAK,YAAY,KAAK;AAAA;AAE/B,cAAQ,IAAI,0BAA0B;AAEtC,UAAI,UAAU,MAAM;AACnB,aAAK,OAAO,KAAK,SAAS,KAAK,QAAQ,OAAO,MAAM,CAAC,cAAc;AAClE,cAAI,WAAW;AACd,oBAAQ,IAAI;AAEZ,uBAAW;AAAA,iBACL;AACN;AAAA;AAAA;AAAA;AAIH;AAAA;AAAA,IAED,OAAO,OAAiB;AACvB,UAAI,CAAE,UAAS,cAAc;AAC5B,eAAO;AAAA;AAER,UAAI,OAAO,YAAY,OAAO;AAC9B,UAAI,CAAC,MAAM;AACV,eAAO;AAAA;AAER,aAAO;AAAA;AAAA;AAxLT;AAIgB,EAJhB,cAIgB,aAA4B;AA2LrC,MAAI,cAAc,cAAc;;;AC/NvC,kCAAwC,SAAQ;AAAA,IA4CrC,cAAoB;AAE7B,YAAM;AAEN,WAAK,YAAY,QAAQ,MAAM,MAAM;AAEpC,oBAAY;AACZ,sBAAc,SAAS,YAAY,QAAQ,QAAQ;AAAA;AAGpD,WAAK,UAAU,UAAU,QAAQ,MAAM,MAAM;AAE5C,sBAAc,SAAS,UAAU,QAAQ;AACzC,oBAAY;AAAA;AAGb,WAAK,UAAU,cAAc,QAAQ,MAAM,MAAM;AAEhD,sBAAc,SAAS,UAAU,QAAQ;AACzC,oBAAY;AAAA;AAEb,WAAK;AAAA;AAAA,IAMN,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK;AAEL,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAAA;AAAA;AAAA,IAG9C,aAAa;AACZ,kBAAY,WAAW,KAAK,YAAY,aAAa;AACrD,kBAAY,eAAe,KAAK,UAAU,WAAW;AAAA;AAAA,IAI9C,gBAAsB;AAG7B,WAAK,UAAU,UAAU;AACzB,WAAK,YAAY,UAAU,UAAU;AACrC,UAAI,WAAW,CAAC,UAAU;AACzB,gBAAQ,IAAI,YAAY;AAExB,aAAK,YAAY;AAEjB,aAAK;AAAA;AAIN,UAAI,cAAc,SAAS,gBAAgB;AAC1C,sBAAc,SAAS,eAAe,IAAI,gBAAgB;AAAA,UACzD,YAAY,aAAa;AAAA,UAEzB,MAAM;AAAA,WAEJ,QAAQ,MAAM,CAAC,SAAS;AAI1B,eAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AAEpD,eAAK,YAAY;AACjB,mBAAS;AAAA;AAIV,aAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AAAA,aAErD;AACJ,iBAAS;AAAA,UAER,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,QAAQ;AAAA,YACP,YAAY;AAAA,cACX,SAAS;AAAA,cAET,gBAAgB;AAAA;AAAA,YAEjB,gBAAgB;AAAA,cAAC;AAAA,gBAChB,UAAU;AAAA,gBACV,cAAc;AAAA,gBACd,YAAY;AAAA,gBACZ,UAAU;AAAA,gBACV,SAAS;AAAA;AAAA,cASV;AAAA,gBACC,UAAU;AAAA,gBACV,cAAc;AAAA,gBACd,YAAY;AAAA,gBACZ,UAAU;AAAA,gBACV,SAAS;AAAA;AAAA,cASV;AAAA,gBACC,UAAU;AAAA,gBACV,cAAc;AAAA,gBACd,YAAY;AAAA,gBACZ,UAAU;AAAA,gBACV,SAAS;AAAA;AAAA;AAAA,YAUV,gBAAgB;AAAA,cACf,UAAU;AAAA,cACV,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiBN,cAAc,KAAa,OAAe,MAA0B;AAE3E,cAAQ,IAAI,sCAAsC;AAElD,UAAI,KAAK,eAAe,KAAK,eAAe,QAAQ,GAAG;AAEtD;AAAA;AAED,cAAQ,IAAI,uBAAuB;AACnC,WAAK,cAAc,QAAQ;AAE3B,UAAI,WAAW;AAEf,UAAI,WAAW,KAAK,UAAU,KAAK,aAAa;AAEhD,UAAI,CAAC,CAAC,UAAU;AAEf,YAAI,SAAS,GAAG;AAEf,mBAAS,WAAW,gBAAgB;AAAA,mBAE1B,SAAS,GAAG;AAEtB,mBAAS,WAAW,gBAAgB;AAAA,mBAE1B,SAAS,GAAG;AAEtB,mBAAS,WAAW,gBAAgB;AAAA,eAE9B;AAEN,mBAAS,WAAW,gBAAgB;AAAA;AAIrC,iBAAS,UAAU,OAAO,SAAS,OAAO;AAE1C,iBAAS,UAAU,OAAO,SAAS;AAEnC,iBAAS,WAAW,OAAO,SAAS,MAAM;AAE1C,YAAI,UAAU;AACd,YAAI,SAAS,UAAU,SAAS,OAAO,QAAQ,WAAW,GAAG;AAC5D,oBAAU,SAAS;AAAA;AAEpB,iBAAS,eAAe,MAAM;AAE9B,YAAI,SAAS,aAAa,MAAM;AAC/B,mBAAS,gBAAgB,gBAAgB;AACzC,mBAAS,WAAW,OAAO,SAAS,UAAU;AAAA,eAE1C;AACJ,mBAAS,gBAAgB,gBAAgB;AAAA;AAAA;AAM3C,UAAI,UAAU,YAAW,eAAe;AACxC,WAAK,UAAU,CAAC;AAChB,UAAI,SAAS;AACZ,aAAK,MAAM,KAAK,QAAQ,KAAK,MAAM,MAAM;AAIxC,eAAK,UAAU;AACf,eAAK,IAAI,KAAK;AACd,eAAK,MAAM,GAAG,MAAM,EAAE,GAAG,KAAK;AAAA;AAAA;AAAA;AAAA,IAK1B,SAAe;AACrB,cAAQ,IAAI;AAEZ,UAAI,CAAC,KAAK,eAAe,KAAK,YAAY,WAAW;AAAO;AAE5D,cAAQ,IAAI;AAEZ,WAAK,UAAU,UAAU;AACzB,WAAK,UAAU,oBAAoB,gBAAgB;AAEnD,UAAI,KAAK,UAAU,KAAK,SAAS,kBAAkB,KAAK,UAAU,KAAK,SAAS,iBAAiB,GAAG;AACnG,aAAK,YAAY,UAAU,UAAU;AAErC,YAAI,cAAc,KAAK,UAAU,KAAK,SAAS,iBAAiB,IAAI,OAAO;AAC3E,YAAI,eAAe,GAAG;AACrB,eAAK,YAAY,UAAU,OAAO;AAAA,eAE9B;AACJ,eAAK,YAAY,UAAU,OAAO,QAAQ,WAAW,oBAAoB,cAAc,MAAO;AAC9F,eAAK,MAAM,KAAK,KAAM,MAAM,KAAK;AAAA;AAAA;AAWnC,WAAK,YAAY,SAAS,OAAO,OAAO,KAAK,UAAU,KAAK,SAAS,MAAM,YAAY;AACvF,WAAK,YAAY,YAAY,OAAO,OAAO,KAAK,UAAU,KAAK,SAAS,aAAa,YAAY;AAEjG,kBAAW;AAEX,WAAK,UAAU,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,CAAC,YAAW,cAAc;AAEtG,WAAK,UAAU;AAEf,WAAK,UAAU,WAAW,CAAC,CAAC,KAAK,UAAU,KAAK,eAAe,KAAK,UAAU,KAAK,aAAa,SAAS;AAEzG,kBAAW;AACX,UAAI,KAAK,UAAU,KAAK,gBAAgB,KAAK,UAAU,KAAK,aAAa,SAAS,KAC9E,KAAK,UAAU,KAAK,aAAa,UAAU,KAAK,UAAU,KAAK,aAAa,QAAQ;AACvF,YAAI,QAAQ,KAAK,UAAU,KAAK,aAAa,SAAS;AAEtD,YAAI,WAAW,KAAK,UAAU,KAAK,aAAa;AAEhD,aAAK,UAAU,SAAS,UAAU,SAAS,GAAG;AAE9C,aAAK,UAAU,SAAS,UAAU,OAAO,SAAS,OAAO;AAEzD,YAAI,SAAS,UAAU;AACtB,eAAK,UAAU,SAAS,UAAU,OAAO,SAAS;AAAA,eAE9C;AACJ,4BAAkB,YAAY,CAAC,UAAU;AACxC,iBAAK,UAAU,SAAS,UAAU,OAAO,MAAM;AAE/C,iBAAK,UAAU,SAAS,eAAe,MAAM,MAAM;AAAA,aACjD,MAAM;AACR,iBAAK,UAAU,SAAS,eAAe,MAAM;AAC7C,iBAAK,UAAU,SAAS,UAAU,OAAO;AAAA;AAAA;AAK3C,aAAK,UAAU,SAAS,WAAW,OAAO,SAAS,MAAM;AAEzD,YAAI,UAAU;AACd,YAAI,SAAS,UAAU,SAAS,OAAO,QAAQ,WAAW,GAAG;AAC5D,oBAAU,SAAS;AAAA;AAEpB,aAAK,UAAU,SAAS,eAAe,MAAM;AAAA,aAEzC;AACJ,aAAK,UAAU,SAAS,UAAU,SAAS,KAAK;AAChD,aAAK,UAAU,SAAS,UAAU,OAAO;AAGzC,aAAK,UAAU,SAAS,WAAW,OAAO,KAAK,aAAa,WAAW;AAEvE,0BAAkB,YAAY,CAAC,UAAU;AACxC,eAAK,UAAU,SAAS,UAAU,OAAO,MAAM;AAE/C,eAAK,UAAU,SAAS,eAAe,MAAM,MAAM;AAAA,WACjD,MAAM;AACR,eAAK,UAAU,SAAS,eAAe,MAAM;AAAA;AAAA;AAAA;AAAA,IASxC,qBAAqB;AAE5B,UAAI,cAAc,KAAK,UAAU,KAAK,SAAS,iBAAiB,IAAI,OAAO;AAE3E,WAAK,YAAY,UAAU,OAAO,QAAQ,WAAW,oBAAoB,cAAc,MAAO;AAAA;AAAA,IAGxF,SAAe;AAErB,cAAQ,IAAI;AAEZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,SAAS;AAAA;AAAA;AA5XtB;AA+LgB,EA/LhB,WA+LgB,cAAc;;;AChM9B,mCAA0C,cAAc;AAAA,IAAxD,cARA;AAQA;AAMS,2BAAgB;AAEhB,uBAAY;AAEZ,yBAAc;AAAA;AAAA,IAuDZ,cAAoB;AAE7B,YAAM;AAEN,WAAK,QAAQ,QAAQ,MAAM,MAAM;AAEhC,aAAK,cAAc;AAEnB,aAAK,YAAY;AAAA;AAAA;AAAA,IAOnB,iBAAuB;AAEtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE7B,aAAK,gBAAgB,KAAK,YAAY;AAEtC,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,QAAQ,QAAQ,KAAK,cAAc;AAExC,aAAK;AAAA;AAAA;AAAA,IAIC,mBAAyB;AAEhC,oBAAc,SAAS,eAAe,IAAI,kBAAkB;AAAA,QAG3D,OAAO,KAAK,cAAc;AAAA,SAGxB,QAAQ,MAAM,CAAC,SAAS;AAE1B,aAAK,eAAe;AAEpB,sBAAc,SAAS,eAAe,IAAI,gBAAgB;AAAA,UACzD,YAAY,aAAa;AAAA,UAEzB,MAAM;AAAA,WAGJ,QAAQ,MAAM,CAAC,UAAS;AAE1B,eAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AAEpD,eAAK,YAAY;AAEjB,eAAK,YAAY;AAEjB,eAAK,gBAAgB;AAErB,eAAK;AAAA;AAAA;AAIP,WAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AAAA;AAAA,IAMlD,iBAAiB,KAAY,SAAuB;AAE3D,cAAQ,IAAI,KAAK;AAEjB,wBAAkB,mBAAmB;AAAA;AAAA,IAU9B,cAAc,OAAe,KAAyB;AAE7D,cAAQ,IAAI,yBAAyB;AAErC,UAAI,WAAW;AAEf,UAAI,WAAW,KAAK,UAAU,KAAK,aAAa;AAEhD,UAAI,CAAC,CAAC,UAAU;AAEf,YAAI,SAAS,GAAG;AAEf,mBAAS,OAAO,gBAAgB;AAAA,mBAEtB,SAAS,GAAG;AAEtB,mBAAS,OAAO,gBAAgB;AAAA,mBAEtB,SAAS,GAAG;AAEtB,mBAAS,OAAO,gBAAgB;AAAA,eAE1B;AAEN,mBAAS,OAAO,gBAAgB;AAAA;AAGjC,YAAI,gBAAgB,KAAK,UAAU,KAAK,aAAa,SAAS;AAE9D,YAAI,iBAAiB,OAAO;AAC3B,mBAAS,SAAS,gBAAgB;AAAA,eAE9B;AACJ,mBAAS,SAAS,gBAAgB;AAAA;AAGnC,iBAAS,UAAU,OAAO,SAAS,OAAO;AAE1C,iBAAS,UAAU,OAAO,SAAS;AAEnC,iBAAS,WAAW,OAAO,SAAS,MAAM;AAE1C,iBAAS,eAAe,MAAM,SAAS;AAAA;AAAA;AAAA,IAOjC,kBAA0B;AACjC,UAAI,gBAAgB,KAAK,UAAU,KAAK,aAAa,SAAS;AAE9D,UAAI,gBAAgB;AAEpB,eAAS,IAAI,gBAAgB,GAAG,IAAI,GAAG,KAAK;AAC3C,YAAI,WAAW,KAAK,UAAU,KAAK,aAAa;AAEhD,YAAI,SAAS,aAAa,MAAM;AAC/B,0BAAgB;AAChB;AAAA;AAAA;AAIF,aAAO,gBAAgB;AAAA;AAAA,IAGjB,SAAe;AAErB,UAAI,KAAK,YAAY,aAAa;AAAO;AAEzC,UAAI,KAAK,iBAAiB;AAAO;AAEjC,UAAI,KAAK,aAAa;AAAM;AAE5B,cAAQ,IAAI;AAEZ,UAAI,MAAM,KAAK;AAEf,UAAI,OAAO,GAAG;AACb,aAAK,kBAAkB,gBAAgB;AACvC,aAAK,WAAW,OAAO,OAAO,KAAK,UAAU,KAAK,aAAa,OAAO,YAAY;AAAA,aAE9E;AACJ,aAAK,kBAAkB,gBAAgB;AACvC,aAAK,WAAW,OAAO,OAAO,IAAI,YAAY;AAAA;AAG/C,UAAI,gBAAgB,KAAK,UAAU,KAAK,aAAa,SAAS;AAE9D,UAAI,WAAW,KAAK,UAAU,KAAK,aAAa,gBAAgB;AAEhE,cAAQ,IAAI,oDAAoD;AAEhE,UAAI;AAEH,aAAK,cAAc,OAAO,SAAS,UAAU;AAC7C,gBAAQ,IAAI;AACZ,aAAK,WAAW,OAAO,SAAS,SAAS,UAAU,WAAW,YAAY;AAC1E,gBAAQ,IAAI;AACZ,aAAK,WAAW,MAAM,SAAS,UAAU;AACzC,gBAAQ,IAAI;AACZ,aAAK,cAAc,QAAQ,MAAM,KAAK,kBAAkB,CAAC,SAAS,UAAU;AAE5E,gBAAQ,IAAI;AAGZ,aAAK,cAAc,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,MAAM;AAEtF,gBAAQ,IAAI;AACZ,aAAK,cAAc;AAEnB,gBAAQ,IAAI;AACZ,aAAK,cAAc,WAAW,KAAK,UAAU,KAAK,aAAa;AAE/D,gBAAQ,IAAI,KAAK,cAAc,UAAU,iBAAiB,KAAK;AAAA,eAMzD,GAAP;AACC,gBAAQ,IAAI,6CAA6C;AAAA;AAG1D,WAAK,YAAY;AAAA;AAAA,IAIX,SAAe;AAErB,cAAQ,IAAI;AAEZ,UAAI,CAAC,CAAC,KAAK,iBAAiB,CAAC,CAAC,KAAK,cAAc,UAAU,CAAC,CAAC,KAAK,cAAc,UAAU;AACzF,aAAK,cAAc,SAAS,KAAK,KAAK,cAAc,QAAQ,KAAK;AAAA;AAAA;AAAA;;;ACzRpE,yBAAgC;AAAA,WAEjB,UAAe;AAK5B,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,SAAS,KAAK;AAChD,WAAK,gBAAgB,aAAa,cAAc,KAAK;AACrD,WAAK,gBAAgB,aAAa,YAAY,KAAK;AACnD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AAKpD,WAAK,gBAAgB,aAAa,YAAY,KAAK;AACnD,WAAK,gBAAgB,aAAa,eAAe,KAAK;AACtD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AACpD,WAAK,gBAAgB,aAAa,UAAU,KAAK;AACjD,WAAK,gBAAgB,aAAa,YAAY,KAAK;AACnD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AAAA;AAAA;;;AClCtD,sCAA6C,KAAK,QAAQ;AAAA,WAM3C,iBAAiC;AAC9C,aAAyB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGpD,cAAmB;AAC5B,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,aAA+B,KAAK,WAAW;AAAA;AAAA;AARvC,EAJf,gBAIe,MAAa;;;ACJ5B,0CAAiD,KAAK,QAAQ;AAAA,WAK/C,iBAAqC;AAClD,aAA6B,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGxD,cAAmB;AAC5B,WAAK,cAA4B,KAAK,WAAW;AAAA;AAAA;AAPpC,EAHf,oBAGe,MAAa;;;ACH5B,sCAA6C,KAAK,WAAW;AAAA,WAQ9C,iBAAiC;AAC9C,aAAyB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGpD,cAAmB;AAC5B,WAAK,OAAqB,KAAK,WAAW;AAC1C,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,aAA+B,KAAK,WAAW;AAAA;AAAA;AAVvC,EANf,gBAMe,MAAa;;;ACHrB,MAAK;AAAL,YAAK,WAAL;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,KAPQ;AAUZ,MAAM,WAAW;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAEJ,qCAA4C,gBAAgB;AAAA,IAGxD,cAAc;AACV,YAAM;AACN,WAAK;AACL,WAAK;AAAA;AAAA,IAET,mBAAmB;AACf,WAAK;AACL,YAAM;AAAA;AAAA,IAEV,OAAO;AACH,WAAK,UAAU;AACf,WAAK,KAAK,UAAU;AACpB,iBAAW,YAAY,MAAM,MAAM;AAC/B,aAAK,KAAK,UAAU;AAAA;AAAA;AAAA,IAI5B,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,OAAO;AACH,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,KAAK,UAAU;AACpB,iBAAW,aAAa,MAAM,MAAM;AAChC,aAAK,UAAU;AAAA;AAAA;AAAA,IAIvB,WAAW;AACP,UAAI,YAAY,MAAM;AAClB,aAAK;AACL,oBAAY;AAAA;AAGhB,WAAK,WAAW,QAAQ,MAAM;AAC9B,WAAK,QAAQ,QAAQ,MAAM;AAAA;AAAA,IAG/B,aAAa;AAAA;AAAA,IAGb,QAAQ,OAAiB;AAErB,UAAI,SAAS,SAAS,QAAQ;AAC1B,gBAAQ,MAAM,4DAAyB;AACvC;AAAA;AAEJ,cAAQ,IAAI,wBAAwB,OAAO,SAAS;AAEpD,WAAK,WAAW,OAAO,SAAS;AAChC,WAAK;AAAA;AAAA;;;AC5Eb,yCAAgD,KAAK,WAAW;AAAA,WASjD,iBAAoC;AACjD,aAA4B,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGvD,cAAmB;AAC5B,WAAK,OAAqB,KAAK,WAAW;AAC1C,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,SAAuB,KAAK,WAAW;AAC5C,WAAK,gBAA+B,KAAK,WAAW;AACpD,WAAK,kBAAoC,KAAK,WAAW;AAAA;AAAA;AAX5C,EAPf,mBAOe,MAAa;;;ACO5B,sCAA6C,mBAAmB;AAAA,IAK5D,cAAc;AACV,YAAM;AACN,WAAK;AAAA;AAAA,IAET,mBAAmB;AACf,WAAK;AACL,YAAM;AAAA;AAAA,IAIV,UAAU;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,OAAO;AACH,WAAK,UAAU;AACf,WAAK,KAAK,UAAU;AACpB,iBAAW,YAAY,MAAM,MAAM;AAC/B,aAAK,KAAK,UAAU;AAAA;AAAA;AAAA,IAG5B,OAAO;AACH,WAAK,UAAU;AAAA;AAAA,IAGnB,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,KAAK,UAAU;AACpB,iBAAW,aAAa,MAAM,MAAM;AAChC,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAKb,WAAW;AAEP,WAAK,WAAW,QAAQ,MAAM,MAAM;AAChC,oBAAY;AACZ,aAAK;AAAA;AAGT,WAAK,cAAc,QAAQ,MAAM,MAAM;AAEnC,oBAAY;AAEZ,YAAI,cAAe,KAAK,OAAe;AACvC,YAAI,aAAa;AACb,sBAAY;AAAA;AAGhB,aAAK,cAAc,CAAC,UAAkB;AAClC,kBAAQ,IAAI,eAAe;AAC3B,cAAI,aAAa;AACb,wBAAY;AAAA;AAGhB,eAAK,MAAM,MAAM;AACb,gBAAI,SAAS,GAAG;AACZ,sBAAQ,IAAI,0BAA0B,KAAK;AAE3C,mBAAK,MAAM,MAAM,mBAAmB,KAAK;AAAA,mBAGxC;AAED,oBAAM,YAAY;AAAA,gBACd,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS;AAAA,gBACrB,CAAC,CAAC,KAAK,CAAC,SAAS;AAAA,gBACjB,CAAC,CAAC,KAAK,CAAC,SAAS;AAAA,gBACjB,CAAC,CAAC,KAAK,CAAC,SAAS;AAAA,gBACjB,CAAC,CAAC,KAAK,CAAC,SAAS;AAAA,gBACjB,CAAC,CAAC,KAAK,CAAC,SAAS;AAAA;AAGrB,kBAAI,YAAY,SAAS;AAEzB,yBAAW,QAAQ,WAAW;AAC1B,2BAAW,QAAQ,KAAK,IAAI;AAExB,sBAAI,QAAQ,OAAO;AACf,gCAAY,KAAK;AACjB;AAAA;AAAA;AAGR,oBAAI,aAAa,SAAS,QAAQ;AAC9B;AAAA;AAAA;AAGR,mBAAK,MAAM,MAAM,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASrD,aAAa;AAAA;AAAA,IAKb,QAAQ,OAA4B,mBAAkC;AAClE,cAAQ,IAAI,2BAA2B;AACvC,WAAK,SAAS;AACd,WAAK,gBAAgB,OAAO,SAAQ,KAAG,MAAM,OAAO;AACpD,WAAK,mBAAmB;AACxB,WAAK,OAAO,QAAQ,MAAM,OAAO,MAAM;AACvC,WAAK;AAAA;AAAA,IAQT,cAAc,WAAoC;AAG9C,UAAI,KAAK,QAAQ,cAAc;AAC3B,aAAK,iBAAiB;AACtB,YAAI,kBAAkB,MAAM;AACxB,eAAK,MAAM,MAAM,MAAM;AACvB,eAAK,iBAAiB;AAAA;AAE1B,aAAK,MAAM,KAAK,KAAO,MAAM;AAE7B,sBAAc,SAAS,eAAe,IAAI,oBAAoB;AAAA,UAC1D,IAAI,KAAK,OAAO;AAAA,UAChB,QAAQ;AAAA,UACR,UAAU,cAAc;AAAA,WACzB,QAAQ,MACP,CAAC,SAAS;AACN;AACA,kBAAQ,IAAI,eAAe;AAC3B,cAAI,KAAK,QAAQ,GAAG;AAChB,gBAAI,QAAQ;AAEZ,gBAAG,KAAK,QAAQ,MAAM,KAAK,QAAQ,IAAG;AAClC,sBAAQ,KAAK;AACb,2BAAa,oBAAoB,KAAK,QAAQ,KAAK,YAAY,OAAO,KAAK;AAAA;AAE/E,yBAAa,UAAU;AACvB;AAAA;AAEJ,uBAAa,UAAU;AACvB,uBAAa,eAAe,cAAc;AAAA;AAAA,aAoB/C;AACH,kBAAU;AAAA;AAAA;AAAA;;;ACpMtB,yCAAgD,KAAK,WAAW;AAAA,WAQjD,iBAAoC;AACjD,aAA4B,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGvD,cAAmB;AAC5B,WAAK,OAAqB,KAAK,WAAW;AAC1C,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,SAAuB,KAAK,WAAW;AAC5C,WAAK,UAAyB,KAAK,WAAW;AAAA;AAAA;AAVjC,EANf,mBAMe,MAAa;;;ACI5B,wCAA+C,mBAAmB;AAAA,IAO9D,cAAc;AACV,YAAM;AACN,WAAK;AAAA;AAAA,IAET,OAAO;AAEH,WAAK;AACL,WAAK,UAAU;AACf,WAAK,KAAK,UAAU;AACpB,iBAAW,YAAY,MAAM,MAAM;AAC/B,aAAK,KAAK,UAAU;AAAA;AAAA;AAAA,IAG5B,OAAO;AACH,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAGT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,KAAK,UAAU;AACpB,iBAAW,aAAa,MAAM,MAAM;AAChC,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAGb,WAAW;AAMP,WAAK,WAAW,QAAQ,MAAM,MAAM;AAChC,aAAK;AACL,oBAAY;AAAA;AAGhB,WAAK,QAAQ,QAAQ,MAAM,MAAM;AAC7B,aAAK,MAAM,MAAM;AACb,eAAK,MAAM,MAAM;AAAA;AAErB,oBAAY;AAAA;AAAA;AAAA,IAMpB,aAAa;AAAA;AAAA,IAIb,QAAQ,OAA4B;AAChC,cAAQ,IAAI,2BAA2B;AACvC,cAAQ,IAAI,4BAA4B,KAAK;AAC7C,WAAK,SAAS;AACd,WAAK,OAAO,QAAQ,MAAM,OAAO,MAAM;AACvC,WAAK;AAAA;AAAA;;;ACjFb,kCAAyC,KAAK,WAAW;AAAA,WAM1C,iBAA6B;AAC1C,aAAqB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,gBAA+B,KAAK,WAAW;AACpD,WAAK,gBAAkC,KAAK,WAAW;AAAA;AAAA;AAR1C,EAJf,YAIe,MAAa;;;ACD5B,iCAAwC,YAAY;AAAA,IAEhD,QAAQ,QAAgB,MAAc;AAElC,WAAK,cAAc,OAAO,WAAW,aAAa,QAAQ;AAC1D,WAAK,cAAc,MAAM;AAEzB,WAAK,UAAU;AAAA;AAAA;;;ACPvB,kCAAyC,KAAK,WAAW;AAAA,WAS1C,iBAA6B;AAC1C,aAAqB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,cAAgC,KAAK,WAAW;AACrD,WAAK,SAAuB,KAAK,WAAW;AAC5C,WAAK,gBAAsC,KAAK,WAAW;AAC3D,WAAK,kBAAoC,KAAK,WAAW;AACzD,WAAK,kBAAoC,KAAK,WAAW;AAAA;AAAA;AAX5C,EAPf,YAOe,MAAa;;;ACU5B,iCAAwC,YAAY;AAAA,IAApD,cAtBA;AAsBA;AAEI,oBAAuB;AAAA;AAAA,IAMvB,cAAc;AACV,YAAM;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAGT,mBAAmB;AACf,WAAK;AACL,YAAM;AAAA;AAAA,IAIV,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,QAAQ,OAAqB;AACzB,WAAK,SAAS;AACd,WAAK,WAAW,GAAG,MAAM;AACzB,WAAK,UAAU;AACf,WAAK,OAAO,QAAQ,MAAM,OAAO,MAAM;AACvC,WAAK,cAAc,QAAQ,KAAK,MAAM;AAEtC,WAAK,MAAM,GAAG,oBAAoB,MAAM,SAAS,MAAM,MAAM;AACzD,aAAK,WAAW;AAAA;AAAA;AAAA,IAIxB,WAAW;AAEP,WAAK,cAAc,QAAQ,MAAM,MAAM;AACnC,oBAAY;AACZ,gBAAQ,IAAI;AACZ,YAAG,QAAQ,yBAAwB;AAC/B;AAAA;AAMJ,YAAI,YAAY;AAAA,UACZ,IAAI,KAAK,OAAO;AAAA,UAEhB,OAAO,KAAK,OAAO;AAAA,UACnB,KAAK,KAAK,OAAO;AAAA,UACjB,OAAO,KAAK,OAAO;AAAA;AAGvB,aAAK,MAAM,MAAM,iBAAiB;AAAA;AAAA;AAAA,IAG1C,aAAa;AAAA;AAAA,IAIb,WAAW,MAAc,MAAe;AACpC,UAAI,CAAC,KAAK,QAAQ;AACd,gBAAQ,MAAM;AACd;AAAA;AAGJ,UAAI,QAAQ,QAAW;AACnB,aAAK,OAAO,QAAQ;AAAA,aAEnB;AACD,aAAK,OAAO,SAAS;AACrB,aAAK,OAAO,QAAQ;AAAA;AAExB,WAAK,YAAY,OAAO,SAAS,KAAK,KAAK,OAAO,OAAO;AAEzD,UAAI,YAAY,KAAK,OAAO,QAAQ;AACpC,UAAI,UAAU,KAAK,OAAO,UAAU,KAAK,KAAK,OAAO,OAAO,KAAK,OAAO;AACxE,WAAK,gBAAgB,UAAU,CAAC;AAChC,WAAK,gBAAgB,UAAU,aAAa,CAAC;AAC7C,WAAK,cAAc,UAAU,aAAa;AAAA;AAAA;;;AClGlD,+BAAqC,KAAK,WAAW;AAAA,WAgBtC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG5C,cAAmB;AAC5B,WAAK,OAAqB,KAAK,WAAW;AAC1C,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,oBAAsC,KAAK,WAAW;AAC3D,WAAK,eAAiC,KAAK,WAAW;AACtD,WAAK,aAA0B,KAAK,WAAW;AAC/C,WAAK,cAAgC,KAAK,WAAW;AACrD,WAAK,oBAAyC,KAAK,WAAW;AAC9D,WAAK,oBAAyC,KAAK,WAAW;AAC9D,WAAK,iBAAmC,KAAK,WAAW;AACxD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAlBxB,EAdf,SAce,MAAa;;;ACR5B,iCAAwC,SAAQ;AAAA,IAAhD,cAbA;AAaA;AAaY,yBAAc;AAAA;AAAA,IAGZ,cAAoB;AAE1B,YAAM;AAEN,cAAQ,IAAI;AAGZ,WAAK;AAAA;AAAA,IAMT,iBAAuB;AAEnB,YAAM;AAEN,UAAI,WAAW;AACf,UAAI,WAAW;AACf,UAAI,KAAK,eAAe;AACpB,mBAAW,KAAK;AAChB,mBAAW,KAAK;AAAA;AAEpB,WAAK,MAAM,WAAW,KAAK,OAAO,WAAW,KAAK;AAIlD,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAG1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK;AAAA;AAAA;AAAA,IA6Bb,UAAU;AACN,cAAQ,IAAI;AACZ,WAAK;AACL,WAAK,aAAa,KAAK,YAAY,SAAS,YAAY;AACxD,WAAK,aAAa,KAAK,YAAY,SAAS,YAAY;AAExD,WAAK;AACL,WAAK;AACL,WAAK,MAAM,GAAG,iBAAiB,MAAM,KAAK;AAC1C,WAAK,MAAM,GAAG,mBAAmB,MAAM,KAAK;AAC5C,WAAK,MAAM,GAAG,gBAAgB,MAAM,KAAK;AACzC,WAAK,MAAM,GAAG,WAAW,MAAM,MAAM;AACjC,gBAAQ,IAAI;AAEZ,sBAAc,SAAS,KAAK,WAAW,GAAG,GAAG;AAAA;AAAA;AAAA,IAOrD,aAAa;AACf,kBAAY,eAAe,KAAK,aAAa;AAAA;AAAA,IAE3C,SAAS;AAAA;AAAA,IAST,OAAO;AACH,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAET,OAAO;AACH,WAAK;AACL,WAAK,YAAY;AAAA;AAAA,IAErB,SAAS;AACL,WAAK;AAAA;AAAA,IAGT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,UAAU;AACN,WAAK,cAAc;AACnB,WAAK,MAAM,KAAK,KAAK,MAAM,KAAK;AAChC,WAAK;AACL,WAAK;AAEL,WAAK,MAAM,MAAM;AAAA;AAAA,IAQrB,WAAW;AACP,cAAQ,IAAI;AASZ,WAAK,YAAY,QAAQ,MAAM,MAAM;AAEjC,gBAAQ,IAAI;AACZ,aAAK,MAAM,MAAM;AACjB,oBAAY;AAAA;AAAA;AAAA,IAIpB,aAAa;AAAA;AAAA,IAGb,cAAc;AACV,WAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AAEzD,WAAK,WAAW;AAChB,WAAK,iBAAiB,CAAC,cAAc;AAGjC,aAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AACpD,aAAK,YAAY;AACjB,aAAK,aAAa,UAAU,aAAa,UAAU,YAAY;AAC/D,aAAK,kBAAkB,UAAU,KAAK,aAAa;AACnD,YAAI,CAAC,WAAW;AACZ;AAAA;AAEJ,YAAI,UAAU,YAAY,OAAO;AAC7B,cAAI,QAAQ,IAAI;AAChB,cAAI,OAAO,MAAM;AACjB,cAAI,OAAO,MAAM;AACjB,cAAI,QAAQ,MAAM,aAAa;AAC/B,cAAI,OAAO,MAAM;AACjB,cAAI,UAAU,GAAG,QAAS,SAAQ,KAAK,MAAM,MAAM,SAAU,QAAO,KAAK,MAAM,MAAM,QAAQ,UAAU,YAAY;AACnH,kBAAQ,IAAI,WAAW;AACvB,cAAI,YAAY,IAAI,KAAK,SAAS;AAClC,cAAI,aAAa,MAAM;AAEnB,yBAAa,KAAK,KAAK,KAAK;AAAA;AAEhC,eAAK,cAAc;AACnB,kBAAQ,IAAI,eAAe,KAAK;AAAA;AAEpC,aAAK,WAAW;AAChB,iBAAS,QAAQ,GAAG,QAAQ,UAAU,WAAW,QAAQ,SAAS;AAC9D,cAAI,WAAW,KAAK,WAAW;AAG/B,mBAAS,QAAQ,UAAU,WAAW;AAAA;AAAA;AAAA;AAAA,IAIlD,aAAa;AACT,UAAI,KAAK,cAAc,GAAG;AACtB,YAAI,OAAO,KAAK,cAAc,KAAK;AAEnC,YAAI,OAAO,GAAG;AACV,eAAK;AACL;AAAA;AAEJ,eAAQ,OAAO,MAAQ;AAEvB,YAAI,QAAQ,CAAC,IAAI,IAAI;AACrB,iBAAS,QAAQ,GAAG,QAAQ,GAAG,SAAS;AACpC,cAAI,KAAK;AACT,cAAI,QAAQ,GAAG;AACX,iBAAK,OAAO;AAAA;AAEhB,gBAAM,SAAU,MAAK,KAAK,MAAM,MAAM;AACtC,iBAAQ,OAAO,KAAM;AAAA;AAGzB,aAAK,aAAa,OAAO,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA;AAAA,IAIlE,kBAAkB,OAAY;AAG1B,WAAK,kBAAkB,QAAQ,OAAO,KAAK;AAAA;AAAA,IAE/C,oBAAoB,OAA4B;AAG5C,WAAK,kBAAkB,QAAQ;AAC/B,WAAK,MAAM,MAAM,oBAAoB,MAAM;AAC3C,WAAK,MAAM,MAAM;AAAA;AAAA,IAErB,iBAAiB,WAAqB;AAClC,cAAQ,IAAI,oBAAoB;AAEhC,WAAK,eAAe,QAAQ;AAAA;AAAA,IAGhC,kBAAkB;AACd,UAAI,WAAW,CAAC,UAAU;AAKtB,gBAAQ,IAAI,yBAAyB;AACrC,YAAI,QAAQ,MAAM;AAGlB,YAAI,WAAW,QAAQ;AACvB,aAAK,WAAW,UAAU;AAC1B,aAAK,WAAW,UAAU;AAC1B,YAAI,UAAU;AACV,eAAK,WAAW,OAAO,KAAK;AAAA;AAAA;AAGpC,WAAK,MAAM,GAAG,mBAAmB,MAAM;AAAA;AAAA,IAO3C,iBAAiB,WAoBL;AAER,UAAI,YAAY;AAAA,QAAC;AAAA,UAEb,IAAI;AAAA,UACJ,OAAO;AAAA,UACP,OAAO;AAAA,UACP,iBAAiB;AAAA,UACjB,QAAQ;AAAA,UACR,UAAU;AAAA,UACV,MAAM;AAAA,UAEN,cAAc;AAAA,UACd,OAAO;AAAA;AAAA,QAEX;AAAA,UAEI,IAAI;AAAA,UACJ,OAAO;AAAA,UACP,OAAO;AAAA,UACP,iBAAiB;AAAA,UACjB,QAAQ;AAAA,UACR,UAAU;AAAA,UACV,MAAM;AAAA,UAEN,cAAc;AAAA,UACd,OAAO;AAAA;AAAA;AAGX,UAAI,WAAW,CAAC,UAA4B;AAGxC,YAAI,YAAY;AAAA,UACZ,YAAY;AAAA,UACZ,aAAa;AAAA,YACT,OAAO;AAAA,YACP,MAAM;AAAA;AAAA;AAGd,mBAAW,UAAU,OAAO;AACxB,cAAI,MAAM;AAAA,YAEN,OAAO,KAAK,eAAe,OAAO;AAAA,YAElC,OAAO,KAAK,eAAe,OAAO;AAAA,YAGlC,SAAS,KAAK,OAAO;AAAA,YACrB,OAAO,KAAK,OAAO;AAAA,YACnB,SAAS,KAAK,OAAO;AAAA,YACrB,MAAM,KAAK,eAAe,OAAO;AAAA,YACjC,QAAQ,KAAK,eAAe,OAAO;AAAA;AAKvC,oBAAU,WAAW,KAAK;AAAA;AAE9B,gBAAQ,IAAI,sBAAsB;AAClC,kBAAU;AAAA;AAEd,UAAI,cAAc,SAAS,gBAAgB;AAGvC,sBAAc,SAAS,eAAe,IAAI,4BAA4B,EAAE,YAAY,GAAG,UAAU,OAAO,QAAQ,MAC5G,CAAC,SAAS;AAEN,kBAAQ,IAAI,gBAAgB;AAC5B,cAAI,KAAK,QAAQ,GAAG;AAChB;AAAA;AAGJ,qBAAW,WAAW,gBAAgB,KAAK,KAAK,UAAU;AAG1D,mBAAS,KAAK,KAAK;AAAA;AAAA,aAwB1B;AAED,iBAAS;AAAA;AAAA;AAAA,IAIjB,eAAe,IAAS;AACpB,UAAI,OAAO,MAAM,UAAU;AACvB,eAAO;AAAA,iBACA,OAAO,MAAM,UAAU;AAC9B,eAAO,OAAO;AAAA;AAElB,cAAQ,MAAM,gDAAuB;AACrC,aAAO;AAAA;AAAA;;;ACtZf,yBAAgC;AAAA,WACjB,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,gBAAkB,KAAK;AACzD,WAAK,gBAAgB,aAAa,eAAe,KAAK;AACtD,WAAK,gBAAgB,aAAa,kBAAkB,KAAK;AACzD,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,gBAAgB,KAAK;AACvD,WAAK,gBAAgB,aAAa,oBAAoB,KAAK;AAAA;AAAA;;;AClB7D,uCAA8C,KAAK,WAAW;AAAA,WAQ/C,iBAAkC;AAC/C,aAA0B,KAAK,UAAU,aAAa,YAAY;AAAA;AAAA,IAGzD,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,SAAsB,KAAK,WAAW;AAC3C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAVxB,EANf,iBAMe,MAAa;;;ACD5B,sCAA6C,iBAAiB;AAAA,IAWhD,cAAoB;AAE1B,YAAM;AAAA;AAAA,IAQV,iBAAuB;AAEnB,YAAM;AAkBN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAI1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AAAA;AAAA;AAAA,IAMb,UAAU;AACN,WAAK,UAAU;AACf,WAAK;AACL,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,SAAS;AAWL,WAAK;AAAA;AAAA,IAET,SAAS;AAEL,WAAK;AAAA;AAAA,IAGT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAMxB,WAAW;AAAA;AAAA,IAgBX,aAAa;AAAA;AAAA,IAGb,cAAc;AAEV,WAAK,OAAO;AAGZ,cAAQ,MAAM;AAoBd,cAAQ,MAAM,oBAAoB,KAAK;AAEvC,WAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AAAA;AAAA;;;AC7IjE,2CAAkD,KAAK,WAAW;AAAA,WAQnD,iBAAsC;AACnD,aAA8B,KAAK,UAAU,aAAa,YAAY;AAAA;AAAA,IAG7D,cAAmB;AAC5B,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,gBAA+B,KAAK,WAAW;AACpD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,cAAgC,KAAK,WAAW;AAAA;AAAA;AAVxC,EANf,qBAMe,MAAa;;;ACI5B,0CAAiD,qBAAqB;AAAA,IAAtE,cAZA;AAYA;AAEI,oBAAgC;AAAA;AAAA,IAEhC,UAAU;AACN,WAAK;AACL,WAAK;AAAA;AAAA,IAGT,SAAS;AACL,WAAK;AAAA;AAAA,IAET,SAAS;AACL,WAAK;AAAA;AAAA,IAGT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,OAAO;AACH,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAET,OAAO;AACH,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAET,QAAQ,OAA8B;AAClC,WAAK,SAAS;AAEd,UAAI,SAAS;AACb,UAAI,MAAM,SAAS,SAAS,GAAG;AAC3B,YAAI,MAAM,SAAS,UAAU,GAAG;AAE5B,mBAAS,GAAG,MAAM,SAAS,MAAM,MAAM,SAAS;AAAA,eAG/C;AACD,mBAAS,KAAK,MAAM,SAAS;AAAA;AAAA;AAIrC,WAAK,WAAW,OAAO,SAAS,QAAQ;AAExC,UAAI,MAAM,OAAO;AACb,aAAK,WAAW,OAAO,MAAM;AAAA;AAKjC,UAAI,OAAO,MAAM,SAAS,UAAU;AAChC,aAAK,YAAY,OAAO,qBAAM,MAAM;AAAA,aAEnC;AACD,aAAK,YAAY,OAAO,KAAK,MAAM;AAAA;AAMvC,UAAI,CAAC,MAAM,WAAW,MAAM,WAAW,MAAM,MAAM,QAAQ,QAAQ,UAAU,GAAG;AAC5E,aAAK,cAAc,MAAM;AAAA,aAExB;AACD,aAAK,cAAc,MAAM,KAAK,MAAM;AAAA;AAAA;AAAA,IAM5C,gBAAgB,IAAY;AACxB,WAAK,IAAI,KAAK;AACd,WAAK;AACL,WAAK,MAAM,GAAG,MAAM,EAAE,GAAG,KAAK;AAAA;AAAA,IAElC,WAAW;AAAA;AAAA,IAMX,aAAa;AAAA;AAAA;;;AC5FjB,0CAAiD,KAAK,WAAW;AAAA,WAclD,iBAAqC;AAClD,aAA6B,KAAK,UAAU,aAAa,YAAY;AAAA;AAAA,IAG5D,cAAmB;AAC5B,WAAK,YAAY,KAAK,gBAAgB;AACtC,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,cAAgC,KAAK,WAAW;AACrD,WAAK,cAAgC,KAAK,WAAW;AACrD,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAhBxB,EAZf,oBAYe,MAAa;;;ACM5B,yCAAgD,oBAAoB;AAAA,IAApE,cApBA;AAoBA;AAgBI,oBAA+B;AAAA;AAAA,WAMxB,oBAAoB,qBAAgD,gBAA6B;AASpG,UAAI,CAAC,cAAc,SAAS,gBAAgB;AACxC,+BAAuB,oBAAoB;AAC3C,sBAAc,SAAS,UAAU,YAAY,oBAAoB;AAAA,UAC7D,IAAI;AAAA,UAAG,IAAI;AAAA,UAAG,cAAc;AAAA,YACxB,WAAW;AAAA,YACX,WAAW;AAAA,cACP,SAAS;AAAA,cACT,OAAO;AAAA;AAAA;AAAA;AAInB;AAAA;AAIJ,oBAAc,SAAS,eAAe,IAAI,sBAAsB;AAAA,QAC5D,KAAK,aAAa;AAAA,SACnB,QAAQ,MAAM,CAAC,SAAS;AAEvB,gBAAQ,IAAI,sBAAsB;AAClC,YAAI,QAAQ,KAAK,QAAQ,KAAK,KAAK,QAAQ,QAAQ,KAAK,QAAQ;AAChE,+BAAuB,oBAAoB;AAC3C,YAAI,OAAO;AACP,eAAK,gBAAgB;AACrB,cAAI,aAAa;AACjB,cAAI,aAAa;AACjB,cAAI,KAAK,QAAQ,GAAG;AAChB,yBAAa;AACb,gBAAI,KAAK,MAAM;AACX,2BAAa;AAAA,gBACT,SAAS,KAAK,KAAK;AAAA,gBACnB,OAAO,KAAK,KAAK;AAAA;AAAA;AAAA,qBAKpB,KAAK,QAAQ,MAAM;AACxB,yBAAa;AAAA,qBAGR,KAAK,QAAQ,MAAM;AACxB,yBAAa;AAAA;AAGjB,wBAAc,SAAS,UAAU,YAAY,oBAAoB;AAAA,YAC7D,IAAI;AAAA,YAAG,IAAI;AAAA,YAAG,cAAc;AAAA,cACxB,WAAW;AAAA,cACX,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAgBrB,cAAoB;AAE1B,YAAM;AACN,WAAK;AAAA;AAAA,IAOT,iBAAuB;AAEnB,YAAM;AAkBN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AACL,aAAK,QAAQ,KAAK,YAAY;AAAA;AAAA;AAAA,IAQtC,UAAU;AAGN,WAAK;AACL,WAAK;AAAA;AAAA,IAGT,SAAS;AAAA;AAAA,IAYT,SAAS;AACL,WAAK,MAAM,MAAM;AACjB,WAAK;AACL,yBAAmB,iBAAiB,mBAAmB;AAAA;AAAA,IAG3D,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,OAAO;AACH,WAAK;AAAA;AAAA,IAGT,WAAW;AAMP,WAAK,aAAa,QAAQ,MAAM,MAAM;AAClC,gBAAQ,IAAI;AAEZ,sBAAc,SAAS,KAAK,WAAW,GAAG,GAAG;AAE7C,oBAAY;AAAA;AAIhB,UAAI,MAAM;AACV,WAAK,aAAa,QAAQ,MAAM,MAAM;AAClC,YAAI,KAAK;AACL;AAAA;AAEJ,oBAAY;AACZ,gBAAQ,IAAI;AACZ,0BAAkB,qBAAqB,MAAM;AACzC,gBAAM;AAAA;AAAA;AAAA;AAAA,IAYlB,MAAM,WAAsB;AAAA;AAAA,IAW5B,aAAa;AAAA;AAAA,IAGb,QAAQ,OAA6B;AACjC,WAAK,SAAS;AAId,WAAK,UAAU,gBAAgB,MAAM;AACrC,UAAI,MAAM,aAAa,KAAK,MAAM,WAAW;AACzC,aAAK,YAAY,OAAO,SAAS,KAAK,MAAM,UAAU,SAAS;AAC/D,aAAK,YAAY,OAAO,MAAM,UAAU;AAAA;AAAA;AAAA;;;ACxPpD,+BAAqC,KAAK,WAAW;AAAA,WAOtC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,YAAY;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,gBAA+B,KAAK,WAAW;AACpD,WAAK,aAA4B,KAAK,WAAW;AAAA;AAAA;AATpC,EALf,SAKe,MAAa;;;ACC5B,qCAA4C,SAAQ;AAAA,IAMzC,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAQP,iBAAuB;AAEtB,YAAM;AAkBN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAC7B,aAAK,WAAW,QAAQ,MAAM,MAAM;AACnC,eAAK,YAAY;AAAA;AAElB,aAAK,eAAe,QAAQ,MAAM,MAAM;AACvC,wBAAc,SAAS,UAAU,YAAY;AAAA;AAE9C,aAAK,cAAc,QAAQ,MAAM,MAAM;AACtC,wBAAc,SAAS,UAAU,YAAY;AAAA;AAAA;AAAA;AAAA;;;AChDjD,6BAAoC;AAAA,WACrB,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,eAAe,KAAK;AACtD,WAAK,gBAAgB,aAAa,mBAAmB,KAAK;AAC1D,WAAK,gBAAgB,aAAa,gBAAgB,KAAK;AACvD,WAAK,gBAAgB,aAAa,oBAAoB,KAAK;AAAA;AAAA;;;ACX7D,+BAAqC,KAAK,WAAW;AAAA,WAMtC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,oBAAoB;AAAA;AAAA,IAGxD,cAAmB;AAC5B,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,aAA4B,KAAK,WAAW;AAAA;AAAA;AARpC,EAJf,SAIe,MAAa;;;ACA5B,6CAAoD,SAAQ;AAAA,IAIjD,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAQP,iBAAuB;AAEtB,YAAM;AAeN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAC7B,aAAK,WAAW,QAAQ,MAAM,MAAM;AACnC,eAAK,YAAY;AAAA;AAElB,aAAK,eAAe,QAAQ,MAAM,MAAM;AACvC,6BAAmB,SAAS,GAAE;AAAA;AAAA;AAAA;AAAA;;;ACzClC,qCAA4C;AAAA,WAC7B,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,uBAAuB,KAAK;AAC9D,WAAK,gBAAgB,aAAa,mBAAmB,KAAK;AAAA;AAAA;;;ACN5D,+BAAsC,KAAK,WAAW;AAAA,WAWvC,iBAA0B;AACvC,aAAkB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG7C,cAAmB;AAC5B,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,eAAiC,KAAK,WAAW;AACtD,WAAK,oBAAsC,KAAK,WAAW;AAC3D,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,cAAgC,KAAK,WAAW;AAAA;AAAA;AAbxC,EATf,SASe,MAAa;;;ACH5B,8BAAqC,SAAS;AAAA,IAI1C,QAAQ,OAAyB;AAE7B,WAAK,aAAa,OAAO,KAAK,MAAM;AACpC,WAAK,kBAAkB,OAAO,KAAK,MAAM;AAAA;AAAA;;;AC6FjD,kCAAyB;AAAA,IAAzB,cA5GA;AA8GS,qBAAkB;AAIlB,sBAAW;AAEX,4BAAiB;AAEjB,0BAA8B;AAY9B,oBAAS;AAiIT,0BAAe;AAAA;AAAA,WAxIhB,WAAW;AACjB,UAAI,CAAC,KAAK,YAAY;AACrB,aAAK,aAAa,IAAI;AAAA;AAEvB,aAAO,KAAK;AAAA;AAAA,IAQb,KAAK,UAAkB,WAAwB;AAC9C,UAAI,KAAK,QAAQ;AAChB;AAAA;AAED,WAAK,UAAU;AAEf,WAAK,WAAW,KAAK;AACrB,WAAK,iBAAiB,KAAK;AAE3B,WAAK,IAAI,WAAW,EAAE,YAAY,kBAAkB;AAGpD,WAAK,MAAM,GAAG,kBAAkB,QAAQ,MAAM,KAAK;AACnD,WAAK,MAAM,GAAG,kBAAkB,QAAQ,MAAM,KAAK;AAGnD,WAAK;AACL,WAAK,SAAS;AAAA;AAAA,IASf,mBAAmB,QAAuB;AACzC,UAAI,KAAK,gBAAgB,QAAQ;AAChC;AAAA;AAED,WAAK,eAAe;AAAA;AAAA,IAGb,SAAS;AAChB,cAAQ,IAAI;AACZ,WAAK,WAAW,KAAK;AACrB,WAAK,iBAAiB,KAAK;AAC3B,WAAK;AAAA;AAAA,IAKE,SAAS;AAChB,cAAQ,IAAI;AACZ,WAAK;AACL,WAAK;AAAA;AAAA,IAON,eAAe;AACd,WAAK,IAAI;AAAA;AAAA,IAWV,aAAa;AACZ,WAAK,IAAI,cAAc,EAAE,MAAM,KAAK;AAAA;AAAA,IAKrC,eAAe;AACd,WAAK,IAAI,gBAAgB,EAAE,MAAM;AAAA;AAAA,IAKlC,eAAe;AACd,WAAK,IAAI;AAAA;AAAA,IAWV,aAAa,WAAmB;AAC/B,WAAK,IAAI,QAAQ,EAAE,MAAM,KAAK,cAAc,MAAM;AAAA;AAAA,IAKnD,aAAa,WAAyB,UAAkB,YAAoB,QAAiB;AAC5F,WAAK,IAAI,YAAY,EAAE,MAAM,WAAW,SAAS,UAAU,WAAW,YAAY,OAAO;AAAA;AAAA,IAK1F,QAAQ,SAAiB,SAAiB,YAAoB,WAAmB;AAChF,wBAAkB,YAAY,CAAC,UAAU;AACxC,aAAK,IAAI,OAAO,EAAE,MAAM,WAAW,UAAU,MAAM,UAAU,QAAQ,SAAS,QAAQ,SAAS,WAAW,YAAY,UAAU;AAAA;AAAA;AAAA,IAQ1H,WAAW;AAClB,UAAI,QAAU,MAAK,QAAQ,KAAK,YAAY,MAAQ;AACpD,WAAK,IAAI,QAAQ,EAAE,MAAM,WAAW,UAAU;AAAA;AAAA,IAKvC,mBAAmB;AAC1B,UAAI,MAAM,KAAK;AACf,UAAI,QAAU,OAAM,KAAK,kBAAkB,MAAQ;AACnD,WAAK,IAAI,cAAc,EAAE,UAAU;AACnC,WAAK,iBAAiB;AACtB,WAAK;AAAA;AAAA,IAGE,mBAAmB;AAC1B,UAAI,KAAK,cAAc;AACtB,qBAAa,KAAK;AAClB,aAAK,eAAe;AAAA;AAErB,WAAK,eAAe,WAAW,MAAM;AACpC,aAAK,eAAe;AACpB,aAAK;AAAA,SAEH,IAAI,KAAK;AAAA;AAAA,IASL,IAAmC,SAAY,OAAkC;AACxF,cAAQ,QAAQ,QAAQ;AACxB,YAAM,mBAAmB,KAAK;AAC9B,YAAM,YAAY;AAClB,WAAK,UAAU;AAAA;AAAA,IAIR,UAAU,OAA0B;AAI3C,YAAM,YAAY;AAClB,UAAI,UAAU;AACd,cAAQ,IAAI,8CAAW,KAAK,UAAU;AAEtC,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,WAAW,OAAO,QAAQ,MACnE,CAAC,SAAS;AACT,cAAI,KAAK,QAAQ,GAAG;AACnB;AACA,gBAAI,WAAW,GAAG;AAEjB;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAAA;AAAA;AAOJ;AAAA;AAAA;AA9MF;AAcgB,EAdhB,mBAcgB,aAAiC;AAuM1C,MAAI,mBAAmB,mBAAmB;;;AC/TjD,oCAA2C,KAAK,WAAW;AAAA,WAU5C,iBAA+B;AAC5C,aAAuB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGlD,cAAmB;AAC5B,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,cAA6B,KAAK,WAAW;AAClD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,YAAY,KAAK,gBAAgB;AAAA;AAAA;AAZzB,EARf,cAQe,MAAa;;;ACH5B,mCAA0C,cAAc;AAAA,IAIpD,cAAc;AACV,YAAM;AACN,WAAK,YAAY,QAAQ,MAAM,MAAM;AACjC,aAAK,kBAAkB,KAAK,eAAe,KAAK,WAAW;AAC3D,oBAAY;AACZ,yBAAiB,aAAa,UAAU,KAAK,KAAK,WAAW,SAAS,KAAK,KAAK,WAAW,WAAW,KAAK,KAAK,WAAW;AAAA;AAAA;AAAA,IAOnI,QAAQ,OAAsB,iBAA8C;AACxE,WAAK,aAAa;AAClB,WAAK,iBAAiB;AACtB,WAAK,WAAW,MAAM,KAAK,MAAM;AACjC,WAAK,UAAU,OAAO,KAAK,MAAM;AAEjC,WAAK,WAAW,OAAO,WAAM,MAAM;AAAA;AAAA,IAIvC,WAAW;AACP,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;AC/B5B,iCAAwC,KAAK,WAAW;AAAA,WAWzC,iBAA4B;AACzC,aAAoB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG/C,cAAmB;AAC5B,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,aAAwB,KAAK,WAAW;AAC7C,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,WAA0B,KAAK,WAAW;AAC/C,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,YAAY,KAAK,gBAAgB;AAAA;AAAA;AAbzB,EATf,WASe,MAAa;;;ACX5B,0CAAiD,KAAK,WAAW;AAAA,WAWlD,iBAAqC;AAClD,aAA6B,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGxD,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,SAAuB,KAAK,WAAW;AAC5C,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAbxB,EATf,oBASe,MAAa;;;ACF5B,yCAAgD,oBAAoB;AAAA,WAEzD,KAAK,QAGT;AAEC,oBAAc,SAAS,UAAU,QAAQ,oBAAoB,EAAE,cAAc;AAAA;AAAA,IAMvE,cAAoB;AAE1B,YAAM;AACN,WAAK,QAAQ,QAAQ,MAAM,MAAM;AAC7B,aAAK,YAAY,KAAK,SAAS,MAAM;AACjC,eAAK,YAAY;AAAA;AAErB,oBAAY;AAAA;AAAA;AAAA,IASpB,iBAAuB;AAInB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK,QAAQ,KAAK,YAAY;AAAA;AAAA;AAAA,IAMtC,QAAQ,OAGL;AACC,WAAK,WAAW,OAAO,MAAM,KAAK,QAAQ;AAC1C,WAAK,QAAQ,QAAQ,MAAM,KAAK;AAChC,WAAK,WAAW,MAAM;AAAA;AAAA,IAEnB,SAAe;AAClB,cAAQ,IAAI;AAAA;AAAA,IAGT,SAAe;AAElB,cAAQ,IAAI;AACZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;AC1E5B,wCAA+C,KAAK,WAAW;AAAA,WAUhD,iBAAmC;AAChD,aAA2B,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGtD,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,gBAA+B,KAAK,WAAW;AACpD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,SAAwB,KAAK,WAAW;AAC7C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAZxB,EARf,kBAQe,MAAa;;;ACH5B,uCAA8C,kBAAkB;AAAA,IAAhE,cAPA;AAOA;AAeY,2BAAgB;AAAA;AAAA,WAbjB,KAAK,QAIT;AACC,cAAQ,IAAI,yBAAyB,OAAO;AAG5C,oBAAc,SAAS,UAAU,QAAQ,kBAAkB,EAAE,cAAc;AAAA;AAAA,IAOrE,cAAoB;AAE1B,YAAM;AACN,WAAK,cAAc,QAAQ,MAAM,MAAM;AACnC,aAAK,gBAAgB;AACrB,aAAK,YAAY;AAAA;AAGrB,WAAK,QAAQ,MAAM,MAAM;AACrB,YAAI,KAAK,eAAe;AACpB;AAAA;AAEJ,aAAK,YAAY,KAAK,SAAS,MAAM;AACjC,eAAK,YAAY;AAAA;AAErB,oBAAY;AAAA;AAAA;AAAA,IASpB,iBAAuB;AAInB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK,QAAQ,KAAK,YAAY;AAC9B,aAAK,gBAAgB;AAAA;AAAA;AAAA,IAM7B,QAAQ,OAGL;AACC,WAAK,WAAW,MAAM;AAAA;AAAA,IAEnB,SAAe;AAClB,cAAQ,IAAI;AAAA;AAAA,IAGT,SAAe;AAElB,cAAQ,IAAI;AACZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;ACjF5B,oCAA0C,KAAK,WAAW;AAAA,WAa3C,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGjD,cAAmB;AAC5B,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,SAAS,KAAK,gBAAgB;AACnC,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAfxB,EAXf,cAWe,MAAa;;;ACP5B,mCAAyC,cAAa;AAAA,WAG3C,KAAK,QAAyB;AACjC,WAAK,YAAY;AACjB,oBAAc,SAAS,UAAU,QAAQ;AAAA;AAAA,IAMnC,cAAoB;AAE1B,YAAM;AACN,WAAK,QAAQ,QAAQ,MAAM,MAAM;AAC7B,aAAK,YAAY;AAAA;AAAA;AAAA,IAOzB,iBAAuB;AAInB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AAAA;AAAA;AAAA,IAKb,UAAU;AACN,WAAK,QAAQ,gBAAgB,aAAY,UAAU,UAAU,IAAI,IAAI;AAErE,UAAI,UAAU,CAAC,KAAK,cAAc,KAAK;AAEvC,YAAM,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA;AAEb,eAAS,QAAQ,GAAG,QAAQ,aAAY,UAAU,QAAQ,SAAS;AAC/D,cAAM,UAAU,aAAY,UAAU;AACtC,gBAAQ,OAAO,YAAY,OAAO,MAAM,QAAQ;AAChD,YAAI,OAAO,QAAQ,QAAQ;AAC3B,YAAI,MAAM;AACN,kBAAQ,OAAO,eAAe,MAAM;AAAA;AAAA;AAAA;AAAA,IAMzC,SAAe;AAClB,cAAQ,IAAI;AAAA;AAAA,IAGT,SAAe;AAElB,cAAQ,IAAI;AACZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;AAvE5B;AAEmB,EAFnB,aAEmB,YAA6B;;;ACRhD,oCAA2C,KAAK,WAAW;AAAA,WAc5C,iBAA+B;AAC5C,aAAuB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGlD,cAAmB;AAC5B,WAAK,cAAc,KAAK,gBAAgB;AACxC,WAAK,SAAS,KAAK,gBAAgB;AACnC,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,SAAsB,KAAK,WAAW;AAC3C,WAAK,YAAyB,KAAK,WAAW;AAC9C,WAAK,gBAA6B,KAAK,WAAW;AAClD,WAAK,SAA2B,KAAK,WAAW;AAChD,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAhBxB,EAZf,cAYe,MAAa;;;ACN5B,mCAA0C,cAAc;AAAA,IAAxD,cARA;AAQA;AA4IS,0BAAkC;AAAA;AAAA,WAtInC,KAAK,OAAqC,iBAA8C;AAC9F,WAAK,UAAU;AACf,WAAK,iBAAiB;AACtB,oBAAc,SAAS,UAAU,QAAQ;AAAA;AAAA,WAEnC,OAAO;AACb,UAAI,CAAC,KAAK,WAAW;AACpB;AAAA;AAED,WAAK,UAAU,YAAY;AAAA;AAAA,IAQlB,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAMP,iBAAuB;AAItB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAG7B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AAAA;AAAA;AAAA,IAKP,UAAU;AACT,WAAK,MAAM,KAAK,KAAM,KAAK,aAAa,KAAK,YAAY;AACzD,mBAAa,aAAa,CAAC,UAAU,UAAU;AAC9C,aAAK,MAAM,MAAM,KAAK,aAAa,KAAK,YAAY;AACpD,aAAK,YAAY;AACjB,YAAI,QAAQ;AACZ,YAAI,CAAC,YAAY,MAAM,UAAU,GAAG;AACnC,kBAAQ;AAAA,eAEJ;AACJ,cAAI,YAAY,KAAK;AACrB,cAAI,YAAY;AAChB,kBAAQ,aAAa;AAAA,iBACf;AACJ,0BAAY;AACZ,0BAAY,KAAK;AACjB;AAAA,iBACI;AACJ,0BAAY;AACZ,0BAAY,KAAK;AACjB;AAAA,iBACI;AACJ,0BAAY;AACZ,0BAAY,KAAK;AACjB;AAAA;AAGA;AAAA;AAEF,eAAK,eAAe;AAEpB,eAAK,OAAO,gBAAgB;AAC5B,cAAI,SAAS,MAAM;AAElB,sBAAU,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,MAAM;AAE7E,sBAAU;AAEV,sBAAU,WAAW,KAAK,aAAa;AAAA;AAExC,cAAI,aAAa,WAAW,WAAW;AAEtC,gBAAI,KAAK,aAAa,SAAS,GAAG;AACjC,kBAAI,QAAQ,MAAM;AACjB,qBAAK,eAAe,KAAK,aAAa,KAAK,CAAC,GAAG,MAAM,EAAE,cAAc,IAAI;AACzE;AAAA;AAED;AAAA;AAAA,iBAIG;AACJ;AAAA;AAAA;AAMF,aAAK,YAAY,gBAAgB;AAAA,SAC/B,QAAW;AAAA;AAAA,IAER,SAAe;AACrB,cAAQ,IAAI;AACZ,mBAAa,YAAY;AAAA;AAAA,IAGnB,SAAe;AACrB,mBAAa,YAAY;AACzB,mBAAa,UAAU;AACvB,cAAQ,IAAI;AACZ,eAAS,QAAQ,GAAG,QAAQ,KAAK,OAAO,UAAU,QAAQ,SAAS;AAClE,cAAM,UAAU,KAAK,OAAO,WAAW;AACvC,YAAI,WAAW,QAAQ;AAAU,kBAAQ;AAAA;AAE1C,eAAS,QAAQ,GAAG,QAAQ,KAAK,UAAU,UAAU,QAAQ,SAAS;AACrE,cAAM,UAAU,KAAK,UAAU,WAAW;AAC1C,YAAI,WAAW,QAAQ;AAAU,kBAAQ;AAAA;AAE1C,eAAS,QAAQ,GAAG,QAAQ,KAAK,cAAc,UAAU,QAAQ,SAAS;AACzE,cAAM,UAAU,KAAK,cAAc,WAAW;AAC9C,YAAI,WAAW,QAAQ;AAAU,kBAAQ;AAAA;AAE1C,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAEpB,mBAAa,aAAa,QAAW,EAAE,UAAU,IAAI,UAAU;AAAA;AAAA,IAGhE,cAAc,OAAe,MAAW;AAEvC,WAAK,QAAQ,KAAK,aAAa,QAAQ,aAAa;AAAA;AAAA;;;ACnJtD,oCAA2C,KAAK,WAAW;AAAA,WAa5C,iBAA+B;AAC5C,aAAuB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGlD,cAAmB;AAC5B,WAAK,aAAa,KAAK,gBAAgB;AACvC,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,WAA0B,KAAK,WAAW;AAC/C,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,YAAyB,KAAK,WAAW;AAC9C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAfxB,EAXf,cAWe,MAAa;;;ACP5B,mCAA0C,cAAc;AAAA,WAE7C,KAAK,QAIT;AAEC,oBAAc,SAAS,UAAU,QAAQ,cAAc,EAAE,cAAc;AAAA;AAAA,IAMjE,cAAoB;AAE1B,YAAM;AACN,WAAK,aAAa,QAAQ,MAAM,MAAM;AAClC,aAAK,YAAY;AAAA;AAAA;AAAA,IAOzB,iBAAuB;AAInB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAE1B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK,QAAQ,KAAK,YAAY;AAAA;AAAA;AAAA,IAMtC,QAAQ,OAIL;AACC,WAAK,WAAW,gBAAgB,MAAM,QAAQ,UAAU,IAAI;AAC5D,WAAK,SAAS,MAAM,MAAM,KAAK,GAAG;AAClC,WAAK,UAAU,OAAO,QAAQ,MAAM,KAAK,GAAG,UAAU;AACtD,WAAK,cAAc,MAAM;AAAA;AAAA,IAEtB,SAAe;AAClB,cAAQ,IAAI;AAAA;AAAA,IAGT,SAAe;AAElB,WAAK,eAAe,KAAK;AACzB,cAAQ,IAAI;AACZ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;ACpDrB,MAAK;AAAL,YAAK,WAAL;AAEM,2BAAU;AACV,8BAAa;AACb,+BAAc;AACd,gCAAe;AACf,4BAAW;AACX,8BAAa;AACb,yBAAQ;AACR,iCAAgB;AAChB,8BAAa;AACb,6BAAY;AAAA,KAXb;AAmBL,MAAK;AAAL,YAAK,iBAAL;AACK,iCAAU;AACR,+BAAQ;AACT,gCAAS;AAAA,KAHV;AA6CZ,2BAAkB;AAAA,IAAlB,cAtFA;AAgGa,2BAAgB;AAGzB,4BAA6B;AAC7B,4BAA8C;AAItC,oBAAS;AAGT,0BAAe;AAEN,wBAAa;AAKtB,iCAAsB;AAItB,0BAAe;AAAA,QACnB,UAAU;AAAA,QACV,WAAW;AAAA;AAGP,2BAAgB;AAChB,4BAAiB;AAw4BjB,gCAAkF;AA8MlF,2BAA+C;AAAA;AAAA,WA1nChD,WAAW;AACd,UAAI,CAAC,KAAK,YAAY;AAClB,aAAK,aAAa,IAAI;AAAA;AAE1B,aAAO,KAAK;AAAA;AAAA,IA4ChB,KAAK,kBAA+B,gBAAgB,MAAM;AACtD,UAAI,KAAK,QAAQ;AACb;AAAA;AAEJ,WAAK;AAEL,WAAK;AAEL,WAAK,MAAM,GAAG,kBAAkB,QAAQ,MAAM,MAAM;AAGhD,aAAK,qBAAqB,SAAS;AAEnC,aAAK,qBAAqB,SAAS;AAEnC,aAAK,qBAAqB,SAAS;AAEnC,aAAK,qBAAqB,SAAS;AAAA;AAGvC,WAAK,MAAM,GAAG,kBAAkB,QAAQ,MAAM,MAAM;AAAA;AAMpD,UAAI,WAAW,MAAM;AACjB,aAAK,eAAe,CAAC,aAAa;AAC9B,cAAI,UAAU;AAEV,gCAAoB;AAAA,iBAGnB;AACD,gBAAI,eAAe;AACf,yBAAW,MAAM;AACb;AAAA,iBACD;AAAA;AAAA;AAAA;AAAA;AAKnB;AAEA,WAAK,MAAM,GAAG,kBAAkB,aAAa,MAAM,MAAM;AACrD,YAAI,CAAC,aAAa,gBAAgB;AAC9B,kBAAQ,MAAM;AACd;AAAA;AAEJ,YAAI,kBAAkB,SAAS;AAC3B,eAAK,WAAW,SAAS;AAAA;AAAA;AAGjC,WAAK,MAAM,GAAG,kBAAkB,cAAc,MAAM,MAAM;AACtD,YAAI,CAAC,aAAa,gBAAgB;AAC9B,kBAAQ,MAAM;AACd;AAAA;AAEJ,YAAI,kBAAkB,UAAU;AAC5B,eAAK,WAAW,SAAS;AAAA;AAAA;AAAA;AAAA,IAMrC,oBAAoB;AAChB,WAAK,iBAAiB,WAAW,aAAa,KAAK,kBAAkB;AAAA;AAAA,IASzE,eAAe,WAA6D,eAAuC;AAE/G,UAAI,YAAwB;AAAA,QACxB;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACrB,YAAY;AAAA,UAEd,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAOJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACP,YAAY;AAAA,UACd,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,YAKb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAK5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACrB,YAAY;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACrB,YAAY;AAAA,UACd,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA,QAG5B;AAAA,UAEa,YAAY,SAAS;AAAA,UACrB,WAAW;AAAA,UACZ,OAAO;AAAA,UACN,SAAS;AAAA,UACT,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,QAAQ;AAAA,YACb;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAAA,UAGJ,aAAa;AAAA;AAAA;AAKhC,UAAI,UAAU,CAAC,aAAyB;AACpC,YAAI,CAAC,KAAK,gBAAgB;AACtB,eAAK,iBAAiB;AAAA,eAErB;AACD,cAAI,cAA6B;AACjC,cAAI,YAAwB;AAC5B,cAAI,eAAe;AACf,gBAAI,OAAO,iBAAiB,UAAU;AAClC,wBAAU,KAAK;AAAA,mBAEd;AACD,0BAAY,KAAK,MAAM,KAAK,UAAU;AAAA;AAAA;AAG9C,iBAAO,SAAS,SAAS,GAAG;AACxB,gBAAI,WAAqB;AACzB,gBAAI,UAAU,SAAS,GAAG;AACtB,4BAAc,UAAU;AAAA,mBAEvB;AACD,4BAAc;AAAA;AAElB,gBAAI,aAAa;AACb,yBAAW,SAAS,KAAK,OAAK,EAAE,cAAc;AAAA,mBAE7C;AACD,yBAAW,SAAS;AAAA;AAExB,gBAAI,CAAC,UAAU;AACX,sBAAQ,MAAM,wCAAU;AACxB;AAAA;AAGJ,gBAAI,QAAQ,KAAK,YAAY,SAAS;AACtC,gBAAI,iBAAiB;AACrB,gBAAI,OAAO;AACP,yBAAW,OAAO,OAAO;AACrB,oBAAI,MAAM,QAAQ,SAAS,MAAM;AAC7B;AAAA;AAEJ,iCAAiB;AACjB,sBAAM,OAAO,SAAS;AAAA;AAAA,mBAGzB;AACD,+BAAiB;AACjB,sBAAQ;AACR,mBAAK,eAAe,KAAK;AAAA;AAE7B,gBAAI,gBAAgB;AAChB,mBAAK,kBAAkB,SAAS,YAAY;AAAA;AAEhD,gBAAI,eAAe,UAAU,UAAU,GAAG;AACtC;AAAA;AAAA;AAAA;AAKZ,mBAAW,QAAQ,KAAK,gBAAgB;AAEpC,cAAI,KAAK,UAAU,eAAe,WAC3B,KAAK,SAAS,GAAG;AAEpB,iBAAK,oBAAoB,KAAK,cAAc,KAAK,QAAQ,KAAK;AAAA;AAIlE,eAAK,eAAe,KAAK,cAAc;AAAA;AAI3C,qBAAa,UAAU,MAAM,KAAK;AAClC,aAAK,MAAM,MAAM;AAAA;AAGrB,UAAI,cAAc,SAAS,gBAAgB;AAGvC,sBAAc,SAAS,eAAe,IAAI,uBAAuB,IAAI,QAAQ,MACzE,CAAC,SAAS;AAEN,kBAAQ,IAAI,eAAe;AAC3B,cAAI,KAAK,QAAQ,GAAG;AAChB,yBAAa,UAAU;AACvB;AAAA;AAGJ,qBAAW,WAAW,eAAe,KAAK,MAAM;AAGhD,kBAAQ,KAAK,MAAM,KAAK,UAAU,KAAK;AAAA;AAAA,aAK9C;AACD,gBAAQ;AAAA;AAAA;AAAA,IAkBhB,OAAO,OAAiB,WAAsE,UAAU,GAAG,kBAAkB,OAAO;AAChI,cAAQ,IAAI,6BAAS;AAGrB,UAAI,cAAc,CAAC,aAAsB;AAErC,gBAAQ,IAAI,mCAAU,OAAO;AAC7B,YAAI,CAAC,UAAU;AACX,uBAAa,UAAU;AACvB;AAAA;AAGJ,gBAAQ;AAAA,eACC;AACD,yBAAa,UAAU;AACvB;AAAA,eACC;AACD,iBAAK,WAAW,OAAO;AACvB;AAAA,eACC;AACD,iBAAK,WAAW,OAAO,CAAC,cAAsB;AAC1C,kBAAI,CAAC,WAAU;AACX,6BAAa,UAAU;AACvB;AAAA;AAEJ,mBAAK,iBAAiB,OAAO,WAAW;AAAA,eACzC;AACH;AAAA;AAGA;AAAA;AAAA;AAIZ,UAAI,cAAc,MAAM;AACpB,YAAI,WAAW,KAAK,YAAY;AAChC,YAAI,YAAY,SAAS,UAAU,eAAe,UAAU,UAAU,GAAG;AACrE,sBAAY;AACZ;AAAA;AAEJ,YAAI,YAAY,SAAS,UAAU,eAAe,SAAS,UAAU,GAAG;AACpE,sBAAY;AACZ;AAAA;AAGJ,gBAAQ;AAAA,eAEC,SAAS;AACV,8BAAkB,WAAW,CAAC,aAAa;AACvC,0BAAY;AAAA;AAEhB;AAAA,eACC,SAAS;AACV,8BAAkB,UAAU,CAAC,aAAa;AACtC,0BAAY;AAAA;AAEhB;AAAA,eAEC,SAAS;AACV;AAAA,eACC,SAAS;AACV;AAAA,eACC,SAAS;AACV;AAAA,eACC,SAAS;AACV,yBAAa,KAAK,WAAW,CAAC,aAAa;AACvC,sBAAQ,IAAI,wBAAwB,OAAO;AAC3C,gCAAkB,aAAa,UAAU,CAAC,aAAa;AACnD,oBAAI,UAAU;AACV,+BAAa;AAAA;AAEjB,4BAAY;AAAA;AAAA;AAGpB;AAAA,eACC,SAAS;AAEV,iBAAK,aAAa,SAAS;AAC3B,8BAAkB,qBAAqB,CAAC,qBAAqB;AACzD,gCAAkB,UAAU;AAE5B,kBAAI,kBAAkB;AAElB,oBAAI,aAAa;AACjB,2BAAW,MAAM;AACb,uBAAK,aAAa,SAAS,KAAK,QAAQ;AACxC,uBAAK,eAAe,OAAO,CAAC,aAAa;AACrC,gCAAY;AACZ,wBAAI,UAAU;AACV,wCAAkB,UAAU;AAAA,2BAE3B;AACD,wCAAkB,UAAU;AAAA;AAAA;AAAA,mBAGrC;AAAA,qBAEA;AACH,4BAAY;AAAA;AAAA;AAIpB;AAAA,eACC,SAAS;AACV,iBAAK,aAAa,SAAS;AAC3B,yBAAa,KAAK,UAAU,CAAC,aAAa;AACtC,sBAAQ,IAAI,wBAAwB,OAAO;AAE3C,gCAAkB,UAAU;AAC5B,gCAAkB,mBAAmB,KAAK,UAAU,CAAC,iBAAiB;AAClE,oBAAI,cAAc;AACd,uBAAK,aAAa,SAAS,KAAK;AAChC,uBAAK,eAAe,OAAO,CAAC,aAAa;AACrC,gCAAY;AACZ,wBAAI,UAAU;AACV,mCAAa;AACb,wCAAkB,UAAU;AAAA,2BAE3B;AACD,wCAAkB,UAAU;AAAA;AAAA;AAAA,uBAKnC;AAED,8BAAY;AAAA;AAAA;AAAA;AAMxB;AAAA,eAEC,SAAS;AACV,yBAAa,KAAK,OAAO,CAAC,aAC1B;AACI,sBAAQ,IAAI,wBAAwB,OAAO;AAC3C,mBAAK,WAAW,OAAO,CAAC,cAAc;AAClC,oBAAI,CAAC,WAAW;AAEZ;AAAA;AAEJ,kCAAkB,QAAQ,KAAK,UAAU,CAAC,aAAa;AACnD,sBAAI,UAAU;AAGV,yBAAK,iBAAiB,KAAK;AAC3B,+BAAW,aAAa,KAAK,eAAe,KAAK;AAEjD,yBAAK,eAAe,OAAO,CAAC,WAAU,WAAW;AAC7C,0BAAI,WAAU;AACV,qCAAa;AAAA;AAEjB,mCAAa,UAAU,WAAU;AACjC,0BAAI,iBAAiB;AACjB,qCAAY,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUzC;AAAA,eAEC,SAAS;AACV,6BAAiB;AACjB,8BAAkB,MAAM,MAAM;AAC1B,+BAAiB;AACjB,kBAAI,WAAW,GAAG;AACd,6BAAa,UAAU;AAAA,qBAEtB;AACD,qBAAK,eAAe,OAAO,CAAC,UAAU,WAAW;AAC7C,+BAAa,UAAU,UAAU;AACjC,sBAAI,mBAAmB,QAAQ;AAC3B,iCAAY,KAAK;AAAA;AAAA;AAAA;AAAA,eAK9B,MAAM;AACL,2BAAa,UAAU;AAAA;AAE3B;AAAA;AAOA,oBAAQ,MAAM,0CAAiB;AAC/B;AAAA;AAAA;AAKZ,WAAK,kBAAkB,OAAO,CAAC,aAAa;AACxC,YAAI,CAAC,UAAU;AACX;AAAA;AAEJ;AAAA;AAAA;AAAA,IAYR,WAAW,OAAiB,WAAyC,oBAAoB,MAAM;AAC3F,cAAQ,IAAI,4BAAQ;AAEpB,UAAI,CAAC,cAAc,SAAS,gBAAgB;AACxC,qBAAa,UAAU;AACvB;AAAA;AAGJ,UAAI,WAAW;AACf,UAAI,YAAY;AAChB,cAAQ;AAAA,aAEC,SAAS;AAAA,aAET,SAAS;AAEV,qBAAW;AACX,sBAAY,EAAE,YAAY,OAAO,SAAS;AAE1C;AAAA,aAEC,SAAS;AACV,qBAAW;AAEX;AAAA,aACC,SAAS;AACV,qBAAW;AACX,sBAAY,EAAE,YAAY;AAE1B;AAAA;AAKA,qBAAW;AACX,sBAAY,EAAE,YAAY;AAC1B,uBAAa,UAAU;AACvB;AAAA;AAER,oBAAc,SAAS,eAAe,IAAI,UAAU,WAAW,QAAQ,MACnE,CAAC,SAAS;AACN,YAAI,KAAK,QAAQ,GAAG;AAEhB,cAAI,KAAK,QAAQ,MAAM,KAAK,QAAQ,IAAI;AACpC,yBAAa,oBAAoB,KAAK,QAAQ,KAAK,YAAY,OAAO,KAAK;AAC3E,oBAAQ;AAAA;AAGZ,kBAAQ,MAAM,4BAAQ,OAAO,KAAK,MAAM,KAAK;AAC7C,uBAAa,UAAU;AACvB;AAAA;AAGJ,6BAAqB,KAAK,kBAAkB;AAC5C,qBAAa,UAAU;AAAA;AAAA;AAAA,IAWnC,iBAAiB,OAAiB,WAAwF,kBAAkB,MAAM;AAC9I,cAAQ,IAAI,wCAAU;AAEtB,UAAI,aAAa,MAAM;AAGnB,YAAI,cAAc,CAAC,SAAS,cAAoB;AAC5C,cAAI,SAAS,cAAc,SAAS,aAAa,UAAU,SAAS,GAAG;AACnE,yBAAa,KAAK;AAAA,cACd,MAAM;AAAA,cACN,MAAM;AAAA,cACN,UAAU,MAAM;AACZ,wBAAQ,IAAI,eAAe,OAAO;AAElC,6BAAY,KAAK;AAAA;AAAA;AAAA,iBAIxB;AAID,yBAAY,KAAK;AAAA;AAAA;AAIzB,YAAI,CAAC,cAAc,SAAS,gBAAgB;AACxC,cAAI,UAA2B;AAAA,YAC3B;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA,YAEX;AAAA,cACI,MAAM,cAAc;AAAA,cACpB,OAAO;AAAA;AAAA;AAGf,cAAI,UAAU;AACd,uBAAa,UAAU,SAAS;AAChC,cAAI,WAAW,iBAAiB;AAE5B,wBAAY,SAAS,SAAS,SAAS,aAAa,CAAC,EAAE,QAAQ,IAAI,UAAU,gCAAY;AAAA;AAG7F;AAAA;AAEJ,YAAI,CAAC,KAAK,YAAY,QAAQ;AAC1B,uBAAa,UAAU;AACvB;AAAA;AAGJ,YAAI,WAAW;AACf,YAAI,YAAY;AAChB,gBAAQ;AAAA,eAEC,SAAS;AAAA,eACT,SAAS;AACV,uBAAW;AACX,wBAAY,EAAE,YAAY;AAE1B;AAAA,eACC,SAAS;AACV,uBAAW;AACX;AAAA,eAEC,SAAS;AAAA,eACT,SAAS;AAAA,eACT,SAAS;AAAA,eACT,SAAS;AAAA,eACT,SAAS;AAGV,uBAAW;AACX,wBAAY,EAAE,YAAY;AAE1B;AAAA,eAEC,SAAS;AACV,uBAAW;AACX;AAAA,eAEC,SAAS;AACV,uBAAW;AACX;AAAA;AAGA,oBAAQ,MAAM,4EAA+B;AAC7C;AAAA;AAIR,sBAAc,SAAS,eAAe,IAAI,aAAa,UAAU,WAAW,QAAQ,MAChF,CAAC,UAAU;AACP,cAAI,MAAM,QAAQ,GAAG;AAEjB,gBAAI,MAAM,QAAQ,MAAM,MAAM,QAAQ,IAAI;AACtC,2BAAa,oBAAoB,MAAM,QAAQ,KAAK,YAAY,OAAO,MAAM;AAC7E,sBAAQ;AAAA;AAGZ,oBAAQ,MAAM,oDAAY,MAAM,MAAM,OAAO,MAAM;AACnD,yBAAa,UAAU;AACvB;AAAA;AAGJ,cAAI,UAA2B;AAC/B,cAAI,SAAS,MAAM,QAAQ,MAAM;AACjC,cAAI,QAAQ;AACR,sBAAU,MAAM;AAAA,iBAEf;AACD,sBAAU,MAAM,KAAK;AAAA;AAGzB,cAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,qBAAS,QAAQ,QAAQ,SAAS,GAAG,SAAS,GAAG,SAAS;AACtD,oBAAM,UAAU,QAAQ;AACxB,kBAAI,CAAC,QAAQ,OAAO;AAChB,wBAAQ,OAAO,OAAO;AAAA;AAAA;AAAA;AAMlC,uBAAa,UAAU,MAAM;AAE7B,2BAAiB,aAAa;AAE9B,cAAI,SAAS,SAAS,OAAO;AACzB,gBAAI,UAAU,MAAM,KAAK,WAAW;AACpC,gBAAI,QAAQ,KAAK,MAAM,KAAK;AAC5B,gBAAI,WAAW;AACf,gBAAI,UAAU;AACd,gBAAI,SAAS;AACT,kBAAI,MAAM,QAAQ,KAAK,OAAK,EAAE,QAAQ,cAAc;AACpD,kBAAI,KAAK;AACL,2BAAW,KAAK,IAAI;AAAA;AAExB,kBAAI,MAAM,QAAQ,KAAK,OAAK,EAAE,QAAQ,cAAc;AACpD,kBAAI,KAAK;AACL,0BAAU,KAAK,IAAI;AAAA;AAAA;AAG3B,6BAAiB,QAAQ,SAAS,OAAO,UAAU;AAAA;AAEvD,cAAI,iBAAiB;AACjB,wBAAY,SAAS,MAAM,KAAK;AAAA;AAGpC,cAAI,SAAS;AAET,uBAAW,YAAY,SAAS;AAC5B,kBAAI,SAAS,MAAM;AAEf,6BAAa,eAAe,SAAS;AAAA;AAAA;AAAA;AAOjD,eAAK,kBAAkB;AAAA;AAAA;AAInC,WAAK,kBAAkB,OAAO,CAAC,aAAa;AACxC,YAAI,CAAC,UAAU;AACX;AAAA;AAEJ;AAAA;AAAA;AAAA,IAWR,kBAAkB,QAA6B,mBAAiD;AAC5F,UAAI,WAAW;AACf,UAAI,OAAO,UAAU,UAAU;AAC3B,mBAAW;AAAA,aAEV;AACD,mBAAW,KAAK,YAAY;AAAA;AAEhC,UAAI,YAAY,SAAS,YAAY;AACjC,YAAI,WAAW,KAAK,YAAY,SAAS;AACzC,YAAI,CAAC,UAAU;AACX,4BAAkB,UAAU,gDAAa,SAAS;AAAA;AAEtD,YAAI,YAAY,SAAS,UAAU,eAAe,SAAS;AACvD,6BAAmB,KAAK;AAAA,YACpB,MAAM,EAAE,OAAO,SAAS;AAAA,YAAS,UAAU,CAAC,qBAAgC;AAExE,mBAAK,OAAO,SAAS,YAAY,CAAC,aAAsB;AACpD,oBAAI,UAAU;AAEV,sCAAoB;AACpB,uBAAK,kBAAkB,SAAS,YAAY,MAAM;AAC9C,yCAAqB,kBAAkB;AAAA;AAAA,uBAG1C;AACD,uCAAqB,kBAAkB;AAAA;AAAA,iBAG5C;AAAA;AAAA;AAAA,eAIV;AACD,+BAAqB,kBAAkB;AAAA;AAAA,aAI1C;AACD,6BAAqB,kBAAkB;AAAA;AAAA;AAAA,IAY/C,eAAe,OAAiB,WAAsD;AAClF,WAAK,mBAAmB,SAAS;AAAA;AAAA,IAOrC,qBAAqB,OAAiB;AAElC,UAAI,CAAC,aAAa,gBAAgB;AAC9B,gBAAQ,MAAM;AACd;AAAA;AAEJ,UAAI,qBAAqB,CAAC,UAAmB,UAAgB;AACzD,aAAK,mBAAmB,UAAU,KAAK,mBAAmB,OAAO,UAAU;AAC3E,aAAK,mBAAmB,SAAS;AAAA;AAErC,cAAQ;AAAA,aAEC,SAAS;AAAA,aACT,SAAS;AACV,cAAI,KAAK,aAAa,SAAS,GAAG;AAC9B,gBAAI,KAAK,QAAQ,KAAK,aAAa,UAAU,KAAK,YAAY;AAC1D,iCAAmB;AAAA,mBAElB;AACD,iCAAmB;AAAA;AAEvB,iBAAK,aAAa,SAAS;AAAA;AAE/B;AAAA,aAEC,SAAS;AACV,cAAI,KAAK,iBAAiB,GAAG;AAEzB,gBAAI,YAAW;AAEf,gBAAI,WAAU,MAAM;AAChB;AACA,mBAAK,iBAAiB,OAAO,CAAC,UAAU,WAAW;AAC/C,oBAAI,UAAU;AACV,uBAAK,iBAAiB;AACtB,6BAAW,aAAa,KAAK,eAAe,KAAK;AACjD,qCAAmB,MAAM;AAAA,uBAExB;AAED,sBAAI,YAAW,GAAG;AACd,+BAAW,MAAM;AACb;AAAA,uBACD;AAAA;AAAA;AAAA,iBAGZ;AAAA;AAEP;AAAA;AASJ;AAAA,aAEC,SAAS;AAEV,cAAI,WAAW;AACf,cAAI,UAAU,MAAM;AAChB;AACA,iBAAK,iBAAiB,OAAO,CAAC,UAAU,WAAW;AAC/C,kBAAI,UAAU;AACV,mCAAmB,MAAM;AAAA,qBAExB;AAED,oBAAI,WAAW,GAAG;AACd,6BAAW,MAAM;AACb;AAAA,qBACD;AAAA;AAAA;AAAA,eAGZ;AAAA;AAEP;AACA;AAAA;AAGA;AAAA;AAAA;AAAA,IAgBZ,mBAAmB,OAAiB,SAA2B,WAAyC;AACpG,UAAI,QAAQ,KAAK,YAAY;AAC7B,cAAQ,IAAI,SAAS;AACrB,UAAI,MAAM,UAAU,eAAe,UAC3B,MAAM,UAAU,eAAe,WAAW,MAAM,SAAS,GAAI;AACjE,qBAAa,UAAU;AACvB;AAAA;AAEJ,cAAQ,IAAI;AAEZ,uBAAiB,KAAK;AAAA,QAElB,MAAM,EAAE,MAAM;AAAA,QAAS,UAAU,CAAC,qBAAgC;AAC9D,eAAK,OAAO,OAAO,CAAC,aAAa;AAC7B,gBAAI,UAAU;AACV,kCAAoB;AAAA;AAExB,yBAAa,UAAU;AAAA,aACxB,GAAG;AAAA;AAAA;AAAA;AAAA,IAOV,gBAAgB;AAEpB,YAAM,QAAQ;AACd,kBAAY,MAAM;AACd,YAAI,KAAK,KAAK;AAGd,mBAAW,OAAO,KAAK,qBAAqB;AACxC,cAAI,QAAQ,KAAK,oBAAoB,OAAO;AAE5C,cAAI,SAAS,GAAG;AACZ,oBAAQ;AACR,mBAAO,KAAK,oBAAoB;AAEhC,iBAAK,kBAAkB;AAAA;AAE3B,cAAI,QAAQ,MAAO,OAAO;AAEtB,gBAAI,QAAQ,KAAK,YAAY;AAC7B,gBAAI,OAAO;AACP,oBAAM,SAAS;AACf,mBAAK,kBAAkB,KAAY;AAAA;AAAA;AAAA;AAAA,SAKhD;AAAA;AAAA,IAGP,kBAAkB,OAAiB,WAAyC;AACxE,UAAI,SAAqB;AACzB,UAAI,iBAAiB,KAAK,iBAAiB;AAC3C,UAAI,eAAe,SAAS,GAAG;AAC3B,mBAAW,YAAY,gBAAgB;AACnC,iBAAO,KAAK;AAAA;AAAA;AAGpB,aAAO,KAAK;AACZ,WAAK,eAAe,WAAW;AAAA;AAAA,IAG3B,kBAAkB,OAAiB,UAAoB;AAC3D,WAAK,MAAM,MAAM,KAAK,gBAAgB,OAAO;AAAA;AAAA,IAQjD,iBAAiB,OAAiB,SAAc,WAAyC;AACrF,WAAK,MAAM,GAAG,KAAK,gBAAgB,OAAO,SAAS;AAAA;AAAA,IAUvD,YAAY,OAAiB;AAEzB,UAAI,QAAQ,KAAK,eAAe;AAChC,aAAO;AAAA;AAAA,IAEX,iBAAiB;AACb,aAAO,KAAK;AAAA;AAAA,IAQhB,iBAAiB,OAAiB;AAC9B,UAAI,KAAK,cAAc,QAAQ;AAC3B,eAAO,KAAK,cAAc;AAAA;AAE9B,UAAI,aAAyB;AAC7B,UAAI,WAAW,KAAK,YAAY;AAChC,UAAI,CAAC,UAAU;AACX,aAAK,cAAc,SAAS;AAC5B,eAAO;AAAA;AAEX,iBAAW,YAAY,KAAK,kBAAkB;AAC1C,YAAI,SAAS,cAAc,SAAS,cAAc,OAAO;AACrD,qBAAW,KAAK,SAAS;AAAA;AAAA;AAGjC,WAAK,cAAc,SAAS;AAC5B,aAAO;AAAA;AAAA,IAQX,kBAAkB,QAA6B,YAA2B;AACtE,UAAI,QAAQ;AACZ,UAAI,OAAO,UAAU,UAAU;AAC3B,gBAAQ;AAAA,aAEP;AACD,gBAAQ,KAAK,YAAY;AAAA;AAE7B,UAAI,SAAS,MAAM,OAAO,KAAK,OAAK,EAAE,QAAQ;AAC9C,UAAI,CAAC,QAAQ;AACT,eAAO;AAAA;AAEX,aAAO,OAAO;AAAA;AAAA,IAOlB,mBAAmB,OAAe;AAC9B,WAAK,eAAe;AAAA;AAAA,IAOxB,eAAe,OAAiB;AAC5B,aAAO,KAAK,eAAe,QAAQ;AAAA;AAAA;AAtrC3C;AACmB,EADnB,YACmB,aAA0B;AA0rCtC,MAAI,YAAY,YAAY;;;ACxwCnC,gCAAuC,WAAW;AAAA,IAI9C,cAAc;AACV,YAAM;AACN,WAAK,SAAS,QAAQ,MAAM,MAAM;AAE9B,aAAK,kBAAkB,KAAK,eAAe,KAAK,WAAW;AAC3D,oBAAY;AACZ,yBAAiB,aAAa,OAAO,KAAK,KAAK,WAAW,SAAS,KAAK,KAAK,WAAW,WAAW,KAAK,KAAK,WAAW;AAAA;AAAA;AAAA,IAKhI,QAAQ,OAAsB,iBAA8C;AACxE,WAAK,aAAa;AAClB,WAAK,iBAAiB;AACtB,WAAK,WAAW,MAAM,KAAK,MAAM;AACjC,WAAK,UAAU,OAAO,KAAK,MAAM;AAEjC,WAAK,WAAW,OAAO,WAAM,MAAM;AAGnC,UAAI,cAAc,CAAC,UAAkB;AAEjC,YAAI,KAAK,KAAK,KAAK,QAAQ,WAAW,eAAe,MAAM;AAI3D,eAAO;AAAA;AAEX,UAAI,SAAS;AAAA,QACT,OAAO,YAAY,UAAU,kBAAkB,SAAS,OAAO,cAAc;AAAA,QAC7E,QAAQ,YAAY,UAAU,kBAAkB,SAAS,OAAO,cAAc;AAAA;AAGlF,WAAK,WAAW,QAAQ;AAAA;AAAA,IAE5B,WAAW;AACP,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;AChD5B,iCAAwC,KAAK,WAAW;AAAA,WAKzC,iBAA4B;AACzC,aAAoB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG/C,cAAmB;AAC5B,WAAK,aAA+B,KAAK,WAAW;AAAA;AAAA;AAPvC,EAHf,WAGe,MAAa;;;ACF5B,gCAAuC,WAAW;AAAA;;;ACDlD,qCAA4C,KAAK,WAAW;AAAA,WAU7C,iBAAgC;AAC7C,aAAwB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGnD,cAAmB;AAC5B,WAAK,gBAAgB,KAAK,gBAAgB;AAC1C,WAAK,aAA4B,KAAK,WAAW;AACjD,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,YAAY,KAAK,gBAAgB;AAAA;AAAA;AAZzB,EARf,eAQe,MAAa;;;ACH5B,oCAA2C,eAAe;AAAA,IAEtD,cAAc;AACV,YAAM;AACN,WAAK,aAAa,QAAQ,MAAM,MAAM;AAClC,gBAAQ,MAAM,iBAAiB,KAAK,WAAW;AAE/C,aAAK,kBAAkB,KAAK,eAAe,KAAK,WAAW;AAC3D,oBAAY;AACZ,yBAAiB,aAAa,WAAW,KAAK,KAAK,WAAW,SAAS,KAAK,KAAK,WAAW,WAAW,KAAK,KAAK,WAAW;AAAA;AAAA;AAAA,IAKpI,QAAQ,OAAsB,iBAA8C;AACxE,WAAK,aAAa;AAClB,WAAK,iBAAiB;AACtB,WAAK,WAAW,MAAM,KAAK,MAAM;AACjC,WAAK,UAAU,OAAO,KAAK,MAAM;AAGjC,WAAK,WAAW,OAAO,WAAM,MAAM;AACnC,WAAK,cAAc,gBAAgB,MAAM,cAAc,uBAAQ;AAG/D,wBAAkB,0BAA0B,MAAM,SAAS,CAAC,eAAe;AACvE,YAAI,cAAc,MAAM,aAAa;AAEjC,eAAK,cAAc,gBAAgB,aAAa,uBAAQ;AACxD,kBAAQ,MAAM,8CAAW,MAAM,SAAS,YAAY,MAAM;AAAA;AAAA;AAAA;AAAA,IAKtE,WAAW;AACP,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA;;;ACzC5B,mCAA0C,KAAK,WAAW;AAAA,WAO3C,iBAA8B;AAC3C,aAAsB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGjD,cAAmB;AAC5B,WAAK,SAAS,KAAK,gBAAgB;AACnC,WAAK,iBAAgC,KAAK,WAAW;AACrD,WAAK,cAAgC,KAAK,WAAW;AAAA;AAAA;AATxC,EALf,aAKe,MAAa;;;ACJ5B,kCAAyC,aAAa;AAAA;;;ACDtD,kCAAyC,KAAK,WAAW;AAAA,WAwB1C,iBAA6B;AAC1C,aAAqB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAGhD,cAAmB;AAC5B,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,aAAa,KAAK,gBAAgB;AACvC,WAAK,YAAY,KAAK,gBAAgB;AACtC,WAAK,cAAc,KAAK,gBAAgB;AACxC,WAAK,kBAAkB,KAAK,gBAAgB;AAC5C,WAAK,kBAAkB,KAAK,gBAAgB;AAC5C,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,eAA8B,KAAK,WAAW;AACnD,WAAK,YAA8B,KAAK,WAAW;AACnD,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,WAA0B,KAAK,WAAW;AAC/C,WAAK,UAAyB,KAAK,WAAW;AAC9C,WAAK,WAA0B,KAAK,WAAW;AAC/C,WAAK,cAA6B,KAAK,WAAW;AAClD,WAAK,aAA2B,KAAK,WAAW;AAChD,WAAK,cAA4B,KAAK,WAAW;AACjD,WAAK,aAA+B,KAAK,WAAW;AACpD,WAAK,kBAAoC,KAAK,WAAW;AACzD,WAAK,YAAY,KAAK,gBAAgB;AAAA;AAAA;AA1BzB,EAtBf,YAsBe,MAAa;;;AChB5B,iCAAwC,YAAY;AAAA,IAApD,cARA;AAQA;AAEY,oBAAmB;AACnB,sBAAW;AAAA;AAAA,IACnB,cAAc;AACV,YAAM;AACN,WAAK;AAAA;AAAA,IAIT,QAAQ,OAAiB,mBAAkC;AACvD,WAAK,mBAAmB;AACxB,WAAK;AACL,WAAK,QAAQ;AAEb,WAAK,MAAM,GAAG,UAAU,gBAAgB,KAAK,OAAO,YAAY,MAAM,KAAK;AAAA;AAAA,IAIvE,QAAQ,OAAiB;AAC7B,WAAK,SAAS;AACd,WAAK;AACL,WAAK;AACL,WAAK,gBAAgB,KAAK,OAAO;AACjC,WAAK;AAGL,UAAI,KAAK,YAAY,MAAM,YAAY;AACnC,aAAK,WAAW,MAAM;AACtB,aAAK,aAAa,MAAM,UAAU,eAAe,MAAM;AAAA;AAAA;AAAA,IAMvD,eAAe;AACnB,WAAK,WAAW,OAAO,KAAK,OAAO;AAAA;AAAA,IAG/B,gBAAgB,QAAwB;AAC5C,UAAI,QAAQ;AACZ,cAAQ;AAAA,aACC,eAAe;AAChB,kBAAQ;AAER;AAAA,aACC,eAAe;AAChB,kBAAQ;AACR;AAAA,aACC,eAAe;AAChB,kBAAQ;AACR;AAAA;AAGA;AAAA;AAGR,WAAK,QAAQ,gBAAgB;AAC7B,WAAK;AAAA;AAAA,IAGD,mBAAmB;AACvB,UAAI,KAAK,OAAO,UAAU,eAAe,SAAS;AAC9C;AAAA;AAEJ,WAAK,UAAU,gBAAgB,KAAK,OAAO,SAAS,IAAI,IAAI;AAE5D,UAAI,KAAK,UAAU,iBAAiB,GAAG;AACnC,aAAK,UAAU,OAAO,QAAQ,WAAW,QAAQ,KAAK,OAAO,QAAQ,aAAa;AAAA;AAAA;AAAA,IAIlF,eAAe;AACnB,UAAI,aAAa;AACjB,UAAI,cAAc;AAClB,UAAI,KAAK,OAAO,cAAc,SAAS,OAAO;AAC1C,mBAAW,SAAS,KAAK,OAAO,QAAQ;AACpC,kBAAQ,MAAM;AAAA,iBACL,cAAc;AACf,2BAAa,MAAM;AACnB;AAAA,iBACC,cAAc;AACf,4BAAc,MAAM;AACpB;AAAA;AAEA;AAAA;AAAA;AAAA;AAKhB,UAAI,YAAY,aAAa;AAC7B,UAAI,aAAa,cAAc;AAC/B,UAAI,aAAa,YAAY;AACzB,aAAK,gBAAgB,gBAAgB;AAAA,iBAEhC,WAAW;AAChB,aAAK,gBAAgB,gBAAgB;AAAA,iBAEhC,YAAY;AACjB,aAAK,gBAAgB,gBAAgB;AAAA,aAEpC;AACD,aAAK,gBAAgB,gBAAgB;AAAA;AAMzC,UAAI,WAAW;AACX,aAAK,WAAW,OAAO,SAAS,KAAK,YAAY;AAAA;AAErD,UAAI,YAAY;AACZ,aAAK,gBAAgB,OAAO,cAAc,KAAK,aAAa;AAAA;AAAA;AAAA,IAI5D,eAAe;AACnB,UAAI,QAAQ;AACZ,UAAI,KAAK,OAAO,cAAc,KAAK,OAAO,cAAc,GAAG;AACvD,gBAAQ;AAAA;AAGZ,WAAK,gBAAgB,gBAAgB,QAAQ,iBAAO;AACpD,UAAI,OAAO;AACP,aAAK,UAAU,OAAO,IAAI,KAAK,OAAO;AAAA;AAAA;AAAA,IAKtC,WAAW;AACf,WAAK,QAAQ,QAAQ,MAAM,MAAM;AAC7B,gBAAQ,IAAI;AAEZ,oBAAY;AAEZ,YAAG,QAAQ,yBAAwB;AAC/B;AAAA;AAMJ,aAAK;AAAA;AAGT,WAAK,YAAY,QAAQ,MAAM,MAAM;AACjC,gBAAQ,IAAI;AAEZ,oBAAY;AACZ,YAAG,QAAQ,yBAAwB;AAC/B;AAAA;AAMJ,aAAK;AAAA;AAGT,WAAK,SAAS,QAAQ,MAAM,MAAM;AAC9B,gBAAQ,IAAI;AAEZ,oBAAY;AACZ,YAAG,QAAQ,yBAAwB;AAC/B;AAAA;AAMJ,aAAK;AAAA;AAAA;AAAA,IAIL,SAAS;AACb,cAAQ,IAAI;AAEZ,gBAAU,OAAO,KAAK,OAAO,YAAY,CAAC,aAAa;AAInD,gBAAQ,IAAI,sBAAY;AAAA,SACzB,GAAG;AAAA;AAAA,IAGF,YAAY;AAChB,cAAQ,IAAI;AACZ,WAAK,iBAAiB;AACtB,UAAI,kBAAkB,MAAM;AACxB,aAAK,MAAM,MAAM,MAAM;AACvB,aAAK,iBAAiB;AAAA;AAE1B,WAAK,MAAM,KAAK,KAAM,MAAM;AAC5B,gBAAU,iBAAiB,KAAK,OAAO,YAAY,CAAC,UAAU,gBAAgB;AAC1E,gBAAQ,IAAI,yBAAe,UAAU;AACrC;AAAA;AAAA;AAAA,IAKR,WAAW;AACP,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,SAAS;AAAA;AAAA;;;ACjN5B,+BAAqC,KAAK,WAAW;AAAA,WAStC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG5C,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,SAAsB,KAAK,WAAW;AAC3C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAXxB,EAPf,SAOe,MAAa;;;ACF5B,kCAAwC,SAAQ;AAAA,IAAhD,cAPA;AAOA;AAIY,yBAA0B;AAAA;AAAA,IACxB,cAAoB;AAE1B,YAAM;AACN,cAAQ,MAAM,0BAA0B,KAAK,MAAM;AAAA;AAAA,IAWvD,iBAAuB;AAEnB,YAAM;AAEN,UAAI,WAAW;AACf,UAAI,WAAW;AACf,UAAI,KAAK,eAAe;AACpB,mBAAW,KAAK;AAChB,mBAAW,KAAK;AAAA;AAEpB,WAAK,MAAM,WAAW,KAAK,OAAO,WAAW,KAAK;AAIlD,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAC1B,aAAK;AAEL,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAG5C,aAAK;AAAA;AAAA;AAAA,IAIb,UAAU;AACN,cAAQ,IAAI;AAAA;AAAA,IAGhB,SAAS;AAEL,cAAQ,IAAI;AAAA;AAAA,IAuDhB,UAAU;AAMN,UAAI,QAAQ,UAAU;AACtB,WAAK,cAAc;AACnB,WAAK,cAAc,KAAK,YAAY,KAAK,CAAC,GAAG,MAAM;AAC/C,YAAI,EAAE,UAAU,EAAE,QAAQ;AACtB,cAAI,eAAe,SAAS,EAAE,QAAQ;AAClC,mBAAO;AAAA;AAEX,cAAI,eAAe,SAAS,EAAE,QAAQ;AAClC,mBAAO;AAAA;AAEX,cAAI,eAAe,UAAU,EAAE,QAAQ;AACnC,mBAAO;AAAA;AAEX,cAAI,eAAe,UAAU,EAAE,QAAQ;AACnC,mBAAO;AAAA;AAAA;AAGf,eAAO,EAAE,YAAY,EAAE;AAAA;AAI3B,cAAQ,MAAM,WAAW;AAEzB,kBAAW;AAEX,WAAK,OAAO,eAAe,KAAK,QAAQ,OAAO,MAAM,KAAK,eAAe,CAAC,YAAW,cAAc;AAGnG,WAAK,OAAO;AACZ,WAAK,OAAO,WAAW,KAAK,YAAY;AAExC,kBAAW;AACX,UAAI,YAAW,cAAc,MAAM;AAC/B,oBAAW,cAAc;AAAA;AAI7B,cAAQ,MAAM,WAAW;AAAA;AAAA,IAE7B,OAAO;AACH,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAET,OAAO;AACH,WAAK;AACL,WAAK,YAAY;AAAA;AAAA,IAErB,SAAS;AAEL,WAAK;AAAA;AAAA,IAGT,QAAQ;AACJ,eAAS,QAAQ,GAAG,QAAQ,KAAK,OAAO,UAAU,QAAQ,SAAS;AAC/D,cAAM,UAAU,KAAK,OAAO,WAAW;AACvC,YAAI,WAAW,QAAQ;AACnB,kBAAQ;AAAA;AAGhB,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,SAAS;AAAA;AAAA,IAIxB,cAAc,KAAa,OAAe,MAAkB,QAAa;AAGrE,UAAI,KAAK,eAAe,KAAK,eAAe,QAAQ,GAAG;AAEnD;AAAA;AAGJ,WAAK,cAAc,QAAQ;AAE3B,WAAK,QAAQ,KAAK,YAAY,QAAQ,KAAK;AAG3C,UAAI,UAAU,YAAW,eAAe;AACxC,WAAK,UAAU,CAAC;AAChB,UAAI,SAAS;AACT,aAAK,MAAM,KAAK,QAAQ,KAAK,MAAM,MAAM;AAIrC,eAAK,UAAU;AACf,eAAK,IAAI,KAAK;AACd,eAAK,MAAM,GAAG,MAAM,EAAE,GAAG,KAAK;AAAA;AAAA;AAAA;AAAA;AA3M9C;AAoLmB,EApLnB,WAoLmB,cAAc;;;AC1KjC,yBAAgC;AAAA,WACjB,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,QAAQ,KAAK;AAC/C,WAAK,gBAAgB,aAAa,UAAU,KAAK;AACjD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AACpD,WAAK,gBAAgB,aAAa,iBAAiB,KAAK;AACxD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AACpD,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,cAAc,KAAK;AACrD,WAAK,gBAAgB,aAAa,YAAY,KAAK;AACnD,WAAK,gBAAgB,aAAa,aAAa,KAAK;AACpD,WAAK,gBAAgB,aAAa,UAAU,KAAK;AACjD,WAAK,gBAAgB,aAAa,aAAY,KAAK;AACnD,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,mBAAmB,KAAK;AAAA;AAAA;;;AC7B5D,gCAAuC,KAAK,WAAW;AAAA,WAKxC,iBAA2B;AACxC,aAAmB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG9C,cAAmB;AAC5B,WAAK,YAA8B,KAAK,WAAW;AAAA;AAAA;AAPtC,EAHf,UAGe,MAAa;;;ACH5B,+BAAqC,KAAK,WAAW;AAAA,WAStC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,QAAQ;AAAA;AAAA,IAG5C,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,YAA0B,KAAK,WAAW;AAC/C,WAAK,SAAsB,KAAK,WAAW;AAC3C,WAAK,UAAU,KAAK,gBAAgB;AACpC,WAAK,WAAW,KAAK,gBAAgB;AAAA;AAAA;AAXxB,EAPf,SAOe,MAAa;;;ACF5B,iCAAwC,SAAQ;AAAA,IAMrC,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAQP,iBAAuB;AAGtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAGZ,UAAI,KAAK,eAAe,MAAM;AAG7B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AAAA;AAAA;AAAA,IAKP,UAAU;AAET,UAAI,UAAU,KAAK,OAAO,WAAW,GAAG,MAAM,SAAS,WAAW;AAGlE,cAAQ,OAAO,aAAa;AAAA;AAAA,IAEtB,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA,IAGN,SAAe;AAErB,cAAQ,IAAI;AAAA;AAAA;;;ACrDd,yBAAgC;AAAA,WACjB,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,WAAW,KAAK;AAClD,WAAK,gBAAgB,aAAa,UAAU,KAAK;AAAA;AAAA;;;ACNnD,+BAAqC,KAAK,WAAW;AAAA,WAMtC,iBAAyB;AACtC,aAAiB,KAAK,UAAU,aAAa,oBAAoB;AAAA;AAAA,IAGxD,cAAmB;AAC5B,WAAK,UAAwB,KAAK,WAAW;AAC7C,WAAK,eAA8B,KAAK,WAAW;AAAA;AAAA;AARtC,EAJf,SAIe,MAAa;;;ACA5B,6CAAoD,SAAQ;AAAA,IAKjD,cAAoB;AAE7B,YAAM;AAAA;AAAA,IAMP,iBAAuB;AAGtB,YAAM;AAGN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAGZ,UAAI,KAAK,eAAe,MAAM;AAG7B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAE5C,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AAAA;AAAA;AAAA,IAKP,UAAU;AACT,WAAK,aAAa,QAAQ,MAAM,MAAM;AACrC,gBAAQ,KAAK;AAAA,UACZ,SAAS;AAAA,UAAQ,UAAU,MAAM;AAChC,oBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,IAUT,SAAe;AACrB,cAAQ,IAAI;AAAA;AAAA,IAGN,SAAe;AAErB,cAAQ,IAAI;AAAA;AAAA;;;ACxDd,qCAA4C;AAAA,WAC7B,UAAgB;AAC7B,WAAK,gBAAgB,aAAa,QAAQ,KAAK;AAC/C,WAAK,gBAAgB,aAAa,uBAAuB,KAAK;AAAA;AAAA;;;ACShE,qCAA2C,KAAK,gBAAgB;AAAA,IAqI/D,cAAc;AAEb;AAzHgB,2BAAgB;AASzB,4BAAiB;AACjB,yBAAc;AAAA,QAErB,QAAQ;AAAA,QAER,SAAS;AAAA,UACR;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YAEf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc,CAAC;AAAA;AAAA,UAEhB;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA,UAEf;AAAA,YACC,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAa;AAAA,YAEb,UAAU,KAAK;AAAA,YACf,SAAS;AAAA,YACT,aAAa;AAAA,YACb,cAAc;AAAA;AAAA;AAAA;AAShB,iBAAW;AAEX,oBAAc;AAEd,uBAAiB;AAEjB,iBAAW;AAEX,qBAAe;AAEf,6BAAuB;AAEvB,iBAAW;AAEX,iBAAW;AAEX,6BAAuB;AAGvB,WAAK,SAAS,kBAAkB;AAEhC,WAAK,SAAS,qBAAqB;AACnC,WAAK,SAAS,qBAAqB;AAAA;AAAA,eAGlB,WAA0B;AAE3C,UAAI,KAAK,SAAS,MAAM;AACvB,aAAK,QAAQ,IAAI;AAAA;AAIlB,aAAO,KAAK;AAAA;AAAA,IAGN,mBAAmB;AAEzB,UAAI,UAA2C;AAE/C,WAAK,YAAY,QAAQ,QAAQ,cAAY;AAE5C,YAAI,KAAK,QAAQ,cAAc;AAE9B,cAAI,SAAS,SAAS;AACrB;AAAA;AAGD,kBAAQ,KAAK,EAAE,KAAK,SAAS,WAAW,SAAS,OAAO,QAAQ,MAAM,KAAK,OAAO;AAClF,kBAAQ,KAAK,EAAE,KAAK,SAAS,WAAW,SAAS,OAAO,eAAe,MAAM,KAAK,OAAO;AAAA,eAGrF;AAEJ,cAAI,SAAS,SAAS;AACrB;AAAA;AAGD,kBAAQ,KAAK,EAAE,KAAK,gBAAgB,SAAS,OAAO,QAAQ,MAAM,KAAK,OAAO;AAC9E,kBAAQ,KAAK,EAAE,KAAK,gBAAgB,SAAS,OAAO,eAAe,MAAM,KAAK,OAAO;AAAA;AAAA;AAOvF,UAAI,QAAQ,SAAS,GACrB;AACC,aAAK,OAAO,KAAK,SAEhB,KAAK,QAAQ,OAAO,MAAM,CAAC,UAAU;AAEpC,kBAAQ,IAAI,sBAAO;AAEnB,cAAI,SAAS,MAAM;AAElB,oBAAQ,IAAI,mCAAU;AAGtB,oBAAQ,QAAQ,aAAW;AAE1B,kBAAI,YAAY,QAAQ,IAAI,SAAS;AAErC,kBAAI,QAAQ,IAAI,UAAU,cAAc,QAAQ;AAE/C,oBAAI,UAAU,QAAQ,IAAI,UAAU,GAAG;AAIvC,qBAAK,UAAU,WAAW;AAAA;AAAA;AAK5B,iBAAK;AAAA,iBAEC;AAEN,kBAAM,IAAI,MAAM;AAAA;AAAA,YAKlB,KAAK,QAAQ,OAAO,MAAM,CAAC,UAAU;AAEpC,kBAAQ,IAAI,iBAAO;AAAA,WACjB,QAAW;AAAA;AAAA;AAAA,IAMV,OAAa;AAEnB,cAAQ,IAAI,gBAAgB,KAAK;AAGjC,WAAK,YAAY,QAAQ,QAAQ,aAAW;AAE3C,gBAAQ,IAAI,WAAW;AAEvB,YAAI,QAAQ,QAAQ,UAAU;AAE7B,eAAK,YAAY,KAAK,UAAU,aAAa,UAAU;AACvD;AAAA;AAGD,YAAI,aAAa,KAAK,UAAU,SAAS;AAEzC,YAAI,UAAU,KAAK,UAAU,aAAa,UAAU;AACpD,gBAAQ,QAAQ,QAAQ;AACxB,gBAAQ,OAAO,KAAK,UAAU,WAAW,QAAQ,MAAM;AACvD,gBAAQ,QAAQ,MAAM,KAAK,UAAU,CAAC,QAAQ;AAC9C,mBAAW,SAAS;AAAA;AAGrB,WAAK,aAAa;AAElB,WAAK,MAAM,eAAc;AAAA;AAAA,IAGlB,SAAS,YAAoB;AACpC,cAAQ,IAAI;AAEZ,WAAK,KAAK;AAAA;AAAA,IAGJ,iBAAiB;AACvB,aAAO,KAAK;AAAA;AAAA,IAUN,YAAY,eAAuB,gBAAwB,eAAuB,QAAQ,iBAAwB,MAAY;AACpI,UAAI,QAAQ;AAEZ,UAAI,iBAAiB,UACrB;AACC,gBAAQ;AAAA,aAGT;AACC,aAAK,YAAY,QAAQ,QAAQ,aAAW;AAE3C,cAAI,QAAQ,QAAQ,eAAe;AAElC,oBAAQ,aAAa,QAAQ,cAAY;AAExC,kBAAI,YAAY,gBAAgB;AAE/B,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAOb,UAAI,OAAO;AACV,YAAI,gBAAgB,QAAQ;AAC3B,eAAK,KAAK;AAAA,eAEN;AACJ,cAAI,CAAC,CAAC,KAAK,eAAe,iBAAiB;AAC1C,iBAAK,eAAe,gBAAgB,cAAc,GAAG;AAAA,iBAEjD;AACJ,kBAAM,IAAI,MAAM,iBAAiB;AAAA;AAAA;AAAA,aAI/B;AACJ,cAAM,IAAI,MAAM,gBAAgB,yCAAW,iBAAiB;AAAA;AAAA;AAAA,IAIvD,KAAK,aAAqB,QAAQ,YAAoB,GAAG,YAAoB,GAAG,SAA0B,MAAY;AAE5H,UAAI,cAAc,QAClB;AACC,YAAI,KAAK,aAAa,MAAM;AAE3B,eAAK,UAAU,MAAM,WAAW;AAEhC,eAAK,UAAU;AAEf,cAAI,UAAU,MAAM;AAEnB,mBAAO,SAAS,KAAK;AAAA,iBAEf;AAEN,iBAAK,MAAM,KAAK,SAAS,KAAK;AAAA;AAAA;AAAA,aAI1B;AAEN,aAAK,UAAU,YAAY,QAAQ,EAAE,IAAI,WAAW,IAAI;AAAA;AAAA;AAAA,IAanD,UAAU,YAAoB,YACpC,SAOO;AAEP,UAAI,YAAY,KAAK,UAAU,aAAa,YAAY;AAExD,UAAI,aAAa;AAAM;AACvB,UAAI,CAAC,SAAS;AACb,kBAAU;AAAA;AAGX,UAAI,WAAW,IAAI,aAAa,QAAQ;AAGxC,eAAS;AAET,eAAS,cAAc;AAGvB,gBAAU,OAAO;AAGjB,gBAAU;AAIV,gBAAU,MAAM,QAAQ,MAAM,GAAG,QAAQ,MAAM;AAG/C,eAAS,QAAQ,QAAQ,YAAY,QAAQ,QAAQ;AAGrD,UAAI,QAAQ,QAAQ;AACnB,gBAAQ,OAAO,SAAS;AAAA,aAGpB;AACJ,iBAAS;AAAA;AAAA;AAAA,IASJ,eAAe;AACrB,UAAI,KAAK,QAAQ,cAAc;AAC9B,eAAO;AAAA;AAER,aAAO;AAAA;AAAA,IAWD,eAAe,UAAkB,WAAmB,iBAAsB,MAAM,SAAiB,OAAO,UAAe,MAAM,WAAqB,MAAY;AAIpK,UAAI,KAAK,QAAQ,cACjB;AAGC,YAAI,MAAM;AAEV,gBAAQ,IAAI,GAAG;AAEf,YAAI,aAAa,IAAI;AAErB,YAAI,CAAC,CAAC,YAAY;AACjB,kBAAQ,IAAI,GAAG;AAEf,cAAI,eAAe,UAAU,QAAQ,OAAO;AAE5C,cAAI,aAAa,MAAM,KAAK;AAC3B,2BAAe,aAAa,UAAU;AAAA;AAGvC,kBAAQ,IAAI,GAAG;AAEf,qBAAW,KAAK,KAAK,eAAc,aAAa,cAAc,gBAAgB,SAAS;AAAA;AAIxF;AAAA;AAED,cAAQ,IAAI,aAAa;AACzB,uBAAiB,kBAAkB;AACnC,qBAAe,aAAW,aAAa;AACvC,cAAQ,IAAI,sBAAiB,YAAY,UAAK;AAE9C,UAAI,MAAM,eAAc,cAAc;AAEtC,UAAI,CAAC,CAAC,YAAY,SAAS,SAAS,GACpC;AACC,cAAM,eAAc,cAAc,WAAW,MAAM;AAAA;AAGpD,UAAI,UAAU,OAAO;AACpB,eAAO;AAEP,mBAAW,OAAO,gBAAgB;AAEjC,cAAI,OAAO,UAAU,eAAe,KAAK,gBAAgB,MAAM;AAC9D,mBAAO,MAAM,MAAM,eAAe,OAAO;AAAA;AAAA;AAAA;AAK5C,UAAI,MAAM,IAAI,KAAK;AAEnB,UAAI,KAAK,UAAU;AAEnB,UAAI,KAAK,KAAK,MAAM,UAAU,MAAM,CAAC,SAAc;AAElD,gBAAQ,IAAI,uBAAkB,YAAY,UAAK;AAE/C,YAAI,CAAC,CAAC;AAAU,mBAAS,KAAK,SAAS,KAAK,MAAM;AAAA;AAGnD,UAAI,KAAK,KAAK,MAAM,OAAO,MAAM,CAAC,SAAc;AAAE,gBAAQ,IAAI;AAAA;AAE9D,UAAI,GAAG,KAAK,MAAM,UAAU,MAAM,CAAC,SAAc;AAAE,gBAAQ,IAAI;AAAA;AAE/D,UAAI,KAAK,KAAK,UAAU,QAAQ,OAAO,gBAAgB,QAAQ,aAAa;AAAA;AAAA;AA3f9E;AAEwB,EAFxB,cAEwB,uBAAuB;AAIvB,EANxB,cAMwB,cAAc;AAKd,EAXxB,cAWwB,cAAc;;;ACftC,yCAAgD,oBAAoB;AAAA,IAApE,cAbA;AAaA;AAEC,oBAAwB;AAAA;AAAA,WAKjB,SAAS,OAAe,MAAc,qBAAgD,gBAA6B;AACzH,UAAI,OAAO;AACX,UAAI,CAAC,cAAc,SAAS,gBAAgB;AAC3C,+BAAuB,oBAAoB;AAC3C,YAAI,MAAM;AACT,eAAK,gBAAgB;AACrB,wBAAc,SAAS,UAAU,oBAAoB,oBAAoB;AAAA,YACxE,cAAc;AAAA,cACb,OAAO;AAAA,cACP,OAAO;AAAA,cACP,QAAQ;AAAA;AAAA;AAAA;AASX;AAAA;AAGD,oBAAc,SAAS,eAAe,IAAI,2BAA2B;AAAA,QACpE,OAAO;AAAA,QACP,YAAY,KAAK;AAAA,SAEf,QAAQ,MAAM,CAAC,SAAS;AAE1B,gBAAQ,IAAI,2BAA2B;AACvC,eAAO,KAAK,QAAQ;AACpB,+BAAuB,oBAAoB;AAC3C,YAAI,MAAM;AACT,eAAK,gBAAgB;AACrB,wBAAc,SAAS,UAAU,oBAAoB,oBAAoB,EAAE,IAAI,GAAG,IAAI,GAAG,cAAc,KAAK;AAAA;AAAA;AAAA;AAAA,IAc/G,iBAAiB;AAChB,YAAM;AAYN,WAAK,cAAc,KAAK;AAExB,WAAK,OAAO;AAEZ,UAAI,KAAK,eAAe,MAAM;AAI7B,aAAK,YAAY,gBAAgB,MAAM,KAAK;AAC5C,aAAK;AACL,aAAK,QAAQ,KAAK,YAAY;AAAA;AAAA;AAAA,IAIhC,UAAU;AAET,WAAK;AACL,WAAK;AAAA;AAAA,IAEN,SAAS;AACR,WAAK,UAAU;AAIf,WAAK,MAAM,aAAa;AAExB,cAAQ,IAAI,aAAa;AAAA;AAAA,IAE1B,OAAO;AAON,WAAK;AACL,WAAK;AAAA;AAAA,IAGN,OAAO;AACN,WAAK;AAAA;AAAA,IAKN,QAAQ;AACP,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AACpB,yBAAmB,iBAAiB,mBAAmB;AAAA;AAAA,IAExD,WAAW;AAOV,WAAK,eAAe,QAAQ,MAAM,MAAM;AACvC,gBAAQ,IAAI,gBAAgB,KAAK,OAAO;AACxC,aAAK,QAAQ,KAAK,OAAO;AACzB,oBAAY;AAAA;AAAA;AAAA,IAId,aAAa;AAAA;AAAA,IAGb,YAAY;AACX,WAAK,MAAM,aAAa;AAAA;AAAA,IAQzB,QAAQ,OAAsB;AAC7B,WAAK,SAAS;AACd,WAAK,eAAe,OAAO,MAAM;AACjC,UAAI,KAAK,WAAW,eAAe,MAAM,SAAS;AAElD,iBAAW,kBAAkB,KAAK,aAAa,KAAK;AAKpD,cAAQ,IAAI,WAAW;AAAA;AAAA,IAGxB,QAAQ,SAAiB;AACxB,UAAI,CAAC,KAAK,QAAQ,cAAc;AAC/B;AAAA;AAED,UAAI,CAAC,WAAW,WAAW,GAAG;AAK7B,0BAAkB,qBAAqB,CAAC,aAAa;AACpD,sBAAY,KAAK;AAAA;AAAA,aAGd;AACJ,0BAAkB,mBAAmB,KAAK,SAAS,MAAM;AAAA,WACtD,MAAM;AACR,eAAK;AAAA;AAAA;AAAA;AAAA;;;AC9KT,MAAM,WAAW;AAAA,IAChB,aACA;AAAA,MACC,MAAM;AAAA,MACN,SACA;AAAA,QACC,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA;AAAA;AAAA;AAiBb,gCAAuB;AAAA,IAAvB,cApCA;AAgDS,oBAAS;AAAA;AAAA,WAPV,WAAW;AACjB,UAAI,CAAC,KAAK,YAAY;AACrB,aAAK,aAAa,IAAI;AAAA;AAEvB,aAAO,KAAK;AAAA;AAAA,IAYb,KAAK,WAAwB;AAC5B,UAAI,KAAK,QAAQ;AAChB;AAAA;AAAA;AAAA,IAKF,YAAgC,OAAU,WAAgF;AAKzH,UAAI,YAAY,SAAS,OAAO;AAChC,UAAI,UAAU;AACd,UAAI,QAAQ,MAAM;AAEjB,sBAAc,SAAS,eAAe,IAAI,WAAW,IAAI,QAAQ,MAChE,CAAC,SAAS;AACT,cAAI,KAAK,QAAQ,GAAG;AACnB;AACA,gBAAI,WAAW,GAAG;AACjB,2BAAa,UAAU,OAAO;AAC9B;AAAA;AAED,uBAAW,MAAM;AAChB;AAAA,eACE;AACH;AAAA;AAED,qBAAW,WAAW,WAAW,KAAK,MAAM,SAAS,OAAO;AAC5D,uBAAa,UAAU,MAAM,KAAK;AAAA;AAAA;AAIrC;AAAA;AAAA;AAvDF;AAIgB,EAJhB,iBAIgB,aAA+B;AA0DxC,MAAI,iBAAiB,iBAAiB;;;AC9EtC,MAAK;AAAL,YAAK,gBAAL;AACH,+CAAU,KAAV;AACA,4CAAO,KAAP;AACA,2CAAM,KAAN;AAAA,KAHQ;AAOL,MAAM,gBAAgB;AAAA,IACzB,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,KAAK;AAAA,IACL,OAAO;AAAA,IACP,aAAa;AAAA;AAMV,MAAM,uBAAuB;AAAA,IAChC,YAAY;AAAA,MACR,OAAO;AAAA,MACP,SAAS;AAAA,MACT,UAAU;AAAA,MACV,MAAM;AAAA,MACN,MAAM;AAAA;AAAA,IAEV,aAAa;AAAA,MACT,OAAO;AAAA,MACP,SAAS;AAAA,MACT,UAAU;AAAA,MACV,MAAM;AAAA,MACN,MAAM;AAAA;AAAA,IAGV,aAAa;AAAA,MACT,OAAO;AAAA,MACP,SAAS;AAAA,MACT,UAAU;AAAA,MACV,MAAM;AAAA,MACN,MAAM;AAAA;AAAA,IAEV,UAAU;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA,MACT,UAAU;AAAA,MACV,MAAM;AAAA,MACN,MAAM;AAAA;AAAA;AAMd,2BAAkB;AAAA,IAAlB,cA1EA;AA6EI,sBAAW;AAEX,uBAAiB;AAEjB,yBAAmB;AAGV,yBAAc;AAAA,QAOnB;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAOX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA,QAEX;AAAA,UACI,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA;AAIN,6BAAkB;AAAA,QAEvB,QAAQ;AAAA,UACJ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAO;AAAA;AAAA;AAMN,yBAAc;AACvB,4BAAiB;AAEjB,sBAAW;AAEX,oBAAS;AAET,qBAAU;AAGV,sBAAW;AAEX,uBAAY;AAEZ,wBAAa;AAEb,0BAAe;AAGf,uBAAY;AAEZ,uBAAY;AAEZ,yBAAc;AAKd,6BAAkB,EAAE,QAAQ,GAAG,KAAK;AAKpC,uBAAY;AAEZ,wBAAa;AACb,4BAAiB;AAEjB,uBAAY;AAEZ,4BAAiB;AAEjB,qBAAU;AAEF,2BAAgB;AAGhB,qBAAU;AAwCV,2BAAgB;AAmHhB,8BAAmB;AAsFnB,yBAAc;AA4Ld,4BAAiB,EAAE,OAAO,QAAQ,SAAS,gBAAgB,OAAO;AAob1E,4BAAiB;AAiCR,8BAAmB;AAyDpB,8BAAmB;AA2C3B,+BAAoB;AACZ,8BAAmB;AAuB3B,8BAAkC;AA0G1B,+BAAyC;AAuCzC,6BAAkB;AAqDlB,gCAAqB;AAAA,QACzB,IAAI;AAAA,QACJ,WAAW;AAAA,QACX,UAAU;AAAA;AAAA;AAAA,WAlsCP,MAAM;AACT,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AAAA;AAExB,aAAO,KAAK;AAAA;AAAA,IAEhB,OAAO;AACH,WAAK,YAAY;AAEjB,WAAK,eAAe,KAAK,YAAY;AACrC,WAAK;AACL,WAAK;AAEL,qBAAe,YAAY,eAAe,CAAC,UAAU,UAAU;AAC3D,gBAAQ,IAAI,eAAe;AAC3B,YAAI,UAAU;AACV,cAAI,MAAsD;AAC1D,mBAAS,QAAQ,GAAG,QAAQ,MAAM,SAAS,QAAQ,SAAS;AACxD,kBAAM,UAAU,MAAM,SAAS,OAAO;AACtC,gBAAI,SAAuD;AAAA,cACvD,IAAI,QAAQ;AAAA,cACZ,KAAK,QAAQ;AAAA,cACb,QAAQ,QAAQ,UAAU;AAAA;AAE9B,gBAAI,KAAK;AACT,iBAAK,mBAAmB;AAAA;AAE3B;AAAA;AAAA;AAAA;AAAA,IASb,UAAU;AACN,uBAAiB,mBAAmB;AACpC,WAAK,aAAa;AAClB,WAAK,YAAY;AACjB,UAAI,KAAK,eAAe;AACpB,qBAAa,KAAK;AAClB,aAAK,gBAAgB;AAAA;AAGzB,UAAI,CAAC,KAAK,aAAa,CAAC,KAAK,aAAa;AACtC,aAAK,gBAAgB,WAAW,MAAM;AAClC,eAAK;AAAA,WACN;AACH;AAAA;AAGJ,gBAAU,MAAM,KAAK;AACrB,gBAAU,YAAY,KAAK,eAAe;AAAA,QACtC,UAAU;AAAA,QACV,UAAU,CAAC,UAAkB,KAAa,OAAe;AAGrD,eAAK;AAAA;AAAA;AAIb,WAAK,UAAY,MAAK,QAAQ,KAAK,YAAY,MAAS;AAExD,WAAK,YAAY;AACjB,WAAK,YAAY;AACjB,WAAK;AACL,WAAK,aAAa,KAAK,UAAU;AACjC,WAAK,eAAe,KAAK,YAAY;AACrC,WAAK,YAAY;AACjB,WAAK,iBAAiB;AACtB,WAAK,YAAY;AAEjB,WAAK,iBAAiB;AACtB,WAAK;AACL,WAAK;AAGL,WAAK;AACL,WAAK,UAAU;AAAA;AAAA,IAKnB,SAAS;AACL,WAAK,YAAY;AACjB,WAAK,aAAa;AAClB,WAAK,YAAY;AACjB,WAAK,YAAY;AACjB,WAAK,aAAa,KAAK,UAAU;AACjC,WAAK,eAAe,KAAK,YAAY;AACrC,WAAK,YAAY;AACjB,WAAK,YAAY;AACjB,WAAK;AACL,WAAK,UAAU;AACf,cAAQ,WAAW;AAAA;AAAA,IAEvB,SAAS,QAAQ,MAAM;AACnB,WAAK,aAAa;AAClB,WAAK,YAAY;AACjB,WAAK,UAAU;AAGf,UAAI,CAAC,OAAO;AACR,aAAK,WAAW;AAAA;AAEpB,WAAK,aAAa,KAAK,UAAU;AACjC,WAAK,eAAe,KAAK,YAAY;AACrC,UAAI,OAAO;AACP,gBAAQ,WAAW;AAAA;AAAA;AAAA,IAG3B,kBAAkB,QAAQ,GAAG;AACzB,WAAK,YAAY;AACjB,WAAK,aAAa,KAAK,UAAU,aAAa;AAC9C,UAAI,SAAS,GAAG;AACZ,gBAAQ,WAAW;AAAA;AAEvB,uBAAiB,mBAAmB;AAAA;AAAA,IAExC,kBAAkB;AACd,WAAK,aAAa,KAAK,UAAU,gBAAgB;AAAA;AAAA,IAErD,UAAU,QAAiB;AACvB,UAAI,CAAC,KAAK,UAAU;AAChB;AAAA;AAEJ,WAAK,UAAU;AAEf,UAAI,QAAQ;AACR,kBAAU,MAAM,KAAK;AAAA,aAEpB;AACD,kBAAU,OAAO,KAAK;AAAA;AAE1B,WAAK,aAAa,KAAK,UAAU,UAAU;AAAA;AAAA,IAE/C,SAAS;AACL,WAAK,WAAW;AAAA;AAAA,IAGpB,UAAU;AACN,WAAK,WAAW;AAChB,UAAI,KAAK,eAAe;AACpB,qBAAa,KAAK;AAClB,aAAK,gBAAgB;AAAA;AAEzB,gBAAU,KAAK,KAAK;AAAA;AAAA,IAIxB,mBAAmB;AACf,WAAK,mBAAmB;AACxB,WAAK,MAAM,UAAU,GAAG,MAAM,KAAK;AAAA;AAAA,IAEvC,wBAAwB;AACpB,WAAK,mBAAmB;AAAA;AAAA,IAE5B,oBAAoB;AAChB,aAAO,KAAK;AAAA;AAAA,IAoChB,SAAS,OAAe;AACpB,UAAI,QAAQ,KAAK,YAAY;AACzB,aAAK,aAAa;AAAA;AAAA;AAAA,IAI1B,kBAAkB;AACd,UAAI,YAAc,KAAK,WAAW,IAAK,KAAK,YAAY,MAAO;AAE/D,WAAK,YAAY;AAEjB,WAAK,MAAM,MAAM;AAAA;AAAA,IAIrB,mBAAmB,OAAqB;AACpC,UAAI,CAAC,KAAK,WAAW;AACjB;AAAA;AAEJ,eAAS,OAAO;AAAA;AAAA,IAIpB,gBAAgB,SAAiB;AAC7B,UAAI,CAAC,KAAK,WAAW;AACjB;AAAA;AAEJ,kBAAY,OAAO,EAAE,QAAQ,SAAS,KAAK,CAAC,KAAK,KAAK,MAAM,SAAS;AAAA;AAAA,IAGzE,eAAe,OAAsB;AACjC,cAAQ,IAAI;AACZ,WAAK,aAAa,KAAK,UAAU,cAAc;AAAA;AAAA,IAGnD,cAAc,OAAgB;AAC1B,WAAK,aAAa,KAAK,UAAU,cAAc;AAAA;AAAA,IAOnD,mBAAmB,YAA4D;AAC3E,UAAI,QAAQ;AACZ,eAAS,QAAQ,GAAG,QAAQ,WAAW,QAAQ,SAAS;AACpD,cAAM,QAAQ,WAAW;AACzB,cAAM,KAAK,MAAM;AACjB,aAAK,YAAY,OAAO,MAAM,MAAM,EAAE,KAAK,MAAM,KAAK,QAAQ,MAAM;AAAA;AAExE,cAAQ,IAAI,kCAAkC,KAAK;AACnD,cAAQ,IAAI,SAAS;AAErB,WAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,OAAO,MAAM,CAAC,cAAc;AAC7D,gBAAQ,IAAI,0DAAa;AAAA;AAAA;AAAA,IAGjC,gBAAgB,KAAwD;AACpE,UAAI,OAAO,OAAO,UAAU;AACxB,YAAI,QAAQ,KAAK,YAAY,OAAO;AACpC,YAAI,OAAO;AACP,iBAAO;AAAA;AAEX,eAAO,EAAE,KAAK,gBAAgB,KAAK,YAAY,MAAM,GAAG,OAAO,QAAQ;AAAA,aAEtE;AACD,eAAO,EAAE,KAAK,gBAAgB,KAAK,gBAAgB,KAAK,OAAO,QAAQ;AAAA;AAAA;AAAA,IAI/E,eAAe,KAAsB;AACjC,UAAI,OAAO,OAAO,UAAU;AACxB,eAAO,KAAK,YAAY,MAAM;AAAA;AAElC,aAAO,KAAK,gBAAgB;AAAA;AAAA,IAIhC,kBAAkB,OAAe;AAC7B,cAAQ,MAAM,kFAAiB;AAAA;AAAA,IAInC,WAAW;AAQP,mBAAa,qBAAqB,cAAc,OAAO,MAAM,CAAC,OAAO;AACjE,aAAK,SAAS;AACd,aAAK,MAAM,MAAM;AAAA;AAGrB,WAAK,SAAS,aAAa,WAAW;AACtC,mBAAa,eAAe,cAAc;AAAA;AAAA,IAG9C,WAAW,MAAc,WAAsB,QAAmB,QAAiB;AAC/E,UAAI,cAAc,SAAS,gBAAgB;AACvC,YAAI,QAAQ,GAAG;AACX;AAAA;AAEJ,YAAI,OAAO,GAAG;AACV,kBAAQ,MAAM,cAAc;AAAA,eAS3B;AACD,uBAAa,gBAAgB,cAAc,OAAO,CAAC,MAAM,CAAC,aAAa;AACnE,gBAAI,UAAU;AACV,2BAAa;AAAA,mBAEZ;AACD,wBAAU;AAAA;AAAA;AAAA;AAAA,aAarB;AACD,aAAK,UAAU;AACf,aAAK,MAAM,MAAM;AACjB,qBAAa;AAAA;AAAA;AAAA,IAWrB,UAAU;AACN,aAAO,KAAK;AAAA;AAAA,IAKhB,UAAU,SAAS,GAAG;AAClB,mBAAa,qBAAqB,cAAc,SAAS,MAAM,CAAC,OAAO;AACnE,aAAK,UAAU;AACf,aAAK,MAAM,MAAM;AAAA;AAGrB,WAAK,UAAU,aAAa,WAAW;AACvC,mBAAa,eAAe,cAAc;AAAA;AAAA,IAE9C,YAAY,MAAc;AAUtB,mBAAa,aAAa;AAAA;AAAA,IAE9B,WAAW;AACP,aAAO,KAAK;AAAA;AAAA,IAGhB,aAAa,KAAK,GAAG;AACjB,WAAK,WAAW;AAChB,WAAK,MAAM,MAAM;AAAA;AAAA,IAErB,eAAe,MAAc;AACzB,WAAK,YAAY;AACjB,WAAK,MAAM,MAAM;AAAA;AAAA,IAErB,cAAc;AACV,aAAO,KAAK;AAAA;AAAA,IAGhB,cAAc,KAAK,GAAG;AAClB,WAAK,YAAY;AACjB,WAAK,MAAM,MAAM;AAAA;AAAA,IAErB,gBAAgB,MAAc;AAC1B,WAAK,aAAa;AAClB,WAAK,MAAM,MAAM;AAAA;AAAA,IAErB,eAAe;AACX,aAAO,KAAK;AAAA;AAAA,IAGhB,gBAAgB;AACZ,WAAK,WAAW;AAChB,WAAK,MAAM,MAAM;AAAA;AAAA,IAErB,eAAe,OAAe;AAG1B,UAAI,YAAY,KAAK,YAAY,QAAQ,GAAG;AAC5C,UAAI,KAAK,gBAAgB,OAAO;AAE5B,aAAK,aAAa,KAAK,UAAU,qBAAqB,KAAK;AAC3D,gBAAQ,WAAW;AAAA;AAGvB,WAAK,YAAY;AACjB,aAAO;AAAA;AAAA,IAEX,YAAY,WAAW;AACnB,WAAK,YAAY;AACjB,WAAK,MAAM,MAAM;AACjB,aAAO,KAAK;AAAA;AAAA,IAEhB,cAAc;AACV,aAAO,KAAK;AAAA;AAAA,IAIhB,mBAAmB,SAShB;AACC,iBAAW,OAAO,KAAK,gBAAgB;AACnC,YAAI,CAAC,OAAO,UAAU,eAAe,KAAK,SAAS,MAAM;AACrD,kBAAQ,MAAM,6DAAgB;AAC9B;AAAA;AAEJ,aAAK,eAAe,OAAO,QAAQ;AAAA;AAAA;AAAA,IAI3C,oBAAoB;AAChB,aAAO,KAAK;AAAA;AAAA,IAMhB,WAAW,IAAK;AAEZ,UAAI,qBAAa,KAAK,QAAQ,sBAAY,qBAAa,KAAK,QAAQ,IAAI;AACpE,mBAAG,UAAU,CAAC,SAAS;AACnB,kBAAQ,IAAI,UAAU;AAEtB,+BAAa,QAAQ,QAAQ,KAAK;AAClC,+BAAa,QAAQ,UAAU,KAAK;AAEpC,mBAAS,YAAY,KAAK,QAAQ,KAAK,UAAU,MAAM;AACnD,kBAAM;AACN,iBAAK;AAAA;AAAA;AAAA,aAGV;AACH,cAAM;AACN,aAAK;AAAA;AAAA;AAAA,IAGb,WAAW;AAAA;AAAA,IAgBX,cAAc;AAAA;AAAA,IAiBd,cAAc;AACV,cAAQ,IAAI;AAEZ,eAAS,SAAS,CAAC,QAAQ;AACvB,YAAI,IAAI,QAAQ,GAAG;AACf,cAAI,IAAI,KAAK,eAAe,YAAY,IAAI;AAExC,gBAAI,OAAO,IAAI,KAAK;AAAA,qBACb,IAAI,KAAK,SAAS,YAAY,IAAI;AAEzC,gBAAI,OAAO,IAAI,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,IAMpC,mBAAmB,OAAqB;AACpC,YAAM,UAAU;AAChB,UAAI,OAAO;AACX,UAAI,WAAW;AACf,cAAQ;AAAA,aACC;AACD,qBAAW;AACX;AAAA,aACC;AACD,qBAAW;AACX;AAAA,aACC;AACD,qBAAW;AACX;AAAA,aACC;AACD,qBAAW;AACX;AAAA,aACC;AACD,qBAAW;AACX;AAAA,aACC;AACD,qBAAW;AACX;AAAA,aACC;AACD,qBAAW;AACX;AAAA;AAGA;AAAA;AAER,aAAO,UAAU,WAAW;AAAA;AAAA,IA4MhC,eAAe,IAAS;AACpB,UAAI,OAAO,MAAM,UAAU;AACvB,eAAO;AAAA,iBACA,OAAO,MAAM,UAAU;AAC9B,eAAO,OAAO;AAAA;AAElB,cAAQ,MAAM,gDAAuB;AACrC,aAAO;AAAA;AAAA,IAOX,cAAc,OAAe,WAAoC;AAC7D,UAAI,KAAK,QAAQ,cAAc;AAC3B,YAAI,UAAU;AAAA,UACV,UAAU,WAAG;AAAA,UACb,MAAM;AAAA;AAEV,YAAI,OAAO,EAAE,MAAM,OAAO,mBAAmB,QAAQ;AACrD,mBAAG,QAAQ,MAAM,CAAC,QAAQ;AACtB,cAAI,IAAI,QAAQ,GAAG;AACf,oBAAQ,IAAI,gCAAY,IAAI;AAC5B,iCAAa,QAAQ,SAAS,IAAI,KAAK;AACvC,iBAAK,MAAM,MAAM;AAAA,iBAGd;AACH,oBAAQ,MAAM,gCAAY,IAAI;AAAA;AAElC,oBAAU,IAAI;AAAA;AAAA,aAEf;AACH,kBAAU;AAAA;AAAA;AAAA,IAMlB,aAAa,OAAe,WAA6F;AACrH,cAAQ,IAAI,gBAAgB;AAE5B,UAAI,KAAK,kBAAkB,QAAQ,KAAK,eAAe,GAAG;AACtD;AAAA;AAEJ,UAAI,QAAe;AACnB,UAAI,SAAS,KAAK,cAAc;AAC5B,gBAAQ;AAAA;AA0CZ;AACI,2BAAmB,SAAS,OAAO,KAAK,SAAS,CAAC,UAAU;AACxD,cAAI,OAAO;AACP,iBAAK,iBAAiB;AACtB,iBAAK,UAAU;AACf,oBAAQ,WAAW;AAAA;AAAA,WAGxB,MAAM;AACL,eAAK,UAAU;AAAA;AAAA;AAAA;AAAA,IAS3B,kBAAkB,QAAiB;AAAA;AAAA,IAKnC,YAAY,eAA+D,YAAoB,GAAG;AAAA;AAAA,IA4BlG,qBAAqB;AAAA;AAAA,IA+CrB,oBAAoB,QAAa,UAKrB;AACR,WAAK,MAAM,GAAG,KAAK,kBAAkB,QAAQ;AAAA;AAAA,IAIjD,yBAAyB;AACrB,UAAI,KAAK,oBAAoB,GAAG;AAC5B,eAAO,KAAK;AAAA;AAEhB,UAAI,WAAW,MAAM;AAEjB,YAAI,KAAK;AACT,YAAI,SAAS,UAAU;AACvB,gBAAQ,IAAI;AACZ,mBAAW,QAAQ,QAAQ;AACvB,cAAI,KAAK,UAAU,eAAe,OAAO;AACrC;AAAA;AAAA;AAGR,aAAK,mBAAmB;AAkBxB,aAAK,MAAM,MAAM,mBAAmB;AAAA;AAExC,WAAK,MAAM,GAAG,iBAAiB,MAAM;AACrC;AACA,aAAO,KAAK;AAAA;AAAA,IAQhB,iBAAiB,kBAKL,cAAc,OAAO;AAC7B,UAAI,KAAK,oBAAoB,CAAC,aAAa;AACvC,4BAAoB,iBAAiB,KAAK;AAC1C;AAAA;AAEJ,gBAAU,MAAM,QAAQ,iBAAiB;AAAA,QACrC,UAAU,CAAC,SAAS,OAAO,UAAU;AACjC,cAAI,SAAS;AACT,iBAAK,mBAAmB;AACxB,gCAAoB,iBAAiB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,IAS1D,iBAAiB,WAAsB;AAAA;AAAA,IAevC,gBAAgB,OAAqB;AACjC,cAAQ;AAAA,aACC;AAED,cAAI,kBAAkB,UAAU;AAC5B,mBAAO;AAAA;AAEX,iBAAO,CAAC,CAAC,UAAU,YAAY,SAAS;AACxC;AAAA,aACC;AACD,iBAAO,CAAC,kBAAkB;AAC1B;AAAA,aACC;AACD,iBAAO;AACP;AAAA,aACC;AACD,cAAI,QAAQ,CAAC,aAAa;AAC1B,uBAAa,aAAa,QAAW,EAAE,UAAU,IAAI,UAAU;AAC/D,iBAAO;AACP;AAAA,aACC;AACD,iBAAO;AACP;AAAA,aACC;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AACP;AAAA;AAGA;AAAA;AAER,aAAO;AAAA;AAAA,IAGX,WAAW,OAAqB,WAAqD;AACjF,UAAI,gBAAgB,CAAC,UAAmB,SAAe;AAEnD,qBAAa,UAAU,UAAU;AAGjC,YAAI,UAAU;AAEV,eAAK;AACL,eAAK;AAAA;AAAA;AAGb,UAAI,KAAK,QAAQ,cAAc;AAE3B,YAAI,QAAkB,SAAS;AAC/B,gBAAQ;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA,eACC;AACD,oBAAQ,SAAS;AACjB;AAAA;AAGA;AAAA;AAER,kBAAU,OAAO,OAAO,CAAC,aAAa;AAClC,wBAAc;AACd,cAAI,UAAU;AACV,6BAAiB,aAAa;AAAA;AAAA,WAEnC,GAAG;AAAA,aAEL;AACD,sBAAc;AAAA;AAAA;AAAA,IAGtB,oBAAoB;AAChB,WAAK,oBAAoB;AAAA;AAAA,IAI7B,kBAAkB;AACd,UAAI,KAAK,sBAAsB,MAAM;AACjC,eAAO,KAAK;AAAA;AAGhB,YAAM,WAAW,CAAC,cAAc,aAAa,CAAC,UAAU;AAGxD,UAAI,WAAgB;AAEpB,iBAAW,QAAQ,UAAU;AAEzB,YAAI,OAAO,QAAQ,UAAU;AACzB,cAAI,KAAK,gBAAgB,OAAc;AACnC,uBAAW;AACX;AAAA;AAAA,eAGH;AAED,cAAI,OAAO,KAAK,KAAK,OAAK,KAAK,WAAW;AAC1C,iBAAO,KAAK,SAAS,GAAG;AACpB,gBAAI,SAAS,KAAK;AAClB,gBAAI,KAAK,gBAAgB,SAAS;AAC9B,yBAAW;AACX;AAAA;AAAA;AAGR,cAAI,UAAU;AACV;AAAA;AAAA;AAAA;AAIZ,WAAK,oBAAoB;AACzB,aAAO;AAAA;AAAA,IAKX,yBAAyB;AAErB,YAAM,mBAAmB;AAAA,QAErB,EAAE,MAAM,IAAI,OAAO;AAAA,QACnB,EAAE,MAAM,KAAK,OAAO;AAAA,QACpB,EAAE,MAAM,KAAK,OAAO;AAAA,QACpB,EAAE,MAAM,KAAK,OAAO;AAAA;AAMxB,UAAI,WAAW;AAEf,eAAS,QAAQ,KAAK,iBAAiB,QAAQ,iBAAiB,QAAQ,SAAS;AAE7E,cAAM,aAAa,iBAAiB;AAEpC,YAAI,UAAU,QAAQ,KAAK,kBAAkB,WAAW,QAAQ,KAAK,YAAY,WAAW,OAAO;AAC/F;AAAA;AAGJ,aAAK,kBAAkB,QAAQ;AAC/B,mBAAW;AAAA;AAGf,UAAI,UAAU;AAEV,YAAI,aAAa,KAAK;AACtB,YAAI,YAAY,KAAK,mBAAmB;AAGxC,aAAK;AAAA;AAAA;AAAA,IAOb,kBAAkB;AACd,cAAQ,IAAI;AAEZ,WAAK,aAAa,KAAK,UAAU;AAAA;AAAA,IAErC,kBAAkB;AAEd,cAAQ,IAAI;AACZ,WAAK,aAAa,KAAK,UAAU;AAAA;AAAA,IASrC,mBAAmB;AACf,WAAK,kBAAkB;AACvB,WAAK;AAAA;AAAA,IAET,uBAAuB;AACnB,WAAK,qBAAqB;AAAA,QACtB,IAAI;AAAA,QACJ,WAAW;AAAA,QACX,UAAU;AAAA;AAAA;AAAA,IAIlB,6BAA6B;AACzB,UAAI,KAAK,kBAAkB,GAAG;AAC1B,eAAO;AAAA;AAGX,UAAI,KAAK,mBAAmB,MAAM,KAAK,mBAAmB,KAAK,mBAAmB,WAAW;AACzF,eAAO,KAAK,mBAAmB;AAAA;AAGnC,UAAI,WAAW,EAAE,YAAY,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU;AAE7E,UAAI,MAAO,MAAK,YAAY,KAAK,gBAAgB,UAAW,MAAK,gBAAgB,MAAM,KAAK,gBAAgB,UAAU;AACtH,cAAQ,IAAI,gEAAc;AAE1B,UAAI,KAAK,kBAAkB,KAAK,MAAM,IAAI;AACtC,cAAM,WAAW;AAAA,UACb,EAAE,YAAY,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU;AAAA,UAE9D,EAAE,YAAY,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU;AAAA,UAE9D,EAAE,YAAY,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU;AAAA,UAE9D,EAAE,YAAY,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU;AAAA;AAElE,mBAAW,SAAS,KAAK,kBAAkB;AAAA;AAI/C,UAAI,aAAa;AACjB,iBAAW,OAAO,UAAU;AACxB,sBAAc,SAAS;AAAA;AAE3B,UAAI,OAAO;AACX,UAAI,SAAS,KAAK,WAAW;AAC7B,iBAAW,OAAO,UAAU;AACxB,YAAI,SAAS,SAAS,MAAM;AACxB,iBAAO;AACP;AAAA;AAEJ,kBAAU,SAAS;AAAA;AAIvB,UAAI,QAAQ,IAAI;AACZ,gBAAQ,MAAM,yDAAqC,KAAK,iBAAiB;AACzE,eAAO;AAAA;AAEX,WAAK,mBAAmB,KAAK,KAAK;AAClC,WAAK,mBAAmB,YAAY;AAEpC,aAAO;AAAA;AAAA,IAIX,mBAAmB,YAAkC;AAEjD,UAAI,KAAK,mBAAmB,MAAM,KAAK,mBAAmB,KAAK,mBAAmB,UAAU;AACxF,eAAO,KAAK,mBAAmB;AAAA;AAGnC,YAAM,WAAW;AAAA,QACb,YAAY,EAAE,QAAQ,IAAI,KAAK,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa;AAAA,QACxE,aAAa,EAAE,QAAQ,IAAI,KAAK,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa;AAAA,QACzE,aAAa,EAAE,QAAQ,IAAI,KAAK,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa;AAAA,QACzE,UAAU,EAAE,QAAQ,IAAI,KAAK,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa;AAAA;AAE1E,UAAI,WAAW,SAAS;AAGxB,UAAI,aAAa;AACjB,iBAAW,OAAO,UAAU;AACxB,YAAI,SAAS,OAAO,GAAG;AAEnB,cAAI,CAAC,KAAK,gBAAgB,MAAa;AAEnC,qBAAS,OAAO;AAChB;AAAA;AAAA;AAGR,gBAAQ,IAAI,+CAAW,KAAI,SAAS;AACpC,sBAAc,SAAS;AAAA;AAE3B,UAAI,OAAO;AACX,UAAI,SAAS,KAAK,WAAW;AAC7B,iBAAW,OAAO,UAAU;AACxB,YAAI,SAAS,SAAS,MAAM;AACxB,iBAAO;AACP;AAAA;AAEJ,kBAAU,SAAS;AAAA;AAEvB,UAAI,QAAQ,IAAI;AACZ,gBAAQ,MAAM,iDAA6B;AAC3C,eAAO;AAAA;AAEX,WAAK,mBAAmB,KAAK,KAAK;AAClC,WAAK,mBAAmB,WAAW;AACnC,aAAO;AAAA;AAAA,IAIX,cAAc,WAAyB,YAAkC,UAAwC;AAC7G,WAAK,WAAW,WAAW,CAAC,aAAa;AACrC,YAAI,UAAU;AACV,kBAAQ,IAAI,iBAAiB,YAAY,qBAAqB;AAE9D,cAAI,aAAa,qBAAqB,YAAY;AAClD,kBAAQ;AAAA,iBACC;AACD,kBAAI,KAAK,KAAK,IAAI,KAAK,gBAAgB,MAAM,KAAK,gBAAgB,UAAU;AAC5E,mBAAK,YAAY,kBAAkB,KAAK,gBAAgB,SAAS;AACjE,sBAAQ,WAAW;AACnB;AAAA,iBACC;AACD,mBAAK,YAAY,sBAAsB;AACvC,sBAAQ,WAAW;AACnB;AAAA,iBACC;AACD,mBAAK,YAAY;AACjB,sBAAQ,WAAW;AACnB;AAAA,iBACC;AACD,mBAAK,YAAY;AACjB,mBAAK,mBAAmB,EAAE,OAAO,YAAY,KAAK,CAAC,KAAK;AACxD,sBAAQ,WAAW;AACnB;AAAA;AAGA;AAAA;AAER,eAAK;AAAA;AAET,oBAAY,SAAS;AAAA;AAAA;AAAA,IAI7B,YAAY,QAAgB,OAAqB,YAAkC;AAC/E,WAAK,kBAAkB;AACvB,WAAK,qBAAqB;AAAA,QACtB,IAAI;AAAA,QACJ,WAAW;AAAA,QACX,UAAU;AAAA;AAEd,WAAK;AAAA;AAAA;AAp+Cb;AAmImB,EAnInB,YAmImB,WAAwB;AAu2CpC,MAAI,YAAY,YAAY;;;AC/iDnC,uBAA6B;AAAA,IAA7B,cALA;AAWY,2BAAwC;AACxC,wBAAqC;AAGrC,0BAA8C;AAAA;AAAA,WAGxC,cAAuB;AACjC,UAAI,CAAC,KAAK,UAAU;AAChB,aAAK,WAAW,IAAI;AAAA;AAExB,aAAO,KAAK;AAAA;AAAA,IAGhB,SAAS,OAAe;AACpB,aAAO,KAAK,cAAc,eAAe;AAAA;AAAA,IAG7C,cAAc,OAAe,MAAW,WAAW,GAAY;AAgB3D,aAAO;AAAA;AAAA,IAIX,aAAa,OAAe,MAAmB,MAAM,IAAgB;AA8BjE,UAAI,OAAkB,KAAK,KAAK,mBAAmB,OAAO,KAAK,QAAQ;AACvE,aAAO;AAAA;AAAA,IAEX,gBAAgB,KAAa;AAAA;AAAA,IAW7B,eAAe,OAAe,KAAU,MAAM,IAAI;AAC9C,WAAK,KAAK,QAAQ,OAAO;AAAA;AAAA,IAkB7B,eAAe,OAAe;AAAA;AAAA;AA3GlC;AAGmB,EAHnB,QAGmB,WAA2B;;;ACoB9C,6BAAmC,KAAK,OAAO;AAAA,IA4E3C,cAAc;AAAE;AAxEhB,kBAAe;AAGf,yBAAc;AAIN,qBAA4B,CAAC,MAAO;AAmL5C,qBAAU;AACF,sBAAW;AAgGnB,4BAAiB;AAoDT,wBAAuB;AAAA;AAAA,WA7TxB,UAAU,SAAsB,SAAoB;AACvD,WAAK,WAAW;AAChB,WAAK,SAAS;AAAA;AAAA,WAEX,OAAO,OAAkB;AAG5B,UAAI,QAAQ,QAAQ,cAAc,aAAa,KAAK,UAAU,KAAK;AACnE,UAAI,CAAC,OAAO;AACR,eAAO;AAAA;AAIX,UAAI,QAAe,MAAM,aAAa;AAEtC,UAAI,CAAC,OAAO;AACR,eAAO;AAAA;AAEX,aAAM,OAAO,SAAS;AACtB,aAAM,SAAS,KAAK;AACpB,YAAM,KAAK;AACX,aAAO;AAAA;AAAA,WAGJ,WAAW,eAAe,OAAO;AAOpC,aAAO,OAAM,SAAS,SAAS,GAAG;AAG9B,eAAM,SAAS,GAAG;AAAA;AAAA;AAAA,IAG1B,aAAa;AACT,UAAI,KAAK,KAAK,MAAM;AAChB,aAAK,KAAK,KAAK,SAAS;AACxB,aAAK,KAAK,OAAO;AAAA;AAGrB,WAAK,gBAAgB;AACrB,WAAK,KAAK,IAAI,MAAM;AACpB,WAAK,KAAK,UAAU;AACpB,WAAK,KAAK;AACV,cAAQ,cAAc,eAAe,OAAM,UAAU,KAAK,MAAM,OAAM;AACtE,UAAI,OAAO,OAAM,SAAS,UAAU,OAAK,EAAE,QAAQ,KAAK;AACxD,UAAI,QAAQ,GAAG;AACX,eAAM,SAAS,OAAO,MAAM;AAAA;AAAA;AAAA,IAM5B,KAAK,OAAkB;AAC3B,aAAM;AAEN,WAAK,cAAc;AACnB,WAAK,OAAO,OAAM;AAElB,WAAK,aAAa;AAClB,WAAK,OAAO,KAAK;AAEjB,WAAK,SAAS;AAGd,WAAK,cAAc,KAAK,MAAM,aAAa,KAAK;AAChD,WAAK,eAAe,MAAM;AAE1B,WAAK,gBAAgB;AACrB,WAAK,KAAK,UAAU;AACpB,WAAK,MAAM,UAAU,GAAG,MAAM,MAAM;AAChC,aAAK,KAAK,IAAI,MAAM,GAAG,MAAM;AAC7B,aAAK,QAAQ,KAAK,MAAM;AACxB,aAAK,QAAQ,KAAK,MAAM;AAAA;AAE5B,WAAK,oBAAoB;AAIzB,WAAK,WAAW;AAAA;AAAA,IAOpB,eAAe,OAAwB;AACnC,WAAK,OAAO,OAAO;AACnB,UAAI,SAAS,KAAK;AAElB,UAAI,SAAS,UAAU,gBAAgB;AACvC,UAAI,WAAW,UAAU,eAAe;AAMxC,WAAK,aAAa,KAAK,MAAM,aAAa,KAAK;AAI/C,WAAK,KAAK,WAAW;AACrB,WAAK,UAAU;AAEf,UAAI,KAAK,SAAS;AAClB,UAAI,KAAK,KAAK;AAGd,YAAM,UAAU;AAEhB,aAAO,KAAK,KAAK,SAAS,KAAK;AAC/B,UAAI,UAAU,KAAK,KAAK,eAAe;AACvC,cAAQ,UAAU,OAAO;AACzB,UAAI,QAAQ,SAAS;AACjB,gBAAQ,OAAO,eAAe;AAAA;AAElC,UAAI,KAAK,KAAK,MAAM;AAChB,aAAK,KAAK,KAAK,SAAS;AACxB,YAAI,CAAC,OAAO,QAAQ;AAChB,eAAK,KAAK,OAAO;AAAA;AAAA;AAIzB,UAAI,OAAO,QAAQ;AACf,YAAI,CAAC,KAAK,KAAK,MAAM;AACjB,eAAK,KAAK,OAAO,IAAI,KAAK;AAAA;AAE9B,YAAI,MAAM,KAAK,UAAU;AACzB,aAAK,KAAK,KAAK,SAAS,WAAW,KAAK,KAAK,KAAK;AAClD,gBAAQ,KAAK,MAAM,GAAG,MAAM;AAAA;AAEhC,aAAO,OAAO,OAAO;AACrB,cAAQ,IAAI,cAAc,OAAO;AAyBjC,WAAK,WAAW,SAAS;AACzB,WAAK,WAAW,IAAI,KAAK,WAAW,IAAI,UAAU;AAClD,WAAK,WAAW;AAEhB,WAAK,KAAK,SAAS;AACnB,WAAK,KAAK,MAAM,GAAG;AAAA;AAAA,IAMvB,UAAU,IAAY,SAAoB;AACtC,UAAI,KAAK,YAAY,MAAM;AACvB;AAAA;AAEJ,WAAK,WAAW;AAChB,WAAK,oBAAoB;AACzB,WAAK,cAAc;AAAA;AAAA,IAgCvB,cAAc,IAAY;AAItB,UAAI,CAAC,KAAK,QAAQ,CAAC,KAAK,MAAM,QAAQ;AAClC;AAAA;AAEJ,UAAI,QAAQ,KAAK,KAAK,QAAQ;AAC9B,UAAI,QAAS,KAAK,MAAM,OAAoB,QAAQ,KAAK,KAAK,QAAQ;AACtE,UAAI,KAAK,OAAO;AACZ,aAAK;AAAA,iBAEA,KAAK,OAAO;AACjB,aAAK;AAAA;AAKT,WAAK,UAAU;AACf,WAAK;AAAA;AAAA,IAGT,cAAc;AAEV,UAAI,KAAK,kBAAkB,KAAK,WAAW,GAAG;AAC1C;AAAA;AAKJ;AACI,aAAK,KAAK,IAAI,KAAK,SAAS,KAAK,KAAK;AAEtC,YAAI,KAAK,YAAY,KAAK,mBAAmB;AACzC,eAAK,WAAW;AAGhB,eAAK;AAAA;AAET;AAAA;AAAA;AAAA,IAKA,aAAa,SAAkB;AAEnC,UAAI,CAAC,KAAK,WAAW,WAAW,SAAS;AAErC,YAAI,OAAO,KAAK,OAAO,QAAQ,UAAU;AACrC,oBAAU,SAAS,KAAK,OAAO;AAAA;AAAA;AAGvC,WAAK,YAAY,UAAU;AAC3B,WAAK,WAAW,UAAU;AAAA;AAAA,IAI9B,gBAAgB,SAAkB;AAC9B,WAAK,iBAAiB;AACtB,WAAK,aAAa;AAAA;AAAA,IAEtB,cAAc;AACV,WAAK,aAAa;AAClB,WAAK,KAAK,MAAM,KAAK;AACrB,WAAK,MAAM,SAAS,KAAK;AACzB,WAAK,MAAM,GAAG,KAAK,MAAM,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK,QAAQ,OAAO,MAAM,WAAY;AAC5G,aAAK,aAAa;AAAA;AAAA;AAAA,IAG1B,UAAU;AACN,aAAO,KAAK,KAAK,IAAI,KAAK,KAAK,QAAQ;AAAA;AAAA,IAG3C,WAAiB;AAAA;AAAA,IA4BjB,YAAkB;AAGd,WAAK,KAAK,MAAM,GAAG;AACnB,WAAK,MAAM,SAAS;AACpB,WAAK,MAAM,SAAS,KAAK;AAAA;AAAA,IAG7B,eAAe,OAAY,MAAW,SAAoB;AACtD,UAAI,CAAC,KAAK,kBAAkB,CAAC,KAAK,YAAY,SAAS;AACnD;AAAA;AAMJ,UAAI,aAAoB,KAAK,MAAM,aAAa;AAChD,UAAI,cAAqB,MAAM,MAAM,aAAa;AAElD,UAAI,CAAC,cAAc,CAAC,aAAa;AAC7B;AAAA;AAQJ,UAAI,SAAS;AACb,SAAG;AACC,YAAI,WAAW,OAAO,SAAS,YAAY,OAAO,MAAM;AACpD,cAAI,OAAO,WAAW,OAAO,QAAQ,UAAU;AAC3C,qBAAS;AACT;AAAA;AAAA,eAIH;AACD,cAAK,WAAW,OAAO,QAAQ,YAAc,YAAY,OAAO,QAAQ,UAAW;AAC/E,qBAAS;AACT;AAAA;AAAA;AAAA,eAGH;AAET,UAAI,QAAQ;AACR,aAAK,MAAM,MAAM,eAAe,EAAE,MAAM,YAAY,OAAO;AAAA,aAE1D;AACD,aAAK,cAAc;AAAA;AAAA;AAAA;AA7X/B;AACW,EADX,MACW,eAAe;AAef,EAhBX,MAgBW,YAAY;AACJ,EAjBnB,MAiBmB,WAAW;AAEnB,EAnBX,MAmBW,WAAoB;;;ACvC/B,6BAAmC,KAAK,OAAO;AAAA,IAsD3C,cAAc;AAAE;AAnDhB,kBAAe;AAAA;AAAA,WAOR,UAAU,SAAsB,SAAoB;AACvD,WAAK,WAAW;AAChB,WAAK,SAAS;AAAA;AAAA,WAEX,OAAO,OAAkB;AAC5B,cAAQ,IAAI,UAAU,KAAK,UAAU,KAAK;AAE1C,UAAI,QAAQ,QAAQ,cAAc,aAAa,KAAK,UAAU,KAAK;AACnE,UAAI,CAAC,OAAO;AACR,eAAO;AAAA;AAEX,aAAM,OAAO,SAAS;AACtB,UAAI,QAAe,MAAM,aAAa;AACtC,UAAI,CAAC,OAAO;AACR,eAAO;AAAA;AAEX,aAAM,SAAS,KAAK;AACpB,YAAM,KAAK;AACX,aAAO;AAAA;AAAA,WAGJ,WAAW,eAAe,OAAO;AAOpC,aAAO,OAAM,SAAS,SAAS,GAAG;AAG9B,eAAM,SAAS,GAAG;AAAA;AAAA;AAAA,IAG1B,aAAa;AACT,WAAK,KAAK,UAAU;AACpB,WAAK,KAAK;AACV,cAAQ,cAAc,eAAe,OAAM,UAAU,KAAK,MAAM,OAAM;AACtE,UAAI,OAAO,OAAM,SAAS,UAAU,OAAK,EAAE,QAAQ,KAAK;AACxD,UAAI,QAAQ,GAAG;AACX,eAAM,SAAS,OAAO,MAAM;AAAA;AAAA;AAAA,IAM5B,KAAK,OAAkB;AAG3B,UAAI,MAAM,QAAQ,GAAG;AACjB,cAAM;AAAA;AAEV,UAAI,MAAM,QAAQ,GAAG;AACjB,cAAM;AAAA;AAIV,aAAM;AACN,WAAK,OAAO,OAAM;AAClB,WAAK,OAAO,KAAK;AACjB,WAAK,SAAS;AACd,WAAK,KAAK,IAAI,MAAM,GAAG,MAAM;AAC7B,WAAK,KAAK,UAAU;AACpB,WAAK;AAAA;AAAA,IAIT,YAAY;AAGR,UAAI,UAAU,sBAAsB,KAAK,OAAO;AAChD,UAAI,UAAU,sBAAsB,KAAK,OAAO;AAChD,UAAI,UAAU,sBAAsB,KAAK,OAAO;AAChD,YAAM,gBAAgB,SAAU,GAAG,GAAG;AAClC,eAAO,KAAK,MAAM,KAAK,WAAY,KAAI,KAAK;AAAA;AAIhD,eAAS,IAAI,GAAG,IAAI,IAAI,EAAE,GAAG;AACzB,cAAM,QAAO,IAAI,KAAK,MAAM;AAC5B,aAAK,KAAK,SAAS;AAEnB,cAAM,IAAI,MAAM,KAAK,UACjB,KAAI,KAAK,KAAK,WAAW,KAAK,OAAO,QAAQ,GAC7C,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,OAAO,IAClC,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,OAAO,IAClC,SAAQ,MAAK,KAAK,WAAW,KAAK,OAAO,QAAQ;AACrD,cAAK,MAAM,QAAO;AAClB,cAAM,IAAI,MAAK,KAAK;AACpB,cAAK,IAAI,GAAG;AACZ,cAAK,UAAU;AACf,cAAK,UAAU;AACf,aAAK,MAAM,GAAG,OAAM,EAAE,GAAG,MAAK,IAAI,GAAG,GAAG,MAAK,IAAI,KAAK,IAAI;AAC1D,aAAK,MAAM,GAAG,OAAM,EAAE,QAAQ,KAAK,QAAQ,KAAK,UAAU,cAAc,MAAM,QAAS,KAAI,OAAO,KAC9F,QAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AAE7C,gBAAK;AAAA;AAAA;AAOjB,eAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,cAAM,QAAO,IAAI,KAAK,MAAM;AAC5B,aAAK,KAAK,SAAS;AAEnB,YAAI,IAAI,MAAM,KAAK,UAAU,IAAI,KAAK,KAAK,WAAW,KAAK,OAAO,QAAQ,GACtE,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,OAAO,GAClC,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,OAAO,GAClC,SAAQ,MAAK,KAAK,WAAW,KAAK,OAAO,QAAQ;AACrD,cAAK,MAAM,QAAO;AAClB,YAAI,IAAI,MAAK,KAAK;AAClB,cAAK,UAAU;AACf,cAAK,UAAU;AAEf,cAAK,IAAI,GAAG;AACZ,aAAK,MAAM,GAAG,OAAM,EAAE,GAAG,MAAK,IAAI,GAAG,GAAG,MAAK,IAAI,KAAK,IAAI;AAC1D,aAAK,MAAM,GAAG,OAAM,EAAE,QAAQ,KAAK,QAAQ,KAAK,UAAU,cAAc,MAAM,QAAS,KAAI,OAAO,KAC9F,QAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AAE7C,gBAAK;AAAA;AAAA;AAMjB,YAAM,OAAO,IAAI,KAAK,MAAM;AAC5B,WAAK,KAAK,SAAS;AAGnB,WAAK,IAAI,GAAG;AACZ,WAAK,MAAM,GAAG;AACd,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK,WAAW,CAAC,cAAc,GAAG;AAClC,WAAK,QAAQ;AACb,YAAM,QAAQ,KAAK,OAAO,QAAQ;AAElC,WAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,OAAO,QAAQ,SAAS,KAClD,QAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AAE7C,aAAK,MAAM,GAAG,MAAM,EAAE,OAAO,KAAK,KAC9B,QAAW,KAAK,QAAQ,OAAO,MAAM,WAAY;AAE7C,eAAK;AACL,eAAK;AAAA;AAAA;AAAA;AAAA,IAQzB,WAAiB;AAAA;AAAA,IAGjB,YAAkB;AACd,WAAK,KAAK;AACV,WAAK,MAAM,SAAS,KAAK;AAAA;AAAA;AAzKjC;AAIW,EAJX,MAIW,YAAY;AACJ,EALnB,MAKmB,WAAW;AAEX,EAPnB,MAOmB,WAAoB;;;ACLvC,gCAAgD,SAAS;AAAA,IAAzD,cAVA;AAUA;AAEI,sBAA0B,cAAc;AAgBxC,uBAKI;AAIJ,sBAAW;AACX,yBAAc;AAAA;AAAA,IACd,SAAS,WAAsB;AAC3B,UAAI,CAAC,KAAK,SAAS;AACf,gBAAQ,MAAM;AACd,eAAO;AAAA;AAEX,UAAI,UAAU,KAAK,MAAM;AAGzB,UAAI,UAAU,GAAG,KAAK,WAAW,KAAK;AAOtC,YAAM,eAAe;AACrB,UAAI,QAAQ;AACZ,iBAAW,YAAY,QAAQ,WAAW;AACtC,YAAI,gBAAgB,YAAY,SAAS,iBAAiB,SAAS;AAC/D,kBAAQ;AACR;AAAA;AAAA;AAMR,UAAI,CAAC,OAAO;AACR,yBAAS,YAAY,KAAK,SAAS,MAAM,MAAM;AAG3C,qBAAW,OAAO,KAAK,WAAW;AAC9B,iBAAK,gBAAgB,aAAa,KAAK,UAAU,WAAW,KAAK,SAAS,KAAK,UAAU,KAAK,WAAW,KAAK,UAAU,KAAK;AAAA;AAGjI,kBAAQ,KAAK,UAAU,aAAa,KAAK,SAAS,KAAK,UAAU;AAEjE,gBAAM,gBAAgB;AAEtB,gBAAM;AACN,gBAAM,YAAY,SAAS,KAAK,aAAa;AAG7C,gBAAM,IAAI,MAAM,SAAS,KAAK,MAAM;AACpC,gBAAM,IAAI,MAAM,SAAS,KAAK,MAAM;AAKpC,kBAAQ,SAAS;AAEjB,eAAK,KAAK;AACV,uBAAa;AAAA;AAAA,aAIhB;AAID,gBAAQ,SAAS;AAEjB,aAAK;AACL,qBAAa;AAAA;AAEjB,aAAO;AAAA;AAAA;;;ACzFf,2BAAkC;AAAA,IAU9B,cAAc;AATJ,4BAAiB;AACjB,oCAAyB;AACzB,6BAAkB;AAClB,4BAAiB;AACjB,0BAAe;AACf,iCAAsB;AAK5B,WAAK,iBAAiB;AACtB,WAAK,sBAAsB;AAAA;AAAA,UAGf,YAAY;AACxB,WAAK,iBAAiB;AAAA;AAAA,UAIpB,uBAAuB;AACzB,cAAQ,IAAI;AACZ,WAAK,sBAAsB;AAC3B,YAAM,KAAK;AAAA;AAAA,IAGf,mBAAmB,MAAc;AAC7B,cAAQ,IAAI,kBAAkB,WAAW;AAAA;AAAA,IAU7C,uBAAuB,MAAc;AACjC,cAAQ,IAAI,kBAAkB;AAC9B,WAAK,aAAa,WAAW;AAAA;AAAA,IAGjC,oBAAoB,MAAc;AAC9B,cAAQ,IAAI,kBAAkB,kBAAkB;AAChD,UAAI,WAAW,KAAK,aAAa,QAAQ;AACzC,UAAI,UAAU;AACV,mBAAW,KAAK,MAAM;AAAA;AAE1B,aAAO;AAAA;AAAA,IAGX,oBAAoB,MAAc,OAAY;AAC1C,cAAQ,IAAI,kBAAkB,kBAAkB;AAChD,WAAK,aAAa,QAAQ,MAAM,KAAK,UAAU;AAAA;AAAA,IAKnD,aAAa,QAAgB,OAAe,IAAI;AAC5C,cAAQ,IAAI,kBAAkB,gBAAgB;AAAA;AAAA,IAGlD,eAAe;AACX,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAEX,cAAc,OAAY;AACtB,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAElC,YAAY,OAAY;AACpB,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,2BAA2B;AACvB,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAEX,oBAAoB;AAChB,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAMX,kBAAkB,WAAW,OAAO;AAChC,aAAO;AAAA;AAAA,IAYX,kBAAkB;AACd,aAAO;AAAA;AAAA,IAMX,qBAAqB,SAWlB;AACC,aAAO;AAAA;AAAA,IAIX,WAAW;AACP,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAElC,OAAO,UAAoB,UAAU,OAAO;AACxC,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAElC,OAAO,UAAoB,UAAU,OAAO;AACxC,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,iBAAiB;AACb,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,YAAY,OAA0C;AAClD,cAAQ,IAAI,kBAAkB,eAAe;AAAA;AAAA,IAEjD,cAAc;AACV,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAMlC,UAAU,OAAoF;AAC1F,cAAQ,IAAI,kBAAkB,aAAa;AAC3C,aAAO,MAAM,MAAM;AAAA;AAAA,UAEjB,UAAU,OAAsF;AAClG,cAAQ,IAAI,kBAAkB,eAAe;AAC7C,aAAO,QAAQ,GAAG,MAAM;AAAA,EAAU,MAAM;AAAA;AAAA,UAItC,SAAS,WAAW,MAAM;AAC5B,cAAQ,IAAI,kBAAkB,YAAY;AAC1C,aAAO;AAAA;AAAA,IAMX,kBAAkB,WAA4C;AAC1D,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAKlC,iBAAiB;AACb,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAGX,iBAAiB;AACb,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,0BAA0B;AACtB,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAEX,mBAAmB;AACf,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAGX,eAAe;AACX,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,cAAc;AACV,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAIlC,+BAA+B;AAC3B,aAAO;AAAA;AAAA,IAEX,sBAAsB,OAOnB;AACC,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAG5B,cAAc,QAAwB;AACxC,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAGX,cAAc;AACV,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAG5B,WAAW,QAAwB;AACrC,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAGX,sBAAsB;AAClB,aAAO;AAAA;AAAA,UAEL,aAAa,MAAgB;AAC/B,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAGX,qBAAqB;AACjB,aAAO;AAAA;AAAA,IAEX,cAAc;AACV,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAIlC,eAAe;AACX,aAAO;AAAA;AAAA,IAGX,gBAAgB,OAEb;AACC,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,gBAAgB;AACZ,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAElC,gBAAgB;AACZ,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAGlC,kBAAkB,SAAsE;AACpF,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAG5B,gBAAgB,OAAgB,UAAmB,OAAgB;AACrE,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAIX,qBAAqB;AACjB,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAEX,oBAAoB,OAAsC,SAA+B,MAA4B;AACjH,cAAQ,MAAM,kBAAkB,uBAAuB;AAAA;AAAA,IAE3D,qBAAqB;AACjB,cAAQ,MAAM,kBAAkB,sBAAsB;AACtD,aAAO;AAAA;AAAA,IAGX,SAAS,MAAW;AAEhB,aAAO;AAAA;AAAA,UAGL,UAAU,QAA2D;AACvE,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAI5B,aAAa,WAAmB;AAClC,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAElC,aAAa;AACT,WAAK,eAAe;AACpB,cAAQ,IAAI,kBAAkB;AAAA;AAAA,IAElC,aAAa;AACT,WAAK,eAAe;AACpB,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAG5B,qBAAqB,iBAAyB;AAChD,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAE5B,qBAAiD;AACnD,UAAI,SAA4B;AAAA,QAC5B,UAAU;AAAA,QACV,OAAO;AAAA;AAEX,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAEX,qBAAqB;AACjB,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAG5B,cAAc,UAAkB;AAClC,cAAQ,IAAI,kBAAkB;AAAA;AAAA,UAE5B,cAA0C;AAC5C,UAAI,SAA4B;AAAA,QAC5B,UAAU;AAAA,QACV,OAAO;AAAA;AAEX,cAAQ,IAAI,kBAAkB;AAC9B,aAAO;AAAA;AAAA,IAIX,yBAAkC;AAC9B,aAAO,KAAK;AAAA;AAAA,IAGhB,kBAA2B;AACvB,aAAO,KAAK;AAAA;AAAA,IAIhB,iBAAiB;AACb,aAAO;AAAA;AAAA,IAKX,eAAe;AAAA;AAAA,UAKT,WAAW,WAAW,OAAO;AAC/B,aAAO;AAAA;AAAA,UAKL,eAAiC;AACnC,aAAO;AAAA;AAAA,IAMX,eAAe,SAA0D;AAAA;AAAA,IACzE,mBAAmB;AAAA;AAAA,IAInB,kBAAkB;AACd,aAAO;AAAA;AAAA,IAKX,cAAc;AACV,aAAO;AAAA;AAAA,IAKX,mBAAmB;AACf,aAAO;AAAA;AAAA;AApXJ,EARX,aAQW,cAAmB;;;AClBvB,MAAM,gBAAgB;AAEtB,MAAM,cAAc;AAAA,IACvB,OAAO;AAAA,MACH,QAAQ;AAAA,QAIJ,EAAE,OAAO,uEAAgB,OAAO;AAAA;AAAA;AAAA,IAsBxC,OAAO;AAAA,MACH,QAAQ,EAAE,OAAO,0DAAa,QAAQ,CAAC,mCAAU,OAAO;AAAA;AAAA;;;AC/BzD,MAAK;AAAL,YAAK,gBAAL;AACH;AACA;AACA;AACA;AAAA,KAJQ;AAUZ,oCAA2C,aAAa;AAAA,IAEpD,cAAc;AACV;AA8DI,sBAAW;AA2LX,yBAAc;AAgPd,uBAAY;AAmHZ,sBAAgB;AAChB,0BAAe;AAwGf,4BAAsB;AA+CtB,gCAAqB;AAkDrB,qBAAe;AAiFf,0BAAe;AACf,uBAAY;AACZ,uBAAY;AACZ,yBAAc;AACd,yBAAc;AACd,wBAA6C,EAAE,OAAO,GAAG,KAAK;AA13BlE,WAAK;AAAA;AAAA,IAGC,OAAO;AAEb,UAAI,KAAK,gBAAgB;AACrB;AAAA;AAAA;AAAA,UAMQ,YAAY;AACxB,WAAK;AACL,UAAI,KAAK,kBAAkB;AAEvB,aAAK;AAAA;AAET,YAAM;AAAA;AAAA,IAGV,aAAa,QAAgB,OAAe,IAAI;AAC5C,UAAI,CAAC,QAAQ,CAAC,KAAK,cAAc;AAC7B,gBAAQ,MAAM;AACd;AAAA;AAEJ,WAAK,aAAa,QAAQ;AAC1B,cAAQ,IAAI,mBAAmB,gBAAgB;AAAA;AAAA,IAInD,eAAe;AACX,UAAI,aAAa,eAAe,KAAK;AAAa,eAAO;AACzD,aAAO;AAAA;AAAA,IAEX,cAAc,OAAY;AACtB,UAAI,CAAC,KAAK,gBAAgB;AACtB,gBAAQ,MAAM,gBAAgB;AAC9B;AAAA;AAEJ,WAAK,SAAS,QAAQ;AAAA;AAAA,IAE1B,YAAY,OAAY;AACpB,UAAI,CAAC,KAAK,gBAAgB;AACtB,gBAAQ,MAAM,gBAAgB;AAC9B;AAAA;AAEJ,WAAK,SAAS,MAAM;AAAA;AAAA,IAGxB,2BAA2B;AACvB,UAAI,aAAa,eAAe,KAAK,mBAAmB;AACpD,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAEX,oBAAoB;AAChB,aAAO,KAAK;AAAA;AAAA,IAKhB,kBAAkB,WAAW,OAAO;AAChC,UAAI,CAAC,YAAY,KAAK,UAAU;AAC5B,eAAO,KAAK;AAAA;AAEhB,UAAI,YAAY;AAChB,UAAI,QAAQ,KAAK;AAEjB,UAAI,SAAS,KAAK,MAAM,QAAQ,MAAM;AAEtC,UAAI,QAAQ;AACZ,UAAI;AACA,YAAI,AAAoB,aAAa,eAAjC,GAA8C;AAC9C,kBAAQ,KAAK;AAAA,eAEZ;AACD,kBAAQ,KAAK;AAAA;AAAA,eAEZ,GAAP;AACE,gBAAQ,MAAM,8CAA0B;AAAA;AAE5C,UAAI,OAAO;AACP,gBAAQ,IAAI,2BAA2B,QAAQ;AAC/C,oBAAY;AAAA,UACR,KAAM,OAAM,eAAe,MAAM,OAAO;AAAA,UACxC,QAAS,OAAM,eAAe,MAAM,UAAU;AAAA,UAC9C,MAAO,MAAM,OAAQ;AAAA,UACrB,OAAQ,MAAM,QAAS;AAAA,UACvB,OAAO,MAAM,QAAQ;AAAA,UACrB,QAAQ,MAAM,SAAS;AAAA;AAAA;AAG/B,UAAI,CAAC,UAAU;AACX,aAAK,WAAW;AAAA;AAGpB,aAAO;AAAA;AAAA,IAEX,kBAAkB;AACd,UAAI,CAAC,KAAK,sBAAsB;AAC5B,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAEX,qBAAqB,SAWlB;AACC,UAAI,CAAC,KAAK,mBAAmB;AACzB,eAAO;AAAA;AAEX,aAAO,KAAK,qBAAqB;AAAA,QAC7B,MAAM,QAAQ;AAAA,QACd,MAAM,QAAQ;AAAA,QACd,OAAO,QAAQ;AAAA,QACf,MAAM,QAAQ;AAAA,QACd,OAAO,QAAQ;AAAA;AAAA;AAAA,IAWf,YAAY;AAChB,UAAI,AAAoB,aAAa,eAAjC,GAA8C;AAC9C,eAAO;AAAA;AAEX,aAAO,KAAK,oBAAoB;AAAA;AAAA,IAIpC,WAAW;AACP,WAAK,mBAAmB,KAAK;AAC7B,cAAQ,IAAI,mBAAmB;AAAA;AAAA,IAEnC,OAAO,UAAoB,UAAU,MAAM;AACvC,UAAI,SAAS;AACT,aAAK,OAAO;AAAA,aAEX;AACD,aAAK,QAAQ;AAAA;AAGjB,cAAQ,IAAI,mBAAmB,UAAU;AAAA;AAAA,IAE7C,OAAO,UAAoB,UAAU,MAAM;AACvC,UAAI,SAAS;AACT,aAAK,OAAO;AAAA,aACT;AACH,aAAK,QAAQ;AAAA;AAEjB,cAAQ,IAAI,mBAAmB,UAAU;AAAA;AAAA,IAG7C,iBAAiB;AACb,UAAI,aAAa,eAAe,GAAkB;AAC9C,qBAAa;AAAA;AAAA;AAAA,IAIrB,YAAY,OAA0C;AAClD,WAAK,YAAY;AAAA;AAAA,IAErB,cAAc;AACV,WAAK;AAAA;AAAA,IAET,UAAU,OAAoF;AAC1F,WAAK,UAAU;AAAA;AAAA,UAEb,UAAU,OAAwG;AAEpH,aAAO,IAAI,QAAQ,QAAM;AACrB,QAAC,MAAc,aAAa,CAAC,CAAC,MAAM;AACpC,QAAC,MAAc,UAAU,CAAC,QAAa;AACnC,cAAI,IAAI,SAAS;AACb,eAAG;AAAA,iBACA;AACH,eAAG;AAAA;AAAA;AAGX,aAAK,UAAU;AAAA;AAAA;AAAA,UAIjB,SAAS,WAAW,OAAO;AAC7B,UAAI,aAAa,eAAe,GAAkB;AAC9C,eAAO;AAAA;AAEX,aAAO,IAAI,QAAiB,CAAC,OAAO;AAChC,aAAK,MAAM;AAAA,UACP,OAAO;AAAA,UACP,QAAQ,KAAU;AACd,oBAAQ,MAAM,yBAAyB,KAAK,UAAU;AACtD,eAAG,IAAI;AAAA;AAAA,UAEX,KAAK,KAAU;AACX,oBAAQ,MAAM,qBAAqB,KAAK,UAAU;AAClD,eAAG;AAAA;AAAA;AAAA;AAAA;AAAA,IAMX,gBAAgB;AACpB,UAAI,CAAC,KAAK,gBAAgB;AACtB,gBAAQ,MAAM;AACd,eAAO;AAAA;AAEX,WAAK,eAAe;AAAA,QAChB,SAAS,CAAC,SAAc;AACpB,kBAAQ,IAAI,4BAAQ;AACpB,cAAI,WAAY,QAAQ;AACxB,cAAI,YAAY,KAAK,aAAa;AAC9B,iBAAK,cAAc;AACnB,iBAAK,qBAAqB,KAAK,kBAAkB,KAAK;AAAA;AAAA;AAAA;AAIlE,WAAK,sBAAsB,CAAC,QAAa;AACrC,gBAAQ,IAAI,wCAAU,IAAI;AAC1B,YAAI,IAAI,eAAe,KAAK,aAAa;AACrC,eAAK,cAAc,IAAI;AACvB,eAAK,qBAAqB,KAAK,kBAAkB,KAAK;AAAA;AAAA;AAG9D,aAAO;AAAA;AAAA,IAMX,kBAAkB,WAA4C;AAC1D,WAAK,oBAAoB;AAAA;AAAA,IAM7B,iBAAiB;AACb,aAAO,KAAK;AAAA;AAAA,IAGhB,iBAAiB;AACb,UAAI,CAAC,aAAa,eAAe,CAAC,KAAK,kBAAkB;AAErD;AAAA;AAGJ,YAAM,gBAAgB,KAAK;AAC3B,oBAAc,cAAc,YAAY;AACpC,YAAI,KAAK,MAAM,KAAK,UAAU;AAAA,UAC1B,OAAO;AAAA,UACP,SAAS;AAAA;AAEb,sBAAc;AAAA;AAAA;AAAA,IAQtB,0BAA0B;AACtB,UAAI,aAAa,eAAe,KAAK,sBAAsB;AACvD,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAEX,mBAAmB;AACf,aAAO,KAAK;AAAA;AAAA,IAGhB,eAAe;AACX,WAAK,gBAAgB,KAAK,aAAa;AAAA;AAAA,IAG3C,cAAc;AACV,WAAK,eAAe,KAAK;AAAA;AAAA,IAG7B,+BAA+B;AAC3B,UAAI,aAAa,eAAe,GAAkB;AAC9C,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAEX,sBAAsB,OAOnB;AACC,WAAK,sBAAsB;AAAA;AAAA,UAGzB,cAAc,QAAwB;AACxC,aAAO,IAAI,QAAiB,CAAC,OAAO;AAChC,aAAK,UAAU;AAAA,UACX,OAAO;AAAA,UACP,UAAU;AAGN,eAAG;AAAA;AAAA,UAEP,KAAK,GAAQ;AACT,oBAAQ,MAAM,uCAAmB;AACjC,eAAG;AAAA;AAAA;AAAA;AAAA;AAAA,UAgCb,cAAc;AAChB,UAAI,KAAK,aAAa;AAClB,eAAO,IAAI,QAAiB,CAAC,OAAO;AAChC,eAAK,YAAY;AAAA,YACb,UAAU;AACN,sBAAQ,IAAI;AACZ,iBAAG;AAAA;AAAA,YAEP,KAAK,KAAU;AACX,sBAAQ,IAAI;AACZ,iBAAG;AAAA;AAAA;AAAA;AAAA;AAKnB,aAAO;AAAA;AAAA,UAGL,WAAW,QAAwB;AACrC,UAAI,KAAK,aAAa;AAClB,eAAO,IAAI,QAAiB,CAAC,OAAO;AAChC,eAAK,WAAW;AAAA,YACZ,QAAQ,KAAU;AACd,sBAAQ,IAAI,uCAAmB,KAAK,UAAU;AAE9C,kBAAI,IAAI,eAAe,UAAU,IAAI,aAAa;AAC9C,mBAAG,IAAI,YAAY;AAAA,qBAElB;AACD,mBAAG;AAAA;AAAA;AAAA,YAIX,KAAK,KAAU;AAEX,sBAAQ,IAAI;AACZ,iBAAG;AAAA;AAAA;AAAA;AAAA;AAKnB,aAAO;AAAA;AAAA,IAIX,sBAAsB;AAClB,UAAI,aAAa,eAAe,KAAK,cAAc;AAC/C,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,UAEL,aAAa,UAAoB;AACnC,aAAO,IAAI,QAAiB,CAAC,OAAO;AAChC,aAAK,aAAa;AAAA,UACd,MAAM;AAAA,UACN,SAAS,CAAC,QAAa;AACnB,eAAG;AAAA;AAAA,UAEP,MAAM,CAAC,UAAe;AAClB,oBAAQ,MAAM,kBAAkB;AAChC,eAAG;AAAA;AAAA;AAAA;AAAA;AAAA,IAQnB,qBAAqB;AACjB,UAAI,aAAa,eAAe,KAAK,aAAa;AAC9C,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAEX,cAAc;AACV,aAAO,KAAK;AAAA;AAAA,IAKhB,eAAe;AACX,UAAI,OAAQ,SAAU,aAAa;AAC/B,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAGX,gBAAgB,OAEb;AACC,WAAK,gBAAgB;AAAA;AAAA,IAGzB,gBAAgB;AACZ,WAAK;AAAA;AAAA,IAET,gBAAgB;AACZ,WAAK;AAAA;AAAA,IAGT,kBAAkB,SAAsE;AAEpF,UAAI,OAAO,KAAK,uBAAuB,KAAK,uBAAuB,KAAK;AACxE,WAAK,WAAY;AACb,YAAI,QAAQ;AACZ,eAAO;AAAA,UACH,OAAO,MAAM;AAAA,UACb,UAAU,MAAM;AAAA,UAChB,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA,UAKnB,gBAAgB,OAAgB,UAAmB,OAAgB;AAErE,aAAO,IAAI,QAAiB,CAAC,QAAQ;AACjC,YAAI,CAAC,KAAK,WAAW;AACjB,eAAK,OAAO,KAAK,gBAAgB,KAAK;AAAA;AAE1C,aAAK,YAAY,KAAK;AACtB,aAAK,gBAAgB;AAErB,YAAI,OAAO,KAAK,qBAAqB,KAAK,qBAAqB,KAAK;AACpE,aAAK;AAAA,UACD;AAAA,UACA,UAAU,YAAY;AAAA,UACtB,OAAO,SAAS;AAAA;AAAA;AAAA;AAAA,IASpB,kBAAkB;AAGtB,UAAI,KAAK,eAAe;AAEpB,YAAI,OAAO,KAAK,QAAQ,KAAK;AAC7B,YAAI,WAAW,OAAO;AACtB,aAAK,cAAc;AACnB,gBAAQ,IAAI,wBAAwB,MAAM;AAC1C,aAAK,gBAAgB;AAAA;AAAA;AAAA,IAM7B,qBAAqB;AACjB,UAAI,AAAoB,aAAa,eAAjC,KAAgD,AAAoB,aAAa,eAAjC,GAA8C;AAC9F,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,IAEX,oBAAoB,OAAsC,SAA+B,MAA4B;AACjH,UAAI,CAAC,KAAK,sBAAsB;AAC5B,gBAAQ,MAAM,mBAAmB,uBAAuB;AACxD;AAAA;AAEJ,WAAK,oBAAoB;AAAA,QACrB,YAAY;AAAA,QACZ;AAAA,QACA;AAAA;AAAA;AAAA,IAGR,qBAAqB;AACjB,UAAI,CAAC,KAAK,sBAAsB;AAC5B,gBAAQ,MAAM,mBAAmB,sBAAsB;AACvD,eAAO;AAAA;AAEX,aAAO,KAAK;AAAA;AAAA,IAGhB,SAAS,KAAU;AACf,UAAI,OAAO;AACX,cAAQ,aAAa;AAAA,aACZ;AACD,cAAI,IAAI,IAAI;AACR,mBAAO,IAAI;AAAA;AAEf;AAAA,aACC;AACD,cAAI,IAAI,IAAI;AACR,mBAAO,IAAI;AAAA;AAEf;AAAA,aACC;AACD,cAAI,IAAI,IAAI;AACR,mBAAO,IAAI;AAAA;AAEf;AAAA;AAGA;AAAA;AAER,UAAI,QAAQ,IAAI;AACZ,eAAO;AAAA;AAEX,UAAI,CAAC,MAAM;AACP,gBAAQ,IAAI,uDAAe;AAAA;AAE/B,aAAO;AAAA;AAAA,UAGL,UAAU,QAA0E;AAEtF,UAAI,YAAY;AAChB,aAAO,IAAI,QAAQ,QAAM;AACrB,YAAI,eAAe,MAAM;AACrB;AACA,cAAI,aAAa,GAAG;AAChB;AAAA;AAAA;AAGR,QAAC,aAAY;AAGT,cAAI,OAAO,QAAQ;AACf,gBAAI,MAAM,KAAK,SAAS,OAAO;AAE/B,mBAAO,MAAM,KAAK,aAAa;AAAA;AAEnC;AAAA;AAEJ,QAAC,aAAY;AAET,cAAI,OAAO,OAAO;AACd,gBAAI,MAAM,KAAK,SAAS,OAAO;AAE/B,mBAAO,MAAM,KAAK,cAAc;AAAA;AAEpC;AAAA;AAEJ,QAAC,aAAY;AAET,cAAI,OAAO,cAAc;AACrB,gBAAI,MAAM,KAAK,SAAS,OAAO;AAE/B,mBAAO,MAAM,KAAK,qBAAqB;AAAA;AAE3C;AAAA;AAAA;AAAA;AAAA,UAUN,aAAa,WAAkC;AACjD,UAAI,CAAC,KAAK,kBAAkB,OAAO,KAAK,kBAAkB,YAAY;AAClE,gBAAQ,MAAM,mBAAmB;AACjC;AAAA;AAEJ,UAAI,OAAO,KAAK;AAChB,UAAI,YAAY,KAAK;AACrB,UAAI,SAAiB,AAAoB,aAAa,eAAjC,IAA+C,MAAM,UAAU;AACpF,UAAI,UAAW,SAAS,KAAM,IAAI;AAIlC,WAAK,eAAe;AAEpB,aAAO,IAAI,QAAQ,QAAM;AACrB,aAAK,WAAW,KAAK,eAAe;AAAA,UAChC,UAAU;AAAA,UAEV,OAAO;AAAA,YAGH,KAAK,UAAU,SAAS;AAAA,YACxB,OAAO;AAAA;AAAA;AAGf,gBAAQ,IAAI,yBAAyB,KAAK;AAE1C,aAAK,SAAS,OAAO,MAAM;AACvB,kBAAQ,IAAI;AACZ,eAAK,eAAe;AACpB,cAAI,KAAK,cAAc;AACnB,iBAAK;AAAA;AAET,gBAAM;AAAA;AAEV,aAAK,SAAS,QAAQ,CAAC,QAAa;AAChC,kBAAQ,MAAM,+CAAiB;AAC/B,gBAAM;AACN,cAAI;AACA,iBAAK,SAAS;AACd,oBAAQ,IAAI;AAAA,mBAEP,GAAP;AACE,oBAAQ,MAAM;AAAA;AAElB,eAAK,eAAe;AACpB,eAAK,WAAW;AAEhB,qBAAW,MAAM;AACb,oBAAQ,IAAI;AACZ,iBAAK,aAAa;AAAA,aACnB;AAAA;AAGP,aAAK,SAAS,SAAS,CAAC,QAAa;AACjC,kBAAQ,IAAI,cAAc,IAAI,QAAQ,IAAI;AAG1C,eAAK,SAAS,MAAM,MAAM,UAAU,SAAS,IAAI;AACjD,eAAK,SAAS,MAAM,OAAQ,WAAU,QAAQ,IAAI,SAAS;AAAA;AAAA;AAAA;AAAA,IAKvE,aAAa;AACT,WAAK,eAAe;AACpB,cAAQ,IAAI,4BAA4B,KAAK;AAC7C,UAAI,CAAC,KAAK,UAAU;AAChB,gBAAQ,MAAM,+CAAgC,KAAK;AACnD;AAAA;AAEJ,UAAI,KAAK,cAAc;AACnB,YAAI;AAKA,eAAK,SAAS,OAAO,KAAK,MAAM;AAC5B,oBAAQ,IAAI;AAAA,aACb,MAAM,CAAC,QAAa;AACnB,oBAAQ,MAAM,oDAAY;AAAA;AAAA,iBAGzB,GAAP;AACE,kBAAQ,MAAM,cAAc;AAAA;AAAA;AAAA;AAAA,IAQxC,aAAa;AACT,WAAK,eAAe;AACpB,UAAI,CAAC,KAAK,UAAU;AAChB;AAAA;AAEJ,cAAQ,IAAI,mBAAmB;AAC/B,WAAK,SAAS;AAAA;AAAA,UAKZ,qBAAqB,iBAAwC;AAE/D,UAAI,CAAC,KAAK,wBAAwB,OAAO,KAAK,wBAAwB,YAAY;AAC9E,gBAAQ,MAAM;AACd;AAAA;AAIJ,UAAI,AAAoB,aAAa,eAAjC,KAAgD,AAAY,KAAK,eAAjB,UAA8B;AAC9E,gBAAQ,MAAM,sFAA+B,KAAK;AAClD;AAAA;AAEJ,WAAK,yBAAyB;AAC9B,aAAO,IAAI,QAAQ,QAAM;AACrB,aAAK,iBAAiB,KAAK,qBAAqB;AAAA,UAC5C,UAAU;AAAA;AAEd,gBAAQ,IAAI,kCAAkC,KAAK;AACnD,aAAK,eAAe,OAAO,KAAK,MAAM;AAElC,gBAAM;AAAA,WAEP,MAAM,CAAC,QAAa;AACnB,gBAAM;AAAA;AAEP;AACH,aAAK,eAAe,OAAO,MAAM;AAC7B,eAAK,yBAAyB;AAC9B,gBAAM;AACN,kBAAQ,IAAI;AAAA;AAEhB,aAAK,eAAe,QAAQ,CAAC,QAAa;AACtC,eAAK,yBAAyB;AAC9B,kBAAQ,MAAM,qDAAa;AAAA;AAE/B,aAAK,eAAe,QAAQ,CAAC,QAAa;AACtC,cAAI,SAA4B;AAAA,YAC5B,UAAU;AAAA,YACV,OAAO;AAAA;AAEX,eAAK,wBAAwB,KAAK,qBAAqB;AACvD,kBAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,UAOlB,qBAAiD;AACnD,UAAI,SAA4B;AAAA,QAC5B,UAAU;AAAA,QACV,OAAO;AAAA;AAEX,cAAQ,IAAI,0CAA0C,KAAK;AAC3D,UAAI,CAAC,KAAK,gBAAgB;AAEtB,gBAAQ,MAAM,qDAAsC,KAAK;AACzD,eAAO;AAAA;AAEX,UAAI,QAAQ,MAAM;AACd,YAAI,CAAC,KAAK,oBAAoB;AAC1B;AAAA;AAEJ,gBAAQ,IAAI;AACZ,aAAK,eAAe,OAAO,MAAM,CAAC,QAAa;AAE3C,eAAK,wBAAwB,KAAK,qBAAqB;AACvD,qBAAW,MAAM;AACb,iBAAK,eAAe;AAAA,aACrB;AAAA;AAAA;AAIX,WAAK,qBAAqB;AAC1B,cAAQ,IAAI;AACZ,UAAI,CAAC,KAAK,wBAAwB;AAE9B,cAAM,KAAK,eAAe,OAAO,KAAK,MAAM;AAExC;AAAA,WACD,MAAM,CAAC,QAAa;AAEnB,eAAK,wBAAwB,KAAK,qBAAqB;AAAA;AAAA,aAG1D;AACD;AAAA;AAEJ,aAAO,IAAI,QAAQ,CAAC,OAAO;AACvB,aAAK,uBAAuB;AAAA;AAAA;AAAA,IAGpC,qBAAqB;AACjB,WAAK,qBAAqB;AAAA;AAAA,UAIxB,cAAc,UAAiC;AACjD,UAAI,CAAC,KAAK,yBAAyB,OAAO,KAAK,yBAAyB,YAAY;AAChF,gBAAQ,MAAM;AACd;AAAA;AAGJ,cAAQ,IAAI,iCAAiC;AAC7C,aAAO,IAAI,QAAQ,QAAM;AACrB,aAAK,UAAU,KAAK,sBAAsB,EAAE,UAAU;AACtD,aAAK,QAAQ,OAAO,MAAM;AACtB,eAAK,kBAAkB;AACvB,kBAAQ,IAAI;AAEZ,gBAAM;AAAA;AAEV,aAAK,QAAQ,QAAQ,CAAC,QAAa;AAC/B,eAAK,kBAAkB;AACvB,kBAAQ,MAAM,+CAAiB;AAC/B,gBAAM;AAAA;AAEV,aAAK,QAAQ,QAAQ,CAAC,QAAa;AAC/B,cAAI,QAAQ;AAEZ,cAAI,CAAC,OAAO,CAAC,IAAI,SAAS;AACtB,oBAAQ,IAAI;AAAA;AAEhB,cAAI,SAA4B;AAAA,YAC5B,UAAU;AAAA,YACV;AAAA;AAEJ,eAAK,iBAAiB,KAAK,cAAc;AAAA;AAAA;AAAA;AAAA,UAM/C,cAA0C;AAC5C,UAAI,SAA4B;AAAA,QAC5B,UAAU;AAAA,QACV,OAAO;AAAA;AAEX,cAAQ,IAAI,4BAA4B,KAAK;AAC7C,UAAI,CAAC,KAAK,SAAS;AACf,eAAO;AAAA;AAEX,cAAQ,IAAI;AACZ,UAAI,CAAC,KAAK,iBAAiB;AACvB,cAAM,KAAK,QAAQ;AAAA;AAEvB,WAAK,QAAQ,OAAO,MAAM,CAAC,QAAa;AACpC,aAAK,iBAAiB,KAAK,cAAc;AACzC,mBAAW,MAAM;AACb,eAAK,QAAQ;AAAA,WACd;AAAA;AAEP,aAAO,IAAI,QAAQ,CAAC,OAAO;AACvB,aAAK,gBAAgB;AAAA;AAAA;AAAA,IAM7B,yBAAkC;AAC9B,aAAO,KAAK;AAAA;AAAA,IAGhB,kBAA2B;AACvB,aAAO,KAAK;AAAA;AAAA,IAKhB,iBAAiB;AACb,UAAI,AAAoB,aAAa,eAAjC,GAA8C;AAC9C,YAAI,KAAK,wBAAwB;AAC7B,iBAAO;AAAA;AAAA;AAGf,aAAO;AAAA;AAAA,IAUH,cAAc;AAClB,WAAK,cAAc;AACnB,WAAK,YAAY;AACjB,WAAK,eAAe,KAAK;AACzB,WAAK,aAAa,QAAQ,MAAM;AAC5B,aAAK,YAAY;AACjB,aAAK,kBAAkB,KAAK,eAAe;AAC3C,gBAAQ,IAAI;AACZ,aAAK,WAAW,MAAM,KAAK,WAAW,QAAQ,KAAK;AAAA;AAEvD,WAAK,aAAa,OAAO,CAAC,QAAa;AACnC,gBAAQ,IAAI,gCAAY;AACxB,aAAK,WAAW,MAAM,KAAK;AAC3B,aAAK,YAAY;AACjB,YAAI,cAAc,KAAK,WAAW,MAAM,KAAK,WAAW,QAAQ;AAChE,gBAAQ,IAAI,6BAAU,MAAK,WAAW,MAAM,KAAK,WAAW,SAAS;AACrE,YAAI,aAAa;AACb,eAAK,YAAY,IAAI;AACrB,eAAK,cAAc;AAEnB,eAAK,cAAc;AACnB,eAAK;AAAA,eAEJ;AACD,kBAAQ,MAAM;AAAA;AAElB,aAAK,kBAAkB,KAAK,eAAe,OAAO;AAClD,aAAK,sBAAsB,KAAK,mBAAmB;AAAA;AAEvD,WAAK,aAAa,QAAQ,OAAO,QAAa;AAC1C,aAAK,YAAY;AACjB,gBAAQ,MAAM,4BAAQ;AACtB,YAAI,CAAC,MAAM,KAAK,WAAW,uBAAuB;AAC9C,cAAI,KAAK,MAAM,KAAK,UAAU,EAAE,OAAO,4BAAQ,SAAS,8CAAW,aAAa,sBAAO,YAAY;AACnG,cAAI,IAAI;AACJ,kBAAM,KAAK;AACX,uBAAW,MAAM;AACb,mBAAK;AAAA,eACN;AAAA;AAAA;AAAA;AAKf,WAAK,aAAa,oBAAoB,CAAC,QAAa;AAChD,aAAK,YAAY;AACjB,gBAAQ,MAAM,4BAAQ;AAAA;AAAA;AAAA,IAKtB,YAAY;AAChB,UAAI,KAAK,eAAe,CAAC,KAAK,WAAW;AACrC;AAAA;AAEJ,UAAI,QAAQ;AACZ,YAAM,YAAY,CAAC,KAAK;AACxB,WAAK,aAAa,UAAU;AAAA,QACxB,MAAM,KAAK;AAAA,QACX;AAAA,QACA,QAAQ,KAAU;AACd,kBAAQ,IAAI;AACZ,gBAAM,YAAY,IAAI;AACtB,gBAAM,cAAc;AAAA;AAAA,QAGxB,KAAK,GAAQ;AACT,kBAAQ,MAAM,wCAAU;AAAA;AAAA;AAAA;AAAA,IAOpC,eAAe;AACX,UAAI,KAAK,WAAW;AAChB;AAAA;AAEJ,cAAQ,IAAI;AACZ,WAAK,aAAa,MAAM;AAAA,QACpB,UAAU;AAAA;AAAA;AAAA,UAQZ,WAAW,WAAW,OAAO;AAC/B,cAAQ,IAAI;AACZ,UAAI,CAAC,KAAK,eAAe;AACrB,eAAO;AAAA;AAEX,cAAQ,IAAI;AACZ,WAAK,aAAa;AAClB,cAAQ,IAAI;AACZ,aAAO,IAAI,QAAiB,CAAC,OAAO;AAChC,aAAK,qBAAqB;AAC1B,gBAAQ,IAAI;AAAA;AAAA;AAAA,UAMd,aAAa,eAAe,YAAY,MAAM,QAA0B;AAC1E,UAAI,CAAC,KAAK,gBAAgB,CAAC,KAAK,aAAa,CAAC,KAAK,iBAAiB;AAChE,eAAO;AAAA;AAEX,UAAI,CAAC,cAAc;AACf,gBAAQ,MAAM;AACd,eAAO;AAAA;AAEX,aAAO,IAAI,QAAQ,QAAM;AACrB,aAAK,gBAAgB;AAAA,UACjB,SAAS;AAAA,UACT,OAAO,aAAa,OAAO;AAAA,UAC3B,MAAM,aAAa;AAAA,UAEnB,OAAO,aAAa;AAAA,UACpB,OAAO;AAAA,YACH,WAAW,KAAK;AAAA,YAChB,aAAa,aAAa;AAAA,YAC1B,cAAc,aAAa;AAAA,YAC3B,aAAa,aAAa;AAAA,YAC1B,iBAAiB;AAAA;AAAA,UAOrB,SAAS,YAAY;AACjB,oBAAQ,IAAI;AACZ,iBAAK,cAAc;AACnB,eAAG;AAAA;AAAA,UAEP,KAAK,GAAQ;AACT,oBAAQ,MAAM,8CAAW;AACzB,eAAG;AAAA;AAAA;AAAA;AAAA;AAAA,IAYnB,eAAe,SAA0D;AACrE,WAAK,iBAAiB;AAAA;AAAA,IAE1B,mBAAmB;AACf,WAAK,iBAAiB;AAAA;AAAA,IAK1B,kBAAkB;AACd,aAAO,KAAK;AAAA;AAAA,IAKhB,cAAc;AACV,aAAO,KAAK;AAAA;AAAA,IAKhB,mBAAmB;AACf,aAAO,CAAC,CAAC,KAAK;AAAA;AAAA;;;ACnjCf,MAAI,WAAyB;AAE7B,MAAK;AAAL,YAAK,aAAL;AACH;AACA;AACA;AACA;AACA;AAAA,KALQ;AAQL,MAAI,aAAyB;AAC7B,4BAAmB;AAAA,WAQf,MAAM;AACT,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,YAAY,IAAI;AAAA;AAEzB,aAAO,KAAK;AAAA;AAAA,IAEhB,cAAc;AACV,cAAQ;AAAA,aACC;AACD,eAAK;AACL;AAAA,aACC;AACD,eAAK,iBAAiB;AACtB;AAAA,aACC;AACD,eAAK;AACL;AAAA,aACC;AACD,eAAK;AACL;AAAA;AAGA,wBAAa,SAAS;AACtB;AAAA;AAAA;AAAA,IAIJ,iBAAiB,UAA0B;AAC/C,oBAAa,SAAS;AACtB,UAAI,QAAQ,OAAO,SAAS,OAAO,UAAU;AAC7C,UAAI,OAAO,MAAM,MAAM;AACvB,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,YAAI,OAAO,KAAK,GAAG,MAAM;AACzB,YAAI,KAAK,MAAM,UAAU;AACrB,wBAAa,SAAS,KAAK;AAC3B,iBAAO,KAAK;AAAA;AAAA;AAUpB,aAAO;AAAA;AAAA,IAGX,uBAAuB;AAAA;AAAA,IAGvB,yBAAyB;AAAA;AAAA,IACzB,wBAAwB;AAGpB,UAAI,OAAO,MAAM,aAAa;AAC1B,qBAAa,cAAc,cAAc;AAGzC,QAAC,OAAe,OAAO;AACvB,eAAO;AACP,gBAAQ,IAAI,6BAAS;AAAA,iBAGhB,OAAO,MAAM,aAAa;AAC/B,qBAAa,cAAc,cAAc;AAGzC,QAAC,OAAe,OAAQ,OAAe,KAAK;AAC5C,eAAO;AACP,gBAAQ,IAAI,6BAAS;AAAA,iBAGhB,OAAO,MAAM,aAAa;AAC/B,qBAAa,cAAc,cAAc;AACzC,QAAC,OAAe,OAAO;AACvB,gBAAQ,IAAI,6BAAS;AAAA,aAEpB;AACD,qBAAa,cAAc,cAAc;AAEzC,qBAAa;AAAA;AAAA;AAAA,IAKrB,sBAAsB;AAIlB,UAAI,cAAc,KAAmB,aAAa,aAAa;AAE3D,mBAAW,IAAI;AAAA,iBAGV,cAAc,GAAmB;AACtC,mBAAW,IAAI;AAAA,aAEd;AACD,gBAAQ,cAAa;AAAA;AAWb,uBAAW,IAAI;AACf;AAAA;AAAA;AAAA;AAAA;AAvHb;AAKY,EALZ,aAKY,SAA6B;AAE7B,EAPZ,aAOY,YAA0B;;;ACvBtC,MAAM,cAAc;AAAA,IAEvB,aAAY;AAAA,MACR,QAAO;AAAA;AAAA;;;ACAf,0BAAiC;AAAA,WAOtB,MAAM,MAAc,QAAQ,MAAM;AACrC,UAAI,CAAC,YAAY,YAAY,QAAQ;AACjC;AAAA;AAEJ,WAAK,QAAQ,QAAQ,EAAE,MAAM,OAAO,MAAM;AAC1C,WAAK,QAAQ,MAAM,KAAK,KAAM,IAAI,OAAQ;AAC1C,UAAI,KAAK,QAAQ,MAAM,MAAM;AACzB,aAAK,QAAQ,MAAM,KAAK,MAAM;AAAA;AAElC,cAAQ,KAAK,iBAAO,UAAU,KAAK,QAAQ,MAAM,KAAK;AAAA;AAAA,WAOnD,IAAI,MAAc,OAAO,IAAI;AAChC,UAAI,CAAC,YAAY,YAAY,QAAQ;AACjC,eAAO;AAAA;AAEX,UAAI,CAAE,SAAQ,KAAK,UAAU;AACzB,aAAK,MAAM;AACX,eAAO;AAAA;AAEX,UAAI,QAAS,IAAI,OAAQ;AACzB,UAAI,KAAK,QAAQ,MAAM,MAAM;AACzB,iBAAS;AAAA;AAEb,cAAQ,KAAK,iBAAO,QAAQ,UAAU,iCAAQ,QAAQ,KAAK,QAAQ,MAAM,KAAK,KAAK,QAAQ,MAAM,KAAK,SAAS,MACzG,2BAAO,QAAQ,KAAK,QAAQ,MAAM,KAAK,MAAM,qBAAM;AACzD,WAAK,QAAQ,MAAM,KAAK,KAAK;AAC7B,aAAO,QAAQ,KAAK,QAAQ,MAAM,KAAK;AAAA;AAAA,WAEpC,kBAAkB,KAAa;AAClC,UAAK,OAAe,YAElB;AACE,YAAI,WAAW,KAAK;AACpB,YAAI,OAAO,WAAY,OAAe;AAEtC,QAAC,OAAe,aAAa;AAK7B,gBAAQ,IAAI,sBAAO,KAAK;AAAA;AAAA;AAAA;AAnDjB,EADnB,YACmB,UAAgE;;;ACCnF,yBAA+B;AAAA,WAYpB,UAA+B,OAAU,aAAa,GAAG,YAAY,OAAO;AAC/E,UAAI,CAAC,WAAW;AACZ,aAAK,YAAY;AACjB,YAAI,WAAU,cAAc,MAAM,MAAO;AACrC;AAAA;AAAA;AAGR,UAAI,AAAK,KAAK,aAAV,GAAqB;AACrB,iBAAS,UAAU,EAAE,OAAO,4BAAQ,SAAS,wCAAU,aAAa,gBAAM,YAAY,kBAAQ,KAAK,OAAK;AACpG,cAAI,GAAG;AACH,uBAAU,UAAU,OAAO;AAAA;AAAA;AAGnC;AAAA,iBAEK,KAAK,YAAY,GAAG;AACzB,aAAK;AAAA;AAGT,UAAI,aAAa;AACjB,UAAI,CAAC,WAAW;AAAA;AAKhB,UAAI;AACA,gBAAQ,IAAI,aAAa;AAGzB,YAAI,UAAU,OAAO,UAAgB;AAGjC,cAAI,WAAW;AACf,cAAI,WAAW,YAAY;AAevB;AACI,mBAAK,MAAM,KAAK,QAAQ,UAAU,MAAM,QAAW,KAAK,QAAQ,OAAO,MAAM,CAAC,WAAU;AAIpF,2BAAW;AACX,2BAAU,cAAc;AAAA;AAAA;AAAA;AAOpC;AAAA;AAEJ,gBAAQ,IAAI,kDAAoB,OAAO,KAAK,UAAU,WAAU,aAAa,WAAU,WAAW,QAAQ;AAG1G,YAAI,WAAU,WAAW,QAAQ,UAAU,GAAG;AAC1C;AACA;AAAA;AAGJ,YAAI,iBAAiB,OAAO,QAAsB;AAC9C,sBAAY,IAAI,aAAa;AAE7B,mBAAS;AACT,cAAI,KAAK;AACL,gBAAI,KAAK,aAAa,GAAG;AACrB;AAAA;AAEJ,qBAAS,YAAY,EAAE,OAAO;AAK9B,uBAAW,MAAM;AACb,uBAAS;AACT,yBAAU,UAAU,OAAc,YAAY;AAAA,eAC/C;AACH;AAAA;AAEJ;AAAA;AAIJ,mBAAU,aAAa,CAAC,QAAQ,MAAM,QAAW,QAAW;AAAA,eAEzD,GAAP;AAII,gBAAQ,MAAM,wCAAU;AAExB,mBAAW,MAAM;AACb,qBAAU,UAAU,OAAc,YAAY;AAAA,WAC/C;AAAA;AAAA;AAAA,WAIJ,WAAgC,OAAU;AAC7C,WAAK,MAAM,MAAM,QAAQ;AAAA;AAAA,WASd,cAAc,QAAQ,MAAM,aAAa,KAAM;AAC1D,UAAI,OAAO;AACP,YAAI,OAAO,WAAU;AACrB,YAAI,CAAC,WAAU,aAAa;AACxB,qBAAU,cAAc;AACxB,qBAAU,cAAc,WAAW,MAAM;AACrC,gBAAI,CAAC,WAAU,aAAa;AACxB;AAAA;AAEJ,uBAAU,cAAc;AAAA,aACzB;AAAA;AAEP,eAAO;AAAA,aAEN;AACD,YAAI,OAAO,WAAU;AACrB,mBAAU,cAAc;AACxB,YAAI,WAAU,aAAa;AACvB,uBAAa,WAAU;AAAA;AAE3B,eAAO;AAAA;AAAA;AAAA,iBAwBF,aAAkC,YAAiB,cAAc,MAAM,sBAAqD,YAA8E,UAAmC;AAEtP,UAAI,CAAC,cAAc,WAAW,UAAU,GAAG;AACvC;AAAA;AAEJ,eAAS,QAAQ,GAAG,QAAQ,WAAW,QAAQ,SAAS;AAEpD,cAAM,UAAU,WAAW,WAAW,SAAS,QAAQ;AACvD,YAAI,WAAU,WAAW,QAAQ,YAAY,GAAG;AAC5C;AAAA;AAEJ,YAAI,OAAO,WAAU,aAAa,QAAQ;AAC1C,YAAI,OAAO,GAAG;AACV,qBAAU,aAAa,KAAK;AAAA,mBAEvB,eAAe,OAAO,WAAU,aAAa,SAAS,GAAG;AAC9D,qBAAU,aAAa,OAAO,MAAM;AACpC,qBAAU,aAAa,KAAK;AAAA;AAEhC,YAAI,CAAE,YAAW,WAAU,kBAAkB;AACzC,qBAAU,gBAAgB,WAAW;AAAA;AAGzC,YAAI,sBAAsB;AACtB,qBAAU,gBAAgB,SAAS,sBAAsB;AAAA;AAE7D,YAAI,YAAY;AACZ,qBAAU,gBAAgB,SAAS,aAAa;AAAA;AAEpD,YAAI,UAAU;AACV,qBAAU,gBAAgB,SAAS,WAAW;AAAA;AAAA;AAGtD,UAAI,WAAU,aAAa,WAAU,aAAa,UAAU,GAAG;AAC3D;AAAA;AAEJ,iBAAU,YAAY;AACtB,UAAI,YAAY,WAAU,aAAa,WAAU,aAAa,SAAS;AACvE,cAAQ,IAAI,gBAAgB,WAAU;AACtC,cAAQ,IAAI,aAAa;AAEzB,UAAI,YAAiB;AACrB,UAAI,aAAa,WAAU,iBAAiB;AACxC,oBAAY,WAAU,gBAAgB;AAAA;AAE1C,aAAO,IAAI,QAAc,OAAO,OAAO;AACnC,YAAI,gBAAgB,OAAO,QAAa;AACpC,qBAAU,YAAY;AAEtB,cAAI,CAAC,KAAK;AACN,uBAAU,qBAAqB,OAAO,WAAU,qBAAqB;AAErE,gBAAI,aAAa,WAAU,iBAAiB;AACxC,qBAAO,WAAU,gBAAgB;AAAA;AAIrC,uBAAU,WAAW,KAAK;AAC1B,gBAAI,OAAO,WAAU,aAAa,QAAQ;AAC1C,gBAAI,OAAO,IAAI;AACX,yBAAU,aAAa,OAAO,MAAM;AAAA;AAExC,yBAAa,UAAU,uBAAuB,UAAU,oBAAoB;AAAA;AAGhF,uBAAa,UAAU,YAAY,UAAU,SAAS;AAEtD,cAAI,KAAK;AAEL,kBAAM,SAAS,KAAK,WAAU,qBAAqB;AACnD,gBAAI,WAAU,qBAAqB,OAAO,WAAU,qBAAqB,KAAK;AAC1E,yBAAU,qBAAqB,QAAQ,WAAU,qBAAqB;AAAA;AAAA;AAM9E,cAAI,WAAU,aAAa,SAAS,GAAG;AACnC,uBAAU,aAAa,CAAC,WAAU,aAAa,WAAU,aAAa,SAAS,KAAK;AAAA,iBAEnF;AACD;AAAA;AAAA;AAgBR,aAAK,MAAM,KAAK,YAAY,UAAU,KAAK,QAAQ,OAAO,MAAM,CAAC,UAAiB;AAG9E,gBAAM,KAAK,KAAK,MAAM,OAAO,KAAK,MAAM;AAGxC,wBAAc;AAAA;AAAA;AAAA;AAAA,WAanB,eAAe;AAClB,aAAO,KAAK;AAAA;AAAA,WAKT,SAAS;AAEZ,UAAI,CAAC,KAAK,eAAe;AACrB,eAAO;AAAA;AAEX,WAAK,UAAU,KAAK;AACpB,aAAO;AAAA;AAAA;AA9Sf;AAEmB,EAFnB,UAEmB,gBAAkC;AAClC,EAHnB,UAGmB,YAAY;AAwHZ,EA3HnB,UA2HmB,cAAc;AACd,EA5HnB,UA4HmB,cAAmB;AA8BnB,EA1JnB,UA0JmB,aAA4B;AAC5B,EA3JnB,UA2JmB,eAA8B;AAC9B,EA5JnB,UA4JmB,kBAMX;AAGW,EArKnB,UAqKmB,YAAY;AAEZ,EAvKnB,UAuKmB,uBAAuB,EAAE,MAAM,KAAM,KAAK,KAAM,KAAK;;;AC/JjE,MAAM,gBACb;AAAA,IACI,iBAAiB;AAAA,IAEjB,YAAY;AAAA,IAEZ,YAAY;AAAA,IAEZ,WAAW;AAAA,IAEX,cAAc;AAAA;;;ACNlB,MAAO,YAAY,KAAK;AAExB,kCAAwC,UAAU;AAAA,IAAlD,cAtBA;AAsBA;AAGI,qBAAuB;AACf,sBAAmB;AACnB,uBAAoB;AACpB,uBAAqB;AAI7B,qBAAU;AAAA,QACN,UAAU;AAAA,QACV,YAAY;AAAA,QAEZ,SAAS;AAAA,QAET,UAAU;AAAA,QACV,SAAS;AAAA,QAET,WAAW;AAAA,QACX,YAAY;AAAA,QAGZ,eAAe;AAAA,QACf,cAAc;AAAA,QAGd,WAAW;AAAA,QAIX,IAAI;AAAA,QAGJ,WAAW;AAAA;AAQL,yBAAc;AAAA,QAEpB,WAAW;AAAA,QACX,YAAY;AAAA,QAGZ,eAAe;AAAA,QACf,cAAc;AAAA,QACd,WAAW;AAAA;AAAA;AAAA,IAKf,UAAU;AAEN,uBAAiB,mBAAmB;AACpC,kBAAW,MAAM;AAEjB,WAAK;AACL,WAAK;AACL,WAAK;AAEL,WAAK,MAAM;AACX,WAAK;AAML,UAAI,YAAW,QAAQ;AACnB,oBAAW,SAAS;AAIpB,2BAAmB,oBAAoB,CAAC,UAAU;AAC9C,cAAI,CAAC,SAAS,YAAW,OAAO,aAAa,gBAAgB;AACzD,sBAAU,mBAAmB,SAAS;AAAA;AAAA;AAAA;AAoFlD,WAAK;AAGL,WAAK,MAAM,KAAK,KAAM,MAAM,KAAK;AAIjC,UAAI,aAAa,iBAAiB,MAAM;AAEpC,kBAAU,iBAAiB,SAAS,YAAY,MAAM;AAAA,WAAK;AAAA;AAK/D,WAAK;AAAA;AAAA,IAET,eAAe;AACX,eAAS,YAAY,CAAC,aAAa;AAC/B,YAAI,CAAC,SAAS,QAAQ,SAAS,KAAK,UAAU,GAAG;AAC7C;AAAA;AAEJ,YAAI,aAAa,SAAS,KAAK;AAC/B,YAAI,eAAe,KAAK,QAAQ,UAAU,SAAS;AACnD,YAAI,aAAa,KAAK,QAAQ,UAAU,SAAS;AACjD,qBAAa,MAAM,WAAW;AAC9B,mBAAW,OAAO,KAAK,WAAW;AAAA;AAAA;AAAA,IAK1C,WAAW;AACP,WAAK,WAAW,UAAU;AAC1B,WAAK,YAAY,UAAU;AAC3B,UAAI,KAAK,YAAY,GAAG;AACpB;AAAA;AAEJ,WAAK,YAAY;AACjB,UAAI,UAAU;AACd,UAAI,QAAQ;AACZ,UAAI,OAAO,KAAK,QAAQ,SAAS,SAAS;AAC1C,eAAS,IAAI,GAAG,IAAI,SAAS,KAAK;AAC9B,YAAI,QAAQ,UAAU,aAAa,cAAc,aAAa;AAC9D,cAAM,IAAI,KAAK,MAAM,QAAQ;AAC7B,cAAM,IAAI,KAAK,MAAM,SAAS;AAC9B,aAAK,KAAK,SAAS;AAEnB,aAAK,MAAM,GAAG,OAAO,EAAE,GAAG,MAAM,IAAK,KAAK,UAAU,IAAK,OAAO,MAAM,GAAG,MAAM,IAAM,KAAI,IAAI,KAAK,YAAY,OAAQ,KAAK,KAAK,KAAK,WAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC5K,eAAK,MAAM,GAAG,OAAO,EAAE,GAAG,KAAK,QAAQ,SAAS,IAAI,KAAK,QAAQ,SAAS,QAAQ,GAAG,GAAG,KAAK,QAAQ,SAAS,KAAK,KAAK,WAAW,MAAM,KAAK,KAAK,KAAK,QAAQ,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC5L,kBAAM;AACN;AACA,gBAAI,SAAS,SAAS;AAAA;AAGtB,gBAAI,SAAS,GAAG;AACZ,mBAAK,MAAM,KAAK,IAAI,MAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAM/C,UAAI,UAAU,GAAG;AACb,YAAI,aAAa,MAAM;AACnB,gBAAM,MAAM;AACZ,gBAAM,MAAM;AACZ,gBAAM,KAAK;AACX,eAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,OAAO,IAAI,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC7F,iBAAK,MAAM,GAAG,MAAM,EAAE,QAAQ,KAAK,QAAQ,OAAO,IAAI,QAAW,KAAK,QAAQ,OAAO,MAAM;AAAA;AAAA;AAGnG;AAAA;AAAA;AAAA,IAIR,QAAQ;AACJ,kBAAW,MAAM;AACjB,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,WAAW;AAEP;AAEI,aAAK,QAAQ,QAAQ,UAAU,cAAc;AAE7C,aAAK,QAAQ,WAAW,UAAU,cAAc;AAAA;AAGpD,UAAI,aAAa,MAAM;AACnB,cAAM,MAAM;AACZ,cAAM,MAAM;AACZ,cAAM,KAAK;AACX,aAAK,MAAM,GAAG,KAAK,QAAQ,UAAU,EAAE,QAAQ,KAAK,QAAQ,OAAO,IAAI,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAE9G,eAAK,MAAM,GAAG,KAAK,QAAQ,UAAU,EAAE,QAAQ,KAAK,QAAQ,OAAO,IAAI,QAAW,KAAK,QAAQ,OAAO,MAAM;AAAA;AAAA;AAGpH;AAEA,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AAGnB,yBAAiB;AACjB,YAAI,QAAQ,yBAAyB;AACjC;AAAA;AAEJ,gBAAQ;AACR,kBAAU,WAAW,CAAC,UAAU,gBAC5B,MAAM;AAIF,oBAAU,UAAU;AACpB,kBAAQ;AAAA,WAIT,CAAC,UAAkB;AAClB,kBAAQ;AAER,cAAI,QAAQ,yBAAyB;AACjC;AAAA;AAEJ,cAAI,MAAM,+FAAoB,MAAM;AAEhC,0BAAc,SAAS,KAAK,QAAQ,GAAG,GAAG,KAAK;AAAA,aAChD,MAAM;AAAA;AAAA;AAsBjB,gBAAQ,IAAI;AAAA;AAMhB,WAAK,QAAQ,WAAW,QAAQ,MAAM,MAAM;AACxC,gBAAQ,IAAI;AACZ,gBAAQ,WAAW;AAWnB,sBAAc,SAAS,KAAK,QAAQ,GAAG,GAAG,KAAK;AAAA;AAenD,WAAK,QAAQ,QAAQ,QAAQ,MAAM,MAAM;AACrC,gBAAQ,IAAI;AACZ,gBAAQ,WAAW;AAGnB,sBAAc,SAAS,KAAK,QAAQ,GAAG,GAAG,KAAK;AAAA;AA6BnD,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,YAAI,CAAC,cAAc,YAAY;AAC3B,kBAAQ,IAAI;AACZ;AAAA;AAEJ,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AASZ,sBAAc,SAAS,KAAK,QAAQ,GAAG,GAAG,KAAK;AAAA;AAInD,WAAK,QAAQ,QAAQ,QAAQ,MAAM,MAAM;AACrC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,sBAAc,SAAS,KAAK,QAAQ,GAAG,GAAG,KAAK;AAAA;AAAA;AAAA,IAIvD,aAAa;AAET,WAAK,QAAQ,UAAU,OAAO,KAAK,UAAU;AAG7C,WAAK,QAAQ,aAAa,OAAO,KAAK,UAAU;AAEhD,WAAK,MAAM,GAAG,QAAQ,MAAM,MAAM;AAC9B,aAAK,QAAQ,UAAU,OAAO,KAAK,UAAU;AAAA;AAEjD,WAAK,QAAQ,WAAW,OAAO,KAAK,UAAU;AAC9C,WAAK,MAAM,GAAG,SAAS,MAAM,MAAM;AAC/B,YAAI,CAAC,KAAK,WAAW;AACjB,eAAK,QAAQ,WAAW,OAAO,KAAK,UAAU;AAAA;AAAA;AAMtD,WAAK,MAAM,GAAG,aAAa,MAAM,MAAM;AACnC,aAAK,QAAQ,aAAa,OAAO,KAAK,UAAU;AAAA;AAAA;AAAA,IAIxD,cAAc;AACV,UAAI,WAAW,KAAK,IAAI,KAAK,MAAM,KAAK,WAAW,KAAK;AACxD,UAAI,QAAQ,SAAS,KAAK,QAAQ,WAAW;AAC7C,UAAI,QAAQ,YAAY,KAAK,WAAW,KAAK,WAAW;AACpD,mBAAW,KAAK,WAAW,KAAK,YAAY;AAAA;AAEhD,UAAI,QAAQ,KAAK,WAAW,KAAK,WAAW;AACxC,aAAK,QAAQ,WAAW,OAAO,KAAM,SAAQ;AAAA,aAC1C;AACH,aAAK,QAAQ,WAAW,OAAO,KAAK,UAAU;AAC9C,aAAK,YAAY;AACjB,aAAK,WAAW;AAChB,aAAK,YAAY;AACjB,YAAI,OAAO,KAAK,QAAQ,SAAS,SAAS;AAC1C,aAAK,MAAM,WAAW;AACtB,aAAK,MAAM,MAAM,MAAM,KAAK;AAAA;AAAA;AAAA,IAIpC,aAAa;AACT,kBAAY,WAAW,KAAK,QAAQ,IAAI;AACxC,kBAAY,WAAW,KAAK,QAAQ,WAAW;AAC/C,kBAAY,eAAe,KAAK,QAAQ,SAAS;AACjD,kBAAY,eAAe,KAAK,QAAQ,SAAS;AACjD,kBAAY,eAAe,KAAK,QAAQ,YAAY;AACpD,kBAAY,eAAe,KAAK,QAAQ,UAAU;AAAA;AAAA,IAEtD,kBAAkB;AAAA;AAAA,IA4BlB,mBAAmB;AACf,UAAI,WAAW,CAAC,OAAe;AAC3B,gBAAQ,IAAI;AACZ,aAAK,QAAQ,cAAc,UAAU,KAAK;AAC1C,aAAK,QAAQ,aAAa,UAAU,KAAK;AACzC,YAAI,KAAK,QAAQ,aAAa,SAAS;AACnC,eAAK,QAAQ,aAAa,OAAO,KAAK;AAAA;AAAA;AAkB9C,eAAS,UAAU;AACnB,WAAK,MAAM,GAAG,mBAAmB,MAAM;AAAA;AAAA,IAI3C,gBAAgB;AAAA;AAAA,IAkBhB,OAAO,SAAoB;AACvB,cAAQ;AACR,UAAI,OAAY,IAAI;AAAA;AAAA,IAExB,SAAS,MAAc;AACnB,UAAI,MAAM,MAAM,MAAM;AAAA,SAAK,MAAM;AAAA;AAAA;AAAA;AAvhBzC;AAEW,EAFX,WAEW,MAAkB;AAmDV,EArDnB,WAqDmB,SAAS;;;AC1D5B,+BAAsC,UAAU;AAAA,IAAhD,cAjBA;AAiBA;AAKI,qBAAU;AAAA,QACN,IAAI;AAAA,QAEJ,YAAY;AAAA,QACZ,eAAe;AAAA,QAEf,YAAY;AAAA,QAEZ,cAAc;AAAA,QACd,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,UAAU;AAAA,QAEV,cAAc;AAAA,QAEd,SAAS;AAAA,QACT,UAAU;AAAA,QACV,YAAY;AAAA;AASN,yBAAc;AAAA,QACpB,YAAY;AAAA;AAER,uBAA6B;AAW7B,oBAAS;AAmLT,oBAAS;AACT,sBAAW;AACX,qBAAU;AAAA;AAAA,IA9LlB,UAAU;AAEN,WAAK,SAAS,KAAK,QAAQ,QAAQ;AACnC,cAAQ,IAAI,gBAAgB,KAAK;AACjC,WAAK,YAAY,KAAK,cAAc;AACpC,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,SAAS;AACL,WAAK,QAAQ,GAAG,UAAU;AAC1B,WAAK,QAAQ,SAAS,UAAU;AAChC,uBAAS,YAAY,MAAM,MAAM;AAC7B,aAAK,QAAQ,GAAG,UAAU;AAC1B,aAAK,QAAQ,SAAS,UAAU;AAAA;AAapC,UAAI,OAAO;AACX,UAAI,WAAW,UAAU;AACzB,UAAI,UAAU,YAAY,KAAK,CAAC,UAAU;AACtC,eAAO;AAAA;AAEX,cAAQ,IAAI,mBAAmB,MAAM,UAAU,WAAW;AAE1D,WAAK,UAAU,gBAAiB;AAChC,WAAK,QAAQ,aAAa,UAAU,UAAU,YAAY;AAG1D,WAAK;AAAA;AAAA,IAOT,SAAS;AAAA;AAAA,IAKT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,QAAQ,GAAG,UAAU;AAC1B,WAAK,QAAQ,SAAS,UAAU;AAChC,uBAAS,aAAa,MAAM,MAAM;AAC9B,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAGb,aAAa;AACT,kBAAY,eAAe,KAAK,QAAQ,UAAU;AAClD,kBAAY,WAAW,KAAK,QAAQ,eAAe;AAAA;AAAA,IAGvD,WAAW;AAEP;AAAA;AAIA,WAAK,QAAQ,aAAa,QAAQ,MAAM,MAAM;AAC1C,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,aAAK,MAAM,MAAM;AACb,oBAAU;AAAA;AAAA;AAYlB,WAAK,QAAQ,WAAW,QAAQ,MAAM,MAAM;AACxC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,gBAAQ;AACR,kBAAU,WAAW,CAAC,UAAU,gBAAgB,MAAM;AAGlD,kBAAQ;AAER,oBAAU;AAEV,oBAAU;AAAA,WAIX,MAAM;AAEL,cAAI,QAAQ,yBAAyB;AACjC;AAAA;AAEJ,cAAI,MAAM,+FAAoB,MAAM;AAAA,aAEjC,MAAM;AAAA;AAET,kBAAQ,MAAM;AAAA;AAAA;AAQtB,WAAK,QAAQ,WAAW,QAAQ,MAAM,MAAM;AACxC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU,YAAY,CAAC,UAAmB,WAAmB;AAEzD,kBAAQ,IAAI,6BAA6B,UAAU;AAAA,WACpD;AAAA;AAEP,UAAI,UAAU,MAAM;AAChB,gBAAQ,WAAW;AAEnB,kBAAU;AAEV,yBAAS,UAAU;AAAA;AAEvB,WAAK,QAAQ,UAAU,QAAQ,MAAM;AACrC,WAAK,QAAQ,WAAW,QAAQ,MAAM;AAGtC,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,YAAI,CAAC,cAAc,YAAY;AAC3B,kBAAQ,IAAI;AACZ;AAAA;AAEJ,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,sBAAc,SAAS,KAAK,QAAQ,GAAG,GAAG;AAAA;AAAA;AAAA,IAwClD,aAAa;AACT,WAAK,UAAU,KAAK,WAAW,UAAU;AACzC,WAAK,QAAQ,SAAS,OAAO,KAAK,KAAK;AACvC,WAAK,MAAM,MAAM,MAAM,KAAK;AAE5B,UAAI,UAAU,YAAY,GAAG;AACzB,YAAI,OAAQ,WAAU,YAAY,KAAK,KAAK;AAC5C,aAAK,UAAU,OAAO,KAAK;AAC3B,aAAK,SAAS;AACd,YAAI,OAAO,KAAK;AACZ,eAAK,SAAS,OAAO;AAAA;AAEzB,aAAK,MAAM,UAAU,GAAG,MAAM,KAAK;AAAA;AAKvC,WAAK,QAAQ,WAAW,OAAO,KAAK,UAAU;AAC9C,WAAK,MAAM,GAAG,SAAS,MAAM,MAAM;AAC/B,aAAK,QAAQ,WAAW,OAAO,KAAK,UAAU;AAAA;AAAA;AAAA,IAMtD,cAAc;AACV,WAAK,YAAY,KAAK;AACtB,UAAI,KAAK,YAAY,KAAK,SAAS;AAC/B,aAAK,WAAW,KAAK;AACrB,aAAK,MAAM,MAAM,MAAM,KAAK;AAAA;AAEhC,WAAK,QAAQ,SAAS,OAAO,KAAM,MAAK,WAAW;AAAA;AAAA,IAEvD,YAAY;AAAA;AAAA,IAEZ,aAAa;AAAA;AAAA,IAab,OAAO,SAAoB;AACvB,cAAQ;AACR,UAAI,OAAY,IAAI;AAAA;AAAA;;;AChS5B,kCAAyC,UAAU;AAAA,IAAnD,cANA;AAMA;AAGI,qBAAU;AAAA,QACN,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,UAAU;AAAA;AAMJ,yBAAc;AAAA,QACpB,UAAU;AAAA;AAEN,yBAA4B;AAAA;AAAA,IAEpC,UAAU;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,SAAS;AACL,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,YAAY,MAAM,MAAM;AAC7B,aAAK,QAAQ,GAAG,UAAU;AAAA;AAAA;AAAA,IAKlC,SAAS;AAAA;AAAA,IAIT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,aAAa,MAAM,MAAM;AAC9B,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAUb,WAAW;AAEP,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK,MAAM,MAAM;AACb,oBAAU;AAAA;AAAA;AAMlB,WAAK,QAAQ,aAAa,QAAQ,MAAM,MAAM;AAC1C,gBAAQ,WAAW;AACnB,gBAAQ,IAAI,gBAAgB,KAAK;AACjC,kBAAU;AACV,kBAAU,WAAW,KAAK,aAAa,CAAC,aAAa;AACjD,cAAI,UAAU;AACV,sBAAU;AACV,iBAAK;AACL,sBAAU;AAAA;AAAA;AAAA;AAAA;AAAA,IAS1B,aAAa;AAAA;AAAA,IAGb,QAAQ,WAAyB;AAC7B,cAAQ,IAAI,4BAA4B;AAExC,WAAK,cAAc;AACnB,WAAK,QAAQ,WAAW,OAAO,cAAc,aAAa;AAE1D,WAAK,QAAQ,WAAW,MAAM,UAAU,mBAAmB;AAAA;AAAA;;;ACnGnE,mCAA0C,UAAU;AAAA,IAApD,cANA;AAMA;AAKI,qBAAU;AAAA,QACN,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,UAAU;AAAA;AAMJ,yBAAc;AAAA;AAAA,IAGxB,UAAU;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,SAAS;AACL,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,YAAY,MAAM,MAAM;AAC7B,aAAK,QAAQ,GAAG,UAAU;AAAA;AAAA;AAAA,IAOlC,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAG,CAAC,KAAK,SAAQ;AACb;AAAA;AAEJ,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,aAAa,MAAM,MAAM;AAC9B,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAGb,WAAW;AAEP,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK;AACL,kBAAU,UAAU;AAAA;AAExB,WAAK,QAAQ,MAAM,QAAQ,MAAM,MAAM;AACnC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK;AACL,kBAAU,UAAU;AAAA;AAExB,WAAK,QAAQ,OAAO,QAAQ,MAAM,MAAM;AACpC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK,MAAM,MAAM;AACb,oBAAU,SAAS;AAAA;AAAA;AAAA;AAAA,IAO/B,aAAa;AAAA;AAAA;;;AC9EjB,uCAA8C,UAAU;AAAA,IAAxD,cANA;AAMA;AAGI,qBAAU;AAAA,QACN,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,UAAU;AAAA;AAMJ,yBAAc;AAAA,QACpB,UAAU;AAAA;AA0EN,yBAA4B;AAAA;AAAA,IAvEpC,UAAU;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,SAAS;AACL,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,YAAY,MAAM,MAAM;AAC7B,aAAK,QAAQ,GAAG,UAAU;AAAA;AAAA;AAAA,IAKlC,SAAS;AAAA;AAAA,IAIT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,aAAa,MAAM,MAAM;AAC9B,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAGb,WAAW;AAEP,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,aAAK,MAAM,MAAM;AACb,oBAAU;AAAA;AAAA;AAGlB,WAAK,QAAQ,aAAa,QAAQ,MAAM,MAAM;AAC1C,gBAAQ,WAAW;AACnB,gBAAQ,IAAI,gBAAgB,KAAK;AAEjC,kBAAU,WAAW,KAAK,aAAa,CAAC,aAAa;AACjD,cAAI,UAAU;AACV,iBAAK,MAAM,MAAM;AACb,wBAAU,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAmBhD,aAAa;AAAA;AAAA,IAIb,QAAQ,WAAyB;AAC7B,cAAQ,IAAI,4BAA4B;AAExC,WAAK,cAAc;AACnB,WAAK,QAAQ,WAAW,OAAO,cAAc,aAAa;AAE1D,WAAK,QAAQ,WAAW,MAAM,UAAU,mBAAmB;AAAA;AAAA;;;AC3FnE,gCAAuC,UAAU;AAAA,IAAjD,cAZA;AAYA;AAGI,qBAAU;AAAA,QACN,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,WAAW;AAAA;AAOL,yBAAc;AAGxB,oBAAwB;AAAA;AAAA,IAExB,UAAU;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAIT,SAAS;AAIL,WAAK,MAAM,aAAa;AACxB,uBAAS,YAAY;AACrB,cAAQ,IAAI,aAAa;AAAA;AAAA,IAG7B,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,WAAW;AAEP,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK;AAAA;AAGT,WAAK,QAAQ,aAAa,QAAQ,MAAM,MAAM;AAC1C,gBAAQ,WAAW;AACnB,gBAAQ,IAAI,gBAAgB,KAAK,OAAO;AACxC,kBAAU;AACV,aAAK,QAAQ,KAAK,OAAO;AAAA;AAAA;AAAA,IAIjC,aAAa;AAAA;AAAA,IAGb,YAAY;AACR,WAAK,MAAM,aAAa;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,uBAAS,aAAa,MAAM,MAAM;AAC9B,aAAK;AACL,kBAAU,UAAU;AAAA;AAAA;AAAA,IAG5B,QAAQ,OAAsB;AAC1B,WAAK,SAAS;AACd,WAAK,QAAQ,aAAa,OAAO,MAAM;AACvC,WAAK,QAAQ,UAAU,OAAO,MAAM;AACpC,UAAI,KAAK,QAAQ,SAAS,MAAM,UAAU,GAAG;AACzC,aAAK,QAAQ,aAAa,UAAU;AAAA;AAExC,cAAQ,IAAI,WAAW;AAAA;AAAA,IAG3B,QAAQ,SAAiB;AACrB,UAAI,CAAC,KAAK,QAAQ,cAAc;AAC5B;AAAA;AAEJ,UAAI,WAAW,GAAG;AACd,mBAAG,qBAAqB,MAAM;AAC1B,eAAK;AAAA,WACN,MAAM;AAAA;AAAA,aAGR;AACD,mBAAG,WAAW,KAAK,SAAS,MAAM;AAAA,WAC/B,MAAM;AACL,eAAK;AAAA;AAAA;AAAA;AAAA;;;AC/FrB,uCAA8C,UAAU;AAAA,IAAxD,cAXA;AAWA;AAGI,qBAAU;AAAA,QACN,UAAU;AAAA,QACV,cAAc;AAAA,QACd,WAAW;AAAA,QACX,IAAI;AAAA;AAOE,yBAAc;AAGxB,oBAA+B;AAEvB,wBAAa;AAEb,sBAAW;AAAA;AAAA,IAEnB,UAAU;AAEN,WAAK;AACL,WAAK;AACL,WAAK,aAAa;AAAA;AAAA,IAItB,SAAS;AACL,WAAK,aAAa;AAKlB,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,YAAY,MAAM,MAAM;AAC7B,aAAK,QAAQ,GAAG,UAAU;AAAA;AAE9B,cAAQ,IAAI,oBAAoB;AAAA;AAAA,IAIpC,SAAS;AAAA;AAAA,IAIT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAGxB,gBAAgB;AACZ,UAAI,KAAK,cAAc,GAAG;AACtB,gBAAQ,IAAI;AACZ,aAAK,YAAY;AACjB,aAAK,aAAa;AAClB,aAAK;AACL,kBAAU,YAAY,KAAK;AAAA;AAAA;AAAA,IAWnC,WAAW;AAEP,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK;AACL,kBAAU,YAAY,KAAK;AAAA;AAG/B,WAAK,QAAQ,aAAa,QAAQ,MAAM,MAAM;AAC1C,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AAEV,0BAAkB,MAAM,MAAM;AAE1B,cAAI,KAAK,cAAc,GAAG;AACtB,iBAAK,aAAa;AAAA;AAItB,eAAK,MAAM,KAAK,KAAM,MAAM,MAAM;AAC9B,iBAAK;AAAA;AAAA;AAAA;AAAA;AAAA,IAerB,aAAa;AAAA;AAAA,IAGb,YAAY;AAER,WAAK,MAAM,aAAa;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,aAAa,MAAM,MAAM;AAC9B,aAAK;AACL,kBAAU,UAAU;AAAA;AAAA;AAAA,IAG5B,QAAQ,OAA6B;AACjC,WAAK,WAAW,MAAM;AACtB,WAAK,SAAS;AACd,WAAK,QAAQ,UAAU,OAAO,KAAK,MAAM;AACzC,cAAQ,IAAI,WAAW;AAAA;AAAA;;;ACjI/B,kCAAyC,UAAU;AAAA,IAAnD,cAVA;AAUA;AAGI,qBAAU;AAAA,QAGN,aAAa;AAAA,QACb,cAAc;AAAA,QACd,cAAc;AAAA;AAOR,yBAAc;AAGxB,oBAA0B;AAAA;AAAA,IAE1B,UAAU;AAEN,WAAK;AACL,WAAK;AACL,WAAK;AAAA;AAAA,IAGT,SAAS;AAIL,cAAQ,IAAI,eAAe;AAC3B,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAEpB,UAAI,UAAU,KAAK,MAAM,QAAQ,KAAK,QAAQ,KAAK;AACnD,UAAI,QAAQ,KAAK,MAAM,QAAQ,KAAK,QAAS,KAAI,KAAK;AACtD,WAAK,IAAI;AACT,WAAK,MAAM,GAAG,MAAM,EAAE,GAAG,SAAS,KAAK,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC9E,aAAK,MAAM,KAAK,KAAM,MAAM,MAAM;AAC9B,eAAK,MAAM,GAAG,MAAM,EAAE,GAAG,WAAW,KAAK,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAChF,iBAAK;AAAA;AAAA;AAAA;AAAA;AAAA,IAKrB,SAAS;AACL,WAAK;AAAA;AAAA,IAGT,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,WAAW;AAAA;AAAA,IAGX,aAAa;AAAA;AAAA,IAGb,YAAY;AACR,WAAK,MAAM,aAAa;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,uBAAS,aAAa,MAAM,MAAM;AAC9B,aAAK;AACL,kBAAU,UAAU;AAAA;AAAA;AAAA,IAG5B,QAAQ,OAAwB;AAC5B,WAAK,SAAS;AACd,WAAK,QAAQ,YAAY,OAAO,SAAS,KAAK,MAAM,SAAS;AAAA;AAAA,IAGjE,YAAY;AACR,YAAM,UAAU;AAChB,eAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AACxB,YAAI,UAAU,IAAK,KAAK,WAAW,MAAQ;AAC3C,YAAI,OAAO,UAAW,OAAM,GAAG,KAAK,OAAO,SAAS,MAAM,MAAM;AAChE,YAAI,KAAK,GAAG;AACR,eAAK,QAAQ,aAAa,MAAM;AAAA,eAE/B;AACD,eAAK,QAAQ,aAAa,MAAM;AAAA;AAAA;AAAA;AAAA;;;AChFhD,oCAA2C,UAAU;AAAA,IAArD,cAdA;AAcA;AAII,qBAAU;AAAA,QACN,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,OAAO;AAAA,QACP,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,UAAU;AAAA;AAMJ,yBAAc;AAIxB,oBAAuB;AA2Ef,sBAAW;AAAA;AAAA,IAzEnB,UAAU;AAEN,WAAK;AACL,WAAK;AAAA;AAAA,IAGT,SAAS;AACL,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,YAAY,MAAM,MAAM;AAC7B,aAAK,QAAQ,GAAG,UAAU;AAAA;AAE9B,gBAAU,UAAU;AACpB,UAAI,aAAa,UAAU;AAC3B,UAAI,CAAC,YAAY;AACb;AAAA;AAEJ,UAAI,YAAY,UAAU,mBAAmB;AAC7C,WAAK,QAAQ;AAAA,QACT,WAAW;AAAA,QACX,UAAU;AAAA;AAEd,WAAK,WAAW;AAChB,WAAK,MAAM,GAAG,cAAc,MAAM,KAAK;AAAA;AAAA,IAE3C,SAAS;AACL,WAAK,MAAM,IAAI,cAAc,MAAM,KAAK;AAAA;AAAA,IAG5C,QAAQ;AACJ,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,MAAM,WAAsB;AACxB,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,QAAQ,GAAG,UAAU;AAC1B,uBAAS,aAAa,MAAM,MAAM;AAC9B,qBAAa;AACb,aAAK;AAAA;AAAA;AAAA,IAGb,WAAW;AAEP,WAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM;AACtC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AACV,aAAK,MAAM,MAAM;AACb,oBAAU,UAAU;AAAA;AAAA;AAM5B,WAAK,QAAQ,MAAM,QAAQ,MAAM,MAAM;AAEnC,gBAAQ,WAAW;AACnB,gBAAQ,IAAI;AACZ,kBAAU;AAEV,kBAAU,cAAc,KAAK,OAAO,UAAU,KAAK,OAAO,WAAW,CAAC,aAAa;AAC/E,cAAI,UAAU;AACV,iBAAK,MAAM,MAAM;AACb,wBAAU,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUxC,gBAAgB;AACZ,UAAI,KAAK,UAAU;AACf,aAAK,WAAW;AAAA;AAAA;AAAA,IAIxB,aAAa;AAAA;AAAA,IAGb,QAAQ,OAAqB;AAGzB,WAAK,SAAS;AACd,WAAK,QAAQ,SAAS,OAAO,GAAG,cAAc,MAAM;AAAA,EAAc,qBAAqB,MAAM,WAAW;AACxG,WAAK,QAAQ,WAAW,MAAM,KAAK,OAAO,QAAQ,MAAM;AACxD,WAAK,QAAQ,YAAY,MAAM,KAAK,OAAO,SAAS,MAAM;AAAA;AAAA,IAK9D,OAAO,OAAyB,WAAiC;AAI7D,YAAM,UAAU;AAChB,UAAI,QAAQ;AACZ,cAAQ;AAAA,aACC;AACD,kBAAQ,qBAAqB,WAAW;AACxC;AAAA,aACC;AACD,kBAAQ,qBAAqB,WAAW;AACxC;AAAA;AAGA;AAAA;AAIR,aAAO,KAAK,UAAU,WAAW,SAAS;AAAA;AAAA;;;AC/HlD,MAAK;AAAL,YAAK,cAAL;AACI;AACA;AAAA,KAFC;AAIL,gCAAuC,UAAU;AAAA,IAAjD,cA1BA;AA0BA;AAEI,qBAAuB;AACvB,qBAAU;AAAA,QAEN,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,WAAW;AAAA,QAOX,UAAU;AAAA,QACV,cAAc;AAAA,QAEd,aAAa;AAAA,QAEb,kBAAkB;AAAA,QAElB,WAAW;AAAA,QAEX,kBAAkB;AAAA,QAClB,eAAe;AAAA,QACf,aAAa;AAAA,QACb,gBAAgB;AAAA,QAChB,eAAe;AAAA;AAUT,yBAAc;AAGxB,uBAAY;AAAA,QACR,UAAU;AAAA,UACN,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,aAAa;AAAA,UACT,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,kBAAkB;AAAA,UACd,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,cAAc;AAAA,UACV,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,WAAW;AAAA,UACP,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,kBAAkB;AAAA,UACd,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,aAAa;AAAA,UACT,WAAW;AAAA,UACX,UAAU;AAAA;AAAA,QAEd,eAAe;AAAA,UACX,WAAW;AAAA,UACX,UAAU;AAAA;AAAA;AAcV,sBAAW;AA4JX,yBAAc;AA4Ed,0BAAe;AAOf,8BAAmB;AAAA,QACvB,EAAE,OAAO,KAAK,SAAS;AAAA,QACvB,EAAE,OAAO,KAAK,SAAS;AAAA,QACvB,EAAE,OAAO,KAAK,SAAS;AAAA,QACvB,EAAE,OAAO,KAAK,SAAS;AAAA;AAAA;AAAA,UAjPrB,UAAU;AAIZ,WAAK,QAAQ,YAAY;AACzB,WAAK,QAAQ,iBAAiB;AAC9B,WAAK;AACL,WAAK;AAGL,gBAAU;AACV,eAAS,UAAU,KAAK;AACxB,kBAAY,UAAU,KAAK;AAC3B,gBAAU,YAAY;AACtB,gBAAU;AAEV,WAAK;AACL,WAAK,QAAQ,UAAU;AACvB,WAAK;AAGL,WAAK,QAAQ,eAAe,WAAW,GAAG;AAAA;AAAA,IAK9C,QAAQ;AAEJ,gBAAU,YAAY;AACtB,gBAAU;AACV,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,SAAS;AAAA;AAAA,IAExB,aAAa;AACT,kBAAY,eAAe,KAAK,QAAQ,gBAAgB;AACxD,kBAAY,WAAW,KAAK,QAAQ,WAAW;AAAA;AAAA,IAInD,WAAW;AAEP,WAAK,QAAQ,WAAW,QAAQ,MAAM,MAAM;AAIxC,gBAAQ,WAAW;AACnB,kBAAU;AAGV,kBAAU,UAAU;AACpB,aAAK,QAAQ,aAAa;AAAA;AAgB9B,WAAK,QAAQ,eAAe,QAAQ,MAAM,MAAM;AAC5C,gBAAQ,IAAI;AAGZ,kBAAU;AAEV,gBAAQ,WAAW;AACnB,kBAAU,UAAU;AACpB,aAAK,QAAQ,cAAc;AAAA;AAAA;AAAA,IAgBnC,aAAa;AACT,WAAK,QAAQ,MAAM,OAAO,KAAK,UAAU;AACzC,WAAK,MAAM,GAAG,YAAY,MAAM,MAAM;AAClC,aAAK,cAAc;AACnB,YAAI,OAAO,UAAU,gBAAgB,KAAK;AAC1C,YAAI,OAAO,IAAI;AACX,eAAK,cAAc,OAAO;AAAA;AAE9B,aAAK;AACL,aAAK,MAAM,GAAG,KAAK,QAAQ,OAAO,EAAE,QAAQ,KAAK,QAAQ,OAAO;AAChE,aAAK,MAAM,UAAU,GAAG,MAAM,KAAK;AAAA;AAAA;AAAA,UAIrC,YAAY;AACd,WAAK,eAAe;AACpB,WAAK;AACL,WAAK;AACL,WAAK,aAAa;AAClB,WAAK,UAAU;AACf,WAAK,QAAQ,aAAa;AAE1B,cAAQ,IAAI;AACZ,WAAK,QAAQ,SAAS;AAEtB,WAAK,cAAc;AACnB,WAAK,QAAQ,iBAAiB;AAAA;AAAA,IAElC,aAAa;AACT,WAAK,aAAa;AAClB,cAAQ,IAAI;AACZ,WAAK,QAAQ,SAAS;AAAA;AAAA,IAG1B,WAAW;AACP,cAAQ,IAAI;AACZ,WAAK;AACL,UAAI,CAAC,UAAU,YAAY;AACvB,yBAAS,UAAU;AAAA,aAElB;AAID,YAAI,WAAW,UAAU;AACzB,YAAI,UAAU,iBAAiB,KAAK,UAAU;AAC1C,eAAK,QAAQ,YAAY;AACzB,eAAK,QAAQ,YAAY,QAAQ;AAAA,eAEhC;AACD,oBAAU;AAAA;AAAA;AAAA;AAAA,IAQtB,UAAU,QAAiB;AACvB,UAAI,KAAK,QAAQ,eAAe,SAAS;AACrC,aAAK,KAAK,cAAc,WAAW,UAAU;AAAA;AAAA;AAAA,IAKrD,cAAc;AACV,UAAI,UAAU,gBAAgB,KAAK,WAAW,GAAG;AAC7C,aAAK,YAAY,KAAK;AAAA,aAErB;AACD,aAAK,WAAW,UAAU;AAC1B,aAAK;AAAA;AAET,WAAK,oBAAoB,KAAK;AAC9B,WAAK,QAAQ,MAAM,OAAO,KAAM,MAAK,WAAW;AAAA;AAAA,IAEpD,kBAAkB;AACd,WAAK,QAAQ,MAAM,OAAO,KAAM,WAAU,gBAAgB;AAC1D,WAAK,QAAQ,MAAM,SAAS,GAAG;AAC/B,WAAK,MAAM,SAAS,KAAK,QAAQ;AACjC,WAAK,MAAM,MAAM,MAAM,KAAK;AAAA;AAAA,UAE1B,UAAU,OAAgB;AAAA;AAAA,IAchC,aAAa,OAAgB;AACzB,UAAI,OAAO;AACP,YAAI,WAAW,UAAU;AACzB,aAAK,QAAQ,SAAS;AAAA,aAErB;AACD,aAAK,QAAQ,SAAS;AAAA;AAE1B,cAAQ,IAAI,gBAAgB;AAAA;AAAA,IAEhC,gBAAgB,OAAgB;AAC5B,UAAI,OAAO;AACP,YAAI,WAAW,UAAU;AACzB,aAAK,QAAQ,iBAAiB;AAC9B,aAAK,QAAQ,iBAAiB,QAAQ;AAAA,aAErC;AACD,aAAK,QAAQ,iBAAiB;AAAA;AAElC,cAAQ,IAAI,mBAAmB;AAAA;AAAA,IAEnC,cAAc,OAAsB;AAChC,cAAQ,IAAI,iBAAiB;AAE7B,WAAK,QAAQ,UAAU,QAAQ;AAC/B,WAAK,QAAQ,UAAU;AAAA;AAAA,IAE3B,cAAc,OAAgB;AAC1B,UAAI,SAAS,KAAK,QAAQ,cAAc,SAAS;AAC7C;AAAA;AAEJ,WAAK,QAAQ,cAAc,UAAU;AAAA;AAAA,IAEzC,qBAAqB,aAAqB;AACtC,gBAAU,UAAU;AACpB,WAAK,QAAQ,iBAAiB,QAAQ,EAAE,OAAO;AAC/C,WAAK,QAAQ,iBAAiB;AAAA;AAAA,IAGlC,gBAAgB,iBAAyB;AACrC,cAAQ,IAAI,kCAAS;AACrB,WAAK,QAAQ,YAAY,QAAQ,EAAE,SAAS;AAC5C,WAAK,QAAQ,YAAY;AAAA;AAAA,IAe7B,oBAAoB,WAAmB;AAInC,UAAI,QAAQ;AACZ,aAAO,KAAK,eAAe,KAAK,iBAAiB,QAAQ;AACrD,YAAI,QAAQ,KAAK,iBAAiB,KAAK;AACvC,YAAI,YAAY,MAAM,OAAO;AACzB;AAAA;AAEJ,gBAAQ;AACR,aAAK;AAAA;AAET,UAAI,OAAO;AACP,aAAK,QAAQ,YAAY,QAAQ,EAAE,SAAS,KAAK,iBAAiB,KAAK,eAAe,GAAG;AACzF,aAAK,QAAQ,YAAY;AAAA;AAAA;AAAA,IAIjC,cAAc;AACV,WAAK,QAAQ,eAAe,UAAU;AACtC,WAAK,KAAK,cAAc,WAAW;AAAA;AAAA,IAGvC,cAAc;AAEV,UAAI,KAAK,QAAQ,eAAe,SAAS;AACrC;AAAA;AAEJ,WAAK,QAAQ,eAAe,UAAU;AACtC,UAAI,OAAO,KAAK,KAAK,cAAc;AACnC,WAAK,YAAY;AAIjB,WAAK,KAAM,KAAK,QAAQ,OAAO,MAAM,MAAM;AACvC,aAAK;AAAA;AAAA;AAAA;;;AC/XjB,kCAAyC,KAAK,OAAO;AAAA,IAqBjD,cAAc;AAAE;AAlBhB,yBAAyB;AAEzB,yBAA2B;AAG3B,yBAAyB;AAEzB,yBAA2B;AAE3B,qBAAoB;AAEpB,wBAAuB;AAGvB,qBAAsB;AAEd,wBAAa;AACb,uBAAY;AAkIZ,8BAAmB;AACnB,sBAAW;AAEX,qBAAU;AAqCV,qBAAU;AAqFV,sBAAyB;AAmGzB,2BAAiC;AAAA;AAAA,IA/VzC,WAAiB;AAEb,WAAK;AACL,YAAM,UAAU,KAAK,aAAa,KAAK;AACvC,YAAM,UAAU,KAAK,aAAa,KAAK;AACvC,WAAK,MAAM,GAAG,eAAe,MAAM,KAAK;AACxC,gBAAU,cAAc;AACxB,uBAAS,UAAU;AAAA;AAAA,IA2BvB,YAAkB;AACd,WAAK,MAAM,aAAa;AACxB,WAAK;AACL,gBAAU,cAAc;AAAA;AAAA,IAE5B,aAAa;AACT,kBAAY,WAAW,KAAK,SAAS;AAAA;AAAA,IAEzC,WAAW;AACP,WAAK,aAAa;AAClB,WAAK,MAAM,SAAS;AACpB,YAAM;AACN,YAAM;AAAA;AAAA,IAEV,YAAY;AACR,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK;AACL,cAAQ,IAAI;AACZ,WAAK,MAAM,KAAK,KAAK,MAAM,KAAK;AAChC,WAAK,MAAM,KAAK,KAAM,MAAM,KAAK;AACjC,WAAK,mBAAmB;AACxB,WAAK,MAAM,UAAU,GAAG,MAAM,KAAK;AACnC,UAAI,KAAK,QAAQ,SAAS;AACtB,aAAK,MAAM,SAAS,KAAK;AACzB,aAAK,QAAQ,UAAU;AACvB,aAAK,QAAQ,QAAQ;AAAA;AAEzB,gBAAU,gBAAgB,SAAS,KAAK,WAAW;AACnD,gBAAU,gBAAgB,MAAM,KAAK,QAAQ;AAAA;AAAA,IAIjD,aAAa;AACT,WAAK,UAAU;AACf,WAAK,UAAU;AACf,WAAK,MAAM,KAAK,KAAM,MAAM,KAAK;AACjC,WAAK,mBAAmB;AACxB,WAAK,MAAM,UAAU,GAAG,MAAM,KAAK;AACnC,cAAQ,IAAI;AACZ,UAAI,eAAwB;AAC5B,iBAAW,SAAS,MAAM,UAAU;AAChC,YAAI,MAAM,KAAK,IAAI,OAAO,MAAM,gBAAgB;AAC5C,uBAAa,KAAK;AAAA;AAAA;AAG1B,aAAO,aAAa,SAAS,GAAG;AAC5B,YAAI,QAAQ,aAAa;AACzB,cAAM;AAAA;AAEV,WAAK,MAAM,KAAK,KAAK,MAAM,KAAK;AAAA;AAAA,IAGpC,WAAW;AAEP,WAAK,MAAM,MAAM,MAAM,KAAK;AAC5B,WAAK,MAAM,MAAM,MAAM,KAAK;AAAA;AAAA,IAEhC,cAAc;AAGV,UAAI,KAAK,UAAU,GAAG;AAElB,kBAAU,YAAY,KAAK;AAC3B,aAAK,UAAU;AAAA;AAEnB,UAAI,UAAU,aAAa,KAAK,QAAQ,GAAG;AACvC,kBAAU;AACV;AAAA;AAGJ,UAAI,UAAU,YAAY,KAAK;AAC3B,YAAI,CAAC,KAAK,QAAQ,SAAS;AACvB,eAAK,QAAQ,UAAU;AACvB,eAAK,QAAQ,QAAQ;AACrB,cAAI,WAAW,MAAM;AACjB,iBAAK,MAAM,GAAG,KAAK,SAAS,EAAE,OAAO,KAAK,KAAM,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AACvF,mBAAK,MAAM,GAAG,KAAK,SAAS,IAAI,KAAK,QAAW,KAAK,QAAQ,OAAO,MAAM,MAAM;AAC5E,qBAAK,MAAM,GAAG,KAAK,SAAS,EAAE,OAAO,KAAK,KAAM,QAAW,KAAK,QAAQ,OAAO,MAAM;AAAA;AAAA;AAAA;AAIjG;AAAA;AAAA,aAGH;AACD,YAAI,KAAK,QAAQ,SAAS;AACtB,eAAK,MAAM,SAAS,KAAK;AACzB,eAAK,QAAQ,UAAU;AACvB,eAAK,QAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,IAQjC,iBAAiB;AACb,UAAI,MAAM,SAAS,UAAU,GAAG;AAC5B;AAAA;AAEJ,UAAI,UAAU,MAAM;AAChB,YAAI,KAAK,mBAAmB,KAAK,KAAK,oBAAoB,MAAM,SAAS,QAAQ;AAC7E,cAAI,KAAK,oBAAoB,GAAG;AAE5B,gBAAI,KAAK,UAAU,KAAK,UAAU;AAE9B,mBAAK,UAAU,KAAK;AAAA;AAAA;AAG5B,eAAK,mBAAmB;AACxB,eAAK,WAAW;AAAA;AAEpB,YAAI,SAAS,MAAM,SAAS,KAAK;AACjC,YAAI,CAAC,OAAO,kBAAkB,CAAC,OAAO,aAAa;AAC/C;AAAA;AAGJ,YAAI,KAAK,OAAO;AAChB,YAAI,KAAK,WAAW,IAAI;AACpB,eAAK,WAAW;AAAA;AAGpB,aAAK;AAAA;AAGT,UAAI,QAAQ,MAAM,SAAS,SAAS,KAAK,IAAI;AAC7C,aAAO,QAAQ,GAAG;AACd;AACA;AAAA;AAAA;AAAA,IAKR,iBAAiB,GAAQ;AAMrB,WAAK,MAAM,UAAU,GAAG,MAAM,MAAM;AAEhC,aAAK,UAAU,EAAE;AAEjB,aAAK,iBAAiB;AAAA;AAAA;AAAA,IAO9B,iBAAiB,GAAQ;AAMrB,WAAK,MAAM,UAAU,GAAG,MAAM,MAAM;AAEhC,YAAI,CAAC,UAAU,qBAAqB;AAChC;AAAA;AAEJ,YAAI,UAAU,aAAa,KAAK,EAAE,SAAS,OAAO,UAAU,SAAS;AACjE;AAAA;AAEJ,YAAI,KAAK,EAAE,SAAS,MAAM,EAAE,SAAS,KAAK,MAAM,QAAQ,IAAI;AACxD;AAAA;AAEJ,aAAK,YAAY,EAAE;AACnB,YAAI,KAAK,UAAU;AACf,eAAK,SAAS,cAAc,EAAE;AAAA;AAAA;AAAA;AAAA,IAM1C,eAAe,GAAQ;AAGnB,WAAK,MAAM,UAAU,GAAG,MAAM,MAAM;AAKhC,aAAK,UAAU;AACf,YAAI,CAAC,UAAU,qBAAqB;AAChC;AAAA;AAGJ,YAAI,UAAU,aAAa,KAAK,EAAE,SAAS,OAAO,UAAU,SAAS;AACjE;AAAA;AAEJ,aAAK,YAAY;AAEjB,YAAI,KAAK,UAAU;AACf,cAAI,SAAS,KAAK;AAClB,eAAK,SAAS,UAAU,EAAE,QAAQ,MAAM;AACpC,sBAAU,YAAY;AACtB,mBAAO,gBAAgB;AAEvB,iBAAK,MAAM,KAAK,KAAM,MAAM,KAAK;AAAA;AAErC,oBAAU,cAAc;AAGxB,eAAK,WAAW;AAAA;AAAA;AAAA;AAAA,IAc5B,YAAY;AACR,UAAI,KAAK,UAAU;AACf;AAAA;AAGJ,WAAK,WAAW,MAAM,OAAO,EAAE,GAAG,KAAK,GAAG,KAAK,MAAM,KAAK;AAC1D,WAAK,SAAS,gBAAgB;AAG9B,WAAK,gBAAgB;AAErB,WAAK;AAAA;AAAA,IAET,mBAAmB,OAAsC;AACrD,UAAI,UAAU,aAAa,GAAG;AAC1B;AAAA;AAIJ,UAAI,cAAc;AAClB,UAAI,OAAO,MAAM,KAAK,OAAO,QAAQ,UAAU;AAC3C,sBAAc,MAAM,KAAK,OAAO;AAAA,iBAE3B,OAAO,MAAM,MAAM,OAAO,QAAQ,UAAU;AACjD,sBAAc,MAAM,MAAM,OAAO;AAAA;AAErC,UAAI,eAAe,GAAG;AAClB,gBAAQ,MAAM;AACd;AAAA;AAGJ,UAAI,QAAQ,cAAc;AAC1B,UAAI,SAAS,UAAU,cAAc;AAGjC,YAAI,aAAa,MAAM;AACvB,YAAI,cAAc,MAAM;AAExB,YAAI,YAAY,OAAO,WAAW,MAAM;AACpC,cAAI,MAAM;AACV,uBAAa;AACb,wBAAc;AAAA;AAElB,mBAAW,gBAAgB;AAI3B,cAAM,OAAO;AAGb,YAAI,KAAK,YAAY,KAAK;AAC1B,YAAI,KAAK,YAAY,KAAK;AAG1B,YAAI,SAAc;AAClB,YAAI,SAAS,UAAU,YAAY;AAC/B,mBAAS,KAAK,WAAW,MAAM,UAAU;AAAA;AAE7C,gBAAQ,WAAW;AACnB,aAAK,MAAM,GAAG,WAAW,MAAM,EAAE,QAAQ,KAAK,QAAQ,KAAK,GAAG,IAAI,GAAG,MAAM,MAAM,KAAK,KAAK,QAAQ,KAAK,QAAQ,OAAO,MAAM,WAAY;AAErI,qBAAW;AACX,sBAAY;AAEZ,cAAI,YAAY,UAAU,eAAe;AAUzC,oBAAU,aAAa;AAEvB,oBAAU,mBAAmB,EAAE,OAAO,WAAW,KAAK,CAAC,KAAK,IAAI,KAAK;AAErE,cAAI,SAAS,MAAM,OAAO,EAAE,GAAG,IAAI,GAAG,IAAI,MAAM;AAChD,iBAAO,gBAAgB;AACvB,iBAAO;AACP,gBAAM,OAAO,EAAE,GAAG,IAAI,GAAG,IAAI,MAAM,QAAQ,GAAG,OAAO,OAAO,KAAK;AACjE,oBAAU;AACV,cAAI,UAAU,YAAY,GAAG;AAEzB,sBAAU,gBAAgB,UAAU;AACpC,sBAAU,YAAY,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,IAchD,iBAAiB;AACb,UAAI,KAAK,eAAe;AACpB,eAAO,KAAK;AAAA;AAEhB,UAAI,OAAO;AACX,UAAI,KAAK,aAAa,GAAG;AACrB,eAAO;AAAA,iBACA,KAAK,eAAe,GAAG;AAC9B,eAAO;AAAA,aACJ;AAYH,YAAI,UAAU,aAAa,GAAG;AAC1B,iBAAO,CAAC,IAAI,IAAI,IAAI;AAAA,mBAEf,UAAU,aAAa,GAAG;AAC/B,iBAAO,CAAC,GAAG,IAAI,IAAI,IAAI;AAAA,eAEtB;AACD,iBAAO,CAAC,GAAG,IAAI,IAAI,IAAI;AAAA;AAAA;AAG/B,UAAI,OAAO;AACX,iBAAW,MAAM,MAAM;AACnB,gBAAQ;AAAA;AAEZ,UAAI,MAAM,KAAK,WAAW;AAC1B,UAAI,OAAO;AACX,iBAAW,MAAM,MAAM;AACnB,YAAI,MAAM,IAAI;AACV;AAAA;AAEJ,eAAO;AACP;AAAA;AAEJ,aAAO,OAAO;AAAA;AAAA,IAIlB,sBAAsB,QAAgB;AAClC,UAAI,gBAAgB,MAAM,SAAS,OAAO,OAAK;AAC3C,YAAI,CAAC,EAAE,gBAAgB;AACnB,iBAAO;AAAA;AAEX,YAAI,KAAK,OAAO,EAAE,OAAO,QAAQ,YAAY,EAAE,OAAO,OAAO;AAC7D,eAAO;AAAA;AAUX,WAAK,gBAAgB;AAAA;AAAA,IAOzB,gBAAgB,eAAsB;AAClC,UAAI,IAAI;AACR,UAAI,gBAAgB,SAAS,OAAM;AAC/B,YAAG,SAAS,cAAc,QAAO;AAC7B;AAAA;AAEJ,YAAI,QAAQ,cAAc;AAC1B,gBAAQ,WAAW;AACnB,cAAM,gBAAgB;AACtB,cAAM,OAAO,EAAE,GAAG,MAAM,KAAK,GAAG,GAAG,MAAM,KAAK,GAAG,MAAM,MAAM,OAAO,MAAgB,OAAO,MAAM,KAAK;AACtG,aAAK,MAAM,GAAG,MAAM,MAAM,EAAE,QAAQ,GAAG,QAAQ,KAAK,KAAK,KAAK,KAAK,QAAQ,KAAK,QAAQ,OAAO,MAAK,MAAI;AACpG,gBAAM;AACN,wBAAc,EAAE;AAAA;AAAA;AAGxB,oBAAc;AAAA;AAAA,IAGlB,kBAAkB,IAAY;AAC1B,UAAI,gBAAgB,MAAM,SAAS,OAAO,OAAK;AAC3C,YAAI,CAAC,EAAE,gBAAgB;AACnB,iBAAO;AAAA;AAEX,gBAAQ,IAAI,qBAAqB,EAAE,WAAW;AAE9C,YAAI,KAAK,EAAE,YAAY;AACvB,eAAO;AAAA;AAEX,WAAK,gBAAgB;AAAA;AAAA,IAOzB,kBAAkB;AACd,UAAI,KAAK,UAAU;AACf,aAAK,SAAS,eAAe;AAAA,aAE5B;AACD,aAAK,gBAAgB;AAAA;AAAA;AAAA;;;AC3e1B,MAAM,UAAU;AAAA,IACnB,SAAS;AAAA,IACT,UAAU;AAAA,MACN,IAAI;AAAA,MACJ,IAAI;AAAA;AAAA,IAGR,SAAS;AAAA,MACL,OAAO;AAAA,MAEP,SAAS;AAAA;AAAA;AAMV,uBAAqB;AACxB,QAAI,YAAY,QAAQ,SAAS;AAEjC,QAAI,UAAU,QAAQ,QAAQ;AAC9B,QAAI,WAAW,QAAQ,YAAY;AAE/B,cAAQ,aAAa;AAAA,aACZ,cAAc;AACf,sBAAY,QAAQ,SAAS;AAC7B;AAAA;AAEA;AAAA;AAAA,WAGP;AACD,UAAI,QAAQ,SAAS,oBAAoB;AACzC,UAAI,YAAY,QAAQ;AACxB,UAAI,OAAO;AACP,YAAI,QAAgD,KAAK,MAAM;AAC/D,YAAI,MAAM,YAAY,WAAW;AAC7B,sBAAY,UAAU,MAAM;AAAA;AAEhC,kBAAU,MAAM,UAAU,QAAQ,QAAQ,UAAU,QAAQ,QAAQ;AAAA;AAAA;AAK5E,WAAO,QAAQ,UAAU,YAAY;AAAA;AAIlC,MAAM,aAAa;AAAA,IACtB,CAAC;AAAA,IACD,CAAC;AAAA;AAGE,MAAI,YAAY;AAAA,IAEnB,UAAU;AAAA,MAEN,kBAAkB;AAAA,QAEd,YAAY;AAAA,QACZ,eAAe;AAAA;AAAA;AAAA,IAKvB,YAAY;AAAA,IAyBZ,eAAe;AAAA,MACX,EAAE,SAAS,uCAAmB,QAAQ;AAAA,MACtC,EAAE,SAAS,uCAAmB,QAAQ;AAAA;AAAA;;;ACrF9C,0BAAgC;AAAA,WAMrB,OAAO;AACV,WAAK,MAAM;AACX,cAAQ,IAAI,YAAY,KAAK;AAE7B,kBAAW;AAEX,kBAAW;AAAA;AAAA,iBAMF,eAAe,gBAA0C;AAClE,eAAS,QAAQ,GAAG,QAAQ,WAAW,QAAQ,SAAS;AACpD,cAAM,WAAkB,WAAW;AACnC,YAAI,QAAoB;AACxB,iBAAS,QAAQ,aAAW;AAExB,gBAAM,KAAK,YAAY;AAEnB,kBAAM,KAAK,kBAAkB;AAAA;AAAA;AAIrC,cAAM,KAAK,gBAAgB;AAE3B,0BAAkB,eAAe;AAAA;AAAA;AAAA,iBAS5B,kBAAkB,UAAkB,SAAS,MAAM,YAAY,OAAO;AAC/E,cAAQ,IAAI,wCAAU;AAEtB,UAAI,UAAU,KAAK,MAAM,GAAG;AAC5B,UAAI,WAAW;AACf,UAAI,KAAK,MAAM,KAAK,iBAAiB,SAAS,QAAQ,UAAU;AAChE,cAAQ,IAAI,wCAAU,UAAU;AAEhC,UAAI,AAAW,OAAX,QAAe;AACf;AAAA;AAEJ,UAAI,IAAI;AACJ,mBAAW;AAAA,aAEV;AACD;AAAA;AAEJ,UAAI,CAAC,UAAU;AACX,gBAAQ,MAAM,IAAI;AAAA,aAEjB;AACD,QAAC,UAAkB,YAAY;AAC/B,gBAAQ,IAAI,IAAI,iDAAoB,UAAkB;AAAA;AAAA;AAAA,iBAKzC,iBAAiB,SAAiB,QAAiB,MAAc,YAAY,OAA8B;AAC5H,UAAI,WAAW;AACf,UAAI,WAAW;AACf,cAAQ,IAAI,2CAAa,KAAK,UAAU,UAAU,SAAS;AAC3D,cAAQ,IAAI,2CAAa,KAAK,UAAU,YAAW,oBAAoB;AACvE,cAAQ,IAAI,uDAAe,KAAK,UAAU,YAAW,oBAAoB;AAEzE,UAAI,UAAU,SAAS,oBAAoB,QAAQ,YAAW,oBAAoB,MAAM,QAAQ,UAAU,SAAS,kBAAkB;AACjI,mBAAW;AACX,YAAI,WAAY,UAAU,SAAS,iBAAyB;AAC5D,YAAI,UAAU,YAAW,oBAAoB,GAAG;AAChD,YAAI,UAAU,YAAW,oBAAoB,GAAG;AAChD,oBAAW,cAAc,QAAQ;AACjC,YAAI,WAAW,YAAY,WAAW,SAAS;AAC3C,sBAAW,cAAc,QAAQ;AACjC,iBAAO;AAAA;AAEX,YAAI,WAAW,UAAU;AACrB,qBAAW,YAAW,eAAe;AACrC,cAAI,UAAU;AACV,wBAAW,oBAAoB,GAAG,MAAM;AACxC,wBAAW,cAAc,QAAQ;AACjC,mBAAO;AAAA;AAAA;AAIf,YAAI,WAAW;AACX,iBAAO;AAAA;AAAA;AAGf,UAAI,SAAS;AAGb,UAAI,CAAC,UAAU,CAAC,UAAU;AACtB,YAAI,QAAQ,YAAW,iBAAiB,YAAW,cAAc,OAAO;AACpE,iBAAO;AAAA;AAAA;AAGf,aAAO,SAAS,GAAG;AACf,YAAI;AACA,cAAI,UAAU,UAAU,KAAK,MAAM,KAAK,WAAW;AAEnD,qBAAW,MAAM,KAAK,WAAW,UAAU;AAC3C,mBAAS;AAAA,iBACJ,OAAP;AACE,kBAAQ,MAAM,qBAAqB,6CAAe,SAAS;AAAA;AAE/D,YAAI,SAAS,GAAG;AACZ,gBAAM,SAAS,KAAK;AAAA;AAExB;AAAA;AAEJ,UAAI,UAAU;AACV,oBAAW,cAAc,QAAQ;AACjC,aAAK,kBAAkB,MAAM;AAAA,aAE5B;AACD,oBAAW,cAAc,QAAQ;AAAA;AAErC,aAAO;AAAA;AAAA,WAIJ,eAAe;AAClB,UAAI,UAAU;AACd,iBAAW,OAAO,YAAW,eAAe;AACxC,YAAI,YAAW,cAAc,eAAe,MAAM;AAC9C,cAAI,CAAC,YAAW,cAAc,MAAM;AAChC,sBAAU;AACV;AAAA;AAAA;AAAA;AAIZ,aAAO;AAAA;AAAA,WAMJ,oBAAoB;AACvB,kBAAW,sBAAsB;AACjC,eAAS,QAAQ,GAAG,QAAQ,GAAG,SAAS;AACpC,oBAAW,oBAAoB,SAAS;AACxC,YAAI,UAAU,SAAS;AACnB,qBAAW,OAAO,UAAU,SAAS,kBAAkB;AACnD,gBAAI,UAAU,SAAS,iBAAiB,eAAe,MAAM;AACzD,0BAAW,oBAAoB,OAAO,OAAO;AAAA;AAAA;AAGzD,gBAAQ,IAAI,qBAAqB,KAAK,UAAU,YAAW,oBAAoB;AAAA;AAAA;AAAA,WAMhF,wBAAwB;AAC3B,UAAI,YAAW,oBAAoB,UAAU,GAAG;AAC5C,oBAAW;AAAA;AAEf,cAAQ,IAAI,sDAAc;AAE1B,UAAI,KAAU,KAAK,aAAa,QAAQ,YAAW;AACnD,UAAI,IAAI;AACJ,aAAK,KAAK,MAAM;AAChB,mBAAW,OAAO,IAAI;AAClB,sBAAW,oBAAoB,GAAG,KAAK,GAAG;AAC1C,kBAAQ,IAAI,uDAAe,KAAK,GAAG;AAAA;AAAA;AAAA;AAAA,WAIhC,0BAA0B;AACrC,UAAI,YAAW,oBAAoB,SAAS,GAAG;AAC3C;AAAA;AAEJ,WAAK,aAAa,QAAQ,YAAW,cAAc,KAAK,UAAU,YAAW,oBAAoB;AAAA;AAAA,WAG9F,oBAAoB,OAAc,MAAc,SAAmC;AACtF,UAAI,YAAW,oBAAoB,SAAS,GAAG;AAC3C,gBAAQ,MAAM;AACd;AAAA;AAEJ,UAAI,UAAU,SAAS,oBAAoB,QAAQ,UAAU,SAAS,oBAAoB,QAAQ,YAAW,oBAAoB,QAAQ;AACrI,YAAI,WAAW,SAAS;AACpB,sBAAW,oBAAoB,OAAO,QAAQ;AAAA,mBAEzC,WAAW,OAAO;AACvB,sBAAW,oBAAoB,OAAO,QAAS,UAAU,SAAS,iBAAyB;AAAA,eAE1F;AACD,sBAAW,oBAAoB,OAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,WAK3C,eAAe,MAAc;AACxC,UAAI,KAAK;AACT,UAAI;AACA,aAAK,KAAK,aAAa,QAAQ,YAAW,cAAc;AACxD,YAAI,IAAI;AACJ,eAAK,KAAK,MAAM;AAAA;AAAA,eAEf,OAAP;AACE,gBAAQ,MAAM,gCAAsB,MAAM;AAAA;AAE9C,aAAO;AAAA;AAAA,WAEJ,kBAAkB,MAAc,OAAY;AAC/C,cAAQ,IAAI,qBAAqB,MAAM;AAGvC,UAAI,UAAU,SAAS,oBAAoB,QAAQ,UAAU,SAAS,oBAAoB,QAAQ,YAAW,oBAAoB,IAAI;AAEjI,YAAI;AACA,eAAK,aAAa,QAAQ,YAAW,cAAc,MAAM,KAAK,UAAU;AAAA,iBACnE,OAAP;AACE,kBAAQ,MAAM,mCAAyB,MAAM;AAC7C;AAAA;AAGJ,oBAAW,oBAAoB,GAAG,MAAM;AACxC,oBAAW;AAAA,iBAGN,AAAc,QAAd,YAAoB;AAEzB,gBAAQ,MAAM,2BAAsB,MAAM;AAAA;AAAA;AAAA,WAO3C,yBAAyB;AAC5B,WAAK;AACL,WAAK;AAAA;AAAA,WAqBF,0BAA0B;AAC7B,WAAK,aAAa,WAAW,YAAW;AAAA;AAAA,WAErC,iBAAiB,MAAc;AAClC,WAAK,aAAa,WAAW,YAAW,cAAc;AAAA;AAAA,WAE3C,iBAAiB,YAAoB;AAChD,aAAO,WAAW,MAAM,KAAK,OAAO,CAAC,GAAG,GAAG,MAAM;AAC7C,eAAO,KAAK,SAAS,KAAK,KAAK,IAAI,IAAK,KAAI,KAAK;AAAA,SAClD;AAAA;AAAA,iBAEM,WAAW,KAA2B;AAC/C,aAAO,IAAI,QAAQ,CAAC,IAAI,OAAO;AAC3B,aAAK,OAAO,KAAK,KAAK,KAAK,QAAQ,OAAO,MAAM,CAAC,QAAQ;AACrD,cAAI,CAAC,KAAK;AACN,oBAAQ,MAAM,kBAAkB;AAChC,eAAG;AAAA,iBAEF;AACD,eAAG;AAAA;AAAA,YAEP,MAAM,KAAK,OAAO;AAAA;AAAA;AAAA,iBAYjB,gBAAgB,OAAmB;AAC5C,aAAO,IAAI,QAAQ,CAAC,QAAa;AAC7B,YAAI,MAAM,MAAM;AAGhB,cAAM,QAAQ,OAAO,YAAiB;AAElC,gBAAM;AACN;AACA,cAAI,OAAO,GAAG;AACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAnTpB;AACW,EADX,WACW,MAAM;AACN,EAFX,WAEW,gBAA4C;AA+IpC,EAjJnB,WAiJmB,sBAAmD;AAiBnD,EAlKnB,WAkKmB,eAAe;AAwCvB,EA1MX,WA0MW,cAAc;;;AC/MlB,MAAI,aAAa;AAAA,IAEpB,UAAU;AAAA,MAGN,UAAU;AAAA;AAAA,IAqBd,WAAW;AAAA,MACP,cAAc;AAAA,MACd,aAAa;AAAA,QACT,MAAM;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA;AAAA;AAAA,IAmCf,YAAY;AAAA,IAUZ,eAAe;AAAA;;;AC7EnB,MAAM,eAAe;AACrB,MAAM,iBAAiB,eAAe;AAEtC,MAAM,aAAa,CAAC,UAAU,WAAW;AAIlC,0BAAiB;AAAA,IAAjB,cAZP;AAcY,6BAAkB;AAClB,iCAAyD;AACzD,2BAA8D;AA+J9D,oBAAS;AACT,8BAAmB;AAAA;AAAA,WA9JpB,MAAM;AACT,UAAI,KAAK,UAAU;AACf,eAAO,KAAK;AAAA;AAEhB,WAAK,WAAW,IAAI;AACpB,aAAO,KAAK;AAAA;AAAA,IAMhB,aAAa,UAAuB;AAChC,UAAI,CAAC,KAAK,iBAAiB;AACvB,YAAI,QAAQ,SAAS,oBAAoB;AACzC,gBAAQ,IAAI,4BAA4B;AAExC,YAAI,OAAO;AACP,eAAK,kBAAkB;AAAA,eAEtB;AACD,eAAK,kBAAkB;AAAA;AAAA;AAG/B,UAAI,YAAiB;AACrB,UAAI,UAAU,CAAC,WAAW,WAAW,WAAW;AAChD,cAAQ,QAAQ,YAAU;AACtB,mBAAW,OAAO,QAAQ;AAItB,cAAI,WAAW,QAAQ,OAAO,UAAU,QAAQ,IAAI;AAChD,gBAAI,OAAO,KAAK,iBAAiB;AAC7B,wBAAU,OAAO,KAAK,gBAAgB;AAAA;AAAA,iBAGzC;AACD,gBAAI,QAAQ,SAAS,oBAAoB,eAAe;AAExD,gBAAI,OAAO;AACP,wBAAU,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYrC,cAAc,MAAc,OAAgC;AACxD,WAAK,cAAc,QAAQ;AAAA;AAAA,UAOzB,UAAU,MAAkB,QAAa;AAC3C,cAAQ,KAAK,cAAc;AAAA,aAClB;AACD;AAAA,aACC;AACD,eAAK,WAAW,MAAM;AACtB;AAAA,aACC;AACD,eAAK,WAAW,MAAM;AACtB,cAAI,OAAO,KAAK,oBAAoB,UAAU,OAAK,EAAE,OAAO;AAC5D,cAAI,OAAO,GAAG;AACV,iBAAK,oBAAoB,KAAK,EAAE,KAAK,MAAM,OAAO;AAAA,iBAC/C;AACH,iBAAK,oBAAoB,MAAM,QAAQ;AAAA;AAG3C,eAAK;AACL;AAAA,aACC;AACD,iBAAO,MAAM,KAAK,YAAY,CAAC,EAAE,KAAK,MAAM,OAAO;AAAA;AAEnD,kBAAQ,MAAM,cAAc,oDAAY;AACxC;AAAA;AAER,aAAO;AAAA;AAAA,IAQH,WAAW,MAAkB,QAAa;AAE9C,cAAQ,IAAI,gCAAgC,MAAM,OAAO;AACzD,UAAI,WAAW,QAAQ,OAAO,UAAU,IAAI;AACxC,aAAK,gBAAgB,QAAQ;AAC7B,iBAAS,oBAAoB,gBAAgB,KAAK;AAAA,aAEjD;AACD,iBAAS,oBAAoB,eAAe,MAAM;AAAA;AAAA;AAAA,UAUpD,YAAY,OAA0C,UAAU,GAAG;AACrE,UAAI,CAAC,SAAS,QAAQ;AAClB,gBAAQ,MAAM;AACd,eAAO;AAAA;AAGX,cAAQ,IAAI,4BAA4B;AAExC,eAAS,QAAQ,GAAG,QAAQ,SAAS,SAAS;AAC1C,YAAI;AACA,gBAAM,SAAS,OAAO,GAAG,QAAQ;AACjC,kBAAQ,IAAI,qDAAiC;AAC7C,iBAAO;AAAA,iBAEJ,GAAP;AACI,kBAAQ,MAAM,qDAAiC;AAC/C,gBAAM,SAAS,KAAK;AAAA;AAAA;AAG5B,aAAO;AAAA;AAAA,UASL,YAAY,OAAqB,UAAU,GAAG;AAChD,UAAI,CAAC,SAAS,QAAQ;AAClB,gBAAQ,MAAM;AACd,eAAO;AAAA;AAGX,cAAQ,IAAI,4BAA4B;AAExC,eAAS,QAAQ,GAAG,QAAQ,SAAS,SAAS;AAC1C,YAAI;AACA,iBAAO,MAAM,SAAS,OAAO,GAAG,QAAQ;AAAA,iBAErC,GAAP;AACI,kBAAQ,MAAM,yCAA+B,OAAO;AACpD,gBAAM,SAAS,KAAK;AAAA;AAAA;AAG5B,aAAO;AAAA;AAAA,UAKG,eAAe,aAAa,GAAG;AACzC,UAAI,KAAK,kBAAkB;AACvB;AAAA;AAEJ,UAAI,CAAC,KAAK,uBAAuB,KAAK,oBAAoB,UAAU,GAAG;AACnE;AAAA;AAGJ,UAAI,KAAK,QAAQ;AAGb;AAAA;AAEJ,cAAQ,IAAI,sBAAsB,SAAS,WAAW,SAAS;AAE/D,UAAI,SAAS,aAAa,SAAS,kBAAkB;AACjD,aAAK,mBAAmB;AACxB,YAAI,WAAW,KAAK;AACpB,aAAK,sBAAsB;AAC3B,gBAAQ,IAAI,2BAA2B;AAEvC,YAAI,UAAU,MAAM,KAAK,YAAY;AAErC,aAAK,mBAAmB;AACxB,YAAI,SAAS;AAAA,eAMR;AAED,eAAK,oBAAoB,QAAQ,aAAW;AACxC,gBAAI,OAAO,SAAS,UAAU,OAAK,EAAE,OAAO,QAAQ;AACpD,gBAAI,QAAQ,GAAG;AACX,uBAAS,QAAQ;AACjB;AAAA;AAEJ,qBAAS,KAAK;AAAA;AAElB,eAAK,sBAAsB;AAAA;AAAA;AAInC,WAAK,SAAS,WAAW,MAAM;AAC3B,aAAK,SAAS;AACd,aAAK,eAAe;AAAA,SACrB,aAAa;AAAA;AAAA;AApNjB;AAKY,EALZ,WAKY,WAAuB;;;ACN1C,6BAAoB;AAAA,IAApB,cAXA;AAYY,qBAAuB;AACvB,sBAAW;AAEX,oBAAS;AACT,sBAAgB;AAAA;AAAA,WAEjB,MAAM;AACT,UAAI,KAAK,UAAU;AACf,eAAO,KAAK;AAAA;AAGhB,WAAK,WAAW,IAAI;AACpB,WAAK,SAAS,SAAS;AACvB,aAAO,KAAK;AAAA;AAAA,UAMV,KAAK,kBAA6B;AACpC,UAAI,KAAK,QAAQ;AACb;AAAA;AAEJ,WAAK,WAAW;AAChB,iBAAW,KAAK,YAAY;AAExB,mBAAW,OAAQ,WAAmB,IAAI;AACtC,cAAI,OAAO,KAAK,SAAS;AACrB,kBAAM,IAAI,MAAM,uDAAyB;AAAA;AAE7C,cAAI,KAAK,cAAc;AAEnB;AAAA;AAEJ,UAAC,KAAK,QAAgB,OAAQ,WAAmB,GAAG;AACpD,qBAAW,MAAM,cAAc,KAAK;AAAA;AAAA;AAI5C,iBAAW,MAAM,aAAa,KAAK;AACnC,cAAQ,IAAI,WAAW,KAAK;AAC5B,0BAAoB;AAEpB,WAAK,SAAS;AAAA;AAAA,UAIZ,kBAAkB;AACpB,UAAI,aAA2B;AAC/B,iBAAW,OAAO,WAAW,eAAe;AACxC,mBAAW,KAAK;AAAA;AAEpB,UAAI,WAAW,UAAU,GAAG;AACxB,eAAO;AAAA;AAEX,aAAO,GAAG;AACN,YAAI,QAAQ,MAAM,WAAW,MAAM,YAAY;AAC/C,YAAI,OAAO;AACP,kBAAQ,IAAI,yBAAyB;AAErC,gBAAM,QAAQ,aAAW;AACrB,gBAAI,KAAK,gBAAgB,QAAQ,KAAK,QAAQ,QAAQ;AAElD,mBAAK,IAAI,QAAQ,KAAY,QAAQ;AAAA;AAAA;AAG7C;AAAA;AAEJ,YAAI,CAAC,MAAM,SAAS,UAAU,EAAE,OAAO,4BAAQ,SAAS,yFAAmB,aAAa,gBAAM,YAAY,mBAAS;AAC/G;AAAA;AAAA;AAAA;AAAA,IAKJ,gBAAgB,MAAc,QAAa;AAC/C,UAAI,QAAQ,OAAO;AACnB,UAAI,WAAiB,KAAK,QAAgB;AAC1C,UAAI,SAAS,UAAU;AACnB,YAAI,KAAK,iBAAiB,UAAU,SAAS;AACzC,iBAAO;AAAA;AAAA,iBAGN,YAAY,QAAQ;AACzB,eAAO;AAAA;AAEX,cAAQ;AAAA,aACC;AACD,cAAI,SAAS,UAAU;AACnB,mBAAO;AAAA;AAEX,iBAAO;AAAA,aACN;AACD,cAAI,OAAO,SAAS,SAAS,QAAQ;AACjC,mBAAO;AAAA;AAEX,iBAAO;AAAA,aACN;AACD,cAAI,MAAM,QAAQ,SAAS;AACvB,gBAAI,OAAO,SAAS,SAAS,QAAQ;AACjC,qBAAO;AAAA;AAAA,qBAGN,OAAO,KAAK,QAAQ,SAAS,OAAO,KAAK,UAAU,QAAQ;AAChE,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEP;AAAA;AAER,aAAO;AAAA;AAAA,UAOL,UAAmC,OAA+C;AACpF,UAAI,cAAsD;AAC1D,eAAS,QAAQ,GAAG,QAAQ,MAAM,QAAQ,SAAS;AAC/C,cAAM,UAAU,MAAM;AACtB,YAAI,CAAE,SAAQ,OAAO,KAAK,UAAU;AAEhC,gBAAM,IAAI,MAAM;AAAA;AAGpB,YAAI,QAAQ,SAAS,KAAK,QAAQ,QAAQ,MAAM;AAC5C;AAAA;AAEJ,oBAAY,KAAK;AAAA;AAErB,UAAI,YAAY,UAAU,GAAG;AACzB,eAAO;AAAA;AAEX,cAAQ,IAAI,2BAA2B;AAEvC,UAAI,MAAM,WAAW,MAAM,YAAY,cAAc;AACjD,oBAAY,QAAQ,OAAK;AAErB,cAAI,KAAK,SAAS,EAAE,MAAM;AACtB,YAAC,KAAK,SAAS,EAAE,KAAe,QAAQ,OAAK;AACzC,gBAAE,KAAK,EAAE,KAAK,EAAE,KAAK,OAAO,EAAE,OAAO,MAAM,KAAK,QAAQ,EAAE;AAAA;AAAA;AAGlE,eAAK,QAAQ,EAAE,OAAO,EAAE;AAAA;AAE5B,eAAO;AAAA;AAGX,aAAO;AAAA;AAAA,UAML,aAAsC,OAAY;AACpD,UAAI,YAAmB;AACvB,YAAM,QAAQ,SAAO;AACjB,YAAI,CAAE,QAAO,KAAK,UAAU;AACxB,oBAAU,KAAK;AAAA;AAAA;AAGvB,UAAI,UAAU,UAAU,GAAG;AACvB,eAAO;AAAA;AAEX,UAAI,QAAQ,MAAM,WAAW,MAAM,YAAY;AAC/C,UAAI,OAAO;AACP,gBAAQ,IAAI,sBAAsB;AAGlC,kBAAU,QAAQ,SAAO;AACrB,UAAC,KAAK,QAAgB,OAAQ,WAAW,WAAmB;AAAA;AAGhE,cAAM,QAAQ,aAAW;AACrB,UAAC,KAAK,QAAgB,QAAQ,OAAO,QAAQ;AAAA;AAEjD,kBAAU,QAAQ,SAAO;AACrB,kBAAQ,IAAI,wBAAwB,KAAM,KAAK,QAAgB;AAAA;AAGnE,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA,UAQL,UAAmC,MAAS,WAA8B;AAC5E,UAAI,QAAa,KAAK,QAAQ;AAC9B,cAAQ,OAAO,KAAK,QAAQ;AAAA,aACnB;AAAA,aACA;AAED,iBAAO,MAAM,KAAK,UAAU,CAAC,EAAE,KAAK,MAAM,OAAO,QAAS;AAC1D;AAAA;AAEA,kBAAQ,MAAM,qBAAqB,oDAAY,MAAM,OAAO,KAAK,QAAQ;AACzE;AAAA;AAER,aAAO;AAAA;AAAA,IAQX,IAA6B,MAAS,QAA2B,SAAS,MAAM;AAC5E,UAAI,OAAO,KAAK,QAAQ,SAAS,UAAU;AAAA,iBAKlC,UAAU,KAAK,QAAQ,OAAO;AACnC;AAAA;AAEJ,UAAI,OAAO,KAAK,QAAQ;AAExB,WAAK,QAAQ,QAAQ;AAGrB,UAAI,KAAK,SAAS,OAAO;AACrB,QAAC,KAAK,SAAS,MAAgB,QAAQ,OAAK;AACxC,YAAE,KAAK,EAAE,KAAK,MAAM,OAAO,KAAK,QAAQ,OAAO,MAAM;AAAA;AAAA;AAM7D,gBAAU,WAAW,MAAM,UAAU,MAAM;AAAA;AAAA,IAM/C,IAA0B,MAAS;AAC/B,UAAI,CAAE,SAAQ,KAAK,UAAU;AAEzB,cAAM,IAAI,MAAM,oBAAoB;AAAA;AAIxC,aAAO,KAAK,QAAQ;AAAA;AAAA,IAQxB,IAA6B,MAAS,WAA8B;AAChE,UAAI,QAAa,KAAK,QAAQ;AAC9B,cAAQ,OAAO,KAAK,QAAQ;AAAA,aACnB;AAAA,aACA;AAED,eAAK,IAAI,MAAM,QAAQ;AACvB;AAAA;AAEA,kBAAQ,MAAM,qBAAqB,oDAAY,MAAM,OAAO,KAAK,QAAQ;AACzE;AAAA;AAAA;AAAA,IAQZ,OAA6B,OAAY,UAAkF;AACvH,WAAK;AACL,iBAAW,QAAQ,OAAO;AACtB,YAAI,CAAC,KAAK,SAAS,OAAO;AACtB,eAAK,SAAS,QAAQ;AAAA;AAQ1B,aAAK,SAAS,MAAM,KAAK,EAAE,IAAI,KAAK,UAAU,MAAM;AACpD,iBAAS,EAAE,KAAK,MAAM,OAAO,KAAK,QAAQ,OAAO,MAAM,KAAK,QAAQ;AAAA;AAExE,aAAO,KAAK;AAAA;AAAA,IAOhB,SAA+B,OAAY,IAAY;AACnD,iBAAW,QAAQ,OAAO;AACtB,YAAI,CAAC,KAAK,SAAS,OAAO;AACtB;AAAA;AAEJ,YAAI,OAAQ,KAAK,SAAS,MAAgB,UAAU,OAAK,EAAE,MAAM;AACjE,YAAI,OAAO,GAAG;AACV;AAAA;AAEJ,aAAK,SAAS,MAAM,OAAO,MAAM;AACjC,YAAI,KAAK,SAAS,MAAM,UAAU,GAAG;AACjC,eAAK,SAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,IAO1B,iBAAiB,MAAc,MAAc;AACjD,UAAI,QAAa;AACjB,UAAI,QAAa;AACjB,UAAI,OAAO,KAAK,MAAM,UAAU,OAAO,KAAK,MAAM,QAAQ;AACtD,eAAO;AAAA;AAEX,iBAAW,OAAO,MAAM;AACpB,YAAI,SAAS,OAAO,MAAM;AAC1B,YAAI,SAAS,OAAO,MAAM;AAC1B,YAAI,UAAU,QAAQ;AAClB,iBAAO;AAAA;AAEX,YAAI,UAAU,UAAU;AACpB,cAAI,CAAC,KAAK,iBAAiB,MAAM,MAAM,MAAM,OAAO;AAChD,mBAAO;AAAA;AAAA;AAGf,YAAI,MAAM,QAAQ,MAAM,MAAM;AAC1B,iBAAO;AAAA;AAAA;AAGf,aAAO;AAAA;AAAA;AA7Uf;AAMmB,EANnB,cAMmB,WAA0B;AA0UtC,MAAM,eAAc,cAAc;;;AChVzC,uBAA8B;AAAA,WAQnB,KAAK,SAQT;AACC,UAAI,KAAK,QAAQ;AACb;AAAA;AAGJ,mBAAa,MAAM;AACnB,mBAAa,MAAM;AAEnB,cAAQ,eAAe,SAAS;AAMhC,cAAQ,eAAe,aAAY;AAEnC,cAAQ,WAAW,WAAW;AAC9B,cAAQ,YAAY,iBAAS;AAE7B,UAAI,QAAQ,eAAe;AACvB,aAAK,OAAO,WAAW,QAAQ;AAAA;AAEnC,WAAK,SAAS;AAAA;AAAA,WAKX,aAAa;AAAA;AAAA,WA4Bb,UAAU;AACb,aAAO;AAAA;AAAA,iBAME,QAAQ;AACjB,UAAI,KAAK;AAuCT,aAAO;AAAA;AAAA,iBAEU,cAAc,QAAQ,GAAqB;AA2B5D,aAAO;AAAA;AAAA,WAGJ,cAAc,UAAmF;AACpG,eAAS;AACT,eAAS,kBAAkB,MAAM;AAC7B,YAAI,QAAQ,KAAK,aAAa;AAC9B,YAAI,QAAQ,EAAE,OAAO,MAAM,OAAO,UAAU,gBAAgB,MAAM,OAAO,OAAO,KAAK,aAAa,MAAM;AACxG,oBAAY,SAAS;AAErB,eAAO;AAAA;AAAA;AAAA,iBAGF,WAAW,MAAsB;AAC1C,UAAI,QAAQ,KAAK,aAAa;AAE9B,UAAI,KAAK,MAAM,SAAS,gBAAgB,MAAM,OAAO,gBAAgB,MAAM,OAAO,KAAK,aAAa,MAAM;AAE1G,aAAO;AAAA;AAAA,iBAEE,WAAW,MAAsB;AAC1C,UAAI,KAAK,MAAM,SAAS;AAExB,aAAO;AAAA;AAAA,WAEI,aAAa,MAAsB;AAC9C,UAAI,QAAQ;AAoBZ,aAAO;AAAA;AAAA,WAEI,aAAa,MAAsB;AAC9C,UAAI,QAAQ,YAAY,MAAM;AAC9B,UAAI,OAAO;AACX,UAAI,MAAM,SAAS,GAAG;AAGlB,eAAQ,KAAK,WAAW,MAAM,SAAU;AACxC,gBAAQ,IAAI,qBAAqB,MAAM,MAAM;AAAA;AAMjD,aAAO;AAAA,QACH,OAAO,MAAM,MAAM;AAAA,QACnB,OAAO,MAAM,MAAM;AAAA;AAAA;AAAA,WAGZ,aAAa,SAAiB;AACzC,UAAI,kBAAkB,YAAY;AAElC,UAAI,OAAO;AACX,UAAI,OAAO,cAAc;AACzB,aAAO,kBAAkB;AAAA;AAAA,WAItB,gBAAgB,WAGX;AAER,UAAI,CAAC,SAAS,2BAA2B;AACrC;AAAA;AAGJ,gBAAU,SAAS;AACnB,eAAS,OAAO;AAAA;AAAA;AAvOb,EADX,SACW,aAAa;AACL,EAFnB,SAEmB,SAAS;AACjB,EAHX,SAGW,SAAc;AA0OzB,EAAC,OAAe,SAAS;;;ACnOzB,gCAAuC,KAAK,KAAK;AAAA,IAU7C,cAAc;AAAE;AAHhB,uBAAY;AACZ,uBAAY;AACZ,yBAAc;AAAA;AAAA,IAGd,WAAiB;AACb,eAAS,YAAY,OAAO,WAAW,UAAU;AACjD,aAAO,aAAa,GAAG,OAAO,WAAW,UAAU,mBAAmB,MAAM,KAAK;AACjF,WAAK;AAIL,2BAAa;AAEb,0BAAY;AAGZ,WAAK;AACL,2BAAa,QAAQ,WAAW,OAAO,WAAW;AAGlD,iBAAW,OAAO,OAAO,WAAW,OAAO;AACvC,4BAAY,aAAa,KAAK;AAAA;AAMlC,wBAAkB;AAQlB,WAAK,SAAS,OAAO;AACrB,uBAAiB;AAEjB,mBAAa,KAAK,MAAM;AACpB,aAAK,SAAS,OAAO;AAGrB,oBAAY,qBAAqB,eAAe;AAEhD,kBAAU,KAAK,MAAM;AACjB,4BAAkB;AAClB,4BAAkB;AAClB,eAAK,SAAS,OAAO;AACrB,kBAAQ,IAAI;AACZ,iBAAO,gBAAgB;AAAA;AAK3B,qBAAa,aAAa,QAAW,EAAE,UAAU,IAAI,UAAU;AAE/D,iBAAS;AAAA;AA8Hb,cAAQ,iBAAiB;AAEzB,cAAQ,IAAI,mBAAmB;AAAA;AAAA,IAGnC,aAAa;AACT,WAAK,MAAM,GAAG,KAAK,UAAU,EAAE,UAAU,OAAO,KAAM,KAAK,KAAK,YAAY,KAAK,QAAQ,OAAO,MAAM,WAAkB;AACpH,aAAK,SAAS,WAAW;AACzB,aAAK;AAAA,SACN,MAAM;AAAA;AAAA,IAGb,YAAkB;AACd,aAAO,aAAa,IAAI,OAAO,WAAW,UAAU,mBAAmB,MAAM,KAAK;AAAA;AAAA,IAGtF,UAAU,OAAqB;AAC3B,cAAQ,IAAI,sBAAsB;AAClC,UAAI,QAAQ,GAAG;AACX,gBAAQ;AAAA;AAEZ,WAAK,WAAW,QAAQ;AAAA;AAAA,IAG5B,SAAS,WAAmB,GAAS;AACjC,WAAK,aAAa;AAElB,WAAK,SAAS,OAAQ,KAAK,KAAK,MAAM,OAAO,gBAAgB,OAAO,OAAQ;AAC5E,UAAI,OAAO,gBAAgB,OAAO,KAAK;AACnC;AAAA;AAEJ,UAAI,CAAC,KAAK,aAAa;AACnB,aAAK,cAAc;AACnB,gBAAQ,IAAI;AA4BZ;AAcI,cAAI,gBAAgB,MAAM;AACtB,iBAAK,SAAS,OAAO;AACrB,6BAAS,eAAe,OAAO,MAAM;AACjC,mBAAK;AAAA;AAAA;AAMb,wBAAc,SAAS;AAEvB,cAAI,cAAc,SAAS,kBAAkB;AACzC;AAAA,iBAEC;AACD,gBAAI,WAAW,MAAM;AACjB,4BAAc,SAAS,IAAI,cAAc,sBAAsB,MAAM;AACrE;AAAA;AAIJ,0BAAc,SAAS,GAAG,cAAc,sBAAsB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,IAMpF,cAAc;AAOV,gBAAU;AACV,gBAAU;AACV,gBAAU;AACV,eAAS,KAAK,EAAE,SAAS,OAAO,aAAa,MAAM,UAAU;AAE7D,uBAAS,YAAY,cAAc,MAAM,MAAM;AAC3C,mBAAG,YAAY;AACf,yBAAS,UAAU;AACnB,aAAK,SAAS,OAAO;AAAA;AAAA;AAAA,IAgC7B,YAAY;AACR,WAAK,GAAG,SAAS;AACjB,WAAK,GAAG,IAAI;AACZ,WAAK,GAAG,IAAI;AAAA;AAAA;;;ACnWpB,yBAA+B;AAAA,IAa3B,cAAa;AAAA;AAAA,WACN,OAAM;AACT,UAAI,MAAgB,KAAK,WAAW;AACpC,UAAI,uBAAsB;AAC1B,UAAI,mBAAkB;AACtB,UAAI,iBAAgB;AACpB,UAAI,iBAAgB;AAAA;AAAA;AAlBjB,EADX,WACW,QAAa;AACb,EAFX,WAEW,SAAc;AACd,EAHX,WAGW,YAAiB;AACjB,EAJX,WAIW,aAAkB;AAClB,EALX,WAKW,SAAc;AACd,EANX,WAMW,SAAc;AACd,EAPX,WAOW,aAAe;AACf,EARX,WAQW,YAAiB;AACjB,EATX,WASW,QAAc;AACd,EAVX,WAUW,OAAa;AACb,EAXX,WAWW,eAAqB;AACrB,EAZX,WAYW,oBAA0B;AAUrC,aAAW;;;AC3BX,mBAAW;AAAA,IACV,cAAc;AAEb,WAAK,KAAK,WAAW,OAAO,WAAW,QAAQ,KAAK;AACpD,WAAK,cAAc,KAAK,WAAW;AACnC,WAAK,iBAAiB,KAAK,cAAc;AACzC,WAAK,MAAM,YAAY,WAAW;AAClC,WAAK,MAAM,aAAa,WAAW;AACnC,WAAK,MAAM,SAAS,WAAW;AAC/B,WAAK,MAAM,SAAS,WAAW;AAE/B,WAAK,IAAI,oBAAoB,WAAW;AAGxC,UAAI,WAAW,SAAS,KAAK,MAAM,eAAe,YAAY;AAAQ,aAAK;AAC3E,UAAI,WAAW,gBAAgB,KAAK;AAAqB,aAAK,oBAAoB;AAClF,UAAI,WAAW;AAAM,aAAK,KAAK;AAC/B,WAAK,iBAAiB;AAGtB,WAAK,gBAAgB,OAAO,gBAAgB,KAAK,QAAQ,OAAO,MAAM,KAAK,kBAAkB,KAAK,gBAAgB;AAAA;AAAA,IAInH,kBAAwB;AAEvB,WAAK,iBAAiB,OAAO,mBAAmB,KAAK,QAAQ,OAAO,MAAM,KAAK;AAAA;AAAA,IAGhF,iBAAuB;AAEtB,aAAO;AAaP,uBAAiB,KAAK,OAAO,WAAW;AAExC,iBAAW,cAAc,KAAK,MAAM,KAAK,WAAW;AACpD,eAAS,SAAS,uBAAuB;AAAA;AAAA,IAG1C,cAAa;AACZ,iBAAW,cAAc,KAAK,MAAM,KAAK,WAAW;AAAA;AAAA;AAKtD,MAAI;",
  "names": []
}
